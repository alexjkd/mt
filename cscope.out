cscope 15 /var/www/html/codiad/workspace/mt               0000999930
	@FrameTree.goodb4googlesheet1tier.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
M¬k‘
 
T¿ck”
</title>

3 <
h—d
>

4 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="https://code.jquery.com/jquery-1.8.0.min.js"></script>

5 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/EasyTree/jquery.easytree.js"></script>

6 <
lšk
 
»l
="¡yËsh“t" 
h»f
="lib/EasyT»e/skš-xp/ui.—syŒ“.css" 
ty³
="‹xt/css" 
medŸ
="screen,…rojection"/>

7 <
¡yË
>

8 
img
 {
width
: 32
px
;}

9 </
	g¡yË
>

10 </
	gh—d
>

11 <
	gbody
>

12 <
	gH3
>
M¬k‘
 
	gT¿ck”
</
	gh3
>

14 <
div
 
	gid
="tree_menu">

15 <
ul
>

16 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚ
.
COM
 
KPI


17 <
ul
>

18 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd.php?li¡ñİ30">
US
 
BSR
</a></li> <!-- 2016-08-17 
h‰p
:

19 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.us_asš_sku_com³t™Üs.txt">
US
 
BSR
 
Groups
</a></li>

20 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="SKU by OwÃr">
SKUs
 
by
 
OwÃr


21 <
ul
>

22 <?
php


23 
fÜ—ch
(
ex¶ode
(',','ÿrŞe,”ic,joy,sÚny'è
as
 
$owÃr
) {

24 
	gecho
 '<li><¨rg‘="F¿meCÚ‹Á" h»f="dashbßrd.php?owÃr='. 
	g$owÃr
 .'">'. 
ucwÜds
(
$owÃr
) ."</li>";

27 </
	gul
>

28 </
	gli
>

30 <
	gli
><
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd_Ãw.php">
US
 
BSR
(
w“kly
)</a></
li
> <!-- 2016-08-17 
h‰p
:

31 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_asš_sku.php">
ASIN_SKU
</a></li>

32 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/mt/™em/asš_sku_t™Ë.php?bË=1">
ASIN_SKU_TITLE
</a></li>

33 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="u¶ßds/amazÚ_kw_¿nk_»pÜt.php">
KeywÜds
 
S—rch
 
Rªk
 (
KSR
)</a></li> <!-- -->

34 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=be¡w©”f‹rs/amazÚ_lšk_li¡.txt">
LškLi¡
 
Ed™Ü
</a></li> <!-- -->

35 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="¿nk/lškgroups_v2_şicks.php?aùiÚ=LidSumm¬y&³riod=W“kly&s™e÷mazÚ">
T¿ffics
</a></li> <!-- -->

36 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="¿nk/lškgroups_v2_şicks.php?aùiÚ=OidSumm¬y&³riod=W“kly">
Gigs
 
P”fÜmªû
</a></li>

37 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="»v›w/»v›w_¿tšg_rg‘_»pÜt.php">
Rev›ws
 
T¬g‘
</a></li> <!-- 2016-08-17 
h‰p
:

38 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="»v›w/amazÚ_i¥ršg_»v›ws.šdex.php?rows=50">
iS´šg
 
Rev›ws
</a></li> <!-- 2016-08-17 
mt
/
»v›w
/
amazÚ_i¥ršg_»v›ws
.
impÜt
.
php
 -->

39 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="»v›w/amazÚ_comp_»v›ws.šdex.php">
Com³t™Üs
 
Rev›ws
</a></li>

40 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="¿nk/be¡£Î”¿nk.comp.php">
Com³t™Üs
 
Be¡
 
S–Ërs
</a></li>

41 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="u¶ßds/ofãrmÚ.impÜt.log.html">
Ofãr
 
MÚ™Ü
</a></li>

42 </
ul
>

43 </
li
>

44 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚCAN
 
KPI


45 <
ul
>

46 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd.php?»giÚ=ÿ&³riod=124+hours">
CAN
 
BSR
</a></li>

47 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.ÿ_asš_sku_com³t™Üs.txt">
CAN
 
BSR
 
Groups
</a></li>

48 </
ul
>

49 </
li
>

50 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚUK
 
KPI


51 <
ul
>

52 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd.php?»giÚ=uk&³riod=124+hours">
UK
 
BSR
</a></li>

53 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.uk_asš_sku_com³t™Üs.txt">
UK
 
BSR
 
Groups
</a></li>

54 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="h‰p://160.153.225.52/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=bwf/amazÚ_lšk_li¡.txt">
EU
 
LškLi¡
 
Ed™Ü
</a></li>

55 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="h‰p://160.153.225.52/¿nk/lškgroups_v2_şicks.php?aùiÚ=LidSumm¬y&³riod=W“kly&s™e÷mazÚ">
T¿ffics
</a></li> <!-- -->

56 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="h‰p://160.153.225.52/¿nk/lškgroups_v2_şicks.php?aùiÚ=OidSumm¬y&³riod=W“kly">
Gigs
 
P”fÜmªû
</a></li>

57 </
ul
>

58 </
li
>

59 <
li
 
şass
="isFŞd”" 
t™Ë
="Bookm¬ks">
AmazÚ
 
Be¡
 
S–Ërs
 
In
 
D•¬tm’ts


60 <
ul
>

61 <?
php


62 
šşude_Úû
(
__DIR__
 .'/lib/functions.php');

63 
	g$tsv2A¼ay
 = 
tsv2ToA¼ay
('rank/amazon.bestsellerrank.categories.tsv');

64 
	g$c
=0;

65 
fÜ—ch
(
$tsv2A¼ay
 
as
 
$u¾P©‹º
 => 
$ÿ‹gÜy
) {

66 ià(
¡¾’
(
$ÿ‹gÜy
)<5) ;

67 
	g$c
++;

68 
´eg_m©ch
('-/hi/(\d+)/»f-',
$u¾P©‹º
,
$m©ches
);

69 
	g$idC©egÜy
 = 
$m©ches
[1];

70 
	g$bËName
 = 'abs_'. 
$idC©egÜy
;

71 
	g$ÿ‹gÜy
 = 
´eg_»¶aû
('/[\W]+/','_',
$ÿ‹gÜy
);

72 
	gecho
 "<li><aarget=FrameContent href=rank/bestsellerrank.amazon.php?asin=B00&tablename=$tableName&category=$category>$c $category </a></li>";

75 <
	gli
><
a
 
	grg‘
="_bÏnk" 
h»f
="¿nk/be¡£Î”¿nk.amazÚ.impÜt.php">
Mªu®
 
ImpÜt
</a></
li
>

76 </
ul
>

77 </
li
>

78 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚ
 
KeywÜds
 
S—rch
 
Rªks


79 <
ul
>

80 <?
php


81 
$tsvFeName
 =
__DIR__
 . '/../kw.tsv';

82 ià(!
	$is_fe
(
$tsvFeName
)) {

83 
echo
 "$tsvFileName Not found";

84 
	}
} {

85 
	gecho
 '<li>&nb¥;<¨rg‘=_bÏnk h»f="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe='. 
	g$tsvFeName
 .'">Edit keywords</a></li>';

86 
	g$tsv
 = 
´eg_»¶aû
("/[\n\r]/","\r",
fe_g‘_cÚ‹Ás
(
$tsvFeName
));

88 
	g$aKws
 = 
ex¶ode
("\r",
$tsv
);

100 
fÜ—ch
(
$aKws
 
as
 
$kw
) {

101 
	g$kw
 = 
Œim
(
$kw
);

102 ià(
¡¾’
(
$kw
è< 2è
	gecho
 '<br>';

103 
	gecho
 '<li>&nb¥;<¨rg‘="F¿meCÚ‹Á" h»f="¿nk/amazÚ_kw_¿nk_šdex.php?kw='. 
¡r_œ•Ïû
(' ','_',
$kw
è.'">'. 
	g$kw
 .'</a></li>';

107 </
	gul
>

108 </
	gli
>

109 <
li
 
	gşass
="isFŞd”" 
t™Ë
="Bookm¬ks">
HomeD•Ù
 
C©egÜ›s


110 <
ul
>

111 <?
php


112 
$tsvFeName
 =
__DIR__
 . '/homedepot/hd_kw_cat.v2.tsv';

113 ià(!
	$is_fe
(
$tsvFeName
)) {

115 
	}
} {

116 
	g$tsv
 = 
fe_g‘_cÚ‹Ás
(
$tsvFeName
);

117 
	g$q
 = "select id,type,string,catid from hd_kw_cat_v2 whereype = 'cat' order by id,string ";

118 
Li¡TabËs
(
$q
);

120 
funùiÚ
 
	$Li¡TabËs
(
$q
) {

121 
glob®
 
$tsv
;

122 
$rows
 = 
	`sqlqu”y
(
$q
);

123 ià(
	`em±y
(
$rows
)è 
$q
 .'„eturnsƒmpty';

125 
$·»Á_ÿt
 = 
$chd_ÿt
 = '';

126 
$i
=0;

127 
	`fÜ—ch
(
$rows
 
as
 
$row
) {

128 
$i
++;

129 
$kid
 = 
$row
['id'];

130 
$ty³
 = 
$row
['type'];

131 
$ÿtid
 = 
$row
['catid'];

132 
$¡r
 = 
	`ucwÜds
(
	`¡r_œ•Ïû
('_',' ',¡r_œ•Ïû('K™ch’_W©”_Di¥’£rs_F‹rs_','',
$row
['string'])));

133 ià(
	`¡ros
(
$tsv
,
$¡r
è>1 
Ü
 sŒos($tsv,
	`¡r_œ•Ïû
(' ','-',$¡r)è>1è
echo
 "<li><aarget=FrameContent href=homedepot/index.php?kid=$kid>$i $str</a></li>";

135 
	}
}

138 </
	gul
>

139 </
	gli
>

141 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
HomeD•Ù
 
KeywÜds


142 <
ul
>

143 <
li
>
Lškgroups
&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks.php?aùiÚöidsumm¬y&¡r=HomeD•Ù">
Clicks
</a>

144 &
nb¥
;<
a
 
	grg‘
="_bÏnk" 
h»f
="/be¡w©”f‹rs/lškgroup£d™Ü.php">
Ed™Ü
</a></
li
>

145 <?
php


146 
$q
 = "select id,type,string,catid from hd_kw_cat_v2 whereype = 'kw' order by string";

147 
Li¡TabËs
(
$q
);

149 </
	gul
>

150 </
	gli
>

152 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
eBay
 
KeywÜds


153 <
ul
>

154 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=mt/ebay/kw_ÿt.tsv">
Ed™
 
ebay
/
kw_ÿt
.
tsv
</a></li>

155 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks.php?aùiÚöidsumm¬y&¡róBay">
Lškgroups
 
Clicks
</a></li>

156 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="ebay/impÜt.php">
Mªu®
 
ImpÜt
</a></li>

157 <
li
><
a
 
rg‘
=
_bÏnk
 
h»f
="h‰p://ebay.´omÙiÚex³¹.com/b2ÿµ/»pÜt">
ebay
 
PR
</a></li>

158 <?
php


159 
$q
 = "SHOW TABLES LIKE 'ebay_kw_%'";

160 
	g$rows
 = 
sqlqu”y
(
$q
); 
	g$i
=0;

161 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

162 
$i
++;

163 
$Š
 = 
$row
['Tables_in_markettracker (ebay_kw_%)'];

164 
$kw
 = 
	`¡r_œ•Ïû
('ebay_kw_','',
$Š
);

165 
echo
 '<li><¨rg‘="F¿meCÚ‹Á" h»f="ebay/šdex.php?kw='. 
$kw
 .'">'. 
$i
 .' '. 
	`¡r_œ•Ïû
('-',' ',$kw) .'</a></li>';

166 
	}
}

168 </
	gul
>

169 </
	gli
>

171 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
S—rs
 
KeywÜds


172 <
ul
>

173 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks_v2.php?aùiÚ=LidSumm¬y&kw=S—rs">
Lškgroups
 
Clicks
</a></li>

174 <?
php


175 
$q
 = "SHOW TABLES LIKE 'sears_%'";

176 
	g$rows
 = 
sqlqu”y
(
$q
); 
	g$i
=0; 
	g$lis
='';

177 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

178 
$Š
 = 
$row
['Tables_in_markettracker (sears_%)'];

179 ià(
	`¡¾’
(
$Š
) < 7) ;

180 
$kw
 = 
	`¡r_œ•Ïû
('£¬s_','',
$Š
); 
$i
++;

181 
$lis
 .ğ'<li><¨rg‘="F¿meCÚ‹Á" h»f="£¬s/£¬s_kw_¿nk_šdex.php?kw='. 
$kw
 .'">'. 
$i
 .' '. $kw .'</a></li>';

182 
	}
}

183 
echo
 
	g$lis
;

185 </
	gul
>

186 </
	gli
>

187 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
Ov”Stock
 
KeywÜds


188 <
ul
>

189 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks.php?aùiÚöidsumm¬y&¡r=ov”¡ock">
Lškgroups
 
Clicks
</a></li>

190 <?
php


191 
$q
 = "SHOW TABLES LIKE 'overstock_%'";

192 
	g$rows
 = 
sqlqu”y
(
$q
); 
	g$i
=0;

193 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

194 
$i
++;

195 
$Š
 = 
$row
['Tables_in_markettracker (overstock_%)'];

196 
$kw
 = 
	`¡r_œ•Ïû
('ov”¡ock_','',
$Š
);

197 
echo
 '<li><¨rg‘="F¿meCÚ‹Á" h»f="ov”¡ock/ov”¡ock_kw_¿nk_šdex.php?kw='. 
$kw
 .'">'. 
$i
 .' '. 
	`¡r_œ•Ïû
('-',' ',$kw) .'</a></li>';

198 
	}
}

200 </
	gul
>

201 </
	gli
>

202 <
li
 
	gşass
="isFŞd”" 
t™Ë
="Bookm¬ks">
Ed™Üs


203 <
ul
>

205 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.ÿ_asš_sku_com³t™Üs.txt">
CA
 
BSR
 
Groups
</a></li>

207 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/be¡w©”f‹rs/lškgroup£d™Ü.php">
Lškgroups
</a></li>

208 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/be¡w©”f‹rs/lškgroup£d™Ü_v2.php">
Lškgroups_v2
</a></li>

209 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/mt/¿nk/‰Üd”s.php">
TTOrd”s
</a></li>

210 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=mt/Ãwegg/kw_ÿt.tsv">
Neweggs
 
kw_ÿt
.
tsv
</a></li>

211 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="lib/amazÚ_™ems_ed™Ü.php">
AmazÚ
 
I‹ms
</a></li>

212 </
ul
>

213 </
li
>

214 </
ul
>

215 </
div
>

217 <
süt
>

218 
$
('#Œ“_m’u').
—syŒ“
();

219 </
	gsüt
>

220 </
	gbody
>

221 </
	ghtml
>

	@FrameTree.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
M¬k‘
 
T¿ck”
</title>

3 <
h—d
>

4 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="https://code.jquery.com/jquery-1.8.0.min.js"></script>

5 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/EasyTree/jquery.easytree.js"></script>

6 <
lšk
 
»l
="¡yËsh“t" 
h»f
="lib/EasyT»e/skš-xp/ui.—syŒ“.css" 
ty³
="‹xt/css" 
medŸ
="screen,…rojection"/>

7 <
¡yË
>

8 
img
 {
width
: 32
px
;}

9 </
	g¡yË
>

10 </
	gh—d
>

11 <
	gbody
>

12 <
	gH3
>
M¬k‘
 
	gT¿ck”
</
	gh3
>

14 <
div
 
	gid
="tree_menu">

15 <
ul
>

16 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚ
.
COM
 
KPI


17 <
ul
>

18 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd.php?li¡ñİ30">
US
 
BSR
</a></li> <!-- 2016-08-17 
h‰p
:

19 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.us_asš_sku_com³t™Üs.txt">
US
 
BSR
 
Groups
</a></li>

20 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="SKU by OwÃr">
SKUs
 
by
 
OwÃr


21 <
ul
>

22 <?
php


23 
šşude_Úû
('lib/functions.php');

24 
ši_£t
('display_errors', 1);

25 
ši_£t
('display_startup_errors', 1);

26 
”rÜ_»pÜtšg
(
E_ALL
);

28 
	g$sPublishedGoogËSh“tTsv
 = 
fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=352479658&single=true&output=tsv');

29 
	$fÜ—ch
(
$sPublishedGoogËSh“tTsv
 
as
 
$sTsvRow
) {

31 
$aTsvRow
 = 
	`ex¶ode
("\t", 
$sTsvRow
);

32 ià(
	`´eg_m©ch
('/(B0\w{8})/',
$aTsvRow
[0],
$m
è=ğ
FALSE
) ;

34 
$asš
 = 
	`Œim
(
$m
[1]);

35 
$sku
 = 
	`Œim
(
$aTsvRow
[1]);

36 
$t›r
 = 
	`Œim
(
$aTsvRow
[2]);

37 
$owÃr
 = 
	`Œim
(
$aTsvRow
[3]);

38 
$comp
 = 
	`Œim
(
$aTsvRow
[4]);

40 
$sqlIn£¹GoogËSh“t4LA1T›r
 = "INSERT IGNORE INTO GoogleSheet4LA1Tier (asin, sku,ier,owner,comp) VALUES ('$asin', '$sku','$tier','$owner','$comp');\n";

42 
	`sqlqu”y
(
$sqlIn£¹GoogËSh“t4LA1T›r
);

43 
	}
}

44 
fÜ—ch
(
ex¶ode
(',','john,SÚny,Eric,Joy'è
as
 
$owÃr
) {

45 
	gecho
 '<li><¨rg‘="F¿meCÚ‹Á" h»f="dashbßrd.php?owÃr='. 
	g$owÃr
 .'">'. 
ucwÜds
(
$owÃr
) ."</li>";

48 </
	gul
>

49 </
	gli
>

51 <
	gli
><
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd_Ãw.php">
US
 
BSR
(
w“kly
)</a></
li
> <!-- 2016-08-17 
h‰p
:

52 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_asš_sku.php">
ASIN_SKU
</a></li>

53 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/mt/™em/asš_sku_t™Ë.php?bË=1">
ASIN_SKU_TITLE
</a></li>

54 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="u¶ßds/amazÚ_kw_¿nk_»pÜt.php">
KeywÜds
 
S—rch
 
Rªk
 (
KSR
)</a></li> <!-- -->

55 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=be¡w©”f‹rs/amazÚ_lšk_li¡.txt">
LškLi¡
 
Ed™Ü
</a></li> <!-- -->

56 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="¿nk/lškgroups_v2_şicks.php?aùiÚ=LidSumm¬y&³riod=W“kly&s™e÷mazÚ">
T¿ffics
</a></li> <!-- -->

57 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="¿nk/lškgroups_v2_şicks.php?aùiÚ=OidSumm¬y&³riod=W“kly">
Gigs
 
P”fÜmªû
</a></li>

58 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="»v›w/»v›w_¿tšg_rg‘_»pÜt.php">
Rev›ws
 
T¬g‘
</a></li> <!-- 2016-08-17 
h‰p
:

59 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="»v›w/amazÚ_i¥ršg_»v›ws.šdex.php?rows=50">
iS´šg
 
Rev›ws
</a></li> <!-- 2016-08-17 
mt
/
»v›w
/
amazÚ_i¥ršg_»v›ws
.
impÜt
.
php
 -->

60 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="»v›w/amazÚ_comp_»v›ws.šdex.php">
Com³t™Üs
 
Rev›ws
</a></li>

61 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="¿nk/be¡£Î”¿nk.comp.php">
Com³t™Üs
 
Be¡
 
S–Ërs
</a></li>

62 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="u¶ßds/ofãrmÚ.impÜt.log.html">
Ofãr
 
MÚ™Ü
</a></li>

63 </
ul
>

64 </
li
>

65 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚCAN
 
KPI


66 <
ul
>

67 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd.php?»giÚ=ÿ&³riod=124+hours">
CAN
 
BSR
</a></li>

68 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.ÿ_asš_sku_com³t™Üs.txt">
CAN
 
BSR
 
Groups
</a></li>

69 </
ul
>

70 </
li
>

71 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚUK
 
KPI


72 <
ul
>

73 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="dashbßrd.php?»giÚ=uk&³riod=124+hours">
UK
 
BSR
</a></li>

74 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.uk_asš_sku_com³t™Üs.txt">
UK
 
BSR
 
Groups
</a></li>

75 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="h‰p://160.153.225.52/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=bwf/amazÚ_lšk_li¡.txt">
EU
 
LškLi¡
 
Ed™Ü
</a></li>

76 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="h‰p://160.153.225.52/¿nk/lškgroups_v2_şicks.php?aùiÚ=LidSumm¬y&³riod=W“kly&s™e÷mazÚ">
T¿ffics
</a></li> <!-- -->

77 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="h‰p://160.153.225.52/¿nk/lškgroups_v2_şicks.php?aùiÚ=OidSumm¬y&³riod=W“kly">
Gigs
 
P”fÜmªû
</a></li>

78 </
ul
>

79 </
li
>

80 <
li
 
şass
="isFŞd”" 
t™Ë
="Bookm¬ks">
AmazÚ
 
Be¡
 
S–Ërs
 
In
 
D•¬tm’ts


81 <
ul
>

82 <?
php


83 
šşude_Úû
(
__DIR__
 .'/lib/functions.php');

84 
	g$tsv2A¼ay
 = 
tsv2ToA¼ay
('rank/amazon.bestsellerrank.categories.tsv');

85 
	g$c
=0;

86 
fÜ—ch
(
$tsv2A¼ay
 
as
 
$u¾P©‹º
 => 
$ÿ‹gÜy
) {

87 ià(
¡¾’
(
$ÿ‹gÜy
)<5) ;

88 
	g$c
++;

89 
´eg_m©ch
('-/hi/(\d+)/»f-',
$u¾P©‹º
,
$m©ches
);

90 
	g$idC©egÜy
 = 
$m©ches
[1];

91 
	g$bËName
 = 'abs_'. 
$idC©egÜy
;

92 
	g$ÿ‹gÜy
 = 
´eg_»¶aû
('/[\W]+/','_',
$ÿ‹gÜy
);

93 
	gecho
 "<li><aarget=FrameContent href=rank/bestsellerrank.amazon.php?asin=B00&tablename=$tableName&category=$category>$c $category </a></li>";

96 <
	gli
><
a
 
	grg‘
="_bÏnk" 
h»f
="¿nk/be¡£Î”¿nk.amazÚ.impÜt.php">
Mªu®
 
ImpÜt
</a></
li
>

97 </
ul
>

98 </
li
>

99 <
li
 
şass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
AmazÚ
 
KeywÜds
 
S—rch
 
Rªks


100 <
ul
>

101 <?
php


102 
$tsvFeName
 =
__DIR__
 . '/../kw.tsv';

103 ià(!
	$is_fe
(
$tsvFeName
)) {

104 
echo
 "$tsvFileName Not found";

105 
	}
} {

106 
	gecho
 '<li>&nb¥;<¨rg‘=_bÏnk h»f="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe='. 
	g$tsvFeName
 .'">Edit keywords</a></li>';

107 
	g$tsv
 = 
´eg_»¶aû
("/[\n\r]/","\r",
fe_g‘_cÚ‹Ás
(
$tsvFeName
));

109 
	g$aKws
 = 
ex¶ode
("\r",
$tsv
);

121 
fÜ—ch
(
$aKws
 
as
 
$kw
) {

122 
	g$kw
 = 
Œim
(
$kw
);

123 ià(
¡¾’
(
$kw
è< 2è
	gecho
 '<br>';

124 
	gecho
 '<li>&nb¥;<¨rg‘="F¿meCÚ‹Á" h»f="¿nk/amazÚ_kw_¿nk_šdex.php?kw='. 
¡r_œ•Ïû
(' ','_',
$kw
è.'">'. 
	g$kw
 .'</a></li>';

128 </
	gul
>

129 </
	gli
>

130 <
li
 
	gşass
="isFŞd”" 
t™Ë
="Bookm¬ks">
HomeD•Ù
 
C©egÜ›s


131 <
ul
>

132 <?
php


133 
$tsvFeName
 =
__DIR__
 . '/homedepot/hd_kw_cat.v2.tsv';

134 ià(!
	$is_fe
(
$tsvFeName
)) {

136 
	}
} {

137 
	g$tsv
 = 
fe_g‘_cÚ‹Ás
(
$tsvFeName
);

138 
	g$q
 = "select id,type,string,catid from hd_kw_cat_v2 whereype = 'cat' order by id,string ";

139 
Li¡TabËs
(
$q
);

141 
funùiÚ
 
	$Li¡TabËs
(
$q
) {

142 
glob®
 
$tsv
;

143 
$rows
 = 
	`sqlqu”y
(
$q
);

144 ià(
	`em±y
(
$rows
)è 
$q
 .'„eturnsƒmpty';

146 
$·»Á_ÿt
 = 
$chd_ÿt
 = '';

147 
$i
=0;

148 
	`fÜ—ch
(
$rows
 
as
 
$row
) {

149 
$i
++;

150 
$kid
 = 
$row
['id'];

151 
$ty³
 = 
$row
['type'];

152 
$ÿtid
 = 
$row
['catid'];

153 
$¡r
 = 
	`ucwÜds
(
	`¡r_œ•Ïû
('_',' ',¡r_œ•Ïû('K™ch’_W©”_Di¥’£rs_F‹rs_','',
$row
['string'])));

154 ià(
	`¡ros
(
$tsv
,
$¡r
è>1 
Ü
 sŒos($tsv,
	`¡r_œ•Ïû
(' ','-',$¡r)è>1è
echo
 "<li><aarget=FrameContent href=homedepot/index.php?kid=$kid>$i $str</a></li>";

156 
	}
}

159 </
	gul
>

160 </
	gli
>

162 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
HomeD•Ù
 
KeywÜds


163 <
ul
>

164 <
li
>
Lškgroups
&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks.php?aùiÚöidsumm¬y&¡r=HomeD•Ù">
Clicks
</a>

165 &
nb¥
;<
a
 
	grg‘
="_bÏnk" 
h»f
="/be¡w©”f‹rs/lškgroup£d™Ü.php">
Ed™Ü
</a></
li
>

166 <?
php


167 
$q
 = "select id,type,string,catid from hd_kw_cat_v2 whereype = 'kw' order by string";

168 
Li¡TabËs
(
$q
);

170 </
	gul
>

171 </
	gli
>

173 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
eBay
 
KeywÜds


174 <
ul
>

175 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=mt/ebay/kw_ÿt.tsv">
Ed™
 
ebay
/
kw_ÿt
.
tsv
</a></li>

176 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks.php?aùiÚöidsumm¬y&¡róBay">
Lškgroups
 
Clicks
</a></li>

177 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="ebay/impÜt.php">
Mªu®
 
ImpÜt
</a></li>

178 <
li
><
a
 
rg‘
=
_bÏnk
 
h»f
="h‰p://ebay.´omÙiÚex³¹.com/b2ÿµ/»pÜt">
ebay
 
PR
</a></li>

179 <?
php


180 
$q
 = "SHOW TABLES LIKE 'ebay_kw_%'";

181 
	g$rows
 = 
sqlqu”y
(
$q
); 
	g$i
=0;

182 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

183 
$i
++;

184 
$Š
 = 
$row
['Tables_in_markettracker (ebay_kw_%)'];

185 
$kw
 = 
	`¡r_œ•Ïû
('ebay_kw_','',
$Š
);

186 
echo
 '<li><¨rg‘="F¿meCÚ‹Á" h»f="ebay/šdex.php?kw='. 
$kw
 .'">'. 
$i
 .' '. 
	`¡r_œ•Ïû
('-',' ',$kw) .'</a></li>';

187 
	}
}

189 </
	gul
>

190 </
	gli
>

192 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
S—rs
 
KeywÜds


193 <
ul
>

194 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks_v2.php?aùiÚ=LidSumm¬y&kw=S—rs">
Lškgroups
 
Clicks
</a></li>

195 <?
php


196 
$q
 = "SHOW TABLES LIKE 'sears_%'";

197 
	g$rows
 = 
sqlqu”y
(
$q
); 
	g$i
=0; 
	g$lis
='';

198 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

199 
$Š
 = 
$row
['Tables_in_markettracker (sears_%)'];

200 ià(
	`¡¾’
(
$Š
) < 7) ;

201 
$kw
 = 
	`¡r_œ•Ïû
('£¬s_','',
$Š
); 
$i
++;

202 
$lis
 .ğ'<li><¨rg‘="F¿meCÚ‹Á" h»f="£¬s/£¬s_kw_¿nk_šdex.php?kw='. 
$kw
 .'">'. 
$i
 .' '. $kw .'</a></li>';

203 
	}
}

204 
echo
 
	g$lis
;

206 </
	gul
>

207 </
	gli
>

208 <
li
 
	gşass
="isFŞd” isEx·nded" 
t™Ë
="Bookm¬ks">
Ov”Stock
 
KeywÜds


209 <
ul
>

210 <
li
><
a
 
rg‘
="F¿meCÚ‹Á" 
h»f
="¿nk/lškgroupşicks.php?aùiÚöidsumm¬y&¡r=ov”¡ock">
Lškgroups
 
Clicks
</a></li>

211 <?
php


212 
$q
 = "SHOW TABLES LIKE 'overstock_%'";

213 
	g$rows
 = 
sqlqu”y
(
$q
); 
	g$i
=0;

214 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

215 
$i
++;

216 
$Š
 = 
$row
['Tables_in_markettracker (overstock_%)'];

217 
$kw
 = 
	`¡r_œ•Ïû
('ov”¡ock_','',
$Š
);

218 
echo
 '<li><¨rg‘="F¿meCÚ‹Á" h»f="ov”¡ock/ov”¡ock_kw_¿nk_šdex.php?kw='. 
$kw
 .'">'. 
$i
 .' '. 
	`¡r_œ•Ïû
('-',' ',$kw) .'</a></li>';

219 
	}
}

221 </
	gul
>

222 </
	gli
>

223 <
li
 
	gşass
="isFŞd”" 
t™Ë
="Bookm¬ks">
Ed™Üs


224 <
ul
>

226 <
li
>&
nb¥
;<
a
 
	grg‘
="F¿meCÚ‹Á" 
h»f
="h‰p://czyu§.com/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe÷mazÚ.ÿ_asš_sku_com³t™Üs.txt">
CA
 
BSR
 
Groups
</a></li>

228 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/be¡w©”f‹rs/lškgroup£d™Ü.php">
Lškgroups
</a></li>

229 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/be¡w©”f‹rs/lškgroup£d™Ü_v2.php">
Lškgroups_v2
</a></li>

230 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/mt/¿nk/‰Üd”s.php">
TTOrd”s
</a></li>

231 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="/ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe=mt/Ãwegg/kw_ÿt.tsv">
Neweggs
 
kw_ÿt
.
tsv
</a></li>

232 <
li
><
a
 
rg‘
="_bÏnk" 
h»f
="lib/amazÚ_™ems_ed™Ü.php">
AmazÚ
 
I‹ms
</a></li>

233 </
ul
>

234 </
li
>

235 </
ul
>

236 </
div
>

238 <
süt
>

239 
$
('#Œ“_m’u').
—syŒ“
();

240 </
	gsüt
>

241 </
	gbody
>

242 </
	ghtml
>

	@MWSProducts/1newselect.php

1 <?
php


2 
	g»quœe_Úû
 'db.php';

3 
	g$mysqli
 = 
mws_mysqlCÚÃù
();

4 ià(
	$mysqli_cÚÃù_”ºo
()) {

5 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

6 
	`ex™
();

7 
	}
}

9 <!
DOCTYPE
 
	gHTML
>

10 <
	ghtml
>

11 <
	gh—d
>

12 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=utf-8">

13 <
m‘a
 
Çme
="v›wpÜt" 
cÚ‹Á
="width=device-width, initial-scale=1">

14 <
t™Ë
>
Ch¬t
</title>

15 <
süt
 
¤c
="https://code.jquery.com/jquery-3.1.1.min.js"></script>

16 <
süt
 
¤c
="http://code.highcharts.com/stock/highstock.js"></script>

17 <!--<
süt
 
¤c
="highcharts.js"></script>-->

18 </
h—d
>

19 <
body
>

20 <?
php


21 
$qu”y
 = 
$mysqli
->
qu”y
("SELECT id,…roduct FROM csv WHERE group_asin = 'B009AEJWZG'");

22 
	g$»s_¬¿y
 = 
¬¿y
();

23 
	g$´iû_¬¿y
 = 
¬¿y
();

24 
	g$d©e_¬¿y
 = 
¬¿y
();

25 
	g$cŞÜ
 = 
¬¿y
('red', 'black', 'lime', 'olive', 'navy', 'saddle brown', 'purple');

26 
	g$i
 = 0;

27 
	$fÜ—ch
(
$qu”y
 
as
 
$que
){

28 ?> <
div
 
id
="cÚš”" 
¡yË
="min-width: 310px; height: 700px; margin: 0‡uto; border:1px solid grey;"></div>

29 <?
php


30 
$cÚÿt_que
 = "'".
	`¡r_»¶aû
(',', "','", 
$que
['product'])."'";

31 
$»suÉ
 = 
$mysqli
->
	`qu”y
("SELECT mws_us.upd©ed AS upd©e_d©e, mws_us.rid,mws_us.asš, mws_us.sku, mws_us.´iû, mws_us.¿nk1, mws_us.¿nk2 FROM mws_u WHERE mws_us.asš IN (".
$cÚÿt_que
."èAND mws_us.csv_id = ".
$que
['id']." ORDER BY mws_us.updated DESC LIMIT 100");

32 
	`fÜ—ch
(
$»suÉ
 
as
 
$»s
){

34 
$d©e
 = 
	`d©e
("Y-m-d h A", 
	`¡¹Ùime
(
$»s
['update_date']));

35 
$d©e
 = 
	`d©e
('d-m-y h:˜A', 
	`¡¹Ùime
($date));

36 
$d©e_¬¿y
[] = 
$d©e
;

37 if(
	`is£t
(
$»s_¬¿y
[
$»s
['asin']])){

38 
	`¬¿y_unshiá
(
$»s_¬¿y
[
$»s
['asš']]['d©a'], 
	`¬¿y
('d©e'=> 
$d©e
,'y'=>
	`štv®
($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
	`æßtv®
($res['price'])));

39 
	`¬¿y_unshiá
(
$´iû_¬¿y
[
$»s
['asš']]['d©a'], 
	`¬¿y
('d©e'=> 
$d©e
,'y'=>
	`æßtv®
($res['price'])));

41 
$»s_¬¿y
[
$»s
['asš']] = 
	`¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('d©e'=> 
$d©e
,'y'=>
	`štv®
($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
	`æßtv®
($»s['´iû']))), 'ty³' => 'lše', 'cŞÜ' => 
$cŞÜ
[
$i
]);

42 
$´iû_¬¿y
[
$»s
['asš']] = 
	`¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('d©e'=> 
$d©e
,'y'=>
	`æßtv®
($»s['´iû']))), 'yAxis' => 1, 'ty³' => 'cŞumn', 'showInLeg’d' => 
FALSE
, 'cŞÜ' => 
$cŞÜ
[
$i
]);

43 
$i
++;

46 
$unique_d©e
 = 
	`¬¿y_unique
(
$d©e_¬¿y
);

47 
$»s_¬¿y
 = 
	`¬¿y_v®ues
($res_array);

48 
$´iû_¬¿y
 = 
	`¬¿y_v®ues
($price_array);

49 
$ÿ‹gÜy_d©e
 = 
	`¬¿y_»v”£
(
$unique_d©e
);

50 
$ÿ‹gÜy_d©e
 = 
	`jsÚ_’code
($category_date);

51 
$»s_¬¿y
 = 
	`¬¿y_m”ge
($»s_¬¿y, 
$´iû_¬¿y
);

52 
	`´št_r
(
$»s_¬¿y
);

53 
$»s_¬¿y
 = 
	`jsÚ_’code
($res_array);

55 <
süt
 
ty³
="text/javascript">

56 
v¬
 
jsÚ_¬¿y
 = 
JSON
.
	`·r£
('<?phpƒcho $res_array; ?>');

57 
cÚsŞe
.
	`log
(
jsÚ_¬¿y
);

58 
v¬
 
ÿ‹gÜy_d©e
 = <?
php
 
echo
 
$ÿ‹gÜy_d©e
; ?>;

60 
Highch¬ts
.
	`ch¬t
('container', {

61 
t™Ë
: {

62 
‹xt
: 'Product Rank & Price Chart'

64 
¿ngeS–eùÜ
: {

65 
v”tiÿlAlign
: 'top',

66 
bu‰ÚS·cšg
: 10,

67 
bu‰ÚTheme
: {

68 
width
: 50,

70 
bu‰ÚPos™iÚ
: {

71 
x
: 580

73 
®lBu‰ÚsEÇbËd
: 
Œue
,

74 
’abËd
:
Œue
,

75 
šputEÇbËd
:
çl£
,

76 
bu‰Ús
: [{

77 
ty³
: 'day',

78 
couÁ
: 1,

79 
‹xt
: '24 Hour'

81 
ty³
: 'week',

82 
couÁ
: 1,

83 
‹xt
: '1 Week'

85 
ty³
: 'month',

86 
couÁ
: 1,

87 
‹xt
: '1 Month'

89 
ty³
: 'year',

90 
couÁ
: 1,

91 
‹xt
: '1 Year'

93 
£Ëùed
: 0,

96 
toŞt
: {

97 
backgroundCŞÜ
: 
nuÎ
,

98 
bÜd”Width
: 0,

99 
shadow
: 
Œue
,

100 
u£HTML
: 
Œue
,

101 
¡yË
: {

102 
·ddšg
: 0

104 
fÜm©‹r
: 
	`funùiÚ
 () {

105 
v¬
 
pošts
 = 
this
.points;

106 
v¬
 
sh¬edPošts
 = '';

107 
v¬
 
¿nk1
 = '';

108 
v¬
 
¿nk2
 = '';

109 
v¬
 
asš2
 = '';

110 
v¬
 
´iû
 = '';

111 
v¬
 
d©e
 = '';

112 
v¬
 
i
 = 0; i < 
pošts
.
Ëngth
/2; i++) {

113 
¿nk1
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.
y
 +'</td>';

114 
asš2
 +ğ'<td><b>'+ 
this
.
pošts
[
i
].
pošt
.asin2 +'</b></td>';

115 
¿nk2
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.rank2 +'</td>';

116 
´iû
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.price +'</td>';

117 
d©e
 = 
this
.
pošts
[
i
].
pošt
.date;

119 
sh¬edPošts
 +ğ'<div styË="‹xt-®ign:ûÁ”;…addšg-bÙtom:5px;cŞÜ:bÏck "><b>D©e: '+ 
d©e
 +'<br></b></div><bË bÜd”="1" c–Íaddšg="3" c–l¥acšg="0" styË="fÚt-size:10px;"><Œ><td>Sku</td> <b>'+ 
asš2
 + '</b></Œ><Œ><td>Rªk 1</td> <b>' + 
¿nk1
 + '</b></Œ><Œ><td>Rªk2</td> <b>'+ 
¿nk2
 +'</b></Œ><Œ><td>Priû</td> <b>'+ 
´iû
 +'</b></tr></table>';

120  
sh¬edPošts
;

122 
pos™iÚ”
: 
	`funùiÚ
 () {

123  { 
x
: 80, 
y
: 80 };

125 
shadow
: 
çl£
,

126 
bÜd”Width
: 0,

127 
bÜd”CŞÜ
: "#d4d4d4",

128 
backgroundCŞÜ
: '#f3f3f3',

129 
fŞlowPoš‹r
: 
Œue
,

130 
sh¬ed
: 
Œue
,

131 
üosshaœs
: {

132 
width
: 1,

133 
cŞÜ
: 'gray',

134 
dashStyË
: 'shortdot'

137 
ch¬t
: {

138 
zoomTy³
: 'x',

139 
¶ÙBackgroundCŞÜ
: "rgba(10,0,0,0)",

140 
ev’ts
: {

141 
lßd
: 
	`funùiÚ
(){

142 if(
this
.
¶ÙBackground
) {

143 
this
.
¶ÙBackground
.
	`toFrÚt
().
	`css
({

144 
cursÜ
: "crosshair"

151 
xAxis
: {

152 
ÿ‹gÜ›s
:
ÿ‹gÜy_d©e
,

154 
yAxis
: [{

155 
t™Ë
: {

156 
‹xt
: 'Rank1'

158 
height
: '70%',

160 
t™Ë
: {

161 
‹xt
: 'Price'

163 
height
: '30%',

164 
tİ
: '70%',

165 
İpos™e
: 
Œue
,

168 
£r›s
: 
jsÚ_¬¿y
,

169 
Ëg’d
: {

170 
®ign
: 'left',

171 
v”tiÿlAlign
: 'top',

172 
æßtšg
: 
Œue
,

173 
backgroundCŞÜ
: '#FFFFFF',

174 
y
: 25

178 </
süt
>

179 <?
php


182 
	}
}

185 </
	gbody
>

187 </
	ghtml
>

188 <?
	gphp


	@MWSProducts/db.php

1 <?
php


3 
£ssiÚ_¡¬t
();

5 
defše
('HOST', 'localhost');

6 
defše
('USER', 'mws');

7 
defše
('PASS', 'mws9lBl88G2uvVtcHw$');

8 
defše
('DBNM', 'mws');

10 
funùiÚ
 
	$mws_mysqlCÚÃù
(){

11 
$mysqli
 = 
Ãw
 
	`mysqli
(
HOST
, 
USER
, 
PASS
);

12 if(!(
$mysqli
)){

13 
	`d›
('CÚÃùiÚ FaedØDB: '. 
	`mysqli_cÚÃù_”rÜ
());

15 
$mysqli
->
	`£Ëù_db
(
DBNM
);

16  
$mysqli
;

17 
	}
}

	@MWSProducts/demo.php

1 <?
php


2 
ši_£t
('display_errors',1);

3 
”rÜ_»pÜtšg
(
E_ALL
);

5 
	g»quœe_Úû
 'db.php';

28 
»quœe_Úû
('mws_config.php');

39 
	g$£rviûU¾
 = "https://mws.amazonservices.com/Products/2011-10-01";

48 
	g$cÚfig
 = 
¬¿y
 (

49 'S”viûURL' => 
$£rviûU¾
,

50 'ProxyHo¡' => 
nuÎ
,

52 'ProxyU£ºame' => 
nuÎ
,

53 'ProxyPasswÜd' => 
nuÎ
,

57 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

58 
AWS_ACCESS_KEY_ID
,

59 
AWS_SECRET_ACCESS_KEY
,

60 
APPLICATION_NAME
,

61 
APPLICATION_VERSION
,

62 
$cÚfig
);

81 
	g$csvFe
 = 
fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

82 
	g$d©a
 = [];

83 
	g$csv_d©a
 = [];

84 
	$fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

85 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

86 if(
	`is£t
(
$_GET
['tier'])){

87 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

88 
$d©a
[] = 
$csv_check_d©a
;

91 
$d©a
[] = 
$csv_check_d©a
;

93 
	}
}

94 
	$fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

95 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

96 
$csv_´oduù_Ën
 = 
	`¡¾’
(
$csv_´oduù_asš
);

97 if(
$csv_´oduù_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

98 
$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

99 
$csv_d©a
[] = 
$csv_´oduù_asš
;

101 
$csv_v®ues
 = 
	`im¶ode
("','", 
$csv_¬¿y_d©a
);

105 
	}
}

106 
	g$csv_f‹r_¬¿y
 = 
¬¿y_f‹r
(
$csv_d©a
);

107 
	g$csv_f‹r_¬¿y
 = 
¬¿y_unique
(
$csv_f‹r_¬¿y
);

108 
	g$csv_chunk
 = 
¬¿y_chunk
(
$csv_f‹r_¬¿y
,10);

109 
	g$GLOBALS
['csv_¬¿y'] = 
$d©a
;

110 
	g$asš_¬¿y
 = [];

111 
	$fÜ—ch
 (
$d©a
 
as
 
$’Œy
) {

112 ià(!
	`em±y
(
$’Œy
[4])){

113 
$csv_d©a
 = 
	`ex¶ode
(',', 
$’Œy
[4]);

114 ià(!
	`em±y
(
$csv_d©a
)){

115 
$asš_d©a
 = 
	`¬¿y_m­
('Œim', 
$csv_d©a
);

116 
	`fÜ—ch
(
$asš_d©a
 
as
 
$asš_fš®_d©a
){

117 
$asš_Ën
 = 
	`¡¾’
(
$asš_fš®_d©a
);

118 if(
$asš_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$asš_fš®_d©a
)){

119 
$asš_¬¿y
[] = 
$asš_fš®_d©a
;

124 
	}
}

125 
	g$asš_f‹r_¬¿y
 = 
¬¿y_f‹r
(
$asš_¬¿y
);

126 
	g$asš_f‹r_¬¿y
 = 
¬¿y_unique
(
$asš_f‹r_¬¿y
);

127 
	g$asš_chunk
 = 
¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

128 
	g$»s
 = 
¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

129 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINReque¡
();

130 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

131 
	g$»que¡
->
£tM¬k‘¶aûId
(
MARKETPLACE_ID
);

132 
	g$asš_li¡
ğ
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

133 
	$fÜ—ch
(
$»s
 
as
 
$asš
){

134 
$asš_li¡
->
	`£tASIN
(
$asš
);

135 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

136 
	`švokeG‘Com³t™ivePricšgFÜASIN
(
$£rviû
, 
$»que¡
);

137 
	}
}

138 
h—d”
('Location: index.php');

139 
ex™
();

159 
funùiÚ
 
	$švokeG‘Com³t™ivePricšgFÜASIN
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

161 
Œy
 {

162 
	`h—d”
("Content-type:ext/xml");

163 
$»¥Ú£
 = 
$£rviû
->
	`G‘Com³t™ivePricšgFÜASIN
(
$»que¡
);

164 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

165 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

166 
echo
 
$dom
->
	`§veXML
(); 
d›
;

168 
	`echo
 ("Service Response\n");

169 
	`echo
 ("=============================================================================\n");

171 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

172 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

173 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

174 
$dom
->
fÜm©Ouut
 = 
Œue
;

175 
echo
 
$dom
->
	`§veXML
();

176 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

178 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

179 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

180 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

181 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

182 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

183 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

184 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

185 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

187 
	}
}

	@MWSProducts/demoselectdata.php

1 <?
php


2 
	g»quœe_Úû
 'db.php';

3 
	g$mysqli
 = 
mws_mysqlCÚÃù
();

4 ià(
	$mysqli_cÚÃù_”ºo
()) {

5 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

6 
	`ex™
();

7 
	}
}

8 if(
em±y
(
$_GET
è|| 
	g$_GET
['date_range'] == 86400000){

9 
$qu”y
 = 
$mysqli
->
qu”y
("SELECT id,…roduct FROM csv WHERE group_asin = 'B009AEJWZG'");

10 
	g$»s_¬¿y
 = 
¬¿y
();

11 
	g$´iû_¬¿y
 = 
¬¿y
();

12 
	g$d©e_¬¿y
 = 
¬¿y
();

13 
	g$cŞÜ
 = 
¬¿y
('red', 'black', 'lime', 'olive', 'navy', 'saddle brown', 'purple');

14 
	g$i
 = 0;

15 
fÜ—ch
(
$qu”y
 
as
 
$que
){

16 
	g$cÚÿt_que
 = "'".
¡r_»¶aû
(',', "','", 
$que
['product'])."'";

17 
	g$»suÉ
 = 
$mysqli
->
qu”y
("SELECT mws_us.upd©ed AS upd©e_d©e, mws_us.rid,mws_us.asš, mws_sku.Sku‡ sku, mws_us.´iû, mws_us.¿nk1, mws_us.¿nk2 FROM mws_u LEFT JOIN mws_sku ON mws_us.sku = mws_sku.ID WHERE mws_us.asš IN (".
$cÚÿt_que
."èAND mws_us.csv_id = ".
$que
['id']." ORDER BY mws_us.updated DESC LIMIT 100");

18 
fÜ—ch
(
$»suÉ
 
as
 
$»s
){

19 
	g$Ãw_d©e
 = 
d©e
('d-m-Y H:00:00', 
¡¹Ùime
(
$»s
['update_date']));

20 
	g$d©e
 = 
¡¹Ùime
(
$Ãw_d©e
)*1000;

21 if(
is£t
(
$»s_¬¿y
[
$»s
['asin']])){

22 
¬¿y_unshiá
(
$»s_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($res['price'])));

23 
¬¿y_unshiá
(
$´iû_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($res['price'])));

25 
	g$»s_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($»s['´iû']))), 'ty³' => 'lše', 'cŞÜ' => 
$cŞÜ
[
$i
]);

26 
	g$´iû_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($»s['´iû']))), 'yAxis' => 1, 'ty³' => 'cŞumn', 'showInLeg’d' => 
FALSE
, 'cŞÜ' => 
$cŞÜ
[
$i
]);

27 
	g$i
++;

30 
	g$»s_¬¿y
 = 
¬¿y_v®ues
(
$»s_¬¿y
);

31 
	g$´iû_¬¿y
 = 
¬¿y_v®ues
(
$´iû_¬¿y
);

32 
	g$»s_¬¿y
 = 
¬¿y_m”ge
(
$»s_¬¿y
, 
$´iû_¬¿y
);

33 
echo
 
jsÚ_’code
(
$»s_¬¿y
);

36 if(
	g$_GET
['d©e_¿nge'] =ğ604800000 && 
is£t
(
$_GET
['date_range'])){

37 
$lim™
 = 7;

38 }
–£if
(
$_GET
['d©e_¿nge'] =ğ2592000000 && 
is£t
($_GET['date_range'])){

39 
$lim™
 = 31;

40 }
–£if
(
$_GET
['d©e_¿nge'] =ğ31536000000 && 
is£t
($_GET['date_range'])){

41 
$lim™
 = 12;

43 if(!
em±y
(
$_GET
è&& 
is£t
($_GETè&& 
	g$_GET
['date_range'] != 86400000 ){

44 
$qu”y
 = 
$mysqli
->
qu”y
("SELECT id,…roduct FROM csv WHERE group_asin = 'B009AEJWZG'");

45 
	g$»s_¬¿y
 = 
¬¿y
();

46 
	g$´iû_¬¿y
 = 
¬¿y
();

47 
	g$d©e_¬¿y
 = 
¬¿y
();

48 
	g$cŞÜ
 = 
¬¿y
('red', 'black', 'lime', 'olive', 'navy', 'saddle brown', 'purple');

49 
	g$i
 = 0;

50 
fÜ—ch
(
$qu”y
 
as
 
$que
){

51 
	g$cÚÿt_que
 = "'".
¡r_»¶aû
(',', "','", 
$que
['product'])."'";

53 if(
	g$_GET
['date_range'] != 31536000000){

54 
$»suÉ
 = 
$mysqli
->
qu”y
("(SELECT DATE(`upd©ed`èAS upd©e_d©e, mws_us.rid,mws_us.asš, mws_sku.Sku‡ sku, mws_us.´iû, mws_us.¿nk1, mws_us.¿nk2 FROM mws_u LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE upd©ed IN (SELECT MAX(upd©edèFROM mws_u WHERE mws_us.asš = ('B00TT9I2PS'èGROUP BY DATE(`upd©ed`)èAND mws_us.asš = ('B00TT9I2PS'èAND mws_us.csv_id = 4 ORDER BY upd©ed DESC LIMIT ".
$lim™
.") UNION (SELECT DATE(`updated`) AS update_date, mws_us.rid,mws_us.asin, mws_sku.Sku‡s sku, mws_us.price, mws_us.rank1, mws_us.rank2 FROM mws_us LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE updated IN (SELECT MAX(updated) FROM mws_us WHERE mws_us.asin = ('B00CHYLXLW') GROUP BY DATE(`updated`)) AND mws_us.asin = ('B00CHYLXLW') AND mws_us.csv_id = 4 ORDER BY updated DESC LIMIT ".$limit.") UNION (SELECT DATE(`updated`) AS update_date, mws_us.rid,mws_us.asin, mws_sku.Sku‡s sku, mws_us.price, mws_us.rank1, mws_us.rank2 FROM mws_us LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE updated IN (SELECT MAX(updated) FROM mws_us WHERE mws_us.asin = ('B002XISS2Y') GROUP BY DATE(`updated`)) AND mws_us.asin = ('B002XISS2Y') AND mws_us.csv_id = 4 ORDER BY updated DESC LIMIT ".$limit.") UNION (SELECT DATE(`updated`) AS update_date, mws_us.rid,mws_us.asin, mws_sku.Sku‡s sku, mws_us.price, mws_us.rank1, mws_us.rank2 FROM mws_us LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE updated IN (SELECT MAX(updated) FROM mws_us WHERE mws_us.asin = ('B009AEJWZG') GROUP BY DATE(`updated`)) AND mws_us.asin = ('B009AEJWZG') AND mws_us.csv_id = 4 ORDER BY updated DESC LIMIT ".$limit.")");

56 
	g$»suÉ
 = 
$mysqli
->
qu”y
("(SELECT YEAR(upd©ed), MONTH(upd©ed),DATE(`upd©ed`èAS upd©e_d©e, mws_us.rid,mws_us.asš, mws_sku.Sku‡ sku, mws_us.´iû, mws_us.¿nk1, mws_us.¿nk2 FROM mws_u LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE upd©ed IN (SELECT MAX(upd©edèFROM mws_u WHERE mws_us.asš = ('B00TT9I2PS'èGROUP BY YEAR(upd©ed), MONTH(upd©ed)èAND mws_us.asš = ('B00TT9I2PS'èAND mws_us.csv_id = 4 ORDER BY YEAR(upd©ed),MONTH(upd©edèDESC LIMIT ".
$lim™
.") UNION (SELECT YEAR(updated), MONTH(updated),DATE(`updated`) AS update_date, mws_us.rid,mws_us.asin, mws_sku.Sku‡s sku, mws_us.price, mws_us.rank1, mws_us.rank2 FROM mws_us LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE updated IN (SELECT MAX(updated) FROM mws_us WHERE mws_us.asin = ('B00CHYLXLW') GROUP BY YEAR(updated), MONTH(updated)) AND mws_us.asin = ('B00CHYLXLW') AND mws_us.csv_id = 4 ORDER BY YEAR(updated),MONTH(updated) DESC LIMIT ".$limit.") UNION (SELECT YEAR(updated), MONTH(updated),DATE(`updated`) AS update_date, mws_us.rid,mws_us.asin, mws_sku.Sku‡s sku, mws_us.price, mws_us.rank1, mws_us.rank2 FROM mws_us LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE updated IN (SELECT MAX(updated) FROM mws_us WHERE mws_us.asin = ('B002XISS2Y') GROUP BY YEAR(updated), MONTH(updated)) AND mws_us.asin = ('B002XISS2Y') AND mws_us.csv_id = 4 ORDER BY YEAR(updated),MONTH(updated) DESC LIMIT ".$limit.") UNION (SELECT YEAR(updated), MONTH(updated),DATE(`updated`) AS update_date, mws_us.rid,mws_us.asin, mws_sku.Sku‡s sku, mws_us.price, mws_us.rank1, mws_us.rank2 FROM mws_us LEFT JOIN mws_sku ON mws_us.sku=mws_sku.ID WHERE updated IN (SELECT MAX(updated) FROM mws_us WHERE mws_us.asin = ('B009AEJWZG') GROUP BY YEAR(updated), MONTH(updated)) AND mws_us.asin = ('B009AEJWZG') AND mws_us.csv_id = 4 ORDER BY YEAR(updated),MONTH(updated) DESC LIMIT ".$limit.")");

58 
fÜ—ch
(
$»suÉ
 
as
 
$»s
){

59 
	g$Ãw_d©e
 = 
d©e
('d-m-Y H:00:00', 
¡¹Ùime
(
$»s
['update_date']));

60 
	g$d©e
 = 
¡¹Ùime
(
$Ãw_d©e
)*1000;

61 if(
is£t
(
$»s_¬¿y
[
$»s
['asin']])){

62 
¬¿y_unshiá
(
$»s_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($res['price'])));

63 
¬¿y_unshiá
(
$´iû_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($res['price'])));

65 
	g$»s_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($»s['´iû']))), 'ty³' => 'lše', 'cŞÜ' => 
$cŞÜ
[
$i
]);

66 
	g$´iû_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($»s['´iû']))), 'yAxis' => 1, 'ty³' => 'cŞumn', 'showInLeg’d' => 
FALSE
, 'cŞÜ' => 
$cŞÜ
[
$i
]);

67 
	g$i
++;

70 
	g$»s_¬¿y
 = 
¬¿y_v®ues
(
$»s_¬¿y
);

71 
	g$´iû_¬¿y
 = 
¬¿y_v®ues
(
$´iû_¬¿y
);

72 
	g$»s_¬¿y
 = 
¬¿y_m”ge
(
$»s_¬¿y
, 
$´iû_¬¿y
);

73 
echo
 
jsÚ_’code
(
$»s_¬¿y
);

	@MWSProducts/displaydatatable.php

1 <?
php
 
	g»quœe_Úû
 'db.php'; ?>

2 <
	ghtml
>

3 <
	gh—d
>

4 <
	gt™Ë
>
MWS
 
Di¥Ïy
 
Produù
 
	gTabË
</title>

5 <
süt
 
	g¤c
="../MWSProducts/src/js/jquery-3.3.1.min.js"></script>

6 <
süt
 
¤c
="../MWSProducts/src/js/tablefilter_min.js"></script>

7 <
¡yË
 
ty³
="text/css">

8 
bË
, 
	gtd
, 
	gth
 {

9 
	gbÜd”
: 1
px
 
sŞid
 
bÏck
;

12 
	gbË
 {

13 
	gbÜd”
-
	gcŞÏp£
: 
cŞÏp£
;

14 
	gwidth
: 100%;

17 
	gth
,
	gtd
 {

18 
	g‹xt
-
	g®ign
: 
ûÁ”
;

20 .
box
 
	gul
, .
bu‰Ú
 ul {

21 
	gli¡
-
	g¡yË
-
	gty³
: 
nÚe
;

22 
	gm¬gš
: 0;

23 
	g·ddšg
: 0;

25 .
box
 
ul
 
	gli
, .
bu‰Ú
 ul†i{

26 :
Ëá
;

27 
	gm¬gš
-
	gright
: 40
px
;

28 
	gm¬gš
-
	gbÙtom
: 10
px
;

30 .
bu‰Ú
 
ul
 
	gli
:
Ï¡
-
chd
, .
box
 ul†i:last-child {

31 : 
right
;

32 
	gm¬gš
-
	gright
: 0
px
;

34 .
bu‰Ú
 
li
 
	ga
,
	gbu‰Ú
 {

35 
	gbackground
-
	gcŞÜ
: #353130;

36 
	gcŞÜ
: 
wh™e
;

37 
	gbÜd”
:0
px
;

38 
	g·ddšg
: 10
px
 10px;

39 
	g‹xt
-
	g®ign
: 
ûÁ”
;

40 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

41 
	gdi¥Ïy
: 
šlše
-
block
;

43 
li
 
	ga
:
hov”
 {

44 
background
-
cŞÜ
: #111;

46 
	gbu‰Ú
{

47 
	g·ddšg
: 12
px
 10px;

48 
	gcursÜ
: 
poš‹r
;

50 .
box
 
	g‹x»a
{

51 
	g»size
 : 
nÚe
;

53 .
	gbu‰Ú
{

54 
	gş—r
: 
bÙh
;

56 </
	g¡yË
>

57 </
	gh—d
>

58 <
	gbody
>

59 <?
php


60 
	g$mysqli
 = 
mws_mysqlCÚÃù
();

62 if(
is£t
(
$_POST
['sk']è&& !
em±y
(($_POST['task']))){

63 
	g$£Ëù_sql
 = 
$_POST
['task'];

64 }if(
is£t
(
$_POST
['submit'])){

65 
	g$£Ëù_sql
 = 
$_POST
['select_query'];

66 if(
	g$_POST
['submit'] == 'save'){

67 
$mws_š£¹_£Ëù_sql
 = "£Ëù * from s–eù_bË wh”§ved_qu”y='".
$mysqli
->
esÿ³_¡ršg
(
$£Ëù_sql
)."'";

68 
	g$mws_š£¹_»suÉ
 = 
$mysqli
->
qu”y
(
$mws_š£¹_£Ëù_sql
);

69 
	g$couÁ
 = 
mysqli_num_rows
(
$mws_š£¹_»suÉ
);

70 if(
	g$couÁ
 == 0)

73 
$š£¹_sql
 = 'INSERT INTO s–eù_bË (§ved_qu”yèVALUES ("'.
$£Ëù_sql
.'")';

74 
	g$mysqli
->
qu”y
(
$š£¹_sql
);

76 
	gecho
 "The Query is‡lready…resent inheable" ;

80 
	g$£Ëù_sql
 = 'SELECT * FROM mws';

89 
	g$»suÉ
 = 
$mysqli
->
qu”y
(
$£Ëù_sql
);

92 <
div
 
	gşass
="dropdown">

93 <
fÜm
 
aùiÚ
="" 
m‘hod
="POST">

94 <
£Ëù
 
Çme
="sk" 
id
="my£Ëù" 
Úchªge
="this.form.submit()" >

95 <?
php


97 
$mws_qu”y_£Ëù_sql
 = "select * from select_table";

98 
	g$mws_qu”y_»suÉ
 = 
$mysqli
->
qu”y
(
$mws_qu”y_£Ëù_sql
);

99 
	g$qu”y_row
 = 
	$mysqli_ãtch_row
(
$mws_qu”y_»suÉ
)) {

101 <
İtiÚ
 
v®ue
="<?ph°echØ$qu”y_row[1]; ?>" <?
php
 
	`echo
 (
	`¡r_»¶aû
(
	`¬¿y
("'",'"'), '', 
$qu”y_row
[1]è=ğ¡r_»¶aû×¼ay("'",'"'), '', 
$_POST
['sk']))? "£Ëùed = '£Ëùed'":''; ?>><?ph°
echo
 $query_row[1]; ?></option>

102 <?
php


103 
	}
}

105 </
	g£Ëù
>

106 </
	gfÜm
>

107 </
	gdiv
>

108 <
fÜm
 
	gaùiÚ
="" 
m‘hod
="post">

109 <
div
 
şass
 ="box">

110 <
ul
>

111 <
li
 
şass
 ="box1"><
‹x»a
 
Çme
="£Ëù_qu”y" 
rows
="15" 
cŞs
="100"><?
php
 if(
is£t
(
$_POST
['£Ëù_qu”y'])){ 
echo
 $_POST['£Ëù_qu”y']; } { 
	gecho
 '£Ëù * FROM mws'; }?></
	g‹x»a
></
	gli
>

112 <
li
 
	gşass
="box2">

113 <?
php


114 
$mws_£Ëù_sql
 = "select Column_name from Information_schema.columns where Table_name†ike 'mws'";

115 
	g$mws_»suÉ
 = 
$mysqli
->
qu”y
(
$mws_£Ëù_sql
);

116 
	g$row
 = 
	$mysqli_ãtch_row
(
$mws_»suÉ
)) {

117 ià(((
$key
 = 
	`¬¿y_£¬ch
('upd©ed_Ú', 
$row
)è!=ğ
çl£
) || ($key =‡rray_search('category_id', $row)) !== false || ($key =‡rray_search('currency', $row)) !== false || ($key =‡rray_search('csv_id', $row)) !== false || ($key =‡rray_search('csv_group_product', $row)) !== false) {

118 
	`un£t
(
$row
[
$key
]);

120 
$h—d”s
[] = 
$row
[0];

121 
	}
}

123 <
‹x»a
 
	gÇme
="cŞums" 
rows
="15" 
cŞs
="80"><?
php
 
	$fÜ—ch
(
$h—d”s
 
as
 
$h—d”
){ if(!
	`em±y
($h—d”)){
echo
 $h—d” . 
PHP_EOL
; }
	}
} ?></
	g‹x»a
></
	gli
>

124 </
	gul
>

125 </
	gdiv
>

126 <
div
 
	gşass
 ="button">

127 <
ul
>

128 <
li
 
şass
 ="bu‰Ú1"><
bu‰Ú
 
ty³
="subm™" 
Çme
="subm™" cÏss="bŠ-lšk">
Subm™
</button></li>

129 <
li
 
şass
="bu‰Ú2"><
bu‰Ú
 
ty³
="subm™" 
Çme
="subm™" 
v®ue
="§ve" cÏss="bŠ-lšk">
Save
</button></li>

130 <
li
 
şass
="dowÆßd"><
a
 
h»f
='dowÆßdcsv.php'>
Click
 
to
 
DowÆßd
 
csv
 
fe
</a></li>

131 </
ul
>

132 </
div
>

133 </
fÜm
>

134 <
bË
 
id
="bË1" 
ûÎ¥acšg
="0" 
şass
="mytable filterable" >

136 <
Œ
 
şass
="success">

137 <
th
>
id
</th>

138 <
th
>
Asš
 (
´oduù_sku
)</th>

139 <
th
>
t›r
</th>

140 <
th
>
owÃr
</th>

141 <
th
>
¿nk
</th>

142 <
th
>
´iû
</th>

143 <
th
>
D©e
 (
ü—‹d_Ú
)</th>

144 </
Œ
>

145 <?
php


146 ià(
mysqli_num_rows
(
$»suÉ
) > 0) {

147 
$»s
 =
mysqli_ãtch_assoc
(
$»suÉ
)){

149 <
Œ
>

150 <
td
><?
php
 
echo
 
$»s
['id'];?></
	gtd
>

151 <
	gtd
><?
php
 
echo
 
	g$»s
['product_sku'];?></td>

152 <
	gtd
><?
php
 
echo
 
	g$»s
['tier'];?></td>

153 <
	gtd
><?
php
 
echo
 
	g$»s
['owner'];?></td>

154 <?
php


155 
	g$ÿ‹gÜy_£Ëù
 = "£Ëù * from c©egÜy wh”mws_id='".
$»s
['id']."'";

156 
	g$ÿ‹gÜy_¿nk_£Ëù
 = 
$mysqli
->
qu”y
(
$ÿ‹gÜy_£Ëù
);

157 
	g$¿nk_¬r
 = [];

158 
fÜ—ch
(
$ÿ‹gÜy_¿nk_£Ëù
 
as
 
$¿nk
){

159 
	g$¿nk_¬r
[] = 
$¿nk
['rank'];

161 
	g$¿nk_v®ues
 = 
im¶ode
(" , ", 
$¿nk_¬r
);

163 <
	gtd
><?
php
 
echo
 
	g$¿nk_v®ues
;?></td>

164 <
	gtd
><?
php
 
echo
 
	g$»s
['price'] ." ". $res['currency'];?></td>

165 <?
php


166 
	g$d©e
 = 
sub¡r
(
$»s
['created_on'], 2, 14);

168 <
	gtd
><?
php
 
echo
 
	g$d©e
;?></td>

169 </
	gŒ
>

170 <?
	gphp
 }

172 </
	gbË
>

173 <?
	gphp


175 
	gecho
 "No„esults found... or Checkhe Query‡nd submit‡gain";

178 </
	gbody
>

179 <
süt
 
	gÏnguage
="javasüt" 
ty³
="text/javascript">

180 
v¬
 
tf
 = 
£tF‹rGrid
(".table1");

181 </
	gsüt
>

182 </
	ghtml
>

	@MWSProducts/downloadcsv.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
	g$mysqli
 = 
mws_mysqlCÚÃù
();

5 
	g$f’ame
 = "mws_csv.csv";

6 
	g$å
 = 
fİ’
('php://output', 'w');

7 
	g$h—d”
 = 
¬¿y
('Id','Product Sku','Category Id','Rank','Price','Currency','Tier','Owner','Csv Id','Csv Group Product','Updated On','Created On');

8 
h—d”
('Content-type:‡pplication/csv');

9 
h—d”
('CÚ‹Á-Di¥os™iÚ:‡‰achm’t; f’ame='.
$f’ame
);

10 
åutcsv
(
$å
, 
$h—d”
);

11 
	g$£Ëù_sql
 = "SELECT * FROM mws";

12 
	g$»suÉ
 = 
$mysqli
->
qu”y
(
$£Ëù_sql
);

13 
	g$row
 = 
	$mysqli_ãtch_row
(
$»suÉ
)) {

14 
	`åutcsv
(
$å
, 
$row
);

15 
	}
}

16 
	gex™
;

	@MWSProducts/dummy_mws_xml.php

1 <?
php


26 
»quœe_Úû
('mws_config.php');

46 
	g$cÚfig
 = 
¬¿y
 (

47 'S”viûURL' => 
$£rviûU¾
,

48 'ProxyHo¡' => 
nuÎ
,

50 'ProxyU£ºame' => 
nuÎ
,

51 'ProxyPasswÜd' => 
nuÎ
,

55 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

56 
AWS_ACCESS_KEY_ID
,

57 
AWS_SECRET_ACCESS_KEY
,

58 
APPLICATION_NAME
,

59 
APPLICATION_VERSION
,

60 
$cÚfig
);

72 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mock
();

79 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

80 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

82 
švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
);

93 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

95 
Œy
 {

96 
	`h—d”
("Content-type:ext/xml");

97 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

98 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

99 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

100 
echo
 
$dom
->
	`§veXML
(); 
d›
;

101 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

102 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

103 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

104 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

105 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

106 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

107 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

108 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

110 
	}
}

	@MWSProducts/fetch_data.good.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
»quœe_Úû
('mws_config.php');

11 
	g$u¾_¬¿y
 = 
¬¿y
(array("region" => "us","url" => "https://mws.amazonservices.com/Products/2011-10-01","id" => "ATVPDKIKX0DER"),array("region" => "ca","url" => "https://mws.amazonservices.ca/Products/2011-10-01","id" => "A2EUQ1WTGCTBG2"),‡rray("region" => "uk","url" => "https://mws-eu.amazonservices.com/Products/2011-10-01","id" => "A1F83G8C2ARO7P"));

12 
	g$¬¿y_Ëngth
 = 
couÁ
(
$u¾_¬¿y
);

13 
	g$i
 = 0; $˜< 
	g$¬¿y_Ëngth
; $i++){

14 
	g$»giÚ
 = 
$u¾_¬¿y
[
$i
]['region'];

15 
	g$£rviûU¾
 = 
$u¾_¬¿y
[
$i
]['url'];

16 
	g$m¬k‘¶aû_id
 = 
$u¾_¬¿y
[
$i
]['id'];

17 
cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
);

19 
funùiÚ
 
	$cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
){

20 
$cÚfig
 = 
	`¬¿y
 (

21 'S”viûURL' => 
$£rviûU¾
,

22 'ProxyHo¡' => 
nuÎ
,

24 'ProxyU£ºame' => 
nuÎ
,

25 'ProxyPasswÜd' => 
nuÎ
,

28 
$£rviû
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

29 
AWS_ACCESS_KEY_ID
,

30 
AWS_SECRET_ACCESS_KEY
,

31 
APPLICATION_NAME
,

32 
APPLICATION_VERSION
,

33 
$cÚfig
);

35 
$csvFe
 = 
	`fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

36 
$d©a
 = [];

37 
$csv_d©a
 = [];

38 
$i
=0;

39 
	`fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

40 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

41 if(
	`is£t
(
$_GET
['tier'])){

42 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

43 
$d©a
[] = 
$csv_check_d©a
;

46 
$d©a
[] = 
$csv_check_d©a
;

48 
$i
 += 1;

52 
	`fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

53 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

61 
$csv_´oduù_Ën
 = 
	`¡¾’
(
$csv_´oduù_asš
);

62 if(
$csv_´oduù_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

63 
$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

64 
$csv_d©a
[] = 
$csv_´oduù_asš
;

66 
$csv_v®ues
 = 
	`im¶ode
("','", 
$csv_¬¿y_d©a
);

68 
$csv_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$csv_d©a
);

69 
$csv_f‹r_¬¿y
 = 
	`¬¿y_unique
($csv_filter_array);

70 
$csv_chunk
 = 
	`¬¿y_chunk
(
$csv_f‹r_¬¿y
,10);

71 
$GLOBALS
['csv_¬¿y'] = 
$d©a
;

72 
$asš_¬¿y
 = [];

73 
	`fÜ—ch
 (
$d©a
 
as
 
$’Œy
) {

74 ià(!
	`em±y
(
$’Œy
[4])){

75 
$csv_d©a
 = 
	`ex¶ode
(',', 
$’Œy
[4]);

76 ià(!
	`em±y
(
$csv_d©a
)){

77 
$asš_d©a
 = 
	`¬¿y_m­
('Œim', 
$csv_d©a
);

78 
	`fÜ—ch
(
$asš_d©a
 
as
 
$asš_fš®_d©a
){

79 
$asš_Ën
 = 
	`¡¾’
(
$asš_fš®_d©a
);

80 if(
$asš_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$asš_fš®_d©a
)){

81 
$asš_¬¿y
[] = 
$asš_fš®_d©a
;

89 
echo
 "<´e>"; 
	`´št_r
(
$asš_¬¿y
);ƒchØ"</´e>"; 
ex™
;

90 
$asš_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$asš_¬¿y
);

91 
$asš_f‹r_¬¿y
 = 
	`¬¿y_unique
($asin_filter_array);

92 
$asš_chunk
 = 
	`¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

93 
$»s
 = 
	`¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

94 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

95 
$»que¡
->
	`£tS–ËrId
(
MERCHANT_ID
);

96 
$»que¡
->
	`£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

97 
$asš_li¡
ğ
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

98 
	`fÜ—ch
(
$»s
 
as
 
$asš
){

99 
$asš_li¡
->
	`£tASIN
(
$asš
);

100 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

101 
	`švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
,
$»giÚ
);

103 
	}
}

105 
h—d”
('Location: index.php');

106 
ex™
();

108 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
){

109 
Œy
 {

111 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

112 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

113 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

116 
$´oduù_d©a
 = 
	`¬¿y
();

117 
$csv_db_d©a
 = 
	`¬¿y
();

118 
$ÿ‹gÜy_d©a
 = 
	`¬¿y
();

119 
$´oduùs
 = 
$dom
->
	`g‘EËm’tsByTagName
("Product");

120 
	`fÜ—ch
 (
$´oduùs
 
as
 
$´oduù
) {

122 
$sku_šfo
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ASIN");

123 
$sku
 = 
$sku_šfo
[0]->
nodeV®ue
;

124 
$´oduù_d©a
['asš'] = 
$sku
;

127 
$ÿ‹gÜy
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ProductCategoryId");

128 
$¿nk
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Rank");

129 
$¿nk_¬¿y
 = 
	`¬¿y
();

130 
$ÿ‹gÜy_¬¿y
 = 
	`¬¿y
();

131 
$i
 = 0; $˜< 
$ÿ‹gÜy
->
Ëngth
; $i++){

132 
$¿nk_¬¿y
['¿nk'.
$i
] = 
$¿nk
[$i]->
nodeV®ue
;

133 
$ÿ‹gÜy_¬¿y
['ÿ‹gÜy'.
$i
] = 
$ÿ‹gÜy
[$i]->
nodeV®ue
;

136 
$Priû
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("AttributeSets");

137 
	`fÜ—ch
 (
$Priû
 
as
 
$key
 => 
$v®ue
) {

139 
$Li¡Priû
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("ListPrice");

141 
	`fÜ—ch
 (
$Li¡Priû
 
as
 
$k
 => 
$v®
) {

143 
$amouÁ
 = 
$v®
->
	`g‘EËm’tsByTagName
("Amount");

144 
$´oduù_d©a
['´iû'] = 
$amouÁ
[0]->
nodeV®ue
;

146 
$cu¼’cyCode
 = 
$v®
->
	`g‘EËm’tsByTagName
("CurrencyCode");

147 
$´oduù_d©a
['cu¼’cy'] = (
$cu¼’cyCode
[0]->
nodeV®ue
 == "USD") ? 1 : 0;

148 
$csv_¬¿y_d©as
 = 
$GLOBALS
['csv_array'];

149 
	`fÜ—ch
(
$csv_¬¿y_d©as
 
as
 
$csv_¬¿y_d©a
){

150 
$sku_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[4],
$´oduù_d©a
['asin']);

151 
$u¾_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[0],
$´oduù_d©a
['asin']);

152 if(
$sku_comp_d©a
 > -1 || 
$u¾_comp_d©a
 > -1 ){

153 
$´oduù_d©a
['t›r'] = 
$csv_¬¿y_d©a
[2];

154 
$´oduù_d©a
['owÃr'] = 
$csv_¬¿y_d©a
[3];

158 
$£Ëù_sql
 = "SELECT * FROM csv WHERE…roduù LIKE '%".
$´oduù_d©a
['asin']."%' ORDER BY id LIMIT 1";

159 
$mysqli
 = 
	`mws_mysqlCÚÃù
();

160 
$»suÉ
 = 
$mysqli
->
	`qu”y
(
$£Ëù_sql
);

161 
$rows
 = 
$»suÉ
->
	`ãtch_assoc
();

162 
$´oduù_d©a
['csv_id'] = 
$rows
['id'];

163 
$´oduù_d©a
['t›r'] = 
$rows
['tier'];

164 
$owÃr
 = 
$rows
['owner'];

165 
$£Ëù_owÃr_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_owÃ¸WHERE Namğ'".
$owÃr
."'");

166 
	`fÜ—ch
(
$£Ëù_owÃr_sql
 
as
 
$£Ëù_owÃr
){

167 
$´oduù_d©a
['owÃr'] = 
$£Ëù_owÃr
['ID'];

169 if(
$rows
['group_asš'] =ğ
$´oduù_d©a
['asin']){

170 
$´oduù_d©a
['type'] = 1;

172 
$´oduù_d©a
['type'] = 2;

175 
$mod–
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("Model");

176 
$sku
 = 
$mod–
[0]->
nodeV®ue
;

178 
$£Ëù_sku_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_sku WHERE Sku = '".
$sku
."'");

179 if(
$£Ëù_sku_sql
->
num_rows
 == 0){

180 
$š£¹_sku_sql
 = "INSERT INTO mws_sku (SkuèVALUES ('".
$sku
."')";

181 
$mysqli
->
	`qu”y
(
$š£¹_sku_sql
);

182 
$sku_id
 = 
$mysqli
->
š£¹_id
;

183 
$´oduù_d©a
['sku'] = 
$sku_id
;

185 
	`fÜ—ch
(
$£Ëù_sku_sql
 
as
 
$£Ëù_sku
){

186 
$´oduù_d©a
['sku'] = 
$£Ëù_sku
['ID'];

190 
$ÿ‹gÜy1
 = 
$ÿ‹gÜy_¬¿y
['category0'];

191 
$£Ëù_ÿ‹gÜy1_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_ÿ‹gÜy1 WHERE C©egÜy = '".
$ÿ‹gÜy1
."'");

192 if(
$£Ëù_ÿ‹gÜy1_sql
->
num_rows
 == 0){

193 
$š£¹_ÿ‹gÜy1_sql
 = "INSERT INTO mws_ÿ‹gÜy1 (C©egÜyèVALUES ('".
$ÿ‹gÜy1
."')";

194 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy1_sql
);

195 
$ÿ‹gÜy1_id
 = 
$mysqli
->
š£¹_id
;

196 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$ÿ‹gÜy1_id
;

198 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy1_sql
 
as
 
$£Ëù_ÿt1
){

199 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$£Ëù_ÿt1
['ID'];

203 
$´oduù_d©a
['¿nk1'] = 
$¿nk_¬¿y
['rank0'];

204 
$ÿ‹gÜy2
 = 
$ÿ‹gÜy_¬¿y
['category1'];

205 
$£Ëù_ÿ‹gÜy2_sql
 = 
$mysqli
->
	`qu”y
("SELECT * FROM mws_ÿ‹gÜy2 WHERE C©egÜy = '".
$ÿ‹gÜy2
."'");

206 if(
$£Ëù_ÿ‹gÜy2_sql
->
num_rows
 == 0){

207 
$š£¹_ÿ‹gÜy2_sql
 = "INSERT INTO mws_ÿ‹gÜy2 (C©egÜyèVALUES ('".
$ÿ‹gÜy2
."')";

208 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy2_sql
);

209 
$ÿ‹gÜy2_id
 = 
$mysqli
->
š£¹_id
;

210 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$ÿ‹gÜy2_id
;

212 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy2_sql
 
as
 
$£Ëù_ÿt2
){

213 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$£Ëù_ÿt2
['ID'];

216 
$´oduù_d©a
['¿nk2'] = 
$¿nk_¬¿y
['rank1'];

217 
$v®ues
 = 
	`im¶ode
("','", 
$´oduù_d©a
);

218 
$š£¹_sql
 = "INSERT INTO mws_".
$»giÚ
." (asš,´iû,cu¼’cy,t›r,owÃr,csv_id,ty³,sku,ÿ‹gÜy1,¿nk1,ÿ‹gÜy2,¿nk2èVALUES ('".
$v®ues
."')";

219 
$mysqli
->
	`qu”y
(
$š£¹_sql
);

223 
$_SESSION
['success'] = 'Data Fetched Successfully.';

224 }
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

225 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

226 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

227 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

228 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

229 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

230 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

231 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

233 
	}
}

	@MWSProducts/fetch_data.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
»quœe_Úû
('mws_config.php');

11 
	g$u¾_¬¿y
 = 
¬¿y
(array("region" => "us","url" => "https://mws.amazonservices.com/Products/2011-10-01","id" => "ATVPDKIKX0DER"),array("region" => "ca","url" => "https://mws.amazonservices.ca/Products/2011-10-01","id" => "A2EUQ1WTGCTBG2"),‡rray("region" => "uk","url" => "https://mws-eu.amazonservices.com/Products/2011-10-01","id" => "A1F83G8C2ARO7P"));

12 
	g$¬¿y_Ëngth
 = 
couÁ
(
$u¾_¬¿y
);

13 
	g$i
 = 0; $˜< 
	g$¬¿y_Ëngth
; $i++){

14 
	g$»giÚ
 = 
$u¾_¬¿y
[
$i
]['region'];

15 
	g$£rviûU¾
 = 
$u¾_¬¿y
[
$i
]['url'];

16 
	g$m¬k‘¶aû_id
 = 
$u¾_¬¿y
[
$i
]['id'];

17 
cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
);

19 
funùiÚ
 
	$cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
){

20 
$cÚfig
 = 
	`¬¿y
 (

21 'S”viûURL' => 
$£rviûU¾
,

22 'ProxyHo¡' => 
nuÎ
,

24 'ProxyU£ºame' => 
nuÎ
,

25 'ProxyPasswÜd' => 
nuÎ
,

28 
$£rviû
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

29 
AWS_ACCESS_KEY_ID
,

30 
AWS_SECRET_ACCESS_KEY
,

31 
APPLICATION_NAME
,

32 
APPLICATION_VERSION
,

33 
$cÚfig
);

35 
$csvFe
 = 
	`fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

46 
$d©a
 = [];

47 
$csv_d©a
 = [];

48 
$i
=0;

49 
	`fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

50 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

51 if(
	`is£t
(
$_GET
['tier'])){

52 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

53 
$d©a
[] = 
$csv_check_d©a
;

56 
$d©a
[] = 
$csv_check_d©a
;

58 
$i
 += 1;

59 
echo
 "<h3>$line</h3>";

64 
	`fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

65 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

66 
$csv_´oduù_Ën
 = 
	`¡¾’
(
$csv_´oduù_asš
);

67 if(
$csv_´oduù_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

68 
$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

69 
$csv_d©a
[] = 
$csv_´oduù_asš
;

71 
$csv_v®ues
 = 
	`im¶ode
("','", 
$csv_¬¿y_d©a
);

73 
$csv_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$csv_d©a
);

74 
$csv_f‹r_¬¿y
 = 
	`¬¿y_unique
($csv_filter_array);

75 
$csv_chunk
 = 
	`¬¿y_chunk
(
$csv_f‹r_¬¿y
,10);

76 
$GLOBALS
['csv_¬¿y'] = 
$d©a
;

77 
$asš_¬¿y
 = [];

78 
	`fÜ—ch
 (
$d©a
 
as
 
$’Œy
) {

79 ià(!
	`em±y
(
$’Œy
[4])){

80 
$csv_d©a
 = 
	`ex¶ode
(',', 
$’Œy
[4]);

81 ià(!
	`em±y
(
$csv_d©a
)){

82 
$asš_d©a
 = 
	`¬¿y_m­
('Œim', 
$csv_d©a
);

83 
	`fÜ—ch
(
$asš_d©a
 
as
 
$asš_fš®_d©a
){

84 
$asš_Ën
 = 
	`¡¾’
(
$asš_fš®_d©a
);

85 if(
$asš_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$asš_fš®_d©a
)){

86 
$asš_¬¿y
[] = 
$asš_fš®_d©a
;

95 
$asš_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$asš_¬¿y
);

96 
$asš_f‹r_¬¿y
 = 
	`¬¿y_unique
($asin_filter_array);

97 
$asš_chunk
 = 
	`¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

98 
$»s
 = 
	`¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

100 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

101 
$»que¡
->
	`£tS–ËrId
(
MERCHANT_ID
);

102 
$»que¡
->
	`£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

103 
$asš_li¡
ğ
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

104 
	`fÜ—ch
(
$»s
 
as
 
$asš
){

105 
$asš_li¡
->
	`£tASIN
(
$asš
);

106 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

107 
	`švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
,
$»giÚ
);

109 
	}
}

111 
h—d”
('Location: index.php');

112 
ex™
();

114 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
){

115 
Œy
 {

117 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

118 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

119 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

122 
$´oduù_d©a
 = 
	`¬¿y
();

123 
$csv_db_d©a
 = 
	`¬¿y
();

124 
$ÿ‹gÜy_d©a
 = 
	`¬¿y
();

125 
$´oduùs
 = 
$dom
->
	`g‘EËm’tsByTagName
("Product");

126 
	`fÜ—ch
 (
$´oduùs
 
as
 
$´oduù
) {

128 
$sku_šfo
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ASIN");

129 
$sku
 = 
$sku_šfo
[0]->
nodeV®ue
;

130 
$´oduù_d©a
['asš'] = 
$sku
;

133 
$ÿ‹gÜy
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ProductCategoryId");

134 
$¿nk
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Rank");

135 
$¿nk_¬¿y
 = 
	`¬¿y
();

136 
$ÿ‹gÜy_¬¿y
 = 
	`¬¿y
();

137 
$i
 = 0; $˜< 
$ÿ‹gÜy
->
Ëngth
; $i++){

138 
$¿nk_¬¿y
['¿nk'.
$i
] = 
$¿nk
[$i]->
nodeV®ue
;

139 
$ÿ‹gÜy_¬¿y
['ÿ‹gÜy'.
$i
] = 
$ÿ‹gÜy
[$i]->
nodeV®ue
;

142 
$Priû
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("AttributeSets");

143 
	`fÜ—ch
 (
$Priû
 
as
 
$key
 => 
$v®ue
) {

145 
$Li¡Priû
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("ListPrice");

147 
	`fÜ—ch
 (
$Li¡Priû
 
as
 
$k
 => 
$v®
) {

149 
$amouÁ
 = 
$v®
->
	`g‘EËm’tsByTagName
("Amount");

150 
$´oduù_d©a
['´iû'] = 
$amouÁ
[0]->
nodeV®ue
;

152 
$cu¼’cyCode
 = 
$v®
->
	`g‘EËm’tsByTagName
("CurrencyCode");

153 
$´oduù_d©a
['cu¼’cy'] = (
$cu¼’cyCode
[0]->
nodeV®ue
 == "USD") ? 1 : 0;

154 
$csv_¬¿y_d©as
 = 
$GLOBALS
['csv_array'];

155 
	`fÜ—ch
(
$csv_¬¿y_d©as
 
as
 
$csv_¬¿y_d©a
){

156 
$sku_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[4],
$´oduù_d©a
['asin']);

157 
$u¾_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[0],
$´oduù_d©a
['asin']);

158 if(
$sku_comp_d©a
 > -1 || 
$u¾_comp_d©a
 > -1 ){

159 
$´oduù_d©a
['t›r'] = 
$csv_¬¿y_d©a
[2];

160 
$´oduù_d©a
['owÃr'] = 
$csv_¬¿y_d©a
[3];

161 
$´oduù_d©a
['csv_id'] = 0;

165 
$£Ëù_sql
 = "SELECT * FROM csv WHERE…roduù LIKE '%".
$´oduù_d©a
['asin']."%' ORDER BY id LIMIT 1";

166 
$mysqli
 = 
	`mws_mysqlCÚÃù
();

167 
$»suÉ
 = 
$mysqli
->
	`qu”y
(
$£Ëù_sql
);

168 
$rows
 = 
$»suÉ
->
	`ãtch_assoc
();

169 ià(
$rows
 !ğ
NULL
) {

170 
$´oduù_d©a
['csv_id'] = 
$rows
['id'];

171 
$´oduù_d©a
['t›r'] = 
$rows
['tier'];

172 
$owÃr
 = 
$rows
['owner'];

174 
$£Ëù_owÃr_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_owÃ¸WHERE Namğ'".
$owÃr
."'");

175 
	`fÜ—ch
(
$£Ëù_owÃr_sql
 
as
 
$£Ëù_owÃr
){

176 
$´oduù_d©a
['owÃr'] = 
$£Ëù_owÃr
['ID'];

178 if(
$rows
['group_asš'] =ğ
$´oduù_d©a
['asin']){

179 
$´oduù_d©a
['type'] = 1;

181 
$´oduù_d©a
['type'] = 2;

184 
$mod–
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("Model");

185 
$sku
 = 
$mod–
[0]->
nodeV®ue
;

187 
$£Ëù_sku_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_sku WHERE Sku = '".
$sku
."'");

188 if(
$£Ëù_sku_sql
->
num_rows
 == 0){

189 
$š£¹_sku_sql
 = "INSERT INTO mws_sku (SkuèVALUES ('".
$sku
."')";

190 
$mysqli
->
	`qu”y
(
$š£¹_sku_sql
);

191 
$sku_id
 = 
$mysqli
->
š£¹_id
;

192 
$´oduù_d©a
['sku'] = 
$sku_id
;

194 
	`fÜ—ch
(
$£Ëù_sku_sql
 
as
 
$£Ëù_sku
){

195 
$´oduù_d©a
['sku'] = 
$£Ëù_sku
['ID'];

199 
$ÿ‹gÜy1
 = 
$ÿ‹gÜy_¬¿y
['category0'];

200 
$£Ëù_ÿ‹gÜy1_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_ÿ‹gÜy1 WHERE C©egÜy = '".
$ÿ‹gÜy1
."'");

201 if(
$£Ëù_ÿ‹gÜy1_sql
->
num_rows
 == 0){

202 
$š£¹_ÿ‹gÜy1_sql
 = "INSERT INTO mws_ÿ‹gÜy1 (C©egÜyèVALUES ('".
$ÿ‹gÜy1
."')";

203 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy1_sql
);

204 
$ÿ‹gÜy1_id
 = 
$mysqli
->
š£¹_id
;

205 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$ÿ‹gÜy1_id
;

207 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy1_sql
 
as
 
$£Ëù_ÿt1
){

208 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$£Ëù_ÿt1
['ID'];

212 
$´oduù_d©a
['¿nk1'] = 
$¿nk_¬¿y
['rank0'];

213 
$ÿ‹gÜy2
 = 
$ÿ‹gÜy_¬¿y
['category1'];

214 
$£Ëù_ÿ‹gÜy2_sql
 = 
$mysqli
->
	`qu”y
("SELECT * FROM mws_ÿ‹gÜy2 WHERE C©egÜy = '".
$ÿ‹gÜy2
."'");

215 if(
$£Ëù_ÿ‹gÜy2_sql
->
num_rows
 == 0){

216 
$š£¹_ÿ‹gÜy2_sql
 = "INSERT INTO mws_ÿ‹gÜy2 (C©egÜyèVALUES ('".
$ÿ‹gÜy2
."')";

217 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy2_sql
);

218 
$ÿ‹gÜy2_id
 = 
$mysqli
->
š£¹_id
;

219 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$ÿ‹gÜy2_id
;

221 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy2_sql
 
as
 
$£Ëù_ÿt2
){

222 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$£Ëù_ÿt2
['ID'];

225 
$´oduù_d©a
['¿nk2'] = 
$¿nk_¬¿y
['rank1'];

226 
$v®ues
 = 
	`im¶ode
("','", 
$´oduù_d©a
);

227 
$š£¹_sql
 = "INSERT INTO mws_".
$»giÚ
." (asš,´iû,cu¼’cy,t›r,owÃr,csv_id,ty³,sku,ÿ‹gÜy1,¿nk1,ÿ‹gÜy2,¿nk2èVALUES ('".
$v®ues
."')";

228 
$mysqli
->
	`qu”y
(
$š£¹_sql
);

232 
$_SESSION
['success'] = 'Data Fetched Successfully.';

233 }
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

234 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

235 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

236 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

237 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

238 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

239 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

240 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

242 
	}
}

	@MWSProducts/fetch_data_test.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
»quœe_Úû
('mws_config.php');

11 
	g$u¾_¬¿y
 = 
¬¿y
(array("region" => "us","url" => "https://mws.amazonservices.com/Products/2011-10-01","id" => "ATVPDKIKX0DER"),array("region" => "ca","url" => "https://mws.amazonservices.ca/Products/2011-10-01","id" => "A2EUQ1WTGCTBG2"),‡rray("region" => "uk","url" => "https://mws-eu.amazonservices.com/Products/2011-10-01","id" => "A1F83G8C2ARO7P"));

12 
	g$¬¿y_Ëngth
 = 
couÁ
(
$u¾_¬¿y
);

13 
	g$i
 = 0; $i < 1; $i++){

14 
	g$»giÚ
 = 
$u¾_¬¿y
[
$i
]['region'];

15 
	g$£rviûU¾
 = 
$u¾_¬¿y
[
$i
]['url'];

16 
	g$m¬k‘¶aû_id
 = 
$u¾_¬¿y
[
$i
]['id'];

17 
cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
);

19 
funùiÚ
 
	$cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
){

20 
$cÚfig
 = 
	`¬¿y
 (

21 'S”viûURL' => 
$£rviûU¾
,

22 'ProxyHo¡' => 
nuÎ
,

24 'ProxyU£ºame' => 
nuÎ
,

25 'ProxyPasswÜd' => 
nuÎ
,

28 
$£rviû
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

29 
AWS_ACCESS_KEY_ID
,

30 
AWS_SECRET_ACCESS_KEY
,

31 
APPLICATION_NAME
,

32 
APPLICATION_VERSION
,

33 
$cÚfig
);

35 
$csvFe
 = 
	`fe
('test.csv');

46 
$d©a
 = [];

47 
$csv_d©a
 = [];

48 
$i
=0;

49 
	`fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

50 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

51 if(
	`is£t
(
$_GET
['tier'])){

52 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

53 
$d©a
[] = 
$csv_check_d©a
;

56 
$d©a
[] = 
$csv_check_d©a
;

58 
$i
 += 1;

64 
	`fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

65 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

66 
$csv_´oduù_Ën
 = 
	`¡¾’
(
$csv_´oduù_asš
);

67 if(
$csv_´oduù_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

68 
$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

69 
$csv_d©a
[] = 
$csv_´oduù_asš
;

71 
$csv_v®ues
 = 
	`im¶ode
("','", 
$csv_¬¿y_d©a
);

73 
$csv_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$csv_d©a
);

74 
$csv_f‹r_¬¿y
 = 
	`¬¿y_unique
($csv_filter_array);

75 
$csv_chunk
 = 
	`¬¿y_chunk
(
$csv_f‹r_¬¿y
,10);

76 
$GLOBALS
['csv_¬¿y'] = 
$d©a
;

77 
$asš_¬¿y
 = [];

78 
	`fÜ—ch
 (
$d©a
 
as
 
$’Œy
) {

79 ià(!
	`em±y
(
$’Œy
[4])){

80 
$csv_d©a
 = 
	`ex¶ode
(',', 
$’Œy
[4]);

81 ià(!
	`em±y
(
$csv_d©a
)){

82 
$asš_d©a
 = 
	`¬¿y_m­
('Œim', 
$csv_d©a
);

83 
	`fÜ—ch
(
$asš_d©a
 
as
 
$asš_fš®_d©a
){

84 
$asš_Ën
 = 
	`¡¾’
(
$asš_fš®_d©a
);

85 if(
$asš_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$asš_fš®_d©a
)){

86 
$asš_¬¿y
[] = 
$asš_fš®_d©a
;

95 
$asš_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$asš_¬¿y
);

96 
$asš_f‹r_¬¿y
 = 
	`¬¿y_unique
($asin_filter_array);

97 
$asš_chunk
 = 
	`¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

98 
$»s
 = 
	`¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

100 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

101 
$»que¡
->
	`£tS–ËrId
(
MERCHANT_ID
);

102 
$»que¡
->
	`£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

103 
$asš_li¡
ğ
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

104 
	`fÜ—ch
(
$»s
 
as
 
$asš
){

105 
$asš_li¡
->
	`£tASIN
(
$asš
);

106 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

107 
	`švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
,
$»giÚ
);

109 
	}
}

111 
h—d”
('Location: index.php');

112 
ex™
();

114 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
){

115 
Œy
 {

117 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

118 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

119 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

122 
$´oduù_d©a
 = 
	`¬¿y
();

123 
$csv_db_d©a
 = 
	`¬¿y
();

124 
$ÿ‹gÜy_d©a
 = 
	`¬¿y
();

125 
$´oduùs
 = 
$dom
->
	`g‘EËm’tsByTagName
("Product");

126 
	`fÜ—ch
 (
$´oduùs
 
as
 
$´oduù
) {

128 
$sku_šfo
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ASIN");

129 
$sku
 = 
$sku_šfo
[0]->
nodeV®ue
;

130 
$´oduù_d©a
['asš'] = 
$sku
;

133 
$ÿ‹gÜy
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ProductCategoryId");

134 
$¿nk
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Rank");

135 
$¿nk_¬¿y
 = 
	`¬¿y
();

136 
$ÿ‹gÜy_¬¿y
 = 
	`¬¿y
();

137 
$i
 = 0; $˜< 
$ÿ‹gÜy
->
Ëngth
; $i++){

138 
$¿nk_¬¿y
['¿nk'.
$i
] = 
$¿nk
[$i]->
nodeV®ue
;

139 
$ÿ‹gÜy_¬¿y
['ÿ‹gÜy'.
$i
] = 
$ÿ‹gÜy
[$i]->
nodeV®ue
;

142 
$Priû
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("AttributeSets");

143 
	`fÜ—ch
 (
$Priû
 
as
 
$key
 => 
$v®ue
) {

145 
$Li¡Priû
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("ListPrice");

147 
	`fÜ—ch
 (
$Li¡Priû
 
as
 
$k
 => 
$v®
) {

149 
$amouÁ
 = 
$v®
->
	`g‘EËm’tsByTagName
("Amount");

150 
$´oduù_d©a
['´iû'] = 
$amouÁ
[0]->
nodeV®ue
;

152 
$cu¼’cyCode
 = 
$v®
->
	`g‘EËm’tsByTagName
("CurrencyCode");

153 
$´oduù_d©a
['cu¼’cy'] = (
$cu¼’cyCode
[0]->
nodeV®ue
 == "USD") ? 1 : 0;

154 
$csv_¬¿y_d©as
 = 
$GLOBALS
['csv_array'];

155 
	`fÜ—ch
(
$csv_¬¿y_d©as
 
as
 
$csv_¬¿y_d©a
){

156 
$sku_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[4],
$´oduù_d©a
['asin']);

157 
$u¾_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[0],
$´oduù_d©a
['asin']);

158 if(
$sku_comp_d©a
 > -1 || 
$u¾_comp_d©a
 > -1 ){

159 
$´oduù_d©a
['t›r'] = 
$csv_¬¿y_d©a
[2];

160 
$´oduù_d©a
['owÃr'] = 
$csv_¬¿y_d©a
[3];

161 
$´oduù_d©a
['csv_id'] = 0;

165 
	`v¬_dump
(
$´oduù_d©a
);

166 
$£Ëù_sql
 = "SELECT * FROM csv WHERE…roduù LIKE '%".
$´oduù_d©a
['asin']."%' ORDER BY id LIMIT 1";

167 
$mysqli
 = 
	`mws_mysqlCÚÃù
();

168 
$»suÉ
 = 
$mysqli
->
	`qu”y
(
$£Ëù_sql
);

169 
$rows
 = 
$»suÉ
->
	`ãtch_assoc
();

170 ià(
$rows
 !ğ
NULL
) {

171 
$´oduù_d©a
['csv_id'] = 
$rows
['id'];

172 
$´oduù_d©a
['t›r'] = 
$rows
['tier'];

173 
$owÃr
 = 
$rows
['owner'];

175 
	`v¬_dump
(
$´oduù_d©a
);

176 
$£Ëù_owÃr_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_owÃ¸WHERE Namğ'".
$owÃr
."'");

177 
	`fÜ—ch
(
$£Ëù_owÃr_sql
 
as
 
$£Ëù_owÃr
){

178 
$´oduù_d©a
['owÃr'] = 
$£Ëù_owÃr
['ID'];

180 if(
$rows
['group_asš'] =ğ
$´oduù_d©a
['asin']){

181 
$´oduù_d©a
['type'] = 1;

183 
$´oduù_d©a
['type'] = 2;

186 
$mod–
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("Model");

187 
$sku
 = 
$mod–
[0]->
nodeV®ue
;

189 
$£Ëù_sku_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_sku WHERE Sku = '".
$sku
."'");

190 if(
$£Ëù_sku_sql
->
num_rows
 == 0){

191 
$š£¹_sku_sql
 = "INSERT INTO mws_sku (SkuèVALUES ('".
$sku
."')";

192 
$mysqli
->
	`qu”y
(
$š£¹_sku_sql
);

193 
$sku_id
 = 
$mysqli
->
š£¹_id
;

194 
$´oduù_d©a
['sku'] = 
$sku_id
;

196 
	`fÜ—ch
(
$£Ëù_sku_sql
 
as
 
$£Ëù_sku
){

197 
$´oduù_d©a
['sku'] = 
$£Ëù_sku
['ID'];

201 
$ÿ‹gÜy1
 = 
$ÿ‹gÜy_¬¿y
['category0'];

202 
$£Ëù_ÿ‹gÜy1_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_ÿ‹gÜy1 WHERE C©egÜy = '".
$ÿ‹gÜy1
."'");

203 if(
$£Ëù_ÿ‹gÜy1_sql
->
num_rows
 == 0){

204 
$š£¹_ÿ‹gÜy1_sql
 = "INSERT INTO mws_ÿ‹gÜy1 (C©egÜyèVALUES ('".
$ÿ‹gÜy1
."')";

205 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy1_sql
);

206 
$ÿ‹gÜy1_id
 = 
$mysqli
->
š£¹_id
;

207 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$ÿ‹gÜy1_id
;

209 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy1_sql
 
as
 
$£Ëù_ÿt1
){

210 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$£Ëù_ÿt1
['ID'];

214 
$´oduù_d©a
['¿nk1'] = 
$¿nk_¬¿y
['rank0'];

215 
$ÿ‹gÜy2
 = 
$ÿ‹gÜy_¬¿y
['category1'];

216 
$£Ëù_ÿ‹gÜy2_sql
 = 
$mysqli
->
	`qu”y
("SELECT * FROM mws_ÿ‹gÜy2 WHERE C©egÜy = '".
$ÿ‹gÜy2
."'");

217 if(
$£Ëù_ÿ‹gÜy2_sql
->
num_rows
 == 0){

218 
$š£¹_ÿ‹gÜy2_sql
 = "INSERT INTO mws_ÿ‹gÜy2 (C©egÜyèVALUES ('".
$ÿ‹gÜy2
."')";

219 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy2_sql
);

220 
$ÿ‹gÜy2_id
 = 
$mysqli
->
š£¹_id
;

221 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$ÿ‹gÜy2_id
;

223 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy2_sql
 
as
 
$£Ëù_ÿt2
){

224 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$£Ëù_ÿt2
['ID'];

227 
$´oduù_d©a
['¿nk2'] = 
$¿nk_¬¿y
['rank1'];

228 
$v®ues
 = 
	`im¶ode
("','", 
$´oduù_d©a
);

230 
$š£¹_sql
 = "INSERT INTO mws_‹¡_".
$»giÚ
." (asš,´iû,cu¼’cy,t›r,owÃr,csv_id,ty³,sku,ÿ‹gÜy1,¿nk1,ÿ‹gÜy2,¿nk2èVALUES ('".
$v®ues
."')";

231 
echo
 
$š£¹_sql
;

232 
$mysqli
->
	`qu”y
(
$š£¹_sql
);

236 
$_SESSION
['success'] = 'Data Fetched Successfully.';

237 }
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

238 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

239 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

240 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

241 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

242 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

243 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

244 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

246 
	}
}

	@MWSProducts/index.php

1 <?
php
 
	g»quœe_Úû
 'db.php';?>

2 <!
DOCTYPE
 
	ghtml
>

3 <
	ghtml
>

4 <
	gh—d
>

5 <
	gt™Ë
>
MWS
 
Proudù
 
	gRªkšg
</title>

6 <
¡yË
 
	gty³
="text/css">

7 .
sucûss
{

8 
fÚt
-
size
: 22
px
;

9 
	gcŞÜ
: #00a900;

11 </
	g¡yË
>

12 </
	gh—d
>

13 <
	gbody
>

14 <?
php
 if(
is£t
(
$_SESSION
['success'])):?>

15 <
div
 
şass
="sucûss"><?
php
 
echo
 
$_SESSION
['sucûss'];?></
	gdiv
>

16 <?
php
 
	g’dif
;?>

17 <
a
 
	gh»f
="ãtch_d©a.php">
F‘ch
 
D©a
</a>&
nb¥
;&
	gnb¥
;<¨h»f="dummy_mws_xml.php">
Dummy
 
XML
 
äom
 
MWS
</a>

18 </
body
>

19 </
html
>

20 <?
php
 
£ssiÚ_de¡roy
();?>

	@MWSProducts/lazyloadhighchart.php

1 <?
php


2 
	g»quœe_Úû
 'db.php';

3 
	g$mysqli
 = 
mws_mysqlCÚÃù
();

5 ià(
	$mysqli_cÚÃù_”ºo
()) {

6 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

7 
	`ex™
();

8 
	}
}

9 
	g$»suÉ
 = 
$mysqli
->
qu”y
('SELECT DISTINCT…roduct_sku FROM mws WHERE csv_group_product = "group"');

11 <
	ghtml
>

12 <
	gh—d
>

13 <
lšk
 
	gh»f
="h‰p://www.jqu”ysüt.Ãt/css/jqu”ysù‰İ.css" 
»l
="¡yËsh“t" 
ty³
="text/css">

14 <
lšk
 
h»f
="h‰p://73.106.162.5:3080/codŸd/wÜk¥aû/mws/MWSProduùs/¤c/css/fe-ex¶Üe.css" 
»l
="¡yËsh“t" 
ty³
="text/css">

15 <
lšk
 
»l
="¡yËsh“t" 
h»f
="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

16 <
süt
 
¤c
="https://code.jquery.com/jquery-3.1.1.min.js"></script>

17 <
süt
 
¤c
="https://code.highcharts.com/stock/highstock.js"></script>

18 <
süt
 
¤c
="http://code.highcharts.com/stock/modules/exporting.js"></script>

19 <
¡yË
 
ty³
="text/css">

20 
body
{

21 
m¬gš
: 0
px
;

22 
	g·ddšg
: 0
px
;

25 
	gwidth
: 17%;

26 
	gheight
: 100%;

27 
	gov”æow
:‡uto;

28 
	gbÜd”
: 2
px
 
sŞid
 #808080;

29 
	gdi¥Ïy
: 
šlše
-
block
;

31 .
	ggoogË
-
	gvisu®iz©iÚ
-
	gbË
-
	gtd
 {

32 
	gbÜd”
-
	gwidth
: 0;

33 
	gbÜd”
-
	gbÙtom
-
	gwidth
: 1
px
;

34 
	gv”tiÿl
-
	g®ign
: 
tİ
;

35 
	gfÚt
-
	gsize
: .75e
m
;

38 : 
right
;

39 
	gm¬gš
-
	gright
: 230
px
;

40 
	gwidth
: 1000
px
; 
	gheight
: 300px;

41 
	gbÜd”
: 1
px
 
sŞid
 #808080;

43 .
	ggoogË
-
	gvisu®iz©iÚ
-
	gbË
-
td
 
	g¥ª
.
	gt™Ë
, s·n.
	g¿nk
-t™Ë, s·n.
	g´iû
-title {

44 
	gfÚt
-
	gweight
: 
bŞd
;

46 .
	ggoogË
-
	gvisu®iz©iÚ
-
	gbË
-
td
 
	g¥ª
.
	gd©e
 {

47 
	gcŞÜ
: #666;

48 
	gfÚt
-
	gsize
: .75e
m
;

49 
	gwh™e
-
	g¥aû
: 
now¿p
;

51 .
	ggoogË
-
	gvisu®iz©iÚ
-
	gbË
-
bË
 
	gth—d
{

52 
	gdi¥Ïy
: 
nÚe
;

54 .
	gcÚ‹Á
 {

55 
	g·ddšg
: 0 18
px
;

56 
	gdi¥Ïy
: 
nÚe
;

57 
	gov”æow
: 
hidd’
;

58 
	gbackground
-
	gcŞÜ
: #f1f1f1;

60 .
	ghighch¬ts
-
	güed™s
{

61 
	gdi¥Ïy
: 
nÚe
;

63 </
	g¡yË
>

64 </
	gh—d
>

65 <
	gbody
>

66 <
div
 
	gid
="chart_wrapper_annotation_box">

67 <
div
 
id
="chart_annotation_box">

68 <
div
 
şass
="chart_box">

69 <
div
 
şass
="container">

70 <
ul
 
şass
="file-tree">

71 <?
php


72 
$couÁ
 = 0;

73 
	$fÜ—ch
(
$»suÉ
 
as
 
$»s
){

74 
$£Ëù_csv_qu”y
 = 
$mysqli
->
	`qu”y
("SELECT mod– from csv wh”id iÀ(£Ëù csv_id from mw wh”`´oduù_sku`='".
$»s
['product_sku']."')");

75 
	`fÜ—ch
(
$£Ëù_csv_qu”y
 
as
 
$csv_mod–
){

77 <
li
 
id
="cŞÏp£-icÚ" 
şass
="<?ph°echØ($couÁ =ğ0è?'fœ¡':''; ?>"><
a
 
h»f
="#"><?
php
 
echo
 
$csv_mod–
['model']; ?></a>

78 <
ul
>

79 <
li
 
şass
='com³t'><
a
 
h»f
="h‰ps://www.amazÚ.com/dp/<?ph°echØ$»s['´oduù_sku']; ?>" 
rg‘
="_bÏnk"><?
php
 
echo
 
$»s
['product_sku'];?></a></li>

80 <?
php


81 
$comp_»suÉ
 = 
$mysqli
->
	`qu”y
("SELECT DISTINCT…roduù_sku from mw wh”csv_group_´oduù='com³t™iÜ' AND csv_id iÀ(£Ëù id from csv wh”`group_asš`='".
$»s
['product_sku']."')");

82 
	`fÜ—ch
(
$comp_»suÉ
 
as
 
$comp_»s
){

84 <
li
 
şass
='comp'><
a
 
h»f
="h‰ps://www.amazÚ.com/dp/<?ph°echØ$comp_»s['´oduù_sku']; ?>" 
rg‘
="_bÏnk"><?
php
 
echo
 
$comp_»s
['product_sku']; ?></a></li>

85 <?
php


89 </
ul
>

90 </
li
>

91 <?
php
 
	}
} ?>

92 </
	gul
>

93 </
	gdiv
>

94 </
	gdiv
>

95 </
	gdiv
>

96 <
div
 
	gid
="cÚš”" 
şass
="chart"></div>

97 </
div
>

98 </
div
>

99 </
body
>

100 <
süt
 
ty³
="text/javascript">

101 
$
(
docum’t
).
»ady
(
	$funùiÚ
(){

102 
v¬
 
lßdD©a
 = 
	`$
('li.com³t').
	`fœ¡
('a').
	`‹xt
();

103 
$
.
	`ajax
({

104 
ty³
: 'post',

105 
u¾
: 'lazyloadhighchartajax.php',

106 
d©a
: {"group_asš": 
lßdD©a
},

107 
d©aTy³
: "json",

108 
sucûss
: 
	`funùiÚ
 (
d©a
) {

109 
	`addD©a
(
d©a
);

111 
”rÜ
: 
	`funùiÚ
 (
d©a
) {

112 
cÚsŞe
.
	`log
('Anƒrror occurred.');

115 
	}
});

116 
$
(
docum’t
).
»ady
(
	$funùiÚ
(){

117 
	`$
('ul.fe-Œ“†˜a').
	`şick
(
	`funùiÚ
(
e
)

119 
v¬
 
´oduùName
 =
	`$
(
this
).
	`Ãxt
('ul').
	`fšd
('li').
	`fœ¡
().
	`‹xt
();

120 
$
.
ajax


122 
u¾
: 'lazyloadhighchartajax.php',

123 
d©a
: {"group_asš": 
´oduùName
},

124 
ty³
: 'post',

125 
d©aTy³
: "json",

126 
sucûss
: 
	`funùiÚ
 (
d©a
) {

128 
	`addD©a
(
d©a
);

130 
”rÜ
: 
	`funùiÚ
 (
d©a
) {

131 
cÚsŞe
.
	`log
('Anƒrror occurred.');

136 
	}
});

137 </
	gsüt
>

138 <
	gsüt
>

139 
funùiÚ
 
	$addD©a
(
jsÚ_d©a
){

140 
v¬
 
axisD©a
 = [];

141 
v¬
 
´iûD©a
 = [];

142 
$
.
	`—ch
(
jsÚ_d©a
, 
	`funùiÚ
(
key
, 
v®ue
) {

143 
v¬
 
d©aPošts
 = [];

144 
v¬
 
´iûPošts
 = [];

145 
v¬
 
i
 = 0; i < 
jsÚ_d©a
[
key
].
Ëngth
; i++) {

146 
d©aPošts
.
	`push
([

147 
jsÚ_d©a
[
key
][
i
].
d©e
,

148 
jsÚ_d©a
[
key
][
i
].
¿nk
,

150 
´iûPošts
.
	`push
([

151 
jsÚ_d©a
[
key
][
i
].
d©e
,

152 
jsÚ_d©a
[
key
][
i
].
´iû
,

156 
axisD©a
.
	`push
({
Ïb–s
: {
®ign
: 'Ëá'},
height
: '80%',
»size
: {
’abËd
: 
Œue
}}, {Ïb–s: {®ign: 'Ëá'},
tİ
: '80%',height: '20%',
off£t
: 0 }, );

157 
´iûD©a
.
	`push
({
ty³
: 'lše',
id
: 
key
+'-lše',
Çme
: key+'-Rªk',
d©a
: 
d©aPošts
},{ty³: 'cŞumn',id: '´iû-ohlc',Çme: key+'-Priû',d©a: 
´iûPošts
,
yAxis
: 1});

159 
Highch¬ts
.
	`¡ockCh¬t
('container', {

160 
ch¬t
: {

161 
height
: 300,

163 
yAxis
: 
axisD©a
,

164 
£r›s
: 
´iûD©a
,

165 
¶ÙO±iÚs
: {

166 
£r›s
: {

167 
m¬k”
: {

168 
’abËd
: 
Œue


174 
	}
}

175 </
	gsüt
>

176 <
süt
 
	g¤c
="http://73.106.162.5:3080/codiad/workspace/mws/MWSProducts/src/js/file-explore.js"></script>

177 <
süt
>

178 
jQu”y
(
docum’t
).
»ady
(
	$funùiÚ
() {

179 
	`jQu”y
(".fe-Œ“").
	`f‘»e
();

180 
	}
});

181 </
	gsüt
>

182 <
süt
 
	gty³
="text/javascript">

184 
v¬
 
_gaq
 = _gaq || [];

185 
	g_gaq
.
push
(['_setAccount', 'UA-36251023-1']);

186 
	g_gaq
.
push
(['_setDomainName', 'jqueryscript.net']);

187 
	g_gaq
.
push
(['_trackPageview']);

189 (
	$funùiÚ
() {

190 
v¬
 
ga
 = 
docum’t
.
	`ü—‹EËm’t
('süt'); ga.
ty³
 = '‹xt/javasüt'; ga.
async
 = 
Œue
;

191 
ga
.
¤c
 = ('h‰ps:' =ğ
docum’t
.
loÿtiÚ
.
´ÙocŞ
 ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

192 
v¬
 
s
 = 
docum’t
.
	`g‘EËm’tsByTagName
('süt')[0]; s.
·»ÁNode
.
	`š£¹BefÜe
(
ga
, s);

193 
	}
})();

195 </
	gsüt
>

196 </
	ghtml
>

	@MWSProducts/lazyloadhighchartajax.php

1 <?
php


2 
	g»quœe_Úû
 'db.php';

3 if(
	$is£t
(
$_POST
)){

4 
$group_asš
 = 
$_POST
['group_asin'];

5 
	}
}

6 
	g$mysqli
 = 
mws_mysqlCÚÃù
();

8 
	g$»suÉ
 = 
$mysqli
->
qu”y
("SELECT * from mw wh”csv_id iÀ(£Ëù id from csv wh”`group_asš`='".
$group_asš
."') AND created_on >= DATE_SUB(NOW(),INTERVAL 24 HOUR)");

11 
	g$‹mp
 = 
¬¿y
();

12 
	g$rows
 = 
¬¿y
();

13 
	$fÜ—ch
(
$»suÉ
 
as
 
$»s
) {

14 
$¿nk_¬r
 = [];

15 
$ÿ‹gÜy_¬r
 = [];

16 
$ÿ‹gÜy_»suÉ
 = 
$mysqli
->
	`qu”y
("SELECT * from c©egÜy wh”mws_id ='".
$»s
['id']."'");

17 
	`fÜ—ch
(
$ÿ‹gÜy_»suÉ
 
as
 
$ÿt_»s
){

18 
$¿nk_¬r
[] = 
$ÿt_»s
['rank'];

19 
$ÿ‹gÜy_¬r
[] = 
$ÿt_»s
['category'];

21 
$¿nk_ouut
 = 
	`¬¿y_¦iû
(
$¿nk_¬r
, 1);

22 
$upd©e_¿nk
 = 
	`im¶ode
(",", 
$¿nk_ouut
);

23 
$ÿ‹gÜy_ouut
 = 
	`¬¿y_¦iû
(
$ÿ‹gÜy_¬r
, 1);

24 
$upd©e_ÿ‹gÜy
 = 
	`im¶ode
(",", 
$ÿ‹gÜy_ouut
);

25 
$‹mp
[
$»s
['´oduù_sku']][] = 
	`¬¿y
('d©e' => (
	`¡¹Ùime
($»s['ü—‹d_Ú']è* 1000), '¿nk' => 
	`štv®
(
$¿nk_¬r
[0]), 'price' => intval($res['price']));

27 
	}
}

28 
fÜ—ch
(
$‹mp
 
as
 
$key
=>
$v®ue
){

29 
$¿nks
 = [];

30 
	g$Ëngth
 = 
couÁ
(
$‹mp
[
$key
]);

31 
	g$i
 = 0; $˜< 
	g$Ëngth
; $i++) {

32 
	g$¿nks
[] = (
$‹mp
[
$key
][
$i
]['rank']);

34 
	g$maximum
 = 
max
(
$¿nks
);

35 
	g$av”age
 = 
¬¿y_sum
(
$¿nks
)/
couÁ
($ranks);

36 if((
	g$av”age
 * 2è< 
	g$maximum
){

37 
un£t
(
$maximum
);

40 
	g$jsÚTabË
 = 
jsÚ_’code
(
$‹mp
);

41 
echo
 
	g$jsÚTabË
;

	@MWSProducts/mws_config.php

1 <?
php


9 
defše
('AWS_ACCESS_KEY_ID', 'AKIAIQ3AR7PLQUFLUD5A');

10 
defše
('AWS_SECRET_ACCESS_KEY', 'ZkOWStjEmO6kMUM1wH+4yR7OzcJe2mLh5ex60AlI');

18 
defše
('APPLICATION_NAME', 'Test');

19 
defše
('APPLICATION_VERSION', '1');

27 
defše
 ('MERCHANT_ID', 'A2AB4EJKHRN74A');

28 
defše
 ('MARKETPLACE_ID', 'ATVPDKIKX0DER');

38 
£t_šşude_·th
(
g‘_šşude_·th
(è. 
PATH_SEPARATOR
 . '');

54 
funùiÚ
 
	$__autŞßd
(
$şassName
){

55 
$feP©h
 = '¤c/'.
	`¡r_»¶aû
('_', 
DIRECTORY_SEPARATOR
, 
$şassName
) . '.php';

56 
$šşudeP©hs
 = 
	`ex¶ode
(
PATH_SEPARATOR
, 
	`g‘_šşude_·th
());

57 
	`fÜ—ch
(
$šşudeP©hs
 
as
 
$šşudeP©h
){

58 if(
	`fe_exi¡s
(
$šşudeP©h
 . 
DIRECTORY_SEPARATOR
 . 
$feP©h
)){

59 
»quœe_Úû
 
$feP©h
;

63 
	}
}

	@MWSProducts/newselect.php

1 <!
DOCTYPE
 
	gHTML
>

2 <
	ghtml
>

3 <
	gh—d
>

4 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=utf-8">

5 <
m‘a
 
Çme
="v›wpÜt" 
cÚ‹Á
="width=device-width, initial-scale=1">

6 <
t™Ë
>
Ch¬t
</title>

7 <
süt
 
¤c
="https://code.jquery.com/jquery-3.1.1.min.js"></script>

8 <
süt
 
¤c
="http://code.highcharts.com/stock/highstock.js"></script>

9 <
süt
 
¤c
="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.js"></script>

10 <!--<
süt
 
¤c
="highcharts.js"></script>-->

11 </
h—d
>

12 <
body
>

13 <
div
 
id
="cÚš”" 
¡yË
="min-width: 310px; height:‡uto; margin: 0‡uto; border:1px solid grey;"></div>

14 <
süt
 
ty³
="text/javascript">

15 
funùiÚ
 
	$aá”S‘ExŒemes
(
e
) {

16 
v¬
 
ch¬t
 = 
	`$
('#cÚš”').
	`highch¬ts
();

17 if(
e
.
¿ngeS–eùÜBu‰Ú
.
_¿nge
 != ''){

18 
ch¬t
.
	`showLßdšg
('Loading data from server...');

19 
v¬
 
¿nge
 = 
e
.
¿ngeS–eùÜBu‰Ú
.
_¿nge
;

20 if(
¿nge
 == 604800000){

21 
v¬
 
£Ëù
 = 1;

22 }if(
¿nge
 == 2592000000){

23 
v¬
 
£Ëù
 = 2;

24 }if(
¿nge
 == 31536000000){

25 
v¬
 
£Ëù
 = 3;

28 
$
.
	`ajax
({

29 
ty³
: 'get',

30 
d©a
: {"d©e_¿nge": 
¿nge
},

31 
u¾
: 'demoselectdata.php',

32 
d©aTy³
: "json",

33 
sucûss
: 
	`funùiÚ
 (
d©a
) {

35 
ch¬t
.
	`hideLßdšg
();

36 
	`ch¬tD¿w
(
d©a
,
£Ëù
);

38 
”rÜ
: 
	`funùiÚ
 (
d©a
) {

39 
cÚsŞe
.
	`log
('Anƒrror occurred.');

43 
	}
}

44 
$
(
docum’t
).
»ady
(
	$funùiÚ
(){

45 
$
.
	`ajax
({

46 
ty³
: 'post',

47 
u¾
: 'demoselectdata.php',

48 
d©aTy³
: "json",

49 
sucûss
: 
	`funùiÚ
 (
d©a
) {

50 
v¬
 
£Ëùed
 = 0;

52 
	`ch¬tD¿w
(
d©a
,
£Ëùed
);

54 
”rÜ
: 
	`funùiÚ
 (
d©a
) {

55 
cÚsŞe
.
	`log
('Anƒrror occurred.');

58 
	}
});

59 
funùiÚ
 
	$ch¬tD¿w
(
d©a
,
£Ëù
){

60 
v¬
 
bŠ_šdex
 = 
£Ëù
;

61 
v¬
 
jsÚA¼ay
 = 
d©a
;

65 
Highch¬ts
.
	`ch¬t
('container', {

66 
t™Ë
: {

67 
‹xt
: 'Product Rank & Price Chart'

69 
¿ngeS–eùÜ
: {

70 
v”tiÿlAlign
: 'top',

71 
bu‰ÚS·cšg
: 10,

72 
bu‰ÚTheme
: {

73 
width
: 50,

75 
bu‰ÚPos™iÚ
: {

76 
x
: 580

78 
®lBu‰ÚsEÇbËd
: 
Œue
,

79 
’abËd
:
Œue
,

80 
šputEÇbËd
:
çl£
,

81 
bu‰Ús
: [{

82 
ty³
: 'day',

83 
couÁ
: 1,

84 
‹xt
: '24 Hour'

86 
ty³
: 'week',

87 
couÁ
: 1,

88 
‹xt
: '1 Week'

90 
ty³
: 'month',

91 
couÁ
: 1,

92 
‹xt
: '1 Month'

94 
ty³
: 'year',

95 
couÁ
: 1,

96 
‹xt
: '1 Year'

98 
£Ëùed
: 
bŠ_šdex
,

101 
toŞt
: {

102 
backgroundCŞÜ
: 
nuÎ
,

103 
bÜd”Width
: 0,

104 
shadow
: 
Œue
,

105 
u£HTML
: 
Œue
,

106 
¡yË
: {

107 
·ddšg
: 0

109 
fÜm©‹r
: 
	`funùiÚ
 () {

110 
v¬
 
pošts
 = 
this
.points;

111 
v¬
 
sh¬edPošts
 = '';

112 
v¬
 
¿nk1
 = '';

113 
v¬
 
¿nk2
 = '';

114 
v¬
 
asš2
 = '';

115 
v¬
 
´iû
 = '';

116 
v¬
 
d©e
 = '';

117 
v¬
 
i
 = 0; i < 
pošts
.
Ëngth
/2; i++) {

119 
¿nk1
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.rank1 +'</td>';

122 
asš2
 +ğ'<td><b>'+ 
this
.
pošts
[
i
].
pošt
.asin2 +'</b></td>';

124 
¿nk2
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.rank2 +'</td>';

127 
´iû
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.price +'</td>';

129 
d©e
 = 
Ãw
 
	`D©e
(
	`·r£IÁ
(
this
.
pošts
[
i
].
pošt
.date));

131 
v¬
 
fÜm©
 = ((
d©e
.
	`g‘D©e
(è< 10è? '0' : ''è+ d©e.g‘D©e(è+ '/' + (((d©e.
	`g‘MÚth
(è+ 1è< 10è? '0' : ''è+ (d©e.g‘MÚth(è+ 1è+ '/' + d©e.
	`g‘FuÎY—r
();

133 
v¬
 
hours
 = 
d©e
.
	`g‘Hours
();

134 
v¬
 
mšu‹s
 = 
d©e
.
	`g‘Mšu‹s
();

135 
v¬
 
ampm
 = 
hours
 >= 12 ? 'pm' : 'am';

136 
hours
 = hours % 12;

137 
hours
 = hours ? hours : 12;

138 
mšu‹s
 = minutes < 10 ? '0'+minutes : minutes;

139 
v¬
 
¡rTime
 = 
hours
 + ':' + 
mšu‹s
 + ' ' + 
ampm
;

140 
v¬
 
fš®D©e
 = 
fÜm©
 + ' ' + 
¡rTime
;

143 
sh¬edPošts
 +ğ'<div styË="‹xt-®ign:ûÁ”;…addšg-bÙtom:5px;cŞÜ:bÏck "><b>D©e: '+ 
fš®D©e
 +'<br></b></div><bË bÜd”="1" c–Íaddšg="3" c–l¥acšg="0" styË="fÚt-size:10px;"><Œ><td>Sku</td> <b>'+ 
asš2
 + '</b></Œ><Œ><td>Rªk 1</td> <b>' + 
¿nk1
 + '</b></Œ><Œ><td>Rªk2</td> <b>'+ 
¿nk2
 +'</b></Œ><Œ><td>Priû</td> <b>'+ 
´iû
 +'</b></tr></table>';

144  
sh¬edPošts
;

146 
pos™iÚ”
: 
	`funùiÚ
 () {

147  { 
x
: 80, 
y
: 80 };

149 
shadow
: 
çl£
,

150 
bÜd”Width
: 0,

151 
bÜd”CŞÜ
: "#d4d4d4",

152 
backgroundCŞÜ
: '#f3f3f3',

153 
fŞlowPoš‹r
: 
çl£
,

154 
sh¬ed
: 
Œue
,

155 
üosshaœs
: {

156 
width
: 1,

157 
cŞÜ
: 'gray',

158 
dashStyË
: 'shortdot'

161 
ch¬t
: {

162 
height
: 300,

163 
zoomTy³
: 'x',

164 
¶ÙBackgroundCŞÜ
: "rgba(10,0,0,0)",

165 
ev’ts
: {

166 
lßd
: 
	`funùiÚ
(){

167 if(
this
.
¶ÙBackground
) {

168 
this
.
¶ÙBackground
.
	`toFrÚt
().
	`css
({

169 
cursÜ
: "crosshair"

175 
xAxis
: {

176 
ty³
: 'datetime',

177 
showEm±y
: 
çl£
,

178 
Ïb–s
: {

179 
fÜm©‹r
: 
	`funùiÚ
 () {

180 
v¬
 
d©e
 = 
Ãw
 
	`D©e
(
	`·r£IÁ
(
this
.
v®ue
));

181 
v¬
 
fÜm©
 = ((
d©e
.
	`g‘D©e
(è< 10è? '0' : ''è+ d©e.g‘D©e(è+ '/' + (((d©e.
	`g‘MÚth
(è+ 1è< 10è? '0' : ''è+ (d©e.g‘MÚth(è+ 1è+ '/' + d©e.
	`g‘FuÎY—r
();

191  
fÜm©
;

194 
ev’ts
 : {

195 
aá”S‘ExŒemes
 :‡fterSetExtremes

199 
yAxis
: [{

200 
t™Ë
: {

201 
‹xt
: 'Rank1'

203 
height
: '70%'

205 
t™Ë
: {

206 
‹xt
: 'Price'

208 
height
: '30%',

209 
tİ
: '70%',

210 
İpos™e
: 
Œue
,

213 
£r›s
: 
jsÚA¼ay
,

214 
Ëg’d
: {

215 
®ign
: 'left',

216 
v”tiÿlAlign
: 'top',

217 
æßtšg
: 
Œue
,

218 
backgroundCŞÜ
: '#FFFFFF',

219 
y
: 25

223 
	}
}

227 </
	gsüt
>

228 </
	gbody
>

229 </
	ghtml
>

	@MWSProducts/src/MarketplaceWebServiceProducts/Client.php

1 <?
php


23 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/Interface.php');

29 şas 
	cM¬k‘¶aûWebS”viûProduùs_Cl›Á
 
im¶em’ts
 
	mM¬k‘¶aûWebS”viûProduùs_IÁ”çû


32 cÚ¡ 
	mSERVICE_VERSION
 = '2011-10-01';

33 cÚ¡ 
	mMWS_CLIENT_VERSION
 = '2017-03-22';

36 
´iv©e
 
	m$_awsAcûssKeyId
 = 
nuÎ
;

39 
´iv©e
 
	m$_awsSeü‘AcûssKey
 = 
nuÎ
;

42 
´iv©e
 
	m$_cÚfig
 = 
¬¿y
 ('S”viûURL' => 
nuÎ
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

51 'H—d”s' => 
¬¿y
()

66 
public
 
funùiÚ
 
	$g‘Com³t™ivePricšgFÜASIN
(
$»que¡
)

68 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINReque¡
)) {

69 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetCompetitivePricingForASINRequest.php');

70 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINReque¡
($request);

72 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

73 
$·¿m‘”s
['Action'] = 'GetCompetitivePricingForASIN';

74 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

76 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetCompetitivePricingForASINResponse.php');

77 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

78 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

79  
$»¥Ú£
;

86 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘Com³t™ivePricšgFÜASIN
(
$»que¡
) {

88 
$·¿m‘”s
 = 
	`¬¿y
();

89 
$·¿m‘”s
['Action'] = 'GetCompetitivePricingForASIN';

90 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

91 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

93 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

94 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

96 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

97 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

99 ià(
$»que¡
->
	`isS‘ASINLi¡
()) {

100 
$ASINLi¡G‘Com³t™ivePricšgFÜASINReque¡
 = 
$»que¡
->
	`g‘ASINLi¡
();

101 
	`fÜ—ch
 (
$ASINLi¡G‘Com³t™ivePricšgFÜASINReque¡
->
	`g‘ASIN
(è
as
 
$ASINASINLi¡Index
 => 
$ASINASINLi¡
) {

102 
$·¿m‘”s
['ASINLi¡' . '.' . 'ASIN' . '.' . (
$ASINASINLi¡Index
 + 1)] = 
$ASINASINLi¡
;

106  
$·¿m‘”s
;

107 
	}
}

121 
public
 
funùiÚ
 
	$g‘Com³t™ivePricšgFÜSKU
(
$»que¡
)

123 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKUReque¡
)) {

124 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetCompetitivePricingForSKURequest.php');

125 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKUReque¡
($request);

127 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

128 
$·¿m‘”s
['Action'] = 'GetCompetitivePricingForSKU';

129 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

131 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetCompetitivePricingForSKUResponse.php');

132 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKURe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

133 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

134  
$»¥Ú£
;

135 
	}
}

141 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘Com³t™ivePricšgFÜSKU
(
$»que¡
) {

143 
$·¿m‘”s
 = 
	`¬¿y
();

144 
$·¿m‘”s
['Action'] = 'GetCompetitivePricingForSKU';

145 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

146 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

148 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

149 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

151 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

152 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

154 ià(
$»que¡
->
	`isS‘S–ËrSKULi¡
()) {

155 
$S–ËrSKULi¡G‘Com³t™ivePricšgFÜSKUReque¡
 = 
$»que¡
->
	`g‘S–ËrSKULi¡
();

156 
	`fÜ—ch
 (
$S–ËrSKULi¡G‘Com³t™ivePricšgFÜSKUReque¡
->
	`g‘S–ËrSKU
(è
as
 
$S–ËrSKUS–ËrSKULi¡Index
 => 
$S–ËrSKUS–ËrSKULi¡
) {

157 
$·¿m‘”s
['S–ËrSKULi¡' . '.' . 'S–ËrSKU' . '.' . (
$S–ËrSKUS–ËrSKULi¡Index
 + 1)] = 
$S–ËrSKUS–ËrSKULi¡
;

161  
$·¿m‘”s
;

162 
	}
}

176 
public
 
funùiÚ
 
	$g‘Lowe¡OfãrLi¡šgsFÜASIN
(
$»que¡
)

178 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINReque¡
)) {

179 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestOfferListingsForASINRequest.php');

180 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINReque¡
($request);

182 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

183 
$·¿m‘”s
['Action'] = 'GetLowestOfferListingsForASIN';

184 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

186 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestOfferListingsForASINResponse.php');

187 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

188 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

189  
$»¥Ú£
;

190 
	}
}

196 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘Lowe¡OfãrLi¡šgsFÜASIN
(
$»que¡
) {

198 
$·¿m‘”s
 = 
	`¬¿y
();

199 
$·¿m‘”s
['Action'] = 'GetLowestOfferListingsForASIN';

200 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

201 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

203 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

204 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

206 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

207 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

209 ià(
$»que¡
->
	`isS‘ASINLi¡
()) {

210 
$ASINLi¡G‘Lowe¡OfãrLi¡šgsFÜASINReque¡
 = 
$»que¡
->
	`g‘ASINLi¡
();

211 
	`fÜ—ch
 (
$ASINLi¡G‘Lowe¡OfãrLi¡šgsFÜASINReque¡
->
	`g‘ASIN
(è
as
 
$ASINASINLi¡Index
 => 
$ASINASINLi¡
) {

212 
$·¿m‘”s
['ASINLi¡' . '.' . 'ASIN' . '.' . (
$ASINASINLi¡Index
 + 1)] = 
$ASINASINLi¡
;

215 ià(
$»que¡
->
	`isS‘I‹mCÚd™iÚ
()) {

216 
$·¿m‘”s
['I‹mCÚd™iÚ'] = 
$»que¡
->
	`g‘I‹mCÚd™iÚ
();

218 ià(
$»que¡
->
	`isS‘ExşudeMe
()) {

219 
$·¿m‘”s
['ExşudeMe'] = 
$»que¡
->
	`g‘ExşudeMe
() ? "true" : "false";

222  
$·¿m‘”s
;

223 
	}
}

237 
public
 
funùiÚ
 
	$g‘Lowe¡OfãrLi¡šgsFÜSKU
(
$»que¡
)

239 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKUReque¡
)) {

240 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestOfferListingsForSKURequest.php');

241 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKUReque¡
($request);

243 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

244 
$·¿m‘”s
['Action'] = 'GetLowestOfferListingsForSKU';

245 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

247 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestOfferListingsForSKUResponse.php');

248 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKURe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

249 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

250  
$»¥Ú£
;

251 
	}
}

257 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘Lowe¡OfãrLi¡šgsFÜSKU
(
$»que¡
) {

259 
$·¿m‘”s
 = 
	`¬¿y
();

260 
$·¿m‘”s
['Action'] = 'GetLowestOfferListingsForSKU';

261 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

262 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

264 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

265 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

267 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

268 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

270 ià(
$»que¡
->
	`isS‘S–ËrSKULi¡
()) {

271 
$S–ËrSKULi¡G‘Lowe¡OfãrLi¡šgsFÜSKUReque¡
 = 
$»que¡
->
	`g‘S–ËrSKULi¡
();

272 
	`fÜ—ch
 (
$S–ËrSKULi¡G‘Lowe¡OfãrLi¡šgsFÜSKUReque¡
->
	`g‘S–ËrSKU
(è
as
 
$S–ËrSKUS–ËrSKULi¡Index
 => 
$S–ËrSKUS–ËrSKULi¡
) {

273 
$·¿m‘”s
['S–ËrSKULi¡' . '.' . 'S–ËrSKU' . '.' . (
$S–ËrSKUS–ËrSKULi¡Index
 + 1)] = 
$S–ËrSKUS–ËrSKULi¡
;

276 ià(
$»que¡
->
	`isS‘I‹mCÚd™iÚ
()) {

277 
$·¿m‘”s
['I‹mCÚd™iÚ'] = 
$»que¡
->
	`g‘I‹mCÚd™iÚ
();

279 ià(
$»que¡
->
	`isS‘ExşudeMe
()) {

280 
$·¿m‘”s
['ExşudeMe'] = 
$»que¡
->
	`g‘ExşudeMe
() ? "true" : "false";

283  
$·¿m‘”s
;

284 
	}
}

298 
public
 
funùiÚ
 
	$g‘Lowe¡PriûdOfãrsFÜASIN
(
$»que¡
)

300 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINReque¡
)) {

301 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestPricedOffersForASINRequest.php');

302 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINReque¡
($request);

304 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

305 
$·¿m‘”s
['Action'] = 'GetLowestPricedOffersForASIN';

306 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

308 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestPricedOffersForASINResponse.php');

309 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

310 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

311  
$»¥Ú£
;

312 
	}
}

318 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘Lowe¡PriûdOfãrsFÜASIN
(
$»que¡
) {

320 
$·¿m‘”s
 = 
	`¬¿y
();

321 
$·¿m‘”s
['Action'] = 'GetLowestPricedOffersForASIN';

322 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

323 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

325 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

326 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

328 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

329 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

331 ià(
$»que¡
->
	`isS‘ASIN
()) {

332 
$·¿m‘”s
['ASIN'] = 
$»que¡
->
	`g‘ASIN
();

334 ià(
$»que¡
->
	`isS‘I‹mCÚd™iÚ
()) {

335 
$·¿m‘”s
['I‹mCÚd™iÚ'] = 
$»que¡
->
	`g‘I‹mCÚd™iÚ
();

338  
$·¿m‘”s
;

339 
	}
}

353 
public
 
funùiÚ
 
	$g‘Lowe¡PriûdOfãrsFÜSKU
(
$»que¡
)

355 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKUReque¡
)) {

356 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestPricedOffersForSKURequest.php');

357 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKUReque¡
($request);

359 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

360 
$·¿m‘”s
['Action'] = 'GetLowestPricedOffersForSKU';

361 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

363 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestPricedOffersForSKUResponse.php');

364 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKURe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

365 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

366  
$»¥Ú£
;

367 
	}
}

373 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘Lowe¡PriûdOfãrsFÜSKU
(
$»que¡
) {

375 
$·¿m‘”s
 = 
	`¬¿y
();

376 
$·¿m‘”s
['Action'] = 'GetLowestPricedOffersForSKU';

377 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

378 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

380 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

381 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

383 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

384 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

386 ià(
$»que¡
->
	`isS‘S–ËrSKU
()) {

387 
$·¿m‘”s
['S–ËrSKU'] = 
$»que¡
->
	`g‘S–ËrSKU
();

389 ià(
$»que¡
->
	`isS‘I‹mCÚd™iÚ
()) {

390 
$·¿m‘”s
['I‹mCÚd™iÚ'] = 
$»que¡
->
	`g‘I‹mCÚd™iÚ
();

393  
$·¿m‘”s
;

394 
	}
}

408 
public
 
funùiÚ
 
	$g‘M©chšgProduù
(
$»que¡
)

410 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
)) {

411 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMatchingProductRequest.php');

412 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
($request);

414 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

415 
$·¿m‘”s
['Action'] = 'GetMatchingProduct';

416 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

418 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMatchingProductResponse.php');

419 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

420 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

421  
$»¥Ú£
;

422 
	}
}

428 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘M©chšgProduù
(
$»que¡
) {

430 
$·¿m‘”s
 = 
	`¬¿y
();

431 
$·¿m‘”s
['Action'] = 'GetMatchingProduct';

432 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

433 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

435 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

436 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

438 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

439 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

441 ià(
$»que¡
->
	`isS‘ASINLi¡
()) {

442 
$ASINLi¡G‘M©chšgProduùReque¡
 = 
$»que¡
->
	`g‘ASINLi¡
();

443 
	`fÜ—ch
 (
$ASINLi¡G‘M©chšgProduùReque¡
->
	`g‘ASIN
(è
as
 
$ASINASINLi¡Index
 => 
$ASINASINLi¡
) {

444 
$·¿m‘”s
['ASINLi¡' . '.' . 'ASIN' . '.' . (
$ASINASINLi¡Index
 + 1)] = 
$ASINASINLi¡
;

448  
$·¿m‘”s
;

449 
	}
}

463 
public
 
funùiÚ
 
	$g‘M©chšgProduùFÜId
(
$»que¡
)

465 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdReque¡
)) {

466 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMatchingProductForIdRequest.php');

467 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdReque¡
($request);

469 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

470 
$·¿m‘”s
['Action'] = 'GetMatchingProductForId';

471 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

473 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMatchingProductForIdResponse.php');

474 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

475 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

476  
$»¥Ú£
;

477 
	}
}

483 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘M©chšgProduùFÜId
(
$»que¡
) {

485 
$·¿m‘”s
 = 
	`¬¿y
();

486 
$·¿m‘”s
['Action'] = 'GetMatchingProductForId';

487 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

488 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

490 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

491 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

493 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

494 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

496 ià(
$»que¡
->
	`isS‘IdTy³
()) {

497 
$·¿m‘”s
['IdTy³'] = 
$»que¡
->
	`g‘IdTy³
();

499 ià(
$»que¡
->
	`isS‘IdLi¡
()) {

500 
$IdLi¡G‘M©chšgProduùFÜIdReque¡
 = 
$»que¡
->
	`g‘IdLi¡
();

501 
	`fÜ—ch
 (
$IdLi¡G‘M©chšgProduùFÜIdReque¡
->
	`g‘Id
(è
as
 
$IdIdLi¡Index
 => 
$IdIdLi¡
) {

502 
$·¿m‘”s
['IdLi¡' . '.' . 'Id' . '.' . (
$IdIdLi¡Index
 + 1)] = 
$IdIdLi¡
;

506  
$·¿m‘”s
;

507 
	}
}

522 
public
 
funùiÚ
 
	$g‘MyF“sE¡im©e
(
$»que¡
)

524 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eReque¡
)) {

525 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyFeesEstimateRequest.php');

526 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eReque¡
($request);

528 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

529 
$·¿m‘”s
['Action'] = 'GetMyFeesEstimate';

530 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

532 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyFeesEstimateResponse.php');

533 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

534 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

535  
$»¥Ú£
;

536 
	}
}

542 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘MyF“sE¡im©e
(
$»que¡
) {

544 
$·¿m‘”s
 = 
	`¬¿y
();

545 
$·¿m‘”s
['Action'] = 'GetMyFeesEstimate';

546 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

547 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

549 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

550 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

552 ià(
$»que¡
->
	`isS‘F“sE¡im©eReque¡Li¡
()) {

553 
$F“sE¡im©eReque¡Li¡G‘MyF“sE¡im©eReque¡
 = 
$»que¡
->
	`g‘F“sE¡im©eReque¡Li¡
();

554 
	`fÜ—ch
 (
$F“sE¡im©eReque¡Li¡G‘MyF“sE¡im©eReque¡
->
	`g‘F“sE¡im©eReque¡
(è
as
 
$F“sE¡im©eReque¡F“sE¡im©eReque¡Li¡Index
 => 
$F“sE¡im©eReque¡F“sE¡im©eReque¡Li¡
) {

555 
$·¿m‘”s
['F“sE¡im©eReque¡Li¡' . '.' . 'F“sE¡im©eReque¡' . '.' . (
$F“sE¡im©eReque¡F“sE¡im©eReque¡Li¡Index
 + 1)] = 
$F“sE¡im©eReque¡F“sE¡im©eReque¡Li¡
;

559  
$·¿m‘”s
;

560 
	}
}

573 
public
 
funùiÚ
 
	$g‘MyPriûFÜASIN
(
$»que¡
)

575 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINReque¡
)) {

576 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyPriceForASINRequest.php');

577 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINReque¡
($request);

579 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

580 
$·¿m‘”s
['Action'] = 'GetMyPriceForASIN';

581 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

583 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyPriceForASINResponse.php');

584 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

585 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

586  
$»¥Ú£
;

587 
	}
}

593 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘MyPriûFÜASIN
(
$»que¡
) {

595 
$·¿m‘”s
 = 
	`¬¿y
();

596 
$·¿m‘”s
['Action'] = 'GetMyPriceForASIN';

597 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

598 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

600 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

601 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

603 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

604 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

606 ià(
$»que¡
->
	`isS‘ASINLi¡
()) {

607 
$ASINLi¡G‘MyPriûFÜASINReque¡
 = 
$»que¡
->
	`g‘ASINLi¡
();

608 
	`fÜ—ch
 (
$ASINLi¡G‘MyPriûFÜASINReque¡
->
	`g‘ASIN
(è
as
 
$ASINASINLi¡Index
 => 
$ASINASINLi¡
) {

609 
$·¿m‘”s
['ASINLi¡' . '.' . 'ASIN' . '.' . (
$ASINASINLi¡Index
 + 1)] = 
$ASINASINLi¡
;

613  
$·¿m‘”s
;

614 
	}
}

627 
public
 
funùiÚ
 
	$g‘MyPriûFÜSKU
(
$»que¡
)

629 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKUReque¡
)) {

630 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyPriceForSKURequest.php');

631 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKUReque¡
($request);

633 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

634 
$·¿m‘”s
['Action'] = 'GetMyPriceForSKU';

635 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

637 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyPriceForSKUResponse.php');

638 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKURe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

639 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

640  
$»¥Ú£
;

641 
	}
}

647 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘MyPriûFÜSKU
(
$»que¡
) {

649 
$·¿m‘”s
 = 
	`¬¿y
();

650 
$·¿m‘”s
['Action'] = 'GetMyPriceForSKU';

651 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

652 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

654 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

655 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

657 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

658 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

660 ià(
$»que¡
->
	`isS‘S–ËrSKULi¡
()) {

661 
$S–ËrSKULi¡G‘MyPriûFÜSKUReque¡
 = 
$»que¡
->
	`g‘S–ËrSKULi¡
();

662 
	`fÜ—ch
 (
$S–ËrSKULi¡G‘MyPriûFÜSKUReque¡
->
	`g‘S–ËrSKU
(è
as
 
$S–ËrSKUS–ËrSKULi¡Index
 => 
$S–ËrSKUS–ËrSKULi¡
) {

663 
$·¿m‘”s
['S–ËrSKULi¡' . '.' . 'S–ËrSKU' . '.' . (
$S–ËrSKUS–ËrSKULi¡Index
 + 1)] = 
$S–ËrSKUS–ËrSKULi¡
;

667  
$·¿m‘”s
;

668 
	}
}

682 
public
 
funùiÚ
 
	$g‘ProduùC©egÜ›sFÜASIN
(
$»que¡
)

684 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINReque¡
)) {

685 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetProductCategoriesForASINRequest.php');

686 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINReque¡
($request);

688 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

689 
$·¿m‘”s
['Action'] = 'GetProductCategoriesForASIN';

690 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

692 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetProductCategoriesForASINResponse.php');

693 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

694 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

695  
$»¥Ú£
;

696 
	}
}

702 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘ProduùC©egÜ›sFÜASIN
(
$»que¡
) {

704 
$·¿m‘”s
 = 
	`¬¿y
();

705 
$·¿m‘”s
['Action'] = 'GetProductCategoriesForASIN';

706 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

707 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

709 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

710 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

712 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

713 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

715 ià(
$»que¡
->
	`isS‘ASIN
()) {

716 
$·¿m‘”s
['ASIN'] = 
$»que¡
->
	`g‘ASIN
();

719  
$·¿m‘”s
;

720 
	}
}

734 
public
 
funùiÚ
 
	$g‘ProduùC©egÜ›sFÜSKU
(
$»que¡
)

736 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKUReque¡
)) {

737 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetProductCategoriesForSKURequest.php');

738 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKUReque¡
($request);

740 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

741 
$·¿m‘”s
['Action'] = 'GetProductCategoriesForSKU';

742 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

744 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetProductCategoriesForSKUResponse.php');

745 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKURe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

746 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

747  
$»¥Ú£
;

748 
	}
}

754 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘ProduùC©egÜ›sFÜSKU
(
$»que¡
) {

756 
$·¿m‘”s
 = 
	`¬¿y
();

757 
$·¿m‘”s
['Action'] = 'GetProductCategoriesForSKU';

758 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

759 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

761 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

762 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

764 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

765 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

767 ià(
$»que¡
->
	`isS‘S–ËrSKU
()) {

768 
$·¿m‘”s
['S–ËrSKU'] = 
$»que¡
->
	`g‘S–ËrSKU
();

771  
$·¿m‘”s
;

772 
	}
}

787 
public
 
funùiÚ
 
	$g‘S”viûStus
(
$»que¡
)

789 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusReque¡
)) {

790 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetServiceStatusRequest.php');

791 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusReque¡
($request);

793 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

794 
$·¿m‘”s
['Action'] = 'GetServiceStatus';

795 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

797 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetServiceStatusResponse.php');

798 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

799 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

800  
$»¥Ú£
;

801 
	}
}

807 
´iv©e
 
funùiÚ
 
	$_cÚv”tG‘S”viûStus
(
$»que¡
) {

809 
$·¿m‘”s
 = 
	`¬¿y
();

810 
$·¿m‘”s
['Action'] = 'GetServiceStatus';

811 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

812 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

814 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

815 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

818  
$·¿m‘”s
;

819 
	}
}

833 
public
 
funùiÚ
 
	$li¡M©chšgProduùs
(
$»que¡
)

835 ià(!(
$»que¡
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsReque¡
)) {

836 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/ListMatchingProductsRequest.php');

837 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsReque¡
($request);

839 
$·¿m‘”s
 = 
$»que¡
->
	`toQu”yP¬am‘”A¼ay
();

840 
$·¿m‘”s
['Action'] = 'ListMatchingProducts';

841 
$h‰pRe¥Ú£
 = 
$this
->
	`_švoke
(
$·¿m‘”s
);

843 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/ListMatchingProductsResponse.php');

844 
$»¥Ú£
 = 
M¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsRe¥Ú£
::
	`äomXML
(
$h‰pRe¥Ú£
['ResponseBody']);

845 
$»¥Ú£
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$h‰pRe¥Ú£
['ResponseHeaderMetadata']);

846  
$»¥Ú£
;

847 
	}
}

853 
´iv©e
 
funùiÚ
 
	$_cÚv”tLi¡M©chšgProduùs
(
$»que¡
) {

855 
$·¿m‘”s
 = 
	`¬¿y
();

856 
$·¿m‘”s
['Action'] = 'ListMatchingProducts';

857 ià(
$»que¡
->
	`isS‘S–ËrId
()) {

858 
$·¿m‘”s
['S–ËrId'] = 
$»que¡
->
	`g‘S–ËrId
();

860 ià(
$»que¡
->
	`isS‘MWSAuthTok’
()) {

861 
$·¿m‘”s
['MWSAuthTok’'] = 
$»que¡
->
	`g‘MWSAuthTok’
();

863 ià(
$»que¡
->
	`isS‘M¬k‘¶aûId
()) {

864 
$·¿m‘”s
['M¬k‘¶aûId'] = 
$»que¡
->
	`g‘M¬k‘¶aûId
();

866 ià(
$»que¡
->
	`isS‘Qu”y
()) {

867 
$·¿m‘”s
['Qu”y'] = 
$»que¡
->
	`g‘Qu”y
();

869 ià(
$»que¡
->
	`isS‘Qu”yCÚ‹xtId
()) {

870 
$·¿m‘”s
['Qu”yCÚ‹xtId'] = 
$»que¡
->
	`g‘Qu”yCÚ‹xtId
();

873  
$·¿m‘”s
;

874 
	}
}

897 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$awsAcûssKeyId
, 
$awsSeü‘AcûssKey
, 
$­¶iÿtiÚName
, 
$­¶iÿtiÚV”siÚ
, 
$cÚfig
 = 
nuÎ
)

903 
$this
->
_awsAcûssKeyId
 = 
$awsAcûssKeyId
;

904 
$this
->
_awsSeü‘AcûssKey
 = 
$awsSeü‘AcûssKey
;

905 ià(!
	`is_nuÎ
(
$cÚfig
)è
$this
->
_cÚfig
 = 
	`¬¿y_m”ge
($this->_config, $config);

906 
$this
->
	`£tU£rAg’tH—d”
(
$­¶iÿtiÚName
, 
$­¶iÿtiÚV”siÚ
);

907 
	}
}

909 
´iv©e
 
funùiÚ
 
	$£tU£rAg’tH—d”
(

910 
$­¶iÿtiÚName
,

911 
$­¶iÿtiÚV”siÚ
,

912 
$©Œibu‹s
 = 
nuÎ
) {

914 ià(
	`is_nuÎ
(
$©Œibu‹s
)) {

915 
$©Œibu‹s
 = 
	`¬¿y
 ();

918 
$this
->
_cÚfig
['UserAgent'] =

919 
$this
->
	`cÚ¡ruùU£rAg’tH—d”
(
$­¶iÿtiÚName
, 
$­¶iÿtiÚV”siÚ
, 
$©Œibu‹s
);

920 
	}
}

922 
´iv©e
 
funùiÚ
 
	$cÚ¡ruùU£rAg’tH—d”
(
$­¶iÿtiÚName
, 
$­¶iÿtiÚV”siÚ
, 
$©Œibu‹s
 = 
nuÎ
) {

923 ià(
	`is_nuÎ
(
$­¶iÿtiÚName
) || $applicationName === "") {

924 
throw
 
Ãw
 
	`Inv®idArgum’tExû±iÚ
('$applicationName cannot be‚ull');

927 ià(
	`is_nuÎ
(
$­¶iÿtiÚV”siÚ
) || $applicationVersion === "") {

928 
throw
 
Ãw
 
	`Inv®idArgum’tExû±iÚ
('$applicationVersion cannot be‚ull');

931 
$u£rAg’t
 =

932 
$this
->
	`quÙeAµliÿtiÚName
(
$­¶iÿtiÚName
)

934 . 
$this
->
	`quÙeAµliÿtiÚV”siÚ
(
$­¶iÿtiÚV”siÚ
);

936 
$u£rAg’t
 .= ' (';

937 
$u£rAg’t
 .ğ'Lªguage=PHP/' . 
	`phpv”siÚ
();

938 
$u£rAg’t
 .= '; ';

939 
$u£rAg’t
 .ğ'PÏtfÜm=' . 
	`php_uÇme
('s') . '/' .…hp_uname('m') . '/' .…hp_uname('r');

940 
$u£rAg’t
 .= '; ';

941 
$u£rAg’t
 .ğ'MWSCl›ÁV”siÚ=' . 
£lf
::
MWS_CLIENT_VERSION
;

943 
	`fÜ—ch
 (
$©Œibu‹s
 
as
 
$key
 => 
$v®ue
) {

944 ià(
	`em±y
(
$v®ue
)) {

945 
throw
 
Ãw
 
	`Inv®idArgum’tExû±iÚ
("Value for $key cannot be‚ull orƒmpty.");

948 
$u£rAg’t
 .= '; '

949 . 
$this
->
	`quÙeA‰ribu‹Name
(
$key
)

951 . 
$this
->
	`quÙeA‰ribu‹V®ue
(
$v®ue
);

954 
$u£rAg’t
 .= ')';

956  
$u£rAg’t
;

957 
	}
}

964 
´iv©e
 
funùiÚ
 
	$cŞÏp£Wh™e¥aû
(
$s
) {

965  
	`´eg_»¶aû
('/ {2,}|\s/', ' ', 
$s
);

966 
	}
}

974 
´iv©e
 
funùiÚ
 
	$quÙeAµliÿtiÚName
(
$s
) {

975 
$quÙedSŒšg
 = 
$this
->
	`cŞÏp£Wh™e¥aû
(
$s
);

976 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\\\/', '\\\\\\\\', $quotedString);

977 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\//', '\\/', $quotedString);

979  
$quÙedSŒšg
;

980 
	}
}

989 
´iv©e
 
funùiÚ
 
	$quÙeAµliÿtiÚV”siÚ
(
$s
) {

990 
$quÙedSŒšg
 = 
$this
->
	`cŞÏp£Wh™e¥aû
(
$s
);

991 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\\\/', '\\\\\\\\', $quotedString);

992 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\(/', '\\(', $quotedString);

994  
$quÙedSŒšg
;

995 
	}
}

1004 
´iv©e
 
funùiÚ
 
	$quÙeA‰ribu‹Name
(
$s
) {

1005 
$quÙedSŒšg
 = 
$this
->
	`cŞÏp£Wh™e¥aû
(
$s
);

1006 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\\\/', '\\\\\\\\', $quotedString);

1007 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\=/', '\\=', $quotedString);

1009  
$quÙedSŒšg
;

1010 
	}
}

1019 
´iv©e
 
funùiÚ
 
	$quÙeA‰ribu‹V®ue
(
$s
) {

1020 
$quÙedSŒšg
 = 
$this
->
	`cŞÏp£Wh™e¥aû
(
$s
);

1021 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\\\/', '\\\\\\\\', $quotedString);

1022 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\;/', '\\;', $quotedString);

1023 
$quÙedSŒšg
 = 
	`´eg_»¶aû
('/\\)/', '\\)', $quotedString);

1025  
$quÙedSŒšg
;

1026 
	}
}

1034 
´iv©e
 
funùiÚ
 
	$_švoke
(
¬¿y
 
$·¿m‘”s
)

1036 
Œy
 {

1037 ià(
	`em±y
(
$this
->
_cÚfig
['ServiceURL'])) {

1038 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Exception.php');

1039 
throw
 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
(

1040 
	`¬¿y
 ('ErrorCode' => 'InvalidServiceURL',

1043 
$·¿m‘”s
 = 
$this
->
	`_addRequœedP¬am‘”s
($parameters);

1044 
$»Œ›s
 = 0;

1046 
$»¥Ú£
 = 
$this
->
	`_h‰pPo¡
(
$·¿m‘”s
);

1047 
$¡©us
 = 
$»¥Ú£
['Status'];

1048 ià(
$¡©us
 == 200) {

1049  
	`¬¿y
('Re¥Ú£Body' => 
$»¥Ú£
['ResponseBody'],

1050 'Re¥Ú£H—d”M‘ad©a' => 
$»¥Ú£
['ResponseHeaderMetadata']);

1052 ià(
$¡©us
 =ğ500 && 
$this
->
	`_·u£OnR‘ry
(++
$»Œ›s
)) {

1055 
throw
 
$this
->
	`_»pÜtAnyE¼Üs
(
$»¥Ú£
['ResponseBody'],

1056 
$¡©us
, 
$»¥Ú£
['ResponseHeaderMetadata']);

1058 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$£
) {

1059 
throw
 
$£
;

1060 } 
	`ÿtch
 (
Exû±iÚ
 
$t
) {

1061 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Exception.php');

1062 
throw
 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
(
	`¬¿y
('Exû±iÚ' => 
$t
, 'Mes§ge' => $t->
	`g‘Mes§ge
()));

1064 
	}
}

1069 
´iv©e
 
funùiÚ
 
	$_»pÜtAnyE¼Üs
(
$»¥Ú£Body
, 
$¡©us
, 
$»¥Ú£H—d”M‘ad©a
, 
Exû±iÚ
 
$e
 = 
nuÎ
)

1071 
$exPrİs
 = 
	`¬¿y
();

1072 
$exPrİs
["StusCode"] = 
$¡©us
;

1073 
$exPrİs
["Re¥Ú£H—d”M‘ad©a"] = 
$»¥Ú£H—d”M‘ad©a
;

1075 
	`libxml_u£_š‹º®_”rÜs
(
Œue
);

1076 
$xmlBody
 = 
	`sim¶exml_lßd_¡ršg
(
$»¥Ú£Body
);

1078 ià(
$xmlBody
 !=ğ
çl£
) {

1079 
$exPrİs
["XML"] = 
$»¥Ú£Body
;

1080 
$exPrİs
["E¼ÜCode"] = 
$xmlBody
->
E¼Ü
->
Code
;

1081 
$exPrİs
["Mes§ge"] = 
$xmlBody
->
E¼Ü
->
Mes§ge
;

1082 
$exPrİs
["E¼ÜTy³"] = !
	`em±y
(
$xmlBody
->
E¼Ü
->
Ty³
) ? $xmlBody->Error->Type : "Unknown";

1083 
$exPrİs
["Reque¡Id"] = !
	`em±y
(
$xmlBody
->
Reque¡ID
è? $xmlBody->Reque¡ID : $xmlBody->
Reque¡Id
;

1085 
$exPrİs
["Message"] = "Internal Error";

1088 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Exception.php');

1089  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
(
$exPrİs
);

1090 
	}
}

1098 
´iv©e
 
funùiÚ
 
	$_h‰pPo¡
(
¬¿y
 
$·¿m‘”s
)

1100 
$cÚfig
 = 
$this
->
_cÚfig
;

1101 
$qu”y
 = 
$this
->
	`_g‘P¬am‘”sAsSŒšg
(
$·¿m‘”s
);

1102 
$u¾
 = 
	`·r£_u¾
 (
$cÚfig
['ServiceURL']);

1103 
$uri
 = 
	`¬¿y_key_exi¡s
('·th', 
$u¾
è? $u¾['·th'] : 
nuÎ
;

1104 ià(!
	`is£t
 (
$uri
)) {

1105 
$uri
 = "/";

1108 
$u¾
['scheme']) {

1110 
$scheme
 = 'https://';

1111 
$pÜt
 = 
	`is£t
(
$u¾
['port']) ? $url['port'] : 443;

1114 
$scheme
 = 'http://';

1115 
$pÜt
 = 
	`is£t
(
$u¾
['port']) ? $url['port'] : 80;

1118 
$®lH—d”s
 = 
$cÚfig
['Headers'];

1119 
$®lH—d”s
['Content-Type'] = "application/x-www-form-urlencoded; charset=utf-8";

1120 
$®lH—d”s
['Ex³ù'] = 
nuÎ
;

1121 
$®lH—d”sSŒ
 = 
	`¬¿y
();

1122 
	`fÜ—ch
(
$®lH—d”s
 
as
 
$Çme
 => 
$v®
) {

1123 
$¡r
 = 
$Çme
 . ": ";

1124 if(
	`is£t
(
$v®
)) {

1125 
$¡r
 = $¡¸. 
$v®
;

1127 
$®lH—d”sSŒ
[] = 
$¡r
;

1130 
$ch
 = 
	`cu¾_š™
();

1131 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_URL
, 
$scheme
 . 
$u¾
['ho¡'] . 
$uri
);

1132 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_PORT
, 
$pÜt
);

1133 
$this
->
	`£tSSLCu¾O±iÚs
(
$ch
);

1134 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_USERAGENT
, 
$this
->
_cÚfig
['UserAgent']);

1135 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_POST
, 
Œue
);

1136 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_POSTFIELDS
, 
$qu”y
);

1137 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_HTTPHEADER
, 
$®lH—d”sSŒ
);

1138 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_HEADER
, 
Œue
);

1139 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

1140 ià(
$cÚfig
['ProxyHo¡'] !ğ
nuÎ
 && $config['ProxyPort'] != -1)

1142 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_PROXY
, 
$cÚfig
['ProxyHost'] . ':' . $config['ProxyPort']);

1144 ià(
$cÚfig
['ProxyU£ºame'] !ğ
nuÎ
 && $config['ProxyPassword'] !=‚ull)

1146 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_PROXYUSERPWD
, 
$cÚfig
['ProxyUsername'] . ':' . $config['ProxyPassword']);

1149 
$»¥Ú£
 = "";

1150 
$»¥Ú£
 = 
	`cu¾_exec
(
$ch
);

1152 if(
$»¥Ú£
 ==ğ
çl£
) {

1153 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Exception.php');

1154 
$exPrİs
["Mes§ge"] = 
	`cu¾_”rÜ
(
$ch
);

1155 
$exPrİs
["ErrorType"] = "HTTP";

1156 
	`cu¾_şo£
(
$ch
);

1157 
throw
 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
(
$exPrİs
);

1160 
	`cu¾_şo£
(
$ch
);

1161  
$this
->
	`_exŒaùH—d”sAndBody
(
$»¥Ú£
);

1162 
	}
}

1183 
´iv©e
 
funùiÚ
 
	$_exŒaùH—d”sAndBody
(
$»¥Ú£
){

1185 
$»¥Ú£CompÚ’ts
 = 
	`´eg_¥l™
("/(?:\r?\n){2}/", 
$»¥Ú£
, 2);

1186 
$body
 = 
nuÎ
;

1187 
$couÁ
 = 0;

1188 
$couÁ
 < 
	`couÁ
(
$»¥Ú£CompÚ’ts
è&& 
$body
 =ğ
nuÎ
;

1189 
$couÁ
++) {

1191 
$h—d”s
 = 
$»¥Ú£CompÚ’ts
[
$couÁ
];

1192 
$»¥Ú£Stus
 = 
$this
->
	`_exŒaùH‰pStusCode
(
$h—d”s
);

1194 if(
$»¥Ú£Stus
 !ğ
nuÎ
 &&

1195 
$this
->
	`_h‰pH—d”sHaveCÚ‹Á
(
$h—d”s
)){

1197 
$»¥Ú£H—d”M‘ad©a
 = 
$this
->
	`_exŒaùRe¥Ú£H—d”M‘ad©a
(
$h—d”s
);

1199 
$body
 = 
$»¥Ú£CompÚ’ts
[++
$couÁ
];

1204 if(
$body
 =ğ
nuÎ
){

1205 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Exception.php');

1206 
$exPrİs
["Mes§ge"] = "FaedØ·r£ v®id HTTP„e¥Ú£ (" . 
$»¥Ú£
 . ")";

1207 
$exPrİs
["ErrorType"] = "HTTP";

1208 
throw
 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
(
$exPrİs
);

1211  
	`¬¿y
(

1212 'Stus' => 
$»¥Ú£Stus
,

1213 'Re¥Ú£Body' => 
$body
,

1214 'Re¥Ú£H—d”M‘ad©a' => 
$»¥Ú£H—d”M‘ad©a
);

1215 
	}
}

1225 
´iv©e
 
funùiÚ
 
	$_exŒaùH‰pStusCode
(
$h—d”s
){

1226 
$¡©usCode
 = 
nuÎ
;

1227 ià(1 ==ğ
	`´eg_m©ch
("/(\\S+è+(\\d+è+([^\n\r]+)(?:\r?\n|\r)/", 
$h—d”s
, 
$m©ches
)) {

1229 
$¡©usCode
 = 
$m©ches
[2];

1231  
$¡©usCode
;

1232 
	}
}

1239 
´iv©e
 
funùiÚ
 
	$_h‰pH—d”sHaveCÚ‹Á
(
$h—d”s
){

1240  (1 ==ğ
	`´eg_m©ch
("/[cC]Ú‹Á-[lL]’gth: +(?:\\d+)(?:\\r?\\n|\\r|$)/", 
$h—d”s
) ||

1241 1 ==ğ
	`´eg_m©ch
("/T¿nsãr-Encodšg: +(?!id’t™y[\r\n;ğ])(?:[^\r\n]+)(?:\r?\n|\r|$)/i", 
$h—d”s
));

1242 
	}
}

1247 
´iv©e
 
funùiÚ
 
	$_exŒaùRe¥Ú£H—d”M‘ad©a
(
$¿wH—d”s
){

1248 
$šputH—d”s
 = 
	`´eg_¥l™
("/\r\n|\n|\r/", 
$¿wH—d”s
);

1249 
$h—d”s
 = 
	`¬¿y
();

1250 
$h—d”s
['x-mws-»que¡-id'] = 
nuÎ
;

1251 
$h—d”s
['x-mws-»¥Ú£-cÚ‹xt'] = 
nuÎ
;

1252 
$h—d”s
['x-mws-time¡amp'] = 
nuÎ
;

1253 
$h—d”s
['x-mws-quÙa-max'] = 
nuÎ
;

1254 
$h—d”s
['x-mws-quÙa-»maššg'] = 
nuÎ
;

1255 
$h—d”s
['x-mws-quÙa-»£tsOn'] = 
nuÎ
;

1257 
	`fÜ—ch
 (
$šputH—d”s
 
as
 
$cu¼’tH—d”
) {

1258 
$keyV®ue
 = 
	`ex¶ode
 (': ', 
$cu¼’tH—d”
);

1259 ià(
	`is£t
(
$keyV®ue
[1])) {

1260 
	`li¡
 (
$key
, 
$v®ue
èğ
$keyV®ue
;

1261 ià(
	`is£t
(
$h—d”s
[
$key
]è&& $h—d”s[$key]!==
nuÎ
) {

1262 
$h—d”s
[
$key
] = $h—d”s[$key] . "," . 
$v®ue
;

1264 
$h—d”s
[
$key
] = 
$v®ue
;

1269 
	`»quœe_Úû
(
	`dœÇme
(
__FILE__
) . '/Model/ResponseHeaderMetadata.php');

1270  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_Re¥Ú£H—d”M‘ad©a
(

1271 
$h—d”s
['x-mws-request-id'],

1272 
$h—d”s
['x-mws-response-context'],

1273 
$h—d”s
['x-mws-timestamp'],

1274 
$h—d”s
['x-mws-quota-max'],

1275 
$h—d”s
['x-mws-quota-remaining'],

1276 
$h—d”s
['x-mws-quota-resetsOn']);

1277 
	}
}

1283 
´Ùeùed
 
funùiÚ
 
	$£tSSLCu¾O±iÚs
(
$ch
) {

1284 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_SSL_VERIFYPEER
, 
Œue
);

1285 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_SSL_VERIFYHOST
, 2);

1286 
	}
}

1293 
´iv©e
 
funùiÚ
 
	$_·u£OnR‘ry
(
$»Œ›s
)

1295 ià(
$»Œ›s
 <ğ
$this
->
_cÚfig
['MaxErrorRetry']) {

1296 
$d–ay
 = (è(
	`pow
(4, 
$»Œ›s
) * 100000);

1297 
	`u¦“p
(
$d–ay
);

1298  
Œue
;

1300  
çl£
;

1301 
	}
}

1306 
´iv©e
 
funùiÚ
 
	$_addRequœedP¬am‘”s
(
¬¿y
 
$·¿m‘”s
)

1308 
$·¿m‘”s
['AWSAcûssKeyId'] = 
$this
->
_awsAcûssKeyId
;

1309 
$·¿m‘”s
['Time¡amp'] = 
$this
->
	`_g‘FÜm©‹dTime¡amp
();

1310 
$·¿m‘”s
['V”siÚ'] = 
£lf
::
SERVICE_VERSION
;

1311 
$·¿m‘”s
['SigÇtu»V”siÚ'] = 
$this
->
_cÚfig
['SignatureVersion'];

1312 ià(
$·¿m‘”s
['SignatureVersion'] > 1) {

1313 
$·¿m‘”s
['SigÇtu»M‘hod'] = 
$this
->
_cÚfig
['SignatureMethod'];

1315 
$·¿m‘”s
['SigÇtu»'] = 
$this
->
	`_signP¬am‘”s
($·¿m‘”s, $this->
_awsSeü‘AcûssKey
);

1317  
$·¿m‘”s
;

1318 
	}
}

1323 
´iv©e
 
funùiÚ
 
	$_g‘P¬am‘”sAsSŒšg
(
¬¿y
 
$·¿m‘”s
)

1325 
$qu”yP¬am‘”s
 = 
	`¬¿y
();

1326 
	`fÜ—ch
 (
$·¿m‘”s
 
as
 
$key
 => 
$v®ue
) {

1327 
$qu”yP¬am‘”s
[] = 
$key
 . '=' . 
$this
->
	`_u¾’code
(
$v®ue
);

1329  
	`im¶ode
('&', 
$qu”yP¬am‘”s
);

1330 
	}
}

1363 
´iv©e
 
funùiÚ
 
	$_signP¬am‘”s
(
¬¿y
 
$·¿m‘”s
, 
$key
) {

1364 
$sigÇtu»V”siÚ
 = 
$·¿m‘”s
['SignatureVersion'];

1365 
$®gÜ™hm
 = "HmacSHA1";

1366 
$¡ršgToSign
 = 
nuÎ
;

1367 ià(2 =ğ
$sigÇtu»V”siÚ
) {

1368 
$®gÜ™hm
 = 
$this
->
_cÚfig
['SignatureMethod'];

1369 
$·¿m‘”s
['SigÇtu»M‘hod'] = 
$®gÜ™hm
;

1370 
$¡ršgToSign
 = 
$this
->
	`_ÿlcuÏ‹SŒšgToSignV2
(
$·¿m‘”s
);

1372 
throw
 
Ãw
 
	`Exû±iÚ
("Invalid Signature Version specified");

1374  
$this
->
	`_sign
(
$¡ršgToSign
, 
$key
, 
$®gÜ™hm
);

1375 
	}
}

1382 
´iv©e
 
funùiÚ
 
	$_ÿlcuÏ‹SŒšgToSignV2
(
¬¿y
 
$·¿m‘”s
) {

1383 
$d©a
 = 'POST';

1384 
$d©a
 .= "\n";

1385 
$’dpošt
 = 
	`·r£_u¾
 (
$this
->
_cÚfig
['ServiceURL']);

1386 
$d©a
 .ğ
$’dpošt
['host'];

1387 
$d©a
 .= "\n";

1388 
$uri
 = 
	`¬¿y_key_exi¡s
('·th', 
$’dpošt
è? $’dpošt['·th'] : 
nuÎ
;

1389 ià(!
	`is£t
 (
$uri
)) {

1390 
$uri
 = "/";

1392 
$ur›ncoded
 = 
	`im¶ode
("/", 
	`¬¿y_m­
(
	`¬¿y
(
$this
, "_u¾’code"), 
	`ex¶ode
("/", 
$uri
)));

1393 
$d©a
 .ğ
$ur›ncoded
;

1394 
$d©a
 .= "\n";

1395 
	`uksÜt
(
$·¿m‘”s
, 'strcmp');

1396 
$d©a
 .ğ
$this
->
	`_g‘P¬am‘”sAsSŒšg
(
$·¿m‘”s
);

1397  
$d©a
;

1398 
	}
}

1400 
´iv©e
 
funùiÚ
 
	$_u¾’code
(
$v®ue
) {

1401  
	`¡r_»¶aû
('%7E', '~', 
	`¿wu¾’code
(
$v®ue
));

1402 
	}
}

1408 
´iv©e
 
funùiÚ
 
	$_sign
(
$d©a
, 
$key
, 
$®gÜ™hm
)

1410 ià(
$®gÜ™hm
 === 'HmacSHA1') {

1411 
$hash
 = 'sha1';

1412 } ià(
$®gÜ™hm
 === 'HmacSHA256') {

1413 
$hash
 = 'sha256';

1415 
throw
 
Ãw
 
	`Exû±iÚ
 ("Non-supported signing method specified");

1417  
	`ba£64_’code
(

1418 
	`hash_hmac
(
$hash
, 
$d©a
, 
$key
, 
Œue
)

1420 
	}
}

1426 
´iv©e
 
funùiÚ
 
	$_g‘FÜm©‹dTime¡amp
()

1428  
	`gmd©e
("Y-m-d\TH:i:s.\\0\\0\\0\\Z", 
	`time
());

1429 
	}
}

1434 
´iv©e
 
funùiÚ
 
	$g‘FÜm©‹dTime¡amp
(
$d©eTime
)

1436  
$d©eTime
->
	`fÜm©
(
DATE_ISO8601
);

1437 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Exception.php

1 <?
php


26 şas 
	cM¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
ex‹nds
 
	mExû±iÚ


30 
´iv©e
 
	m$_mes§ge
 = 
nuÎ
;

32 
´iv©e
 
	m$_¡©usCode
 = -1;

34 
´iv©e
 
	m$_”rÜCode
 = 
nuÎ
;

36 
´iv©e
 
	m$_”rÜTy³
 = 
nuÎ
;

38 
´iv©e
 
	m$_»que¡Id
 = 
nuÎ
;

40 
´iv©e
 
	m$_xml
 = 
nuÎ
;

42 
´iv©e
 
	m$_»¥Ú£H—d”M‘ad©a
 = 
nuÎ
;

59 
public
 
funùiÚ
 
__cÚ¡ruù
(
¬¿y
 
$”rÜInfo
 = 
	$¬¿y
())

61 
$this
->
_mes§ge
 = 
$”rÜInfo
["Message"];

62 
·»Á
::
	`__cÚ¡ruù
(
$this
->
_mes§ge
);

63 ià(
	`¬¿y_key_exi¡s
("Exû±iÚ", 
$”rÜInfo
)) {

64 
$exû±iÚ
 = 
$”rÜInfo
["Exception"];

65 ià(
$exû±iÚ
 
š¡ªûof
 
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
) {

66 
$this
->
_¡©usCode
 = 
$exû±iÚ
->
	`g‘StusCode
();

67 
$this
->
_”rÜCode
 = 
$exû±iÚ
->
	`g‘E¼ÜCode
();

68 
$this
->
_”rÜTy³
 = 
$exû±iÚ
->
	`g‘E¼ÜTy³
();

69 
$this
->
_»que¡Id
 = 
$exû±iÚ
->
	`g‘Reque¡Id
();

70 
$this
->
_xml
ğ
$exû±iÚ
->
	`g‘XML
();

71 
$this
->
_»¥Ú£H—d”M‘ad©a
 = 
$exû±iÚ
->
	`g‘Re¥Ú£H—d”M‘ad©a
();

74 
$this
->
_¡©usCode
 = $this->
	`¬r_v®
(
$”rÜInfo
, "StatusCode");

75 
$this
->
_”rÜCode
 = $this->
	`¬r_v®
(
$”rÜInfo
, "ErrorCode");

76 
$this
->
_”rÜTy³
 = $this->
	`¬r_v®
(
$”rÜInfo
, "ErrorType");

77 
$this
->
_»que¡Id
 = $this->
	`¬r_v®
(
$”rÜInfo
, "RequestId");

78 
$this
->
_xml
 = $this->
	`¬r_v®
(
$”rÜInfo
, "XML");

79 
$this
->
_»¥Ú£H—d”M‘ad©a
 = $this->
	`¬r_v®
(
$”rÜInfo
, "ResponseHeaderMetadata");

83 
´iv©e
 
funùiÚ
 
	$¬r_v®
(
$¬r
, 
$key
) {

84 if(
	`¬¿y_key_exi¡s
(
$key
, 
$¬r
)) {

85  
$¬r
[
$key
];

87  
nuÎ
;

89 
	}
}

96 
public
 
funùiÚ
 
	$g‘E¼ÜCode
(){

97  
$this
->
_”rÜCode
;

98 
	}
}

106 
public
 
funùiÚ
 
	$g‘E¼ÜTy³
(){

107  
$this
->
_”rÜTy³
;

108 
	}
}

115 
public
 
funùiÚ
 
	$g‘E¼ÜMes§ge
() {

116  
$this
->
_mes§ge
;

117 
	}
}

126 
public
 
funùiÚ
 
	$g‘StusCode
() {

127  
$this
->
_¡©usCode
;

128 
	}
}

135 
public
 
funùiÚ
 
	$g‘XML
() {

136  
$this
->
_xml
;

137 
	}
}

144 
public
 
funùiÚ
 
	$g‘Reque¡Id
() {

145  
$this
->
_»que¡Id
;

146 
	}
}

148 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
() {

149  
$this
->
_»¥Ú£H—d”M‘ad©a
;

150 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Interface.php

1 <?
php


20 
š‹rçû
 
	gM¬k‘¶aûWebS”viûProduùs_IÁ”çû


34 
public
 
funùiÚ
 
g‘Com³t™ivePricšgFÜASIN
(
$»que¡
);

48 
public
 
funùiÚ
 
g‘Com³t™ivePricšgFÜSKU
(
$»que¡
);

62 
public
 
funùiÚ
 
g‘Lowe¡OfãrLi¡šgsFÜASIN
(
$»que¡
);

76 
public
 
funùiÚ
 
g‘Lowe¡OfãrLi¡šgsFÜSKU
(
$»que¡
);

90 
public
 
funùiÚ
 
g‘Lowe¡PriûdOfãrsFÜASIN
(
$»que¡
);

104 
public
 
funùiÚ
 
g‘Lowe¡PriûdOfãrsFÜSKU
(
$»que¡
);

118 
public
 
funùiÚ
 
g‘M©chšgProduù
(
$»que¡
);

132 
public
 
funùiÚ
 
g‘M©chšgProduùFÜId
(
$»que¡
);

147 
public
 
funùiÚ
 
g‘MyF“sE¡im©e
(
$»que¡
);

160 
public
 
funùiÚ
 
g‘MyPriûFÜASIN
(
$»que¡
);

173 
public
 
funùiÚ
 
g‘MyPriûFÜSKU
(
$»que¡
);

187 
public
 
funùiÚ
 
g‘ProduùC©egÜ›sFÜASIN
(
$»que¡
);

201 
public
 
funùiÚ
 
g‘ProduùC©egÜ›sFÜSKU
(
$»que¡
);

216 
public
 
funùiÚ
 
g‘S”viûStus
(
$»que¡
);

230 
public
 
funùiÚ
 
li¡M©chšgProduùs
(
$»que¡
);

	@MWSProducts/src/MarketplaceWebServiceProducts/Mock.php

1 <?
php


23 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/Interface.php');

25 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mock
 
im¶em’ts
 
	mM¬k‘¶aûWebS”viûProduùs_IÁ”çû


40 
public
 
funùiÚ
 
	$g‘Com³t™ivePricšgFÜASIN
(
$»que¡
)

42 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetCompetitivePricingForASINResponse.php');

43  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetCompetitivePricingForASIN'));

57 
public
 
funùiÚ
 
	$g‘Com³t™ivePricšgFÜSKU
(
$»que¡
)

59 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetCompetitivePricingForSKUResponse.php');

60  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKURe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetCompetitivePricingForSKU'));

61 
	}
}

74 
public
 
funùiÚ
 
	$g‘Lowe¡OfãrLi¡šgsFÜASIN
(
$»que¡
)

76 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestOfferListingsForASINResponse.php');

77  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetLowestOfferListingsForASIN'));

78 
	}
}

91 
public
 
funùiÚ
 
	$g‘Lowe¡OfãrLi¡šgsFÜSKU
(
$»que¡
)

93 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestOfferListingsForSKUResponse.php');

94  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKURe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetLowestOfferListingsForSKU'));

95 
	}
}

108 
public
 
funùiÚ
 
	$g‘Lowe¡PriûdOfãrsFÜASIN
(
$»que¡
)

110 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestPricedOffersForASINResponse.php');

111  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetLowestPricedOffersForASIN'));

112 
	}
}

125 
public
 
funùiÚ
 
	$g‘Lowe¡PriûdOfãrsFÜSKU
(
$»que¡
)

127 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetLowestPricedOffersForSKUResponse.php');

128  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKURe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetLowestPricedOffersForSKU'));

129 
	}
}

142 
public
 
funùiÚ
 
	$g‘M©chšgProduù
(
$»que¡
)

144 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMatchingProductResponse.php');

145  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetMatchingProduct'));

146 
	}
}

159 
public
 
funùiÚ
 
	$g‘M©chšgProduùFÜId
(
$»que¡
)

161 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMatchingProductForIdResponse.php');

162  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetMatchingProductForId'));

163 
	}
}

177 
public
 
funùiÚ
 
	$g‘MyF“sE¡im©e
(
$»que¡
)

179 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyFeesEstimateResponse.php');

180  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetMyFeesEstimate'));

181 
	}
}

193 
public
 
funùiÚ
 
	$g‘MyPriûFÜASIN
(
$»que¡
)

195 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyPriceForASINResponse.php');

196  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetMyPriceForASIN'));

197 
	}
}

209 
public
 
funùiÚ
 
	$g‘MyPriûFÜSKU
(
$»que¡
)

211 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetMyPriceForSKUResponse.php');

212  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKURe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetMyPriceForSKU'));

213 
	}
}

226 
public
 
funùiÚ
 
	$g‘ProduùC©egÜ›sFÜASIN
(
$»que¡
)

228 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetProductCategoriesForASINResponse.php');

229  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetProductCategoriesForASIN'));

230 
	}
}

243 
public
 
funùiÚ
 
	$g‘ProduùC©egÜ›sFÜSKU
(
$»que¡
)

245 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetProductCategoriesForSKUResponse.php');

246  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKURe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetProductCategoriesForSKU'));

247 
	}
}

261 
public
 
funùiÚ
 
	$g‘S”viûStus
(
$»que¡
)

263 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/GetServiceStatusResponse.php');

264  
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('GetServiceStatus'));

265 
	}
}

278 
public
 
funùiÚ
 
	$li¡M©chšgProduùs
(
$»que¡
)

280 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
) . '/Model/ListMatchingProductsResponse.php');

281  
M¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsRe¥Ú£
::
	`äomXML
(
$this
->
	`_švoke
('ListMatchingProducts'));

282 
	}
}

286 
´iv©e
 
funùiÚ
 
	$_švoke
(
$aùiÚName
)

288  
$xml
 = 
	`fe_g‘_cÚ‹Ás
(
	`dœÇme
(
__FILE__
è. '/Mock/' . 
$aùiÚName
 . 'Re¥Ú£.xml', 
TRUE
);

289 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model.php

1 <?
php


23 
ab¡¿ù
 cÏs 
	cM¬k‘¶aûWebS”viûProduùs_Mod–


27 
´Ùeùed
 
	m$_f›lds
 = 
¬¿y
 ();

34 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

36 ià(!
	`is_nuÎ
(
$d©a
)) {

37 ià(
$this
->
	`_isAssocŸtiveA¼ay
(
$d©a
)) {

38 
$this
->
	`_äomAssocŸtiveA¼ay
(
$d©a
);

39 } 
	`–£if
 (
$this
->
	`_isDOMEËm’t
(
$d©a
)) {

40 
$this
->
	`_äomDOMEËm’t
(
$d©a
);

42 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct from…rovided data. Please be sureo…ass‡ssociative‡rray or DOMElement");

60 
public
 
funùiÚ
 
	$__g‘
(
$´İ”tyName
)

62 
$g‘‹r
 = "get$propertyName";

63  
$this
->
	`$g‘‹r
();

64 
	}
}

79 
public
 
funùiÚ
 
	$__£t
(
$´İ”tyName
, 
$´İ”tyV®ue
)

81 
$£‰”
 = "set$propertyName";

82 
$this
->
	`$£‰”
(
$´İ”tyV®ue
);

83  
$this
;

84 
	}
}

100 
´iv©e
 
funùiÚ
 
	$_äomDOMEËm’t
(
DOMEËm’t
 
$dom
)

102 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
->
owÃrDocum’t
);

104 
	`fÜ—ch
 (
$this
->
_f›lds
 
as
 
$f›ldName
 => 
$f›ld
) {

105 
$f›ldTy³
 = 
$f›ld
['FieldType'];

106 ià(
	`is_¬¿y
(
$f›ldTy³
)) {

107 ià(
$f›ldTy³
[0] == "object") {

108 
$–em’ts
 = 
$dom
->
chdNodes
;

109 
$i
 = 0 ; $˜< 
$–em’ts
->
Ëngth
; $i++) {

110 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'][] = 
$–em’ts
->
	`™em
(
$i
);

112 } ià(
$this
->
	`_isCom¶exTy³
(
$f›ldTy³
[0])) {

113 ià(
	`is£t
(
$f›ld
['ListMemberName'])) {

114 
$memb”Name
 = 
$f›ld
['ListMemberName'];

115 
$–em’ts
 = 
$x·th
->
	`qu”y
("./*[loÿl-Çme()='$f›ldName']/*[loÿl-Çme()='$memb”Name']", 
$dom
);

117 
$–em’ts
 = 
$x·th
->
	`qu”y
("./*[loÿl-Çme()='$f›ldName']", 
$dom
);

119 ià(
$–em’ts
->
Ëngth
 >= 1) {

120 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
è. 
DIRECTORY_SEPARATOR
 . '..' . DIRECTORY_SEPARATOR . 
	`¡r_»¶aû
('_', DIRECTORY_SEPARATOR, 
$f›ldTy³
[0]) . ".php");

121 
	`fÜ—ch
 (
$–em’ts
 
as
 
$–em’t
) {

122 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'][] = 
Ãw
 
$f›ldTy³
[0](
$–em’t
);

126 ià(
	`is£t
(
$f›ld
['ListMemberName'])) {

127 
$memb”Name
 = 
$f›ld
['ListMemberName'];

128 
$–em’ts
 = 
$x·th
->
	`qu”y
("./*[loÿl-Çme()='$f›ldName']/*[loÿl-Çme()='$memb”Name']", 
$dom
);

130 
$–em’ts
 = 
$x·th
->
	`qu”y
("./*[loÿl-Çme()='$f›ldName']", 
$dom
);

132 ià(
$–em’ts
->
Ëngth
 >= 1) {

133 
	`fÜ—ch
 (
$–em’ts
 
as
 
$–em’t
) {

134 
$‹xt
 = 
$x·th
->
	`qu”y
('./‹xt()', 
$–em’t
);

135 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'][] = 
$‹xt
->
	`™em
(0)->
d©a
;

140 ià(
$this
->
	`_isCom¶exTy³
(
$f›ldTy³
)) {

141 
$–em’ts
 = 
$x·th
->
	`qu”y
("./*[loÿl-Çme()='$f›ldName']", 
$dom
);

142 ià(
$–em’ts
->
Ëngth
 == 1) {

143 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
è. 
DIRECTORY_SEPARATOR
 . '..' . DIRECTORY_SEPARATOR . 
	`¡r_»¶aû
('_', DIRECTORY_SEPARATOR, 
$f›ldTy³
) . ".php");

144 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'] = 
Ãw
 
	`$f›ldTy³
(
$–em’ts
->
	`™em
(0));

147 if(
$f›ldTy³
[0] == "@") {

148 
$©Œibu‹
 = 
$x·th
->
	`qu”y
("./@$f›ldName", 
$dom
);

149 ià(
$©Œibu‹
->
Ëngth
 == 1) {

150 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'] = 
$©Œibu‹
->
	`™em
(0)->
nodeV®ue
;

151 ià(
	`is£t
 (
$this
->
_f›lds
['Value'])) {

152 
$·»ÁNode
 = 
$©Œibu‹
->
	`™em
(0)->
·»ÁNode
;

153 
$this
->
_f›lds
['V®ue']['F›ldV®ue'] = 
$·»ÁNode
->
nodeV®ue
;

157 ià(
$f›ldTy³
[0] == ".") {

158 
$–em’t
 = 
$x·th
->
	`qu”y
("./‹xt()", 
$dom
);

160 
$–em’t
 = 
$x·th
->
	`qu”y
("./*[loÿl-Çme()='$f›ldName']/‹xt()", 
$dom
);

162 ià(
$–em’t
->
Ëngth
 == 1) {

163 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'] = 
$–em’t
->
	`™em
(0)->
d©a
;

167 
$©Œibu‹
 = 
$x·th
->
	`qu”y
("./@$f›ldName", 
$dom
);

168 ià(
$©Œibu‹
->
Ëngth
 == 1) {

169 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'] = 
$©Œibu‹
->
	`™em
(0)->
nodeV®ue
;

170 ià(
	`is£t
 (
$this
->
_f›lds
['Value'])) {

171 
$·»ÁNode
 = 
$©Œibu‹
->
	`™em
(0)->
·»ÁNode
;

172 
$this
->
_f›lds
['V®ue']['F›ldV®ue'] = 
$·»ÁNode
->
nodeV®ue
;

179 
	}
}

188 
´iv©e
 
funùiÚ
 
	$_äomAssocŸtiveA¼ay
(
¬¿y
 
$¬¿y
)

190 
	`fÜ—ch
 (
$this
->
_f›lds
 
as
 
$f›ldName
 => 
$f›ld
) {

191 
$f›ldTy³
 = 
$f›ld
['FieldType'];

192 ià(
	`is_¬¿y
(
$f›ldTy³
)) {

193 ià(
$this
->
	`_isCom¶exTy³
(
$f›ldTy³
[0])) {

194 ià(
	`¬¿y_key_exi¡s
(
$f›ldName
, 
$¬¿y
)) {

195 
$–em’ts
 = 
$¬¿y
[
$f›ldName
];

196 ià(!
$this
->
	`_isNum”icA¼ay
(
$–em’ts
)) {

197 
$–em’ts
 = 
	`¬¿y
($elements);

199 ià(
	`couÁ
 (
$–em’ts
) >= 1) {

200 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
è. 
DIRECTORY_SEPARATOR
 . '..' . DIRECTORY_SEPARATOR . 
	`¡r_»¶aû
('_', DIRECTORY_SEPARATOR, 
$f›ldTy³
[0]) . ".php");

202 
	`fÜ—ch
 (
$–em’ts
 
as
 
$–em’t
) {

203 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'][] = 
Ãw
 
$f›ldTy³
[0](
$–em’t
);

208 ià(
	`¬¿y_key_exi¡s
(
$f›ldName
, 
$¬¿y
)) {

209 
$–em’ts
 = 
$¬¿y
[
$f›ldName
];

210 ià(!
$this
->
	`_isNum”icA¼ay
(
$–em’ts
)) {

211 
$–em’ts
 = 
	`¬¿y
($elements);

213 ià(
	`couÁ
 (
$–em’ts
) >= 1) {

214 
	`fÜ—ch
 (
$–em’ts
 
as
 
$–em’t
) {

215 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'][] = 
$–em’t
;

221 ià(
$this
->
	`_isCom¶exTy³
(
$f›ldTy³
)) {

222 ià(
	`¬¿y_key_exi¡s
(
$f›ldName
, 
$¬¿y
)) {

223 
	`»quœe_Úû
 (
	`dœÇme
(
__FILE__
è. 
DIRECTORY_SEPARATOR
 . '..' . DIRECTORY_SEPARATOR . 
	`¡r_»¶aû
('_', DIRECTORY_SEPARATOR, 
$f›ldTy³
) . ".php");

224 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'] = 
Ãw
 
	`$f›ldTy³
(
$¬¿y
[$fieldName]);

227 ià(
	`¬¿y_key_exi¡s
(
$f›ldName
, 
$¬¿y
)) {

228 
$this
->
_f›lds
[
$f›ldName
]['F›ldV®ue'] = 
$¬¿y
[$fieldName];

233 
	}
}

239 
public
 
funùiÚ
 
	$toQu”yP¬am‘”A¼ay
() {

240  
$this
->
	`_toQu”yP¬am‘”A¼ay
("");

241 
	}
}

243 
´Ùeùed
 
funùiÚ
 
	$_toQu”yP¬am‘”A¼ay
(
$´efix
) {

244 
$¬r
 = 
	`¬¿y
();

245 
	`fÜ—ch
(
$this
->
_f›lds
 
as
 
$f›ldName
 => 
$f›ldA‰rs
) {

246 
$f›ldTy³
 = 
$f›ldA‰rs
['FieldType'];

247 
$f›ldV®ue
 = 
$f›ldA‰rs
['FieldValue'];

248 
$ÃwP»fix
 = 
$´efix
 . 
$f›ldName
 . '.';

249 
$cu¼’tA¼
 = 
$this
->
	`__toQu”yP¬am‘”A¼ay
(
$ÃwP»fix
, 
$f›ldTy³
, 
$f›ldV®ue
, 
$f›ldA‰rs
);

250 
$¬r
 = 
	`¬¿y_m”ge
($¬r, 
$cu¼’tA¼
);

252  
$¬r
;

253 
	}
}

255 
´iv©e
 
funùiÚ
 
	$__toQu”yP¬am‘”A¼ay
(
$´efix
, 
$f›ldTy³
, 
$f›ldV®ue
, 
$f›ldA‰rs
) {

256 
$¬r
 = 
	`¬¿y
();

257 if(
	`is_¬¿y
(
$f›ldTy³
)) {

258 if(
	`is£t
(
$f›ldA‰rs
['ListMemberName'])) {

259 
$li¡Memb”Name
 = 
$f›ldA‰rs
['ListMemberName'];

260 
$™emP»fix
 = 
$´efix
 . 
$li¡Memb”Name
 . '.';

262 
$™emP»fix
 = 
$´efix
;

265 
$i
 = 1; $˜<ğ
	`couÁ
(
$f›ldV®ue
); $i++) {

266 
$šdexedP»fix
 = 
$™emP»fix
 . 
$i
 . '.';

267 
$memb”Ty³
 = 
$f›ldTy³
[0];

268 
$¬r
 = 
	`¬¿y_m”ge
($arr,

269 
$this
->
	`__toQu”yP¬am‘”A¼ay
(
$šdexedP»fix
,

270 
$memb”Ty³
, 
$f›ldV®ue
[
$i
 - 1], 
nuÎ
));

273 } if(
$this
->
	`_isCom¶exTy³
(
$f›ldTy³
)) {

275 if(
	`is£t
(
$f›ldV®ue
)) {

276 
$¬r
 = 
	`¬¿y_m”ge
($¬r, 
$f›ldV®ue
->
	`_toQu”yP¬am‘”A¼ay
(
$´efix
));

280 ià(
$f›ldV®ue
!==
nuÎ
 && $fieldValue!=="") {

281 ià(
$f›ldTy³
=='bool') {

282 
$f›ldV®ue
 = ($fieldValue)?'true':'false';

284 
$¬r
[
	`¹rim
(
$´efix
, '.')] = 
$f›ldV®ue
;

287  
$¬r
;

288 
	}
}

296 
´Ùeùed
 
funùiÚ
 
	$_toXMLF¿gm’t
()

298 
$xml
 = "";

299 
	`fÜ—ch
 (
$this
->
_f›lds
 
as
 
$f›ldName
 => 
$f›ld
) {

300 
$f›ldV®ue
 = 
$f›ld
['FieldValue'];

301 ià(!
	`is_nuÎ
(
$f›ldV®ue
è&& 
$f›ld
['FieldType'] != "MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata") {

302 
$f›ldTy³
 = 
$f›ld
['FieldType'];

303 ià(
	`is_¬¿y
(
$f›ldTy³
)) {

304 ià(
$f›ldTy³
[0] == "object") {

305 
	`fÜ—ch
 (
$f›ldV®ue
 
as
 
$™em
) {

306 
$ÃwDoc
 = 
Ãw
 
	`DOMDocum’t
();

307 
$impÜ‹dNode
 = 
$ÃwDoc
->
	`impÜtNode
(
$™em
, 
Œue
);

308 
$ÃwDoc
->
	`­³ndChd
(
$impÜ‹dNode
);

309 
$xmlSŒ
 = 
$ÃwDoc
->
	`§veXML
();

310 
$xmlSŒ
 = 
	`sub¡r
($xmlSŒ, 
	`¡½os
($xmlStr, "?>") + 2);

311 
$xml
 .ğ
	`Œim
(
$xmlSŒ
);

313 } ià(
$this
->
	`_isCom¶exTy³
(
$f›ldTy³
[0])) {

314 ià(
	`is£t
(
$f›ld
['ListMemberName'])) {

315 
$memb”Name
 = 
$f›ld
['ListMemberName'];

316 
$xml
 .= "<$fieldName>";

317 
	`fÜ—ch
 (
$f›ldV®ue
 
as
 
$™em
) {

318 
$xml
 .= "<$memberName>";

319 
$xml
 .ğ
$™em
->
	`_toXMLF¿gm’t
();

320 
$xml
 .= "</$memberName>";

322 
$xml
 .= "</$fieldName>";

324 
	`fÜ—ch
 (
$f›ldV®ue
 
as
 
$™em
) {

325 
$xml
 .= "<$fieldName";

326 
$xml
 .ğ
$™em
->
	`_g‘A‰ribu‹s
();

327 
$xml
 .= ">";

328 
$xml
 .ğ
$™em
->
	`_toXMLF¿gm’t
();

329 
$xml
 .= "</$fieldName>";

333 if(
	`is£t
(
$f›ld
['ListMemberName'])) {

334 
$memb”Name
 = 
$f›ld
['ListMemberName'];

335 
$xml
 .= "<$fieldName>";

336 
	`fÜ—ch
 (
$f›ldV®ue
 
as
 
$™em
) {

337 
$xml
 .= "<$memberName>";

338 
$xml
 .ğ
$this
->
	`_esÿ³XML
(
$™em
);

339 
$xml
 .= "</$memberName>";

341 
$xml
 .= "</$fieldName>";

343 
	`fÜ—ch
 (
$f›ldV®ue
 
as
 
$™em
) {

344 
$xml
 .= "<$fieldName>";

345 
$xml
 .ğ
$this
->
	`_esÿ³XML
(
$™em
);

346 
$xml
 .= "</$fieldName>";

351 ià(
$this
->
	`_isCom¶exTy³
(
$f›ldTy³
)) {

352 
$xml
 .= "<$fieldName";

353 
$xml
 .ğ
$f›ldV®ue
->
	`_g‘A‰ribu‹s
();

354 
$xml
 .= ">";

355 
$xml
 .ğ
$f›ldV®ue
->
	`_toXMLF¿gm’t
();

356 
$xml
 .= "</$fieldName>";

357 } if(
$f›ldTy³
[0] == ".") {

358 
$xml
 .ğ
$this
->
	`_esÿ³XML
(
$f›ldV®ue
);

359 } if(
$f›ldTy³
[0] != "@") {

360 
$xml
 .= "<$fieldName>";

361 
$xml
 .ğ
$this
->
	`_esÿ³XML
(
$f›ldV®ue
);

362 
$xml
 .= "</$fieldName>";

367  
$xml
;

368 
	}
}

370 
´Ùeùed
 
funùiÚ
 
	$_g‘A‰ribu‹s
() {

371 
$xml
 = "";

372 
	`fÜ—ch
 (
$this
->
_f›lds
 
as
 
$f›ldName
 => 
$f›ld
) {

373 
$f›ldV®ue
 = 
$f›ld
['FieldValue'];

374 ià(!
	`is_nuÎ
(
$f›ldV®ue
)) {

375 
$f›ldTy³
 = 
$f›ld
['FieldType'];

376 if(
$f›ldTy³
[0] == "@") {

377 
$xml
 .ğ" " . 
$f›ldName
 . "='" . 
$this
->
	`_esÿ³XML
(
$f›ldV®ue
) . "'";

381  
$xml
;

382 
	}
}

388 
´iv©e
 
funùiÚ
 
	$_esÿ³XML
(
$¡r
)

390 
$äom
 = 
	`¬¿y
( "&", "<", ">", "'", "\"");

391 
$to
 = 
	`¬¿y
( "&amp;", "&lt;", "&gt;", "&#039;", "&quot;");

392  
	`¡r_»¶aû
(
$äom
, 
$to
, 
$¡r
);

393 
	}
}

400 
´iv©e
 
funùiÚ
 
	$_isCom¶exTy³
 (
$f›ldTy³
)

402  
	`´eg_m©ch
("/^M¬k‘¶aûWebS”viûProduùs_/", 
$f›ldTy³
);

403 
	}
}

411 
´iv©e
 
funùiÚ
 
	$_isAssocŸtiveA¼ay
(
$v¬
)

413  
	`is_¬¿y
(
$v¬
è&& 
	`¬¿y_keys
($v¬è!=ğ
	`¿nge
(0, ($var) - 1);

414 
	}
}

422 
´iv©e
 
funùiÚ
 
	$_isDOMEËm’t
(
$v¬
)

424  
$v¬
 
š¡ªûof
 
DOMEËm’t
;

425 
	}
}

433 
´Ùeùed
 
funùiÚ
 
	$_isNum”icA¼ay
(
$v¬
)

435 ià(!
	`is_¬¿y
(
$v¬
))

437  
çl£
;

439 
$sz
 = (
$v¬
);

440  (
$sz
===0 || 
	`¬¿y_keys
(
$v¬
è==ğ
	`¿nge
(0, ($var) - 1));

441 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINIdentifier.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_ASINId’tif›r
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

57  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

68 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

92 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘ASIN
()

103  
$this
->
_f›lds
['ASIN']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

114 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘ASIN
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

138 
$this
->
	`£tASIN
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINListType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'ASIN' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('string')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘ASIN
()

55 ià(
$this
->
_f›lds
['ASIN']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['ASIN']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tASIN
()

82 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘ASIN
()

92  !
	`em±y
(
$this
->
_f›lds
['ASIN']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hASIN
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$ASIN
)

107 
$this
->
_f›lds
['ASIN']['F›ldV®ue'][] = 
$ASIN
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINOfferDetail.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

47 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_ASINOfãrD‘a
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

49 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

51 
$this
->
_f›lds
 = 
	`¬¿y
 (

52 'SubCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 'S–ËrF“dbackR©šg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SellerFeedbackType'),

54 'ShpšgTime' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_DetailedShippingTimeType'),

55 'Li¡šgPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

56 'Pošts' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Points'),

57 'Shpšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

58 'ShsFrom' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ShipsFromType'),

59 'IsFulfËdByAmazÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

60 'IsBuyBoxWšÃr' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

61 'IsF—tu»dM”chªt' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

63 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

71 
public
 
funùiÚ
 
	$g‘SubCÚd™iÚ
()

73  
$this
->
_f›lds
['SubCondition']['FieldValue'];

74 
	}
}

82 
public
 
funùiÚ
 
	$£tSubCÚd™iÚ
(
$v®ue
)

84 
$this
->
_f›lds
['SubCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

85  
$this
;

86 
	}
}

93 
public
 
funùiÚ
 
	$isS‘SubCÚd™iÚ
()

95  !
	`is_nuÎ
(
$this
->
_f›lds
['SubCondition']['FieldValue']);

96 
	}
}

106 
public
 
funùiÚ
 
	$w™hSubCÚd™iÚ
(
$v®ue
)

108 
$this
->
	`£tSubCÚd™iÚ
(
$v®ue
);

109  
$this
;

110 
	}
}

117 
public
 
funùiÚ
 
	$g‘S–ËrF“dbackR©šg
()

119  
$this
->
_f›lds
['SellerFeedbackRating']['FieldValue'];

120 
	}
}

128 
public
 
funùiÚ
 
	$£tS–ËrF“dbackR©šg
(
$v®ue
)

130 
$this
->
_f›lds
['S–ËrF“dbackR©šg']['F›ldV®ue'] = 
$v®ue
;

131  
$this
;

132 
	}
}

139 
public
 
funùiÚ
 
	$isS‘S–ËrF“dbackR©šg
()

141  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerFeedbackRating']['FieldValue']);

142 
	}
}

152 
public
 
funùiÚ
 
	$w™hS–ËrF“dbackR©šg
(
$v®ue
)

154 
$this
->
	`£tS–ËrF“dbackR©šg
(
$v®ue
);

155  
$this
;

156 
	}
}

163 
public
 
funùiÚ
 
	$g‘ShpšgTime
()

165  
$this
->
_f›lds
['ShippingTime']['FieldValue'];

166 
	}
}

174 
public
 
funùiÚ
 
	$£tShpšgTime
(
$v®ue
)

176 
$this
->
_f›lds
['ShpšgTime']['F›ldV®ue'] = 
$v®ue
;

177  
$this
;

178 
	}
}

185 
public
 
funùiÚ
 
	$isS‘ShpšgTime
()

187  !
	`is_nuÎ
(
$this
->
_f›lds
['ShippingTime']['FieldValue']);

188 
	}
}

198 
public
 
funùiÚ
 
	$w™hShpšgTime
(
$v®ue
)

200 
$this
->
	`£tShpšgTime
(
$v®ue
);

201  
$this
;

202 
	}
}

209 
public
 
funùiÚ
 
	$g‘Li¡šgPriû
()

211  
$this
->
_f›lds
['ListingPrice']['FieldValue'];

212 
	}
}

220 
public
 
funùiÚ
 
	$£tLi¡šgPriû
(
$v®ue
)

222 
$this
->
_f›lds
['Li¡šgPriû']['F›ldV®ue'] = 
$v®ue
;

223  
$this
;

224 
	}
}

231 
public
 
funùiÚ
 
	$isS‘Li¡šgPriû
()

233  !
	`is_nuÎ
(
$this
->
_f›lds
['ListingPrice']['FieldValue']);

234 
	}
}

244 
public
 
funùiÚ
 
	$w™hLi¡šgPriû
(
$v®ue
)

246 
$this
->
	`£tLi¡šgPriû
(
$v®ue
);

247  
$this
;

248 
	}
}

255 
public
 
funùiÚ
 
	$g‘Pošts
()

257  
$this
->
_f›lds
['Points']['FieldValue'];

258 
	}
}

266 
public
 
funùiÚ
 
	$£tPošts
(
$v®ue
)

268 
$this
->
_f›lds
['Pošts']['F›ldV®ue'] = 
$v®ue
;

269  
$this
;

270 
	}
}

277 
public
 
funùiÚ
 
	$isS‘Pošts
()

279  !
	`is_nuÎ
(
$this
->
_f›lds
['Points']['FieldValue']);

280 
	}
}

290 
public
 
funùiÚ
 
	$w™hPošts
(
$v®ue
)

292 
$this
->
	`£tPošts
(
$v®ue
);

293  
$this
;

294 
	}
}

301 
public
 
funùiÚ
 
	$g‘Shpšg
()

303  
$this
->
_f›lds
['Shipping']['FieldValue'];

304 
	}
}

312 
public
 
funùiÚ
 
	$£tShpšg
(
$v®ue
)

314 
$this
->
_f›lds
['Shpšg']['F›ldV®ue'] = 
$v®ue
;

315  
$this
;

316 
	}
}

323 
public
 
funùiÚ
 
	$isS‘Shpšg
()

325  !
	`is_nuÎ
(
$this
->
_f›lds
['Shipping']['FieldValue']);

326 
	}
}

336 
public
 
funùiÚ
 
	$w™hShpšg
(
$v®ue
)

338 
$this
->
	`£tShpšg
(
$v®ue
);

339  
$this
;

340 
	}
}

347 
public
 
funùiÚ
 
	$g‘ShsFrom
()

349  
$this
->
_f›lds
['ShipsFrom']['FieldValue'];

350 
	}
}

358 
public
 
funùiÚ
 
	$£tShsFrom
(
$v®ue
)

360 
$this
->
_f›lds
['ShsFrom']['F›ldV®ue'] = 
$v®ue
;

361  
$this
;

362 
	}
}

369 
public
 
funùiÚ
 
	$isS‘ShsFrom
()

371  !
	`is_nuÎ
(
$this
->
_f›lds
['ShipsFrom']['FieldValue']);

372 
	}
}

382 
public
 
funùiÚ
 
	$w™hShsFrom
(
$v®ue
)

384 
$this
->
	`£tShsFrom
(
$v®ue
);

385  
$this
;

386 
	}
}

393 
public
 
funùiÚ
 
	$isIsFulfËdByAmazÚ
()

395  
$this
->
_f›lds
['IsFulfilledByAmazon']['FieldValue'];

396 
	}
}

403 
public
 
funùiÚ
 
	$g‘IsFulfËdByAmazÚ
()

405  
$this
->
_f›lds
['IsFulfilledByAmazon']['FieldValue'];

406 
	}
}

414 
public
 
funùiÚ
 
	$£tIsFulfËdByAmazÚ
(
$v®ue
)

416 
$this
->
_f›lds
['IsFulfËdByAmazÚ']['F›ldV®ue'] = 
$v®ue
;

417  
$this
;

418 
	}
}

425 
public
 
funùiÚ
 
	$isS‘IsFulfËdByAmazÚ
()

427  !
	`is_nuÎ
(
$this
->
_f›lds
['IsFulfilledByAmazon']['FieldValue']);

428 
	}
}

438 
public
 
funùiÚ
 
	$w™hIsFulfËdByAmazÚ
(
$v®ue
)

440 
$this
->
	`£tIsFulfËdByAmazÚ
(
$v®ue
);

441  
$this
;

442 
	}
}

449 
public
 
funùiÚ
 
	$isIsBuyBoxWšÃr
()

451  !
	`is_nuÎ
(
$this
->
_f›lds
['IsBuyBoxWinner']['FieldValue']) && $this->_fields['IsBuyBoxWinner']['FieldValue'];

452 
	}
}

459 
public
 
funùiÚ
 
	$g‘IsBuyBoxWšÃr
()

461  
$this
->
_f›lds
['IsBuyBoxWinner']['FieldValue'];

462 
	}
}

470 
public
 
funùiÚ
 
	$£tIsBuyBoxWšÃr
(
$v®ue
)

472 
$this
->
_f›lds
['IsBuyBoxWšÃr']['F›ldV®ue'] = 
$v®ue
;

473  
$this
;

474 
	}
}

481 
public
 
funùiÚ
 
	$isS‘IsBuyBoxWšÃr
()

483  !
	`is_nuÎ
(
$this
->
_f›lds
['IsBuyBoxWinner']['FieldValue']);

484 
	}
}

494 
public
 
funùiÚ
 
	$w™hIsBuyBoxWšÃr
(
$v®ue
)

496 
$this
->
	`£tIsBuyBoxWšÃr
(
$v®ue
);

497  
$this
;

498 
	}
}

505 
public
 
funùiÚ
 
	$isIsF—tu»dM”chªt
()

507  !
	`is_nuÎ
(
$this
->
_f›lds
['IsFeaturedMerchant']['FieldValue']) && $this->_fields['IsFeaturedMerchant']['FieldValue'];

508 
	}
}

515 
public
 
funùiÚ
 
	$g‘IsF—tu»dM”chªt
()

517  
$this
->
_f›lds
['IsFeaturedMerchant']['FieldValue'];

518 
	}
}

526 
public
 
funùiÚ
 
	$£tIsF—tu»dM”chªt
(
$v®ue
)

528 
$this
->
_f›lds
['IsF—tu»dM”chªt']['F›ldV®ue'] = 
$v®ue
;

529  
$this
;

530 
	}
}

537 
public
 
funùiÚ
 
	$isS‘IsF—tu»dM”chªt
()

539  !
	`is_nuÎ
(
$this
->
_f›lds
['IsFeaturedMerchant']['FieldValue']);

540 
	}
}

550 
public
 
funùiÚ
 
	$w™hIsF—tu»dM”chªt
(
$v®ue
)

552 
$this
->
	`£tIsF—tu»dM”chªt
(
$v®ue
);

553  
$this
;

554 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINOfferDetailList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_ASINOfãrD‘aLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Ofãr' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_ASINOfferDetail')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Ofãr
()

55 ià(
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Offer']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tOfãr
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tOfãr
()

82 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Ofãr
()

92  !
	`em±y
(
$this
->
_f›lds
['Offer']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hOfãr
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Ofãr
)

107 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'][] = 
$Ofãr
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/AttributeSetList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_A‰ribu‹S‘Li¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Any' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('object')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Any
()

55 ià(
$this
->
_f›lds
['Any']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Any']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tAny
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tAny
()

82 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Any
()

92  !
	`em±y
(
$this
->
_f›lds
['Any']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hAny
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Any
)

107 
$this
->
_f›lds
['Any']['F›ldV®ue'][] = 
$Any
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/BuyBoxEligibleOffers.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_BuyBoxEligibËOfãrs
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'OfãrCouÁ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_OfferCountType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘OfãrCouÁ
()

55 ià(
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['OfferCount']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tOfãrCouÁ
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tOfãrCouÁ
()

82 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘OfãrCouÁ
()

92  !
	`em±y
(
$this
->
_f›lds
['OfferCount']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hOfãrCouÁ
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$OfãrCouÁ
)

107 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'][] = 
$OfãrCouÁ
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/BuyBoxPriceType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_BuyBoxPriûTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'cÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

48 'LªdedPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

49 'Li¡šgPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

50 'Shpšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

51 'Pošts' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Points'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘cÚd™iÚ
()

63  
$this
->
_f›lds
['condition']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tcÚd™iÚ
(
$v®ue
)

74 
$this
->
_f›lds
['cÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘cÚd™iÚ
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['condition']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hcÚd™iÚ
(
$v®ue
)

98 
$this
->
	`£tcÚd™iÚ
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘LªdedPriû
()

109  
$this
->
_f›lds
['LandedPrice']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tLªdedPriû
(
$v®ue
)

120 
$this
->
_f›lds
['LªdedPriû']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘LªdedPriû
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['LandedPrice']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hLªdedPriû
(
$v®ue
)

144 
$this
->
	`£tLªdedPriû
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘Li¡šgPriû
()

155  
$this
->
_f›lds
['ListingPrice']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tLi¡šgPriû
(
$v®ue
)

166 
$this
->
_f›lds
['Li¡šgPriû']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘Li¡šgPriû
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['ListingPrice']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hLi¡šgPriû
(
$v®ue
)

190 
$this
->
	`£tLi¡šgPriû
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘Shpšg
()

201  
$this
->
_f›lds
['Shipping']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tShpšg
(
$v®ue
)

212 
$this
->
_f›lds
['Shpšg']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘Shpšg
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['Shipping']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hShpšg
(
$v®ue
)

236 
$this
->
	`£tShpšg
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$g‘Pošts
()

247  
$this
->
_f›lds
['Points']['FieldValue'];

248 
	}
}

256 
public
 
funùiÚ
 
	$£tPošts
(
$v®ue
)

258 
$this
->
_f›lds
['Pošts']['F›ldV®ue'] = 
$v®ue
;

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$isS‘Pošts
()

269  !
	`is_nuÎ
(
$this
->
_f›lds
['Points']['FieldValue']);

270 
	}
}

280 
public
 
funùiÚ
 
	$w™hPošts
(
$v®ue
)

282 
$this
->
	`£tPošts
(
$v®ue
);

283  
$this
;

284 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/BuyBoxPrices.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_BuyBoxPriûs
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'BuyBoxPriû' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_BuyBoxPriceType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘BuyBoxPriû
()

55 ià(
$this
->
_f›lds
['BuyBoxPriû']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['BuyBoxPriû']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['BuyBoxPrice']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tBuyBoxPriû
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['BuyBoxPriû']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tBuyBoxPriû
()

82 
$this
->
_f›lds
['BuyBoxPriû']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘BuyBoxPriû
()

92  !
	`em±y
(
$this
->
_f›lds
['BuyBoxPrice']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hBuyBoxPriû
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$BuyBoxPriû
)

107 
$this
->
_f›lds
['BuyBoxPriû']['F›ldV®ue'][] = 
$BuyBoxPriû
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/Categories.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_C©egÜ›s
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'ProduùC©egÜyId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

46 'ProduùC©egÜyName' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'P¬’t' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Categories'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘ProduùC©egÜyId
()

59  
$this
->
_f›lds
['ProductCategoryId']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tProduùC©egÜyId
(
$v®ue
)

70 
$this
->
_f›lds
['ProduùC©egÜyId']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘ProduùC©egÜyId
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['ProductCategoryId']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hProduùC©egÜyId
(
$v®ue
)

94 
$this
->
	`£tProduùC©egÜyId
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘ProduùC©egÜyName
()

105  
$this
->
_f›lds
['ProductCategoryName']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tProduùC©egÜyName
(
$v®ue
)

116 
$this
->
_f›lds
['ProduùC©egÜyName']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘ProduùC©egÜyName
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ProductCategoryName']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hProduùC©egÜyName
(
$v®ue
)

140 
$this
->
	`£tProduùC©egÜyName
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘P¬’t
()

151  
$this
->
_f›lds
['Parent']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tP¬’t
(
$v®ue
)

162 
$this
->
_f›lds
['P¬’t']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘P¬’t
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['Parent']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hP¬’t
(
$v®ue
)

186 
$this
->
	`£tP¬’t
(
$v®ue
);

187  
$this
;

188 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/CompetitivePriceList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Com³t™ivePriûLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Com³t™ivePriû' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_CompetitivePriceType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Com³t™ivePriû
()

55 ià(
$this
->
_f›lds
['Com³t™ivePriû']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Com³t™ivePriû']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['CompetitivePrice']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tCom³t™ivePriû
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Com³t™ivePriû']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tCom³t™ivePriû
()

82 
$this
->
_f›lds
['Com³t™ivePriû']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Com³t™ivePriû
()

92  !
	`em±y
(
$this
->
_f›lds
['CompetitivePrice']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hCom³t™ivePriû
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Com³t™ivePriû
)

107 
$this
->
_f›lds
['Com³t™ivePriû']['F›ldV®ue'][] = 
$Com³t™ivePriû
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/CompetitivePriceType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Com³t™ivePriûTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'Com³t™ivePriûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'Priû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_PriceType'),

49 'cÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

50 'subcÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 'b–ÚgsToReque¡”' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@bool'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘Com³t™ivePriûId
()

63  
$this
->
_f›lds
['CompetitivePriceId']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tCom³t™ivePriûId
(
$v®ue
)

74 
$this
->
_f›lds
['Com³t™ivePriûId']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘Com³t™ivePriûId
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['CompetitivePriceId']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hCom³t™ivePriûId
(
$v®ue
)

98 
$this
->
	`£tCom³t™ivePriûId
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘Priû
()

109  
$this
->
_f›lds
['Price']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tPriû
(
$v®ue
)

120 
$this
->
_f›lds
['Priû']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘Priû
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['Price']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hPriû
(
$v®ue
)

144 
$this
->
	`£tPriû
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘cÚd™iÚ
()

155  
$this
->
_f›lds
['condition']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tcÚd™iÚ
(
$v®ue
)

166 
$this
->
_f›lds
['cÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘cÚd™iÚ
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['condition']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hcÚd™iÚ
(
$v®ue
)

190 
$this
->
	`£tcÚd™iÚ
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘subcÚd™iÚ
()

201  
$this
->
_f›lds
['subcondition']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tsubcÚd™iÚ
(
$v®ue
)

212 
$this
->
_f›lds
['subcÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘subcÚd™iÚ
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['subcondition']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hsubcÚd™iÚ
(
$v®ue
)

236 
$this
->
	`£tsubcÚd™iÚ
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$isb–ÚgsToReque¡”
()

247  !
	`is_nuÎ
(
$this
->
_f›lds
['belongsToRequester']['FieldValue']) && $this->_fields['belongsToRequester']['FieldValue'];

248 
	}
}

255 
public
 
funùiÚ
 
	$g‘b–ÚgsToReque¡”
()

257  
$this
->
_f›lds
['belongsToRequester']['FieldValue'];

258 
	}
}

266 
public
 
funùiÚ
 
	$£tb–ÚgsToReque¡”
(
$v®ue
)

268 
$this
->
_f›lds
['b–ÚgsToReque¡”']['F›ldV®ue'] = 
$v®ue
;

269  
$this
;

270 
	}
}

277 
public
 
funùiÚ
 
	$isS‘b–ÚgsToReque¡”
()

279  !
	`is_nuÎ
(
$this
->
_f›lds
['belongsToRequester']['FieldValue']);

280 
	}
}

290 
public
 
funùiÚ
 
	$w™hb–ÚgsToReque¡”
(
$v®ue
)

292 
$this
->
	`£tb–ÚgsToReque¡”
(
$v®ue
);

293  
$this
;

294 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/CompetitivePricingType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Com³t™ivePricšgTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'Com³t™ivePriûs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_CompetitivePriceList'),

46 'Numb”OfOfãrLi¡šgs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_NumberOfOfferListingsList'),

47 'T¿deInV®ue' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘Com³t™ivePriûs
()

59  
$this
->
_f›lds
['CompetitivePrices']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tCom³t™ivePriûs
(
$v®ue
)

70 
$this
->
_f›lds
['Com³t™ivePriûs']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘Com³t™ivePriûs
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['CompetitivePrices']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hCom³t™ivePriûs
(
$v®ue
)

94 
$this
->
	`£tCom³t™ivePriûs
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Numb”OfOfãrLi¡šgs
()

105  
$this
->
_f›lds
['NumberOfOfferListings']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tNumb”OfOfãrLi¡šgs
(
$v®ue
)

116 
$this
->
_f›lds
['Numb”OfOfãrLi¡šgs']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Numb”OfOfãrLi¡šgs
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['NumberOfOfferListings']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hNumb”OfOfãrLi¡šgs
(
$v®ue
)

140 
$this
->
	`£tNumb”OfOfãrLi¡šgs
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘T¿deInV®ue
()

151  
$this
->
_f›lds
['TradeInValue']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tT¿deInV®ue
(
$v®ue
)

162 
$this
->
_f›lds
['T¿deInV®ue']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘T¿deInV®ue
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['TradeInValue']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hT¿deInV®ue
(
$v®ue
)

186 
$this
->
	`£tT¿deInV®ue
(
$v®ue
);

187  
$this
;

188 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/DetailedShippingTimeType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_D‘aedShpšgTimeTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'mšimumHours' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@int'),

47 'maximumHours' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@int'),

48 'avaabËD©e' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

49 'avaab™yTy³' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘mšimumHours
()

61  
$this
->
_f›lds
['minimumHours']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tmšimumHours
(
$v®ue
)

72 
$this
->
_f›lds
['mšimumHours']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘mšimumHours
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['minimumHours']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hmšimumHours
(
$v®ue
)

96 
$this
->
	`£tmšimumHours
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘maximumHours
()

107  
$this
->
_f›lds
['maximumHours']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tmaximumHours
(
$v®ue
)

118 
$this
->
_f›lds
['maximumHours']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘maximumHours
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['maximumHours']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hmaximumHours
(
$v®ue
)

142 
$this
->
	`£tmaximumHours
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘avaabËD©e
()

153  
$this
->
_f›lds
['availableDate']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£vaabËD©e
(
$v®ue
)

164 
$this
->
_f›lds
['avaabËD©e']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘avaabËD©e
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['availableDate']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™havaabËD©e
(
$v®ue
)

188 
$this
->
	`£vaabËD©e
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘avaab™yTy³
()

199  
$this
->
_f›lds
['availabilityType']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£vaab™yTy³
(
$v®ue
)

210 
$this
->
_f›lds
['avaab™yTy³']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘avaab™yTy³
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['availabilityType']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™havaab™yTy³
(
$v®ue
)

234 
$this
->
	`£vaab™yTy³
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/Error.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_E¼Ü
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Ty³' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'Code' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'Mes§ge' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'D‘a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ErrorDetail'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Ty³
()

61  
$this
->
_f›lds
['Type']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tTy³
(
$v®ue
)

72 
$this
->
_f›lds
['Ty³']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Ty³
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Type']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hTy³
(
$v®ue
)

96 
$this
->
	`£tTy³
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘Code
()

107  
$this
->
_f›lds
['Code']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tCode
(
$v®ue
)

118 
$this
->
_f›lds
['Code']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘Code
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['Code']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hCode
(
$v®ue
)

142 
$this
->
	`£tCode
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘Mes§ge
()

153  
$this
->
_f›lds
['Message']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tMes§ge
(
$v®ue
)

164 
$this
->
_f›lds
['Mes§ge']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘Mes§ge
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['Message']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hMes§ge
(
$v®ue
)

188 
$this
->
	`£tMes§ge
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘D‘a
()

199  
$this
->
_f›lds
['Detail']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tD‘a
(
$v®ue
)

210 
$this
->
_f›lds
['D‘a']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘D‘a
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['Detail']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hD‘a
(
$v®ue
)

234 
$this
->
	`£tD‘a
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ErrorDetail.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_E¼ÜD‘a
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Any' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('object')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Any
()

55 ià(
$this
->
_f›lds
['Any']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Any']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tAny
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tAny
()

82 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Any
()

92  !
	`em±y
(
$this
->
_f›lds
['Any']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hAny
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Any
)

107 
$this
->
_f›lds
['Any']['F›ldV®ue'][] = 
$Any
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeeDetail.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

43 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“D‘a
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

45 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

47 
$this
->
_f›lds
 = 
	`¬¿y
 (

48 'F“Ty³' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'F“AmouÁ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

50 'F“PromÙiÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

51 'TaxAmouÁ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

52 'Fš®F“' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

53 'InşudedF“D‘aLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_FeeDetailList'),

55 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

63 
public
 
funùiÚ
 
	$g‘F“Ty³
()

65  
$this
->
_f›lds
['FeeType']['FieldValue'];

66 
	}
}

74 
public
 
funùiÚ
 
	$£tF“Ty³
(
$v®ue
)

76 
$this
->
_f›lds
['F“Ty³']['F›ldV®ue'] = 
$v®ue
;

77  
$this
;

78 
	}
}

85 
public
 
funùiÚ
 
	$isS‘F“Ty³
()

87  !
	`is_nuÎ
(
$this
->
_f›lds
['FeeType']['FieldValue']);

88 
	}
}

98 
public
 
funùiÚ
 
	$w™hF“Ty³
(
$v®ue
)

100 
$this
->
	`£tF“Ty³
(
$v®ue
);

101  
$this
;

102 
	}
}

109 
public
 
funùiÚ
 
	$g‘F“AmouÁ
()

111  
$this
->
_f›lds
['FeeAmount']['FieldValue'];

112 
	}
}

120 
public
 
funùiÚ
 
	$£tF“AmouÁ
(
$v®ue
)

122 
$this
->
_f›lds
['F“AmouÁ']['F›ldV®ue'] = 
$v®ue
;

123  
$this
;

124 
	}
}

131 
public
 
funùiÚ
 
	$isS‘F“AmouÁ
()

133  !
	`is_nuÎ
(
$this
->
_f›lds
['FeeAmount']['FieldValue']);

134 
	}
}

144 
public
 
funùiÚ
 
	$w™hF“AmouÁ
(
$v®ue
)

146 
$this
->
	`£tF“AmouÁ
(
$v®ue
);

147  
$this
;

148 
	}
}

155 
public
 
funùiÚ
 
	$g‘F“PromÙiÚ
()

157  
$this
->
_f›lds
['FeePromotion']['FieldValue'];

158 
	}
}

166 
public
 
funùiÚ
 
	$£tF“PromÙiÚ
(
$v®ue
)

168 
$this
->
_f›lds
['F“PromÙiÚ']['F›ldV®ue'] = 
$v®ue
;

169  
$this
;

170 
	}
}

177 
public
 
funùiÚ
 
	$isS‘F“PromÙiÚ
()

179  !
	`is_nuÎ
(
$this
->
_f›lds
['FeePromotion']['FieldValue']);

180 
	}
}

190 
public
 
funùiÚ
 
	$w™hF“PromÙiÚ
(
$v®ue
)

192 
$this
->
	`£tF“PromÙiÚ
(
$v®ue
);

193  
$this
;

194 
	}
}

201 
public
 
funùiÚ
 
	$g‘TaxAmouÁ
()

203  
$this
->
_f›lds
['TaxAmount']['FieldValue'];

204 
	}
}

212 
public
 
funùiÚ
 
	$£tTaxAmouÁ
(
$v®ue
)

214 
$this
->
_f›lds
['TaxAmouÁ']['F›ldV®ue'] = 
$v®ue
;

215  
$this
;

216 
	}
}

223 
public
 
funùiÚ
 
	$isS‘TaxAmouÁ
()

225  !
	`is_nuÎ
(
$this
->
_f›lds
['TaxAmount']['FieldValue']);

226 
	}
}

236 
public
 
funùiÚ
 
	$w™hTaxAmouÁ
(
$v®ue
)

238 
$this
->
	`£tTaxAmouÁ
(
$v®ue
);

239  
$this
;

240 
	}
}

247 
public
 
funùiÚ
 
	$g‘Fš®F“
()

249  
$this
->
_f›lds
['FinalFee']['FieldValue'];

250 
	}
}

258 
public
 
funùiÚ
 
	$£tFš®F“
(
$v®ue
)

260 
$this
->
_f›lds
['Fš®F“']['F›ldV®ue'] = 
$v®ue
;

261  
$this
;

262 
	}
}

269 
public
 
funùiÚ
 
	$isS‘Fš®F“
()

271  !
	`is_nuÎ
(
$this
->
_f›lds
['FinalFee']['FieldValue']);

272 
	}
}

282 
public
 
funùiÚ
 
	$w™hFš®F“
(
$v®ue
)

284 
$this
->
	`£tFš®F“
(
$v®ue
);

285  
$this
;

286 
	}
}

293 
public
 
funùiÚ
 
	$g‘InşudedF“D‘aLi¡
()

295  
$this
->
_f›lds
['IncludedFeeDetailList']['FieldValue'];

296 
	}
}

304 
public
 
funùiÚ
 
	$£tInşudedF“D‘aLi¡
(
$v®ue
)

306 
$this
->
_f›lds
['InşudedF“D‘aLi¡']['F›ldV®ue'] = 
$v®ue
;

307  
$this
;

308 
	}
}

315 
public
 
funùiÚ
 
	$isS‘InşudedF“D‘aLi¡
()

317  !
	`is_nuÎ
(
$this
->
_f›lds
['IncludedFeeDetailList']['FieldValue']);

318 
	}
}

328 
public
 
funùiÚ
 
	$w™hInşudedF“D‘aLi¡
(
$v®ue
)

330 
$this
->
	`£tInşudedF“D‘aLi¡
(
$v®ue
);

331  
$this
;

332 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeeDetailList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“D‘aLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'F“D‘a' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_FeeDetail')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘F“D‘a
()

55 ià(
$this
->
_f›lds
['F“D‘a']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['F“D‘a']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['FeeDetail']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tF“D‘a
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['F“D‘a']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tF“D‘a
()

82 
$this
->
_f›lds
['F“D‘a']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘F“D‘a
()

92  !
	`em±y
(
$this
->
_f›lds
['FeeDetail']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hF“D‘a
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$F“D‘a
)

107 
$this
->
_f›lds
['F“D‘a']['F›ldV®ue'][] = 
$F“D‘a
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimate.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“sE¡im©e
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'TimeOfF“sE¡im©iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

46 'TÙ®F“sE¡im©e' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

47 'F“D‘aLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_FeeDetailList'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘TimeOfF“sE¡im©iÚ
()

59  
$this
->
_f›lds
['TimeOfFeesEstimation']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tTimeOfF“sE¡im©iÚ
(
$v®ue
)

70 
$this
->
_f›lds
['TimeOfF“sE¡im©iÚ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘TimeOfF“sE¡im©iÚ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['TimeOfFeesEstimation']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hTimeOfF“sE¡im©iÚ
(
$v®ue
)

94 
$this
->
	`£tTimeOfF“sE¡im©iÚ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘TÙ®F“sE¡im©e
()

105  
$this
->
_f›lds
['TotalFeesEstimate']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tTÙ®F“sE¡im©e
(
$v®ue
)

116 
$this
->
_f›lds
['TÙ®F“sE¡im©e']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘TÙ®F“sE¡im©e
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['TotalFeesEstimate']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hTÙ®F“sE¡im©e
(
$v®ue
)

140 
$this
->
	`£tTÙ®F“sE¡im©e
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘F“D‘aLi¡
()

151  
$this
->
_f›lds
['FeeDetailList']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tF“D‘aLi¡
(
$v®ue
)

162 
$this
->
_f›lds
['F“D‘aLi¡']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘F“D‘aLi¡
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['FeeDetailList']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hF“D‘aLi¡
(
$v®ue
)

186 
$this
->
	`£tF“D‘aLi¡
(
$v®ue
);

187  
$this
;

188 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateIdentifier.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

44 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“sE¡im©eId’tif›r
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

46 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

48 
$this
->
_f›lds
 = 
	`¬¿y
 (

49 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'IdTy³' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

52 'IdV®ue' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 'IsAmazÚFulfËd' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

54 'PriûToE¡im©eF“s' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_PriceToEstimateFees'),

55 'S–ËrIÅutId’tif›r' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

57 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

65 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

67  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

68 
	}
}

76 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

78 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

79  
$this
;

80 
	}
}

87 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

89  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

90 
	}
}

100 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

102 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

103  
$this
;

104 
	}
}

111 
public
 
funùiÚ
 
	$g‘S–ËrId
()

113  
$this
->
_f›lds
['SellerId']['FieldValue'];

114 
	}
}

122 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

124 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

125  
$this
;

126 
	}
}

133 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

135  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

136 
	}
}

146 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

148 
$this
->
	`£tS–ËrId
(
$v®ue
);

149  
$this
;

150 
	}
}

157 
public
 
funùiÚ
 
	$g‘IdTy³
()

159  
$this
->
_f›lds
['IdType']['FieldValue'];

160 
	}
}

168 
public
 
funùiÚ
 
	$£tIdTy³
(
$v®ue
)

170 
$this
->
_f›lds
['IdTy³']['F›ldV®ue'] = 
$v®ue
;

171  
$this
;

172 
	}
}

179 
public
 
funùiÚ
 
	$isS‘IdTy³
()

181  !
	`is_nuÎ
(
$this
->
_f›lds
['IdType']['FieldValue']);

182 
	}
}

192 
public
 
funùiÚ
 
	$w™hIdTy³
(
$v®ue
)

194 
$this
->
	`£tIdTy³
(
$v®ue
);

195  
$this
;

196 
	}
}

203 
public
 
funùiÚ
 
	$g‘IdV®ue
()

205  
$this
->
_f›lds
['IdValue']['FieldValue'];

206 
	}
}

214 
public
 
funùiÚ
 
	$£tIdV®ue
(
$v®ue
)

216 
$this
->
_f›lds
['IdV®ue']['F›ldV®ue'] = 
$v®ue
;

217  
$this
;

218 
	}
}

225 
public
 
funùiÚ
 
	$isS‘IdV®ue
()

227  !
	`is_nuÎ
(
$this
->
_f›lds
['IdValue']['FieldValue']);

228 
	}
}

238 
public
 
funùiÚ
 
	$w™hIdV®ue
(
$v®ue
)

240 
$this
->
	`£tIdV®ue
(
$v®ue
);

241  
$this
;

242 
	}
}

249 
public
 
funùiÚ
 
	$isIsAmazÚFulfËd
()

251  !
	`is_nuÎ
(
$this
->
_f›lds
['IsAmazonFulfilled']['FieldValue']) && $this->_fields['IsAmazonFulfilled']['FieldValue'];

252 
	}
}

259 
public
 
funùiÚ
 
	$g‘IsAmazÚFulfËd
()

261  
$this
->
_f›lds
['IsAmazonFulfilled']['FieldValue'];

262 
	}
}

270 
public
 
funùiÚ
 
	$£tIsAmazÚFulfËd
(
$v®ue
)

272 
$this
->
_f›lds
['IsAmazÚFulfËd']['F›ldV®ue'] = 
$v®ue
;

273  
$this
;

274 
	}
}

281 
public
 
funùiÚ
 
	$isS‘IsAmazÚFulfËd
()

283  !
	`is_nuÎ
(
$this
->
_f›lds
['IsAmazonFulfilled']['FieldValue']);

284 
	}
}

294 
public
 
funùiÚ
 
	$w™hIsAmazÚFulfËd
(
$v®ue
)

296 
$this
->
	`£tIsAmazÚFulfËd
(
$v®ue
);

297  
$this
;

298 
	}
}

305 
public
 
funùiÚ
 
	$g‘PriûToE¡im©eF“s
()

307  
$this
->
_f›lds
['PriceToEstimateFees']['FieldValue'];

308 
	}
}

316 
public
 
funùiÚ
 
	$£tPriûToE¡im©eF“s
(
$v®ue
)

318 
$this
->
_f›lds
['PriûToE¡im©eF“s']['F›ldV®ue'] = 
$v®ue
;

319  
$this
;

320 
	}
}

327 
public
 
funùiÚ
 
	$isS‘PriûToE¡im©eF“s
()

329  !
	`is_nuÎ
(
$this
->
_f›lds
['PriceToEstimateFees']['FieldValue']);

330 
	}
}

340 
public
 
funùiÚ
 
	$w™hPriûToE¡im©eF“s
(
$v®ue
)

342 
$this
->
	`£tPriûToE¡im©eF“s
(
$v®ue
);

343  
$this
;

344 
	}
}

351 
public
 
funùiÚ
 
	$g‘S–ËrIÅutId’tif›r
()

353  
$this
->
_f›lds
['SellerInputIdentifier']['FieldValue'];

354 
	}
}

362 
public
 
funùiÚ
 
	$£tS–ËrIÅutId’tif›r
(
$v®ue
)

364 
$this
->
_f›lds
['S–ËrIÅutId’tif›r']['F›ldV®ue'] = 
$v®ue
;

365  
$this
;

366 
	}
}

373 
public
 
funùiÚ
 
	$isS‘S–ËrIÅutId’tif›r
()

375  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerInputIdentifier']['FieldValue']);

376 
	}
}

386 
public
 
funùiÚ
 
	$w™hS–ËrIÅutId’tif›r
(
$v®ue
)

388 
$this
->
	`£tS–ËrIÅutId’tif›r
(
$v®ue
);

389  
$this
;

390 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

43 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“sE¡im©eReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

45 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

47 
$this
->
_f›lds
 = 
	`¬¿y
 (

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'IdTy³' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'IdV®ue' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'IsAmazÚFulfËd' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

52 'PriûToE¡im©eF“s' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_PriceToEstimateFees'),

53 'Id’tif›r' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

55 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

63 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

65  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

66 
	}
}

74 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

76 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

77  
$this
;

78 
	}
}

85 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

87  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

88 
	}
}

98 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

100 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

101  
$this
;

102 
	}
}

109 
public
 
funùiÚ
 
	$g‘IdTy³
()

111  
$this
->
_f›lds
['IdType']['FieldValue'];

112 
	}
}

120 
public
 
funùiÚ
 
	$£tIdTy³
(
$v®ue
)

122 
$this
->
_f›lds
['IdTy³']['F›ldV®ue'] = 
$v®ue
;

123  
$this
;

124 
	}
}

131 
public
 
funùiÚ
 
	$isS‘IdTy³
()

133  !
	`is_nuÎ
(
$this
->
_f›lds
['IdType']['FieldValue']);

134 
	}
}

144 
public
 
funùiÚ
 
	$w™hIdTy³
(
$v®ue
)

146 
$this
->
	`£tIdTy³
(
$v®ue
);

147  
$this
;

148 
	}
}

155 
public
 
funùiÚ
 
	$g‘IdV®ue
()

157  
$this
->
_f›lds
['IdValue']['FieldValue'];

158 
	}
}

166 
public
 
funùiÚ
 
	$£tIdV®ue
(
$v®ue
)

168 
$this
->
_f›lds
['IdV®ue']['F›ldV®ue'] = 
$v®ue
;

169  
$this
;

170 
	}
}

177 
public
 
funùiÚ
 
	$isS‘IdV®ue
()

179  !
	`is_nuÎ
(
$this
->
_f›lds
['IdValue']['FieldValue']);

180 
	}
}

190 
public
 
funùiÚ
 
	$w™hIdV®ue
(
$v®ue
)

192 
$this
->
	`£tIdV®ue
(
$v®ue
);

193  
$this
;

194 
	}
}

201 
public
 
funùiÚ
 
	$isIsAmazÚFulfËd
()

203  !
	`is_nuÎ
(
$this
->
_f›lds
['IsAmazonFulfilled']['FieldValue']) && $this->_fields['IsAmazonFulfilled']['FieldValue'];

204 
	}
}

211 
public
 
funùiÚ
 
	$g‘IsAmazÚFulfËd
()

213  
$this
->
_f›lds
['IsAmazonFulfilled']['FieldValue'];

214 
	}
}

222 
public
 
funùiÚ
 
	$£tIsAmazÚFulfËd
(
$v®ue
)

224 
$this
->
_f›lds
['IsAmazÚFulfËd']['F›ldV®ue'] = 
$v®ue
;

225  
$this
;

226 
	}
}

233 
public
 
funùiÚ
 
	$isS‘IsAmazÚFulfËd
()

235  !
	`is_nuÎ
(
$this
->
_f›lds
['IsAmazonFulfilled']['FieldValue']);

236 
	}
}

246 
public
 
funùiÚ
 
	$w™hIsAmazÚFulfËd
(
$v®ue
)

248 
$this
->
	`£tIsAmazÚFulfËd
(
$v®ue
);

249  
$this
;

250 
	}
}

257 
public
 
funùiÚ
 
	$g‘PriûToE¡im©eF“s
()

259  
$this
->
_f›lds
['PriceToEstimateFees']['FieldValue'];

260 
	}
}

268 
public
 
funùiÚ
 
	$£tPriûToE¡im©eF“s
(
$v®ue
)

270 
$this
->
_f›lds
['PriûToE¡im©eF“s']['F›ldV®ue'] = 
$v®ue
;

271  
$this
;

272 
	}
}

279 
public
 
funùiÚ
 
	$isS‘PriûToE¡im©eF“s
()

281  !
	`is_nuÎ
(
$this
->
_f›lds
['PriceToEstimateFees']['FieldValue']);

282 
	}
}

292 
public
 
funùiÚ
 
	$w™hPriûToE¡im©eF“s
(
$v®ue
)

294 
$this
->
	`£tPriûToE¡im©eF“s
(
$v®ue
);

295  
$this
;

296 
	}
}

303 
public
 
funùiÚ
 
	$g‘Id’tif›r
()

305  
$this
->
_f›lds
['Identifier']['FieldValue'];

306 
	}
}

314 
public
 
funùiÚ
 
	$£tId’tif›r
(
$v®ue
)

316 
$this
->
_f›lds
['Id’tif›r']['F›ldV®ue'] = 
$v®ue
;

317  
$this
;

318 
	}
}

325 
public
 
funùiÚ
 
	$isS‘Id’tif›r
()

327  !
	`is_nuÎ
(
$this
->
_f›lds
['Identifier']['FieldValue']);

328 
	}
}

338 
public
 
funùiÚ
 
	$w™hId’tif›r
(
$v®ue
)

340 
$this
->
	`£tId’tif›r
(
$v®ue
);

341  
$this
;

342 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateRequestList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“sE¡im©eReque¡Li¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'F“sE¡im©eReque¡' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_FeesEstimateRequest')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘F“sE¡im©eReque¡
()

55 ià(
$this
->
_f›lds
['F“sE¡im©eReque¡']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['F“sE¡im©eReque¡']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['FeesEstimateRequest']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tF“sE¡im©eReque¡
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['F“sE¡im©eReque¡']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tF“sE¡im©eReque¡
()

82 
$this
->
_f›lds
['F“sE¡im©eReque¡']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘F“sE¡im©eReque¡
()

92  !
	`em±y
(
$this
->
_f›lds
['FeesEstimateRequest']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hF“sE¡im©eReque¡
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$F“sE¡im©eReque¡
)

107 
$this
->
_f›lds
['F“sE¡im©eReque¡']['F›ldV®ue'][] = 
$F“sE¡im©eReque¡
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“sE¡im©eResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Stus' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'F“sE¡im©eId’tif›r' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_FeesEstimateIdentifier'),

48 'F“sE¡im©e' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_FeesEstimate'),

49 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Stus
()

61  
$this
->
_f›lds
['Status']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tStus
(
$v®ue
)

72 
$this
->
_f›lds
['Stus']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Stus
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Status']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hStus
(
$v®ue
)

96 
$this
->
	`£tStus
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘F“sE¡im©eId’tif›r
()

107  
$this
->
_f›lds
['FeesEstimateIdentifier']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tF“sE¡im©eId’tif›r
(
$v®ue
)

118 
$this
->
_f›lds
['F“sE¡im©eId’tif›r']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘F“sE¡im©eId’tif›r
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['FeesEstimateIdentifier']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hF“sE¡im©eId’tif›r
(
$v®ue
)

142 
$this
->
	`£tF“sE¡im©eId’tif›r
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘F“sE¡im©e
()

153  
$this
->
_f›lds
['FeesEstimate']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tF“sE¡im©e
(
$v®ue
)

164 
$this
->
_f›lds
['F“sE¡im©e']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘F“sE¡im©e
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['FeesEstimate']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hF“sE¡im©e
(
$v®ue
)

188 
$this
->
	`£tF“sE¡im©e
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘E¼Ü
()

199  
$this
->
_f›lds
['Error']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

210 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

234 
$this
->
	`£tE¼Ü
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateResultList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_F“sE¡im©eResuÉLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'F“sE¡im©eResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_FeesEstimateResult')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘F“sE¡im©eResuÉ
()

55 ià(
$this
->
_f›lds
['F“sE¡im©eResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['F“sE¡im©eResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['FeesEstimateResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tF“sE¡im©eResuÉ
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['F“sE¡im©eResuÉ']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tF“sE¡im©eResuÉ
()

82 
$this
->
_f›lds
['F“sE¡im©eResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘F“sE¡im©eResuÉ
()

92  !
	`em±y
(
$this
->
_f›lds
['FeesEstimateResult']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hF“sE¡im©eResuÉ
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$F“sE¡im©eResuÉ
)

107 
$this
->
_f›lds
['F“sE¡im©eResuÉ']['F›ldV®ue'][] = 
$F“sE¡im©eResuÉ
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForASINRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'ASINLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ASINListType'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘S–ËrId
()

61  
$this
->
_f›lds
['SellerId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

72 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

96 
$this
->
	`£tS–ËrId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

107  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

118 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

142 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

153  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

164 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

188 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘ASINLi¡
()

199  
$this
->
_f›lds
['ASINList']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tASINLi¡
(
$v®ue
)

210 
$this
->
_f›lds
['ASINLi¡']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘ASINLi¡
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['ASINList']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hASINLi¡
(
$v®ue
)

234 
$this
->
	`£tASINLi¡
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForASINResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘Com³t™ivePricšgFÜASINResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetCompetitivePricingForASINResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘Com³t™ivePricšgFÜASINResuÉ
()

59 ià(
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜASINResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜASINResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetCompetitivePricingForASINResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘Com³t™ivePricšgFÜASINResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜASINResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘Com³t™ivePricšgFÜASINResuÉ
()

86 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜASINResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘Com³t™ivePricšgFÜASINResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetCompetitivePricingForASINResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘Com³t™ivePricšgFÜASINResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘Com³t™ivePricšgFÜASINResuÉ
)

111 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜASINResuÉ']['F›ldV®ue'][] = 
$G‘Com³t™ivePricšgFÜASINResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetCompetitivePricingForASINResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetCompetitivePricingForASINResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘Com³t™ivePricšgFÜASINRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetCompetitivePricingForASINResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetCompetitivePricingForASINResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForASINResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Produù' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Product'),

47 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

48 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

49 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Produù
()

61  
$this
->
_f›lds
['Product']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

72 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Produù
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Product']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hProduù
(
$v®ue
)

96 
$this
->
	`£tProduù
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘E¼Ü
()

107  
$this
->
_f›lds
['Error']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

118 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

142 
$this
->
	`£tE¼Ü
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘ASIN
()

153  
$this
->
_f›lds
['ASIN']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

164 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘ASIN
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

188 
$this
->
	`£tASIN
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘¡©us
()

199  
$this
->
_f›lds
['status']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

210 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘¡©us
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

234 
$this
->
	`£t¡©us
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForSKURequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKUReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'S–ËrSKULi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SellerSKUListType'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘S–ËrId
()

61  
$this
->
_f›lds
['SellerId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

72 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

96 
$this
->
	`£tS–ËrId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

107  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

118 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

142 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

153  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

164 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

188 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘S–ËrSKULi¡
()

199  
$this
->
_f›lds
['SellerSKUList']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tS–ËrSKULi¡
(
$v®ue
)

210 
$this
->
_f›lds
['S–ËrSKULi¡']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘S–ËrSKULi¡
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKUList']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hS–ËrSKULi¡
(
$v®ue
)

234 
$this
->
	`£tS–ËrSKULi¡
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForSKUResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKURe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘Com³t™ivePricšgFÜSKUResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetCompetitivePricingForSKUResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘Com³t™ivePricšgFÜSKUResuÉ
()

59 ià(
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜSKUResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜSKUResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetCompetitivePricingForSKUResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘Com³t™ivePricšgFÜSKUResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜSKUResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘Com³t™ivePricšgFÜSKUResuÉ
()

86 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜSKUResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘Com³t™ivePricšgFÜSKUResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetCompetitivePricingForSKUResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘Com³t™ivePricšgFÜSKUResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘Com³t™ivePricšgFÜSKUResuÉ
)

111 
$this
->
_f›lds
['G‘Com³t™ivePricšgFÜSKUResuÉ']['F›ldV®ue'][] = 
$G‘Com³t™ivePricšgFÜSKUResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetCompetitivePricingForSKUResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKURe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetCompetitivePricingForSKUResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘Com³t™ivePricšgFÜSKURe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetCompetitivePricingForSKUResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetCompetitivePricingForSKUResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForSKUResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKUResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Produù' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Product'),

47 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

48 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

49 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Produù
()

61  
$this
->
_f›lds
['Product']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

72 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Produù
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Product']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hProduù
(
$v®ue
)

96 
$this
->
	`£tProduù
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘E¼Ü
()

107  
$this
->
_f›lds
['Error']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

118 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

142 
$this
->
	`£tE¼Ü
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

153  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

164 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

188 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘¡©us
()

199  
$this
->
_f›lds
['status']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

210 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘¡©us
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

234 
$this
->
	`£t¡©us
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForASINRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

43 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

45 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

47 
$this
->
_f›lds
 = 
	`¬¿y
 (

48 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'ASINLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ASINListType'),

52 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 'ExşudeMe' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

55 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

63 
public
 
funùiÚ
 
	$g‘S–ËrId
()

65  
$this
->
_f›lds
['SellerId']['FieldValue'];

66 
	}
}

74 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

76 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

77  
$this
;

78 
	}
}

85 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

87  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

88 
	}
}

98 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

100 
$this
->
	`£tS–ËrId
(
$v®ue
);

101  
$this
;

102 
	}
}

109 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

111  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

112 
	}
}

120 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

122 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

123  
$this
;

124 
	}
}

131 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

133  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

134 
	}
}

144 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

146 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

147  
$this
;

148 
	}
}

155 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

157  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

158 
	}
}

166 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

168 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

169  
$this
;

170 
	}
}

177 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

179  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

180 
	}
}

190 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

192 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

193  
$this
;

194 
	}
}

201 
public
 
funùiÚ
 
	$g‘ASINLi¡
()

203  
$this
->
_f›lds
['ASINList']['FieldValue'];

204 
	}
}

212 
public
 
funùiÚ
 
	$£tASINLi¡
(
$v®ue
)

214 
$this
->
_f›lds
['ASINLi¡']['F›ldV®ue'] = 
$v®ue
;

215  
$this
;

216 
	}
}

223 
public
 
funùiÚ
 
	$isS‘ASINLi¡
()

225  !
	`is_nuÎ
(
$this
->
_f›lds
['ASINList']['FieldValue']);

226 
	}
}

236 
public
 
funùiÚ
 
	$w™hASINLi¡
(
$v®ue
)

238 
$this
->
	`£tASINLi¡
(
$v®ue
);

239  
$this
;

240 
	}
}

247 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

249  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

250 
	}
}

258 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

260 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

261  
$this
;

262 
	}
}

269 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

271  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

272 
	}
}

282 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

284 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

285  
$this
;

286 
	}
}

293 
public
 
funùiÚ
 
	$isExşudeMe
()

295  !
	`is_nuÎ
(
$this
->
_f›lds
['ExcludeMe']['FieldValue']) && $this->_fields['ExcludeMe']['FieldValue'];

296 
	}
}

303 
public
 
funùiÚ
 
	$g‘ExşudeMe
()

305  
$this
->
_f›lds
['ExcludeMe']['FieldValue'];

306 
	}
}

314 
public
 
funùiÚ
 
	$£tExşudeMe
(
$v®ue
)

316 
$this
->
_f›lds
['ExşudeMe']['F›ldV®ue'] = 
$v®ue
;

317  
$this
;

318 
	}
}

325 
public
 
funùiÚ
 
	$isS‘ExşudeMe
()

327  !
	`is_nuÎ
(
$this
->
_f›lds
['ExcludeMe']['FieldValue']);

328 
	}
}

338 
public
 
funùiÚ
 
	$w™hExşudeMe
(
$v®ue
)

340 
$this
->
	`£tExşudeMe
(
$v®ue
);

341  
$this
;

342 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForASINResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetLowestOfferListingsForASINResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
()

59 ià(
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetLowestOfferListingsForASINResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
()

86 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetLowestOfferListingsForASINResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
)

111 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ']['F›ldV®ue'][] = 
$G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetLowestOfferListingsForASINResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetLowestOfferListingsForASINResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘Lowe¡OfãrLi¡šgsFÜASINRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetLowestOfferListingsForASINResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetLowestOfferListingsForASINResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForASINResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'AÎOfãrLi¡šgsCÚsid”ed' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

48 'Produù' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Product'),

49 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

50 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$isAÎOfãrLi¡šgsCÚsid”ed
()

63  !
	`is_nuÎ
(
$this
->
_f›lds
['AllOfferListingsConsidered']['FieldValue']) && $this->_fields['AllOfferListingsConsidered']['FieldValue'];

64 
	}
}

71 
public
 
funùiÚ
 
	$g‘AÎOfãrLi¡šgsCÚsid”ed
()

73  
$this
->
_f›lds
['AllOfferListingsConsidered']['FieldValue'];

74 
	}
}

82 
public
 
funùiÚ
 
	$£tAÎOfãrLi¡šgsCÚsid”ed
(
$v®ue
)

84 
$this
->
_f›lds
['AÎOfãrLi¡šgsCÚsid”ed']['F›ldV®ue'] = 
$v®ue
;

85  
$this
;

86 
	}
}

93 
public
 
funùiÚ
 
	$isS‘AÎOfãrLi¡šgsCÚsid”ed
()

95  !
	`is_nuÎ
(
$this
->
_f›lds
['AllOfferListingsConsidered']['FieldValue']);

96 
	}
}

106 
public
 
funùiÚ
 
	$w™hAÎOfãrLi¡šgsCÚsid”ed
(
$v®ue
)

108 
$this
->
	`£tAÎOfãrLi¡šgsCÚsid”ed
(
$v®ue
);

109  
$this
;

110 
	}
}

117 
public
 
funùiÚ
 
	$g‘Produù
()

119  
$this
->
_f›lds
['Product']['FieldValue'];

120 
	}
}

128 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

130 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

131  
$this
;

132 
	}
}

139 
public
 
funùiÚ
 
	$isS‘Produù
()

141  !
	`is_nuÎ
(
$this
->
_f›lds
['Product']['FieldValue']);

142 
	}
}

152 
public
 
funùiÚ
 
	$w™hProduù
(
$v®ue
)

154 
$this
->
	`£tProduù
(
$v®ue
);

155  
$this
;

156 
	}
}

163 
public
 
funùiÚ
 
	$g‘E¼Ü
()

165  
$this
->
_f›lds
['Error']['FieldValue'];

166 
	}
}

174 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

176 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

177  
$this
;

178 
	}
}

185 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

187  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

188 
	}
}

198 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

200 
$this
->
	`£tE¼Ü
(
$v®ue
);

201  
$this
;

202 
	}
}

209 
public
 
funùiÚ
 
	$g‘ASIN
()

211  
$this
->
_f›lds
['ASIN']['FieldValue'];

212 
	}
}

220 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

222 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

223  
$this
;

224 
	}
}

231 
public
 
funùiÚ
 
	$isS‘ASIN
()

233  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

234 
	}
}

244 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

246 
$this
->
	`£tASIN
(
$v®ue
);

247  
$this
;

248 
	}
}

255 
public
 
funùiÚ
 
	$g‘¡©us
()

257  
$this
->
_f›lds
['status']['FieldValue'];

258 
	}
}

266 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

268 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

269  
$this
;

270 
	}
}

277 
public
 
funùiÚ
 
	$isS‘¡©us
()

279  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

280 
	}
}

290 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

292 
$this
->
	`£t¡©us
(
$v®ue
);

293  
$this
;

294 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForSKURequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

43 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKUReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

45 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

47 
$this
->
_f›lds
 = 
	`¬¿y
 (

48 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'S–ËrSKULi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SellerSKUListType'),

52 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 'ExşudeMe' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

55 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

63 
public
 
funùiÚ
 
	$g‘S–ËrId
()

65  
$this
->
_f›lds
['SellerId']['FieldValue'];

66 
	}
}

74 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

76 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

77  
$this
;

78 
	}
}

85 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

87  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

88 
	}
}

98 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

100 
$this
->
	`£tS–ËrId
(
$v®ue
);

101  
$this
;

102 
	}
}

109 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

111  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

112 
	}
}

120 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

122 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

123  
$this
;

124 
	}
}

131 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

133  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

134 
	}
}

144 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

146 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

147  
$this
;

148 
	}
}

155 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

157  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

158 
	}
}

166 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

168 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

169  
$this
;

170 
	}
}

177 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

179  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

180 
	}
}

190 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

192 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

193  
$this
;

194 
	}
}

201 
public
 
funùiÚ
 
	$g‘S–ËrSKULi¡
()

203  
$this
->
_f›lds
['SellerSKUList']['FieldValue'];

204 
	}
}

212 
public
 
funùiÚ
 
	$£tS–ËrSKULi¡
(
$v®ue
)

214 
$this
->
_f›lds
['S–ËrSKULi¡']['F›ldV®ue'] = 
$v®ue
;

215  
$this
;

216 
	}
}

223 
public
 
funùiÚ
 
	$isS‘S–ËrSKULi¡
()

225  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKUList']['FieldValue']);

226 
	}
}

236 
public
 
funùiÚ
 
	$w™hS–ËrSKULi¡
(
$v®ue
)

238 
$this
->
	`£tS–ËrSKULi¡
(
$v®ue
);

239  
$this
;

240 
	}
}

247 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

249  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

250 
	}
}

258 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

260 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

261  
$this
;

262 
	}
}

269 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

271  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

272 
	}
}

282 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

284 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

285  
$this
;

286 
	}
}

293 
public
 
funùiÚ
 
	$isExşudeMe
()

295  !
	`is_nuÎ
(
$this
->
_f›lds
['ExcludeMe']['FieldValue']) && $this->_fields['ExcludeMe']['FieldValue'];

296 
	}
}

303 
public
 
funùiÚ
 
	$g‘ExşudeMe
()

305  
$this
->
_f›lds
['ExcludeMe']['FieldValue'];

306 
	}
}

314 
public
 
funùiÚ
 
	$£tExşudeMe
(
$v®ue
)

316 
$this
->
_f›lds
['ExşudeMe']['F›ldV®ue'] = 
$v®ue
;

317  
$this
;

318 
	}
}

325 
public
 
funùiÚ
 
	$isS‘ExşudeMe
()

327  !
	`is_nuÎ
(
$this
->
_f›lds
['ExcludeMe']['FieldValue']);

328 
	}
}

338 
public
 
funùiÚ
 
	$w™hExşudeMe
(
$v®ue
)

340 
$this
->
	`£tExşudeMe
(
$v®ue
);

341  
$this
;

342 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForSKUResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKURe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetLowestOfferListingsForSKUResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
()

59 ià(
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetLowestOfferListingsForSKUResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
()

86 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetLowestOfferListingsForSKUResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
)

111 
$this
->
_f›lds
['G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ']['F›ldV®ue'][] = 
$G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetLowestOfferListingsForSKUResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKURe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetLowestOfferListingsForSKUResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘Lowe¡OfãrLi¡šgsFÜSKURe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetLowestOfferListingsForSKUResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetLowestOfferListingsForSKUResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForSKUResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKUResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'AÎOfãrLi¡šgsCÚsid”ed' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

48 'Produù' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Product'),

49 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

50 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$isAÎOfãrLi¡šgsCÚsid”ed
()

63  !
	`is_nuÎ
(
$this
->
_f›lds
['AllOfferListingsConsidered']['FieldValue']) && $this->_fields['AllOfferListingsConsidered']['FieldValue'];

64 
	}
}

71 
public
 
funùiÚ
 
	$g‘AÎOfãrLi¡šgsCÚsid”ed
()

73  
$this
->
_f›lds
['AllOfferListingsConsidered']['FieldValue'];

74 
	}
}

82 
public
 
funùiÚ
 
	$£tAÎOfãrLi¡šgsCÚsid”ed
(
$v®ue
)

84 
$this
->
_f›lds
['AÎOfãrLi¡šgsCÚsid”ed']['F›ldV®ue'] = 
$v®ue
;

85  
$this
;

86 
	}
}

93 
public
 
funùiÚ
 
	$isS‘AÎOfãrLi¡šgsCÚsid”ed
()

95  !
	`is_nuÎ
(
$this
->
_f›lds
['AllOfferListingsConsidered']['FieldValue']);

96 
	}
}

106 
public
 
funùiÚ
 
	$w™hAÎOfãrLi¡šgsCÚsid”ed
(
$v®ue
)

108 
$this
->
	`£tAÎOfãrLi¡šgsCÚsid”ed
(
$v®ue
);

109  
$this
;

110 
	}
}

117 
public
 
funùiÚ
 
	$g‘Produù
()

119  
$this
->
_f›lds
['Product']['FieldValue'];

120 
	}
}

128 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

130 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

131  
$this
;

132 
	}
}

139 
public
 
funùiÚ
 
	$isS‘Produù
()

141  !
	`is_nuÎ
(
$this
->
_f›lds
['Product']['FieldValue']);

142 
	}
}

152 
public
 
funùiÚ
 
	$w™hProduù
(
$v®ue
)

154 
$this
->
	`£tProduù
(
$v®ue
);

155  
$this
;

156 
	}
}

163 
public
 
funùiÚ
 
	$g‘E¼Ü
()

165  
$this
->
_f›lds
['Error']['FieldValue'];

166 
	}
}

174 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

176 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

177  
$this
;

178 
	}
}

185 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

187  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

188 
	}
}

198 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

200 
$this
->
	`£tE¼Ü
(
$v®ue
);

201  
$this
;

202 
	}
}

209 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

211  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

212 
	}
}

220 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

222 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

223  
$this
;

224 
	}
}

231 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

233  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

234 
	}
}

244 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

246 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

247  
$this
;

248 
	}
}

255 
public
 
funùiÚ
 
	$g‘¡©us
()

257  
$this
->
_f›lds
['status']['FieldValue'];

258 
	}
}

266 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

268 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

269  
$this
;

270 
	}
}

277 
public
 
funùiÚ
 
	$isS‘¡©us
()

279  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

280 
	}
}

290 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

292 
$this
->
	`£t¡©us
(
$v®ue
);

293  
$this
;

294 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersAsinIdentifier.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsAsšId’tif›r
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'TimeOfOfãrChªge' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

61  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

72 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

96 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘ASIN
()

107  
$this
->
_f›lds
['ASIN']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

118 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘ASIN
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

142 
$this
->
	`£tASIN
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

153  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

164 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

188 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘TimeOfOfãrChªge
()

199  
$this
->
_f›lds
['TimeOfOfferChange']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tTimeOfOfãrChªge
(
$v®ue
)

210 
$this
->
_f›lds
['TimeOfOfãrChªge']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘TimeOfOfãrChªge
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['TimeOfOfferChange']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hTimeOfOfãrChªge
(
$v®ue
)

234 
$this
->
	`£tTimeOfOfãrChªge
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForASINRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘S–ËrId
()

63  
$this
->
_f›lds
['SellerId']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

74 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

98 
$this
->
	`£tS–ËrId
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

109  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

120 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

144 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

155  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

166 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

190 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘ASIN
()

201  
$this
->
_f›lds
['ASIN']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

212 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘ASIN
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

236 
$this
->
	`£tASIN
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

247  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

248 
	}
}

256 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

258 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

269  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

270 
	}
}

280 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

282 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

283  
$this
;

284 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForASINResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘Lowe¡PriûdOfãrsFÜASINResuÉ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetLowestPricedOffersForASINResult'),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘Lowe¡PriûdOfãrsFÜASINResuÉ
()

59  
$this
->
_f›lds
['GetLowestPricedOffersForASINResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tG‘Lowe¡PriûdOfãrsFÜASINResuÉ
(
$v®ue
)

70 
$this
->
_f›lds
['G‘Lowe¡PriûdOfãrsFÜASINResuÉ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘G‘Lowe¡PriûdOfãrsFÜASINResuÉ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['GetLowestPricedOffersForASINResult']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hG‘Lowe¡PriûdOfãrsFÜASINResuÉ
(
$v®ue
)

94 
$this
->
	`£tG‘Lowe¡PriûdOfãrsFÜASINResuÉ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

105  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

116 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

140 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

151  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

162 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

186 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

187  
$this
;

188 
	}
}

197 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

199 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

200 
$dom
->
	`lßdXML
(
$xml
);

201 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

202 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetLowestPricedOffersForASINResponse']");

203 ià(
$»¥Ú£
->
Ëngth
 == 1) {

204  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

206 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetLowestPricedOffersForASINResponse from…rovided XML. 

207 
Make
 
su»
 
th©
 
G‘Lowe¡PriûdOfãrsFÜASINRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

209 
	}
}

215 
public
 
funùiÚ
 
	$toXML
()

217 
$xml
 = "";

218 
$xml
 .= "<GetLowestPricedOffersForASINResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

219 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

220 
$xml
 .= "</GetLowestPricedOffersForASINResponse>";

221  
$xml
;

222 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForASINResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

44 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

46 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

48 
$this
->
_f›lds
 = 
	`¬¿y
 (

49 'M¬k‘¶aûID' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

50 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

52 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

53 'Id’tif›r' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetLowestPricedOffersAsinIdentifier'),

54 'Summ¬y' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Summary'),

55 'Ofãrs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ASINOfferDetailList'),

57 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

65 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûID
()

67  
$this
->
_f›lds
['MarketplaceID']['FieldValue'];

68 
	}
}

76 
public
 
funùiÚ
 
	$£tM¬k‘¶aûID
(
$v®ue
)

78 
$this
->
_f›lds
['M¬k‘¶aûID']['F›ldV®ue'] = 
$v®ue
;

79  
$this
;

80 
	}
}

87 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûID
()

89  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceID']['FieldValue']);

90 
	}
}

100 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûID
(
$v®ue
)

102 
$this
->
	`£tM¬k‘¶aûID
(
$v®ue
);

103  
$this
;

104 
	}
}

111 
public
 
funùiÚ
 
	$g‘ASIN
()

113  
$this
->
_f›lds
['ASIN']['FieldValue'];

114 
	}
}

122 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

124 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

125  
$this
;

126 
	}
}

133 
public
 
funùiÚ
 
	$isS‘ASIN
()

135  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

136 
	}
}

146 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

148 
$this
->
	`£tASIN
(
$v®ue
);

149  
$this
;

150 
	}
}

157 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

159  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

160 
	}
}

168 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

170 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

171  
$this
;

172 
	}
}

179 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

181  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

182 
	}
}

192 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

194 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

195  
$this
;

196 
	}
}

203 
public
 
funùiÚ
 
	$g‘¡©us
()

205  
$this
->
_f›lds
['status']['FieldValue'];

206 
	}
}

214 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

216 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

217  
$this
;

218 
	}
}

225 
public
 
funùiÚ
 
	$isS‘¡©us
()

227  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

228 
	}
}

238 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

240 
$this
->
	`£t¡©us
(
$v®ue
);

241  
$this
;

242 
	}
}

249 
public
 
funùiÚ
 
	$g‘Id’tif›r
()

251  
$this
->
_f›lds
['Identifier']['FieldValue'];

252 
	}
}

260 
public
 
funùiÚ
 
	$£tId’tif›r
(
$v®ue
)

262 
$this
->
_f›lds
['Id’tif›r']['F›ldV®ue'] = 
$v®ue
;

263  
$this
;

264 
	}
}

271 
public
 
funùiÚ
 
	$isS‘Id’tif›r
()

273  !
	`is_nuÎ
(
$this
->
_f›lds
['Identifier']['FieldValue']);

274 
	}
}

284 
public
 
funùiÚ
 
	$w™hId’tif›r
(
$v®ue
)

286 
$this
->
	`£tId’tif›r
(
$v®ue
);

287  
$this
;

288 
	}
}

295 
public
 
funùiÚ
 
	$g‘Summ¬y
()

297  
$this
->
_f›lds
['Summary']['FieldValue'];

298 
	}
}

306 
public
 
funùiÚ
 
	$£tSumm¬y
(
$v®ue
)

308 
$this
->
_f›lds
['Summ¬y']['F›ldV®ue'] = 
$v®ue
;

309  
$this
;

310 
	}
}

317 
public
 
funùiÚ
 
	$isS‘Summ¬y
()

319  !
	`is_nuÎ
(
$this
->
_f›lds
['Summary']['FieldValue']);

320 
	}
}

330 
public
 
funùiÚ
 
	$w™hSumm¬y
(
$v®ue
)

332 
$this
->
	`£tSumm¬y
(
$v®ue
);

333  
$this
;

334 
	}
}

341 
public
 
funùiÚ
 
	$g‘Ofãrs
()

343  
$this
->
_f›lds
['Offers']['FieldValue'];

344 
	}
}

352 
public
 
funùiÚ
 
	$£tOfãrs
(
$v®ue
)

354 
$this
->
_f›lds
['Ofãrs']['F›ldV®ue'] = 
$v®ue
;

355  
$this
;

356 
	}
}

363 
public
 
funùiÚ
 
	$isS‘Ofãrs
()

365  !
	`is_nuÎ
(
$this
->
_f›lds
['Offers']['FieldValue']);

366 
	}
}

376 
public
 
funùiÚ
 
	$w™hOfãrs
(
$v®ue
)

378 
$this
->
	`£tOfãrs
(
$v®ue
);

379  
$this
;

380 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForSKURequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKUReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘S–ËrId
()

63  
$this
->
_f›lds
['SellerId']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

74 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

98 
$this
->
	`£tS–ËrId
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

109  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

120 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

144 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

155  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

166 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

190 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

201  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

212 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

236 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

247  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

248 
	}
}

256 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

258 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

269  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

270 
	}
}

280 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

282 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

283  
$this
;

284 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForSKUResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKURe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘Lowe¡PriûdOfãrsFÜSKUResuÉ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetLowestPricedOffersForSKUResult'),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘Lowe¡PriûdOfãrsFÜSKUResuÉ
()

59  
$this
->
_f›lds
['GetLowestPricedOffersForSKUResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tG‘Lowe¡PriûdOfãrsFÜSKUResuÉ
(
$v®ue
)

70 
$this
->
_f›lds
['G‘Lowe¡PriûdOfãrsFÜSKUResuÉ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘G‘Lowe¡PriûdOfãrsFÜSKUResuÉ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['GetLowestPricedOffersForSKUResult']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hG‘Lowe¡PriûdOfãrsFÜSKUResuÉ
(
$v®ue
)

94 
$this
->
	`£tG‘Lowe¡PriûdOfãrsFÜSKUResuÉ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

105  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

116 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

140 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

151  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

162 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

186 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

187  
$this
;

188 
	}
}

197 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

199 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

200 
$dom
->
	`lßdXML
(
$xml
);

201 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

202 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetLowestPricedOffersForSKUResponse']");

203 ià(
$»¥Ú£
->
Ëngth
 == 1) {

204  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKURe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

206 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetLowestPricedOffersForSKUResponse from…rovided XML. 

207 
Make
 
su»
 
th©
 
G‘Lowe¡PriûdOfãrsFÜSKURe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

209 
	}
}

215 
public
 
funùiÚ
 
	$toXML
()

217 
$xml
 = "";

218 
$xml
 .= "<GetLowestPricedOffersForSKUResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

219 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

220 
$xml
 .= "</GetLowestPricedOffersForSKUResponse>";

221  
$xml
;

222 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForSKUResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

44 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKUResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

46 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

48 
$this
->
_f›lds
 = 
	`¬¿y
 (

49 'M¬k‘¶aûID' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

50 'SKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

52 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

53 'Id’tif›r' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetLowestPricedOffersSkuIdentifier'),

54 'Summ¬y' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Summary'),

55 'Ofãrs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SKUOfferDetailList'),

57 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

65 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûID
()

67  
$this
->
_f›lds
['MarketplaceID']['FieldValue'];

68 
	}
}

76 
public
 
funùiÚ
 
	$£tM¬k‘¶aûID
(
$v®ue
)

78 
$this
->
_f›lds
['M¬k‘¶aûID']['F›ldV®ue'] = 
$v®ue
;

79  
$this
;

80 
	}
}

87 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûID
()

89  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceID']['FieldValue']);

90 
	}
}

100 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûID
(
$v®ue
)

102 
$this
->
	`£tM¬k‘¶aûID
(
$v®ue
);

103  
$this
;

104 
	}
}

111 
public
 
funùiÚ
 
	$g‘SKU
()

113  
$this
->
_f›lds
['SKU']['FieldValue'];

114 
	}
}

122 
public
 
funùiÚ
 
	$£tSKU
(
$v®ue
)

124 
$this
->
_f›lds
['SKU']['F›ldV®ue'] = 
$v®ue
;

125  
$this
;

126 
	}
}

133 
public
 
funùiÚ
 
	$isS‘SKU
()

135  !
	`is_nuÎ
(
$this
->
_f›lds
['SKU']['FieldValue']);

136 
	}
}

146 
public
 
funùiÚ
 
	$w™hSKU
(
$v®ue
)

148 
$this
->
	`£tSKU
(
$v®ue
);

149  
$this
;

150 
	}
}

157 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

159  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

160 
	}
}

168 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

170 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

171  
$this
;

172 
	}
}

179 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

181  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

182 
	}
}

192 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

194 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

195  
$this
;

196 
	}
}

203 
public
 
funùiÚ
 
	$g‘¡©us
()

205  
$this
->
_f›lds
['status']['FieldValue'];

206 
	}
}

214 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

216 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

217  
$this
;

218 
	}
}

225 
public
 
funùiÚ
 
	$isS‘¡©us
()

227  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

228 
	}
}

238 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

240 
$this
->
	`£t¡©us
(
$v®ue
);

241  
$this
;

242 
	}
}

249 
public
 
funùiÚ
 
	$g‘Id’tif›r
()

251  
$this
->
_f›lds
['Identifier']['FieldValue'];

252 
	}
}

260 
public
 
funùiÚ
 
	$£tId’tif›r
(
$v®ue
)

262 
$this
->
_f›lds
['Id’tif›r']['F›ldV®ue'] = 
$v®ue
;

263  
$this
;

264 
	}
}

271 
public
 
funùiÚ
 
	$isS‘Id’tif›r
()

273  !
	`is_nuÎ
(
$this
->
_f›lds
['Identifier']['FieldValue']);

274 
	}
}

284 
public
 
funùiÚ
 
	$w™hId’tif›r
(
$v®ue
)

286 
$this
->
	`£tId’tif›r
(
$v®ue
);

287  
$this
;

288 
	}
}

295 
public
 
funùiÚ
 
	$g‘Summ¬y
()

297  
$this
->
_f›lds
['Summary']['FieldValue'];

298 
	}
}

306 
public
 
funùiÚ
 
	$£tSumm¬y
(
$v®ue
)

308 
$this
->
_f›lds
['Summ¬y']['F›ldV®ue'] = 
$v®ue
;

309  
$this
;

310 
	}
}

317 
public
 
funùiÚ
 
	$isS‘Summ¬y
()

319  !
	`is_nuÎ
(
$this
->
_f›lds
['Summary']['FieldValue']);

320 
	}
}

330 
public
 
funùiÚ
 
	$w™hSumm¬y
(
$v®ue
)

332 
$this
->
	`£tSumm¬y
(
$v®ue
);

333  
$this
;

334 
	}
}

341 
public
 
funùiÚ
 
	$g‘Ofãrs
()

343  
$this
->
_f›lds
['Offers']['FieldValue'];

344 
	}
}

352 
public
 
funùiÚ
 
	$£tOfãrs
(
$v®ue
)

354 
$this
->
_f›lds
['Ofãrs']['F›ldV®ue'] = 
$v®ue
;

355  
$this
;

356 
	}
}

363 
public
 
funùiÚ
 
	$isS‘Ofãrs
()

365  !
	`is_nuÎ
(
$this
->
_f›lds
['Offers']['FieldValue']);

366 
	}
}

376 
public
 
funùiÚ
 
	$w™hOfãrs
(
$v®ue
)

378 
$this
->
	`£tOfãrs
(
$v®ue
);

379  
$this
;

380 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersSkuIdentifier.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsSkuId’tif›r
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'TimeOfOfãrChªge' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

61  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

72 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

96 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

107  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

118 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

142 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

153  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

164 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

188 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘TimeOfOfãrChªge
()

199  
$this
->
_f›lds
['TimeOfOfferChange']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tTimeOfOfãrChªge
(
$v®ue
)

210 
$this
->
_f›lds
['TimeOfOfãrChªge']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘TimeOfOfãrChªge
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['TimeOfOfferChange']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hTimeOfOfãrChªge
(
$v®ue
)

234 
$this
->
	`£tTimeOfOfãrChªge
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductForIdRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'IdTy³' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'IdLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_IdListType'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘S–ËrId
()

63  
$this
->
_f›lds
['SellerId']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

74 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

98 
$this
->
	`£tS–ËrId
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

109  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

120 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

144 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

155  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

166 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

190 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘IdTy³
()

201  
$this
->
_f›lds
['IdType']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tIdTy³
(
$v®ue
)

212 
$this
->
_f›lds
['IdTy³']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘IdTy³
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['IdType']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hIdTy³
(
$v®ue
)

236 
$this
->
	`£tIdTy³
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$g‘IdLi¡
()

247  
$this
->
_f›lds
['IdList']['FieldValue'];

248 
	}
}

256 
public
 
funùiÚ
 
	$£tIdLi¡
(
$v®ue
)

258 
$this
->
_f›lds
['IdLi¡']['F›ldV®ue'] = 
$v®ue
;

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$isS‘IdLi¡
()

269  !
	`is_nuÎ
(
$this
->
_f›lds
['IdList']['FieldValue']);

270 
	}
}

280 
public
 
funùiÚ
 
	$w™hIdLi¡
(
$v®ue
)

282 
$this
->
	`£tIdLi¡
(
$v®ue
);

283  
$this
;

284 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductForIdResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘M©chšgProduùFÜIdResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetMatchingProductForIdResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘M©chšgProduùFÜIdResuÉ
()

59 ià(
$this
->
_f›lds
['G‘M©chšgProduùFÜIdResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘M©chšgProduùFÜIdResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetMatchingProductForIdResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘M©chšgProduùFÜIdResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘M©chšgProduùFÜIdResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘M©chšgProduùFÜIdResuÉ
()

86 
$this
->
_f›lds
['G‘M©chšgProduùFÜIdResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘M©chšgProduùFÜIdResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetMatchingProductForIdResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘M©chšgProduùFÜIdResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘M©chšgProduùFÜIdResuÉ
)

111 
$this
->
_f›lds
['G‘M©chšgProduùFÜIdResuÉ']['F›ldV®ue'][] = 
$G‘M©chšgProduùFÜIdResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetMatchingProductForIdResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetMatchingProductForIdResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘M©chšgProduùFÜIdRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetMatchingProductForIdResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetMatchingProductForIdResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductForIdResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'Produùs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ProductList'),

48 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

49 'Id' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

50 'IdTy³' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘Produùs
()

63  
$this
->
_f›lds
['Products']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tProduùs
(
$v®ue
)

74 
$this
->
_f›lds
['Produùs']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘Produùs
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['Products']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hProduùs
(
$v®ue
)

98 
$this
->
	`£tProduùs
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘E¼Ü
()

109  
$this
->
_f›lds
['Error']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

120 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

144 
$this
->
	`£tE¼Ü
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘Id
()

155  
$this
->
_f›lds
['Id']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tId
(
$v®ue
)

166 
$this
->
_f›lds
['Id']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘Id
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['Id']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hId
(
$v®ue
)

190 
$this
->
	`£tId
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘IdTy³
()

201  
$this
->
_f›lds
['IdType']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tIdTy³
(
$v®ue
)

212 
$this
->
_f›lds
['IdTy³']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘IdTy³
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['IdType']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hIdTy³
(
$v®ue
)

236 
$this
->
	`£tIdTy³
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$g‘¡©us
()

247  
$this
->
_f›lds
['status']['FieldValue'];

248 
	}
}

256 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

258 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$isS‘¡©us
()

269  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

270 
	}
}

280 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

282 
$this
->
	`£t¡©us
(
$v®ue
);

283  
$this
;

284 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'ASINLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ASINListType'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘S–ËrId
()

61  
$this
->
_f›lds
['SellerId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

72 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

96 
$this
->
	`£tS–ËrId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

107  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

118 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

142 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

153  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

164 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

188 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘ASINLi¡
()

199  
$this
->
_f›lds
['ASINList']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tASINLi¡
(
$v®ue
)

210 
$this
->
_f›lds
['ASINLi¡']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘ASINLi¡
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['ASINList']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hASINLi¡
(
$v®ue
)

234 
$this
->
	`£tASINLi¡
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘M©chšgProduùResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetMatchingProductResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘M©chšgProduùResuÉ
()

59 ià(
$this
->
_f›lds
['G‘M©chšgProduùResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘M©chšgProduùResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetMatchingProductResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘M©chšgProduùResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘M©chšgProduùResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘M©chšgProduùResuÉ
()

86 
$this
->
_f›lds
['G‘M©chšgProduùResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘M©chšgProduùResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetMatchingProductResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘M©chšgProduùResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘M©chšgProduùResuÉ
)

111 
$this
->
_f›lds
['G‘M©chšgProduùResuÉ']['F›ldV®ue'][] = 
$G‘M©chšgProduùResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetMatchingProductResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetMatchingProductResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘M©chšgProduùRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetMatchingProductResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetMatchingProductResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Produù' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Product'),

47 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

48 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

49 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Produù
()

61  
$this
->
_f›lds
['Product']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

72 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Produù
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Product']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hProduù
(
$v®ue
)

96 
$this
->
	`£tProduù
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘E¼Ü
()

107  
$this
->
_f›lds
['Error']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

118 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

142 
$this
->
	`£tE¼Ü
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘ASIN
()

153  
$this
->
_f›lds
['ASIN']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

164 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘ASIN
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

188 
$this
->
	`£tASIN
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘¡©us
()

199  
$this
->
_f›lds
['status']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

210 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘¡©us
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

234 
$this
->
	`£t¡©us
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyFeesEstimateRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

46 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'F“sE¡im©eReque¡Li¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_FeesEstimateRequestList'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘S–ËrId
()

59  
$this
->
_f›lds
['SellerId']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

70 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

94 
$this
->
	`£tS–ËrId
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

105  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

116 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

140 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘F“sE¡im©eReque¡Li¡
()

151  
$this
->
_f›lds
['FeesEstimateRequestList']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tF“sE¡im©eReque¡Li¡
(
$v®ue
)

162 
$this
->
_f›lds
['F“sE¡im©eReque¡Li¡']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘F“sE¡im©eReque¡Li¡
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['FeesEstimateRequestList']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hF“sE¡im©eReque¡Li¡
(
$v®ue
)

186 
$this
->
	`£tF“sE¡im©eReque¡Li¡
(
$v®ue
);

187  
$this
;

188 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyFeesEstimateResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘MyF“sE¡im©eResuÉ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetMyFeesEstimateResult'),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘MyF“sE¡im©eResuÉ
()

59  
$this
->
_f›lds
['GetMyFeesEstimateResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tG‘MyF“sE¡im©eResuÉ
(
$v®ue
)

70 
$this
->
_f›lds
['G‘MyF“sE¡im©eResuÉ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘G‘MyF“sE¡im©eResuÉ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['GetMyFeesEstimateResult']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hG‘MyF“sE¡im©eResuÉ
(
$v®ue
)

94 
$this
->
	`£tG‘MyF“sE¡im©eResuÉ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

105  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

116 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

140 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

151  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

162 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

186 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

187  
$this
;

188 
	}
}

197 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

199 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

200 
$dom
->
	`lßdXML
(
$xml
);

201 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

202 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetMyFeesEstimateResponse']");

203 ià(
$»¥Ú£
->
Ëngth
 == 1) {

204  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

206 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetMyFeesEstimateResponse from…rovided XML. 

207 
Make
 
su»
 
th©
 
G‘MyF“sE¡im©eRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

209 
	}
}

215 
public
 
funùiÚ
 
	$toXML
()

217 
$xml
 = "";

218 
$xml
 .= "<GetMyFeesEstimateResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

219 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

220 
$xml
 .= "</GetMyFeesEstimateResponse>";

221  
$xml
;

222 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyFeesEstimateResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'F“sE¡im©eResuÉLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_FeesEstimateResultList'),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘F“sE¡im©eResuÉLi¡
()

55  
$this
->
_f›lds
['FeesEstimateResultList']['FieldValue'];

56 
	}
}

64 
public
 
funùiÚ
 
	$£tF“sE¡im©eResuÉLi¡
(
$v®ue
)

66 
$this
->
_f›lds
['F“sE¡im©eResuÉLi¡']['F›ldV®ue'] = 
$v®ue
;

67  
$this
;

68 
	}
}

75 
public
 
funùiÚ
 
	$isS‘F“sE¡im©eResuÉLi¡
()

77  !
	`is_nuÎ
(
$this
->
_f›lds
['FeesEstimateResultList']['FieldValue']);

78 
	}
}

88 
public
 
funùiÚ
 
	$w™hF“sE¡im©eResuÉLi¡
(
$v®ue
)

90 
$this
->
	`£tF“sE¡im©eResuÉLi¡
(
$v®ue
);

91  
$this
;

92 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForASINRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'ASINLi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ASINListType'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘S–ËrId
()

61  
$this
->
_f›lds
['SellerId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

72 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

96 
$this
->
	`£tS–ËrId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

107  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

118 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

142 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

153  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

164 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

188 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘ASINLi¡
()

199  
$this
->
_f›lds
['ASINList']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tASINLi¡
(
$v®ue
)

210 
$this
->
_f›lds
['ASINLi¡']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘ASINLi¡
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['ASINList']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hASINLi¡
(
$v®ue
)

234 
$this
->
	`£tASINLi¡
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForASINResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘MyPriûFÜASINResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetMyPriceForASINResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘MyPriûFÜASINResuÉ
()

59 ià(
$this
->
_f›lds
['G‘MyPriûFÜASINResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘MyPriûFÜASINResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetMyPriceForASINResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘MyPriûFÜASINResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘MyPriûFÜASINResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘MyPriûFÜASINResuÉ
()

86 
$this
->
_f›lds
['G‘MyPriûFÜASINResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘MyPriûFÜASINResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetMyPriceForASINResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘MyPriûFÜASINResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘MyPriûFÜASINResuÉ
)

111 
$this
->
_f›lds
['G‘MyPriûFÜASINResuÉ']['F›ldV®ue'][] = 
$G‘MyPriûFÜASINResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetMyPriceForASINResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetMyPriceForASINResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘MyPriûFÜASINRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetMyPriceForASINResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetMyPriceForASINResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForASINResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Produù' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Product'),

47 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

48 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

49 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Produù
()

61  
$this
->
_f›lds
['Product']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

72 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Produù
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Product']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hProduù
(
$v®ue
)

96 
$this
->
	`£tProduù
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘E¼Ü
()

107  
$this
->
_f›lds
['Error']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

118 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

142 
$this
->
	`£tE¼Ü
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘ASIN
()

153  
$this
->
_f›lds
['ASIN']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

164 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘ASIN
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

188 
$this
->
	`£tASIN
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘¡©us
()

199  
$this
->
_f›lds
['status']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

210 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘¡©us
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

234 
$this
->
	`£t¡©us
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForSKURequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKUReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'S–ËrSKULi¡' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SellerSKUListType'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘S–ËrId
()

61  
$this
->
_f›lds
['SellerId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

72 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

96 
$this
->
	`£tS–ËrId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

107  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

118 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

142 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

153  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

164 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

188 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘S–ËrSKULi¡
()

199  
$this
->
_f›lds
['SellerSKUList']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tS–ËrSKULi¡
(
$v®ue
)

210 
$this
->
_f›lds
['S–ËrSKULi¡']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘S–ËrSKULi¡
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKUList']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hS–ËrSKULi¡
(
$v®ue
)

234 
$this
->
	`£tS–ËrSKULi¡
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForSKUResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKURe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘MyPriûFÜSKUResuÉ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_GetMyPriceForSKUResult')),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘MyPriûFÜSKUResuÉ
()

59 ià(
$this
->
_f›lds
['G‘MyPriûFÜSKUResuÉ']['F›ldV®ue'] =ğ
nuÎ
)

61 
$this
->
_f›lds
['G‘MyPriûFÜSKUResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

63  
$this
->
_f›lds
['GetMyPriceForSKUResult']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tG‘MyPriûFÜSKUResuÉ
(
$v®ue
)

74 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

75 
$v®ue
 = 
	`¬¿y
 ($value);

77 
$this
->
_f›lds
['G‘MyPriûFÜSKUResuÉ']['F›ldV®ue'] = 
$v®ue
;

78  
$this
;

79 
	}
}

84 
public
 
funùiÚ
 
	$un£tG‘MyPriûFÜSKUResuÉ
()

86 
$this
->
_f›lds
['G‘MyPriûFÜSKUResuÉ']['F›ldV®ue'] = 
	`¬¿y
();

87 
	}
}

94 
public
 
funùiÚ
 
	$isS‘G‘MyPriûFÜSKUResuÉ
()

96  !
	`em±y
(
$this
->
_f›lds
['GetMyPriceForSKUResult']['FieldValue']);

97 
	}
}

107 
public
 
funùiÚ
 
	$w™hG‘MyPriûFÜSKUResuÉ
()

109 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$G‘MyPriûFÜSKUResuÉ
)

111 
$this
->
_f›lds
['G‘MyPriûFÜSKUResuÉ']['F›ldV®ue'][] = 
$G‘MyPriûFÜSKUResuÉ
;

113  
$this
;

114 
	}
}

121 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

123  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

124 
	}
}

132 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

134 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

135  
$this
;

136 
	}
}

143 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

145  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

146 
	}
}

156 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

158 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

159  
$this
;

160 
	}
}

167 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

169  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

170 
	}
}

178 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

180 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

181  
$this
;

182 
	}
}

189 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

191  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

192 
	}
}

202 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

204 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

205  
$this
;

206 
	}
}

215 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

217 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

218 
$dom
->
	`lßdXML
(
$xml
);

219 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

220 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetMyPriceForSKUResponse']");

221 ià(
$»¥Ú£
->
Ëngth
 == 1) {

222  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKURe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

224 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetMyPriceForSKUResponse from…rovided XML. 

225 
Make
 
su»
 
th©
 
G‘MyPriûFÜSKURe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

227 
	}
}

233 
public
 
funùiÚ
 
	$toXML
()

235 
$xml
 = "";

236 
$xml
 .= "<GetMyPriceForSKUResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

237 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

238 
$xml
 .= "</GetMyPriceForSKUResponse>";

239  
$xml
;

240 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForSKUResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKUResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Produù' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Product'),

47 'E¼Ü' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Error'),

48 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

49 '¡©us' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Produù
()

61  
$this
->
_f›lds
['Product']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

72 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Produù
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Product']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hProduù
(
$v®ue
)

96 
$this
->
	`£tProduù
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘E¼Ü
()

107  
$this
->
_f›lds
['Error']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tE¼Ü
(
$v®ue
)

118 
$this
->
_f›lds
['E¼Ü']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘E¼Ü
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['Error']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hE¼Ü
(
$v®ue
)

142 
$this
->
	`£tE¼Ü
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

153  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

164 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

188 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘¡©us
()

199  
$this
->
_f›lds
['status']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£t¡©us
(
$v®ue
)

210 
$this
->
_f›lds
['¡©us']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘¡©us
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['status']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™h¡©us
(
$v®ue
)

234 
$this
->
	`£t¡©us
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForASINRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'ASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘S–ËrId
()

61  
$this
->
_f›lds
['SellerId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

72 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

96 
$this
->
	`£tS–ËrId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

107  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

118 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

142 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

153  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

164 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

188 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘ASIN
()

199  
$this
->
_f›lds
['ASIN']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tASIN
(
$v®ue
)

210 
$this
->
_f›lds
['ASIN']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘ASIN
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['ASIN']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hASIN
(
$v®ue
)

234 
$this
->
	`£tASIN
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForASINResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘ProduùC©egÜ›sFÜASINResuÉ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetProductCategoriesForASINResult'),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘ProduùC©egÜ›sFÜASINResuÉ
()

59  
$this
->
_f›lds
['GetProductCategoriesForASINResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tG‘ProduùC©egÜ›sFÜASINResuÉ
(
$v®ue
)

70 
$this
->
_f›lds
['G‘ProduùC©egÜ›sFÜASINResuÉ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘G‘ProduùC©egÜ›sFÜASINResuÉ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['GetProductCategoriesForASINResult']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hG‘ProduùC©egÜ›sFÜASINResuÉ
(
$v®ue
)

94 
$this
->
	`£tG‘ProduùC©egÜ›sFÜASINResuÉ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

105  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

116 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

140 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

151  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

162 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

186 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

187  
$this
;

188 
	}
}

197 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

199 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

200 
$dom
->
	`lßdXML
(
$xml
);

201 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

202 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetProductCategoriesForASINResponse']");

203 ià(
$»¥Ú£
->
Ëngth
 == 1) {

204  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

206 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetProductCategoriesForASINResponse from…rovided XML. 

207 
Make
 
su»
 
th©
 
G‘ProduùC©egÜ›sFÜASINRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

209 
	}
}

215 
public
 
funùiÚ
 
	$toXML
()

217 
$xml
 = "";

218 
$xml
 .= "<GetProductCategoriesForASINResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

219 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

220 
$xml
 .= "</GetProductCategoriesForASINResponse>";

221  
$xml
;

222 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForASINResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'S–f' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_Categories')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘S–f
()

55 ià(
$this
->
_f›lds
['S–f']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['S–f']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Self']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tS–f
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['S–f']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tS–f
()

82 
$this
->
_f›lds
['S–f']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘S–f
()

92  !
	`em±y
(
$this
->
_f›lds
['Self']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hS–f
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$S–f
)

107 
$this
->
_f›lds
['S–f']['F›ldV®ue'][] = 
$S–f
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForSKURequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKUReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘S–ËrId
()

61  
$this
->
_f›lds
['SellerId']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

72 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

96 
$this
->
	`£tS–ËrId
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

107  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

118 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

142 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

153  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

164 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

188 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

199  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

210 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

234 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForSKUResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKURe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘ProduùC©egÜ›sFÜSKUResuÉ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetProductCategoriesForSKUResult'),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘ProduùC©egÜ›sFÜSKUResuÉ
()

59  
$this
->
_f›lds
['GetProductCategoriesForSKUResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tG‘ProduùC©egÜ›sFÜSKUResuÉ
(
$v®ue
)

70 
$this
->
_f›lds
['G‘ProduùC©egÜ›sFÜSKUResuÉ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘G‘ProduùC©egÜ›sFÜSKUResuÉ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['GetProductCategoriesForSKUResult']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hG‘ProduùC©egÜ›sFÜSKUResuÉ
(
$v®ue
)

94 
$this
->
	`£tG‘ProduùC©egÜ›sFÜSKUResuÉ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

105  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

116 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

140 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

151  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

162 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

186 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

187  
$this
;

188 
	}
}

197 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

199 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

200 
$dom
->
	`lßdXML
(
$xml
);

201 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

202 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetProductCategoriesForSKUResponse']");

203 ià(
$»¥Ú£
->
Ëngth
 == 1) {

204  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKURe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

206 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetProductCategoriesForSKUResponse from…rovided XML. 

207 
Make
 
su»
 
th©
 
G‘ProduùC©egÜ›sFÜSKURe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

209 
	}
}

215 
public
 
funùiÚ
 
	$toXML
()

217 
$xml
 = "";

218 
$xml
 .= "<GetProductCategoriesForSKUResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

219 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

220 
$xml
 .= "</GetProductCategoriesForSKUResponse>";

221  
$xml
;

222 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForSKUResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKUResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'S–f' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_Categories')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘S–f
()

55 ià(
$this
->
_f›lds
['S–f']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['S–f']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Self']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tS–f
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['S–f']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tS–f
()

82 
$this
->
_f›lds
['S–f']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘S–f
()

92  !
	`em±y
(
$this
->
_f›lds
['Self']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hS–f
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$S–f
)

107 
$this
->
_f›lds
['S–f']['F›ldV®ue'][] = 
$S–f
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetServiceStatusRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘S–ËrId
()

57  
$this
->
_f›lds
['SellerId']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

68 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

92 
$this
->
	`£tS–ËrId
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

103  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

114 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

138 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetServiceStatusResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'G‘S”viûStusResuÉ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_GetServiceStatusResult'),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘G‘S”viûStusResuÉ
()

59  
$this
->
_f›lds
['GetServiceStatusResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tG‘S”viûStusResuÉ
(
$v®ue
)

70 
$this
->
_f›lds
['G‘S”viûStusResuÉ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘G‘S”viûStusResuÉ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['GetServiceStatusResult']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hG‘S”viûStusResuÉ
(
$v®ue
)

94 
$this
->
	`£tG‘S”viûStusResuÉ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

105  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

116 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

140 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

151  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

162 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

186 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

187  
$this
;

188 
	}
}

197 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

199 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

200 
$dom
->
	`lßdXML
(
$xml
);

201 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

202 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='GetServiceStatusResponse']");

203 ià(
$»¥Ú£
->
Ëngth
 == 1) {

204  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

206 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_GetServiceStatusResponse from…rovided XML. 

207 
Make
 
su»
 
th©
 
G‘S”viûStusRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

209 
	}
}

215 
public
 
funùiÚ
 
	$toXML
()

217 
$xml
 = "";

218 
$xml
 .= "<GetServiceStatusResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

219 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

220 
$xml
 .= "</GetServiceStatusResponse>";

221  
$xml
;

222 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/GetServiceStatusResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'Stus' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'Time¡amp' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'Mes§geId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'Mes§ges' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MessageList'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘Stus
()

61  
$this
->
_f›lds
['Status']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tStus
(
$v®ue
)

72 
$this
->
_f›lds
['Stus']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘Stus
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['Status']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hStus
(
$v®ue
)

96 
$this
->
	`£tStus
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘Time¡amp
()

107  
$this
->
_f›lds
['Timestamp']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tTime¡amp
(
$v®ue
)

118 
$this
->
_f›lds
['Time¡amp']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘Time¡amp
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['Timestamp']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hTime¡amp
(
$v®ue
)

142 
$this
->
	`£tTime¡amp
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘Mes§geId
()

153  
$this
->
_f›lds
['MessageId']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tMes§geId
(
$v®ue
)

164 
$this
->
_f›lds
['Mes§geId']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘Mes§geId
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['MessageId']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hMes§geId
(
$v®ue
)

188 
$this
->
	`£tMes§geId
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘Mes§ges
()

199  
$this
->
_f›lds
['Messages']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tMes§ges
(
$v®ue
)

210 
$this
->
_f›lds
['Mes§ges']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘Mes§ges
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['Messages']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hMes§ges
(
$v®ue
)

234 
$this
->
	`£tMes§ges
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/IdListType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_IdLi¡Ty³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Id' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('string')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Id
()

55 ià(
$this
->
_f›lds
['Id']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Id']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Id']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tId
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Id']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tId
()

82 
$this
->
_f›lds
['Id']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Id
()

92  !
	`em±y
(
$this
->
_f›lds
['Id']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hId
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Id
)

107 
$this
->
_f›lds
['Id']['F›ldV®ue'][] = 
$Id
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/IdentifierType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Id’tif›rTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'M¬k‘¶aûASIN' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ASINIdentifier'),

45 'SKUId’tif›r' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SellerSKUIdentifier'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûASIN
()

57  
$this
->
_f›lds
['MarketplaceASIN']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tM¬k‘¶aûASIN
(
$v®ue
)

68 
$this
->
_f›lds
['M¬k‘¶aûASIN']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûASIN
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceASIN']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûASIN
(
$v®ue
)

92 
$this
->
	`£tM¬k‘¶aûASIN
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘SKUId’tif›r
()

103  
$this
->
_f›lds
['SKUIdentifier']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tSKUId’tif›r
(
$v®ue
)

114 
$this
->
_f›lds
['SKUId’tif›r']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘SKUId’tif›r
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['SKUIdentifier']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hSKUId’tif›r
(
$v®ue
)

138 
$this
->
	`£tSKUId’tif›r
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ListMatchingProductsRequest.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsReque¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

48 'MWSAuthTok’' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'Qu”y' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'Qu”yCÚ‹xtId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘S–ËrId
()

63  
$this
->
_f›lds
['SellerId']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

74 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

98 
$this
->
	`£tS–ËrId
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘MWSAuthTok’
()

109  
$this
->
_f›lds
['MWSAuthToken']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tMWSAuthTok’
(
$v®ue
)

120 
$this
->
_f›lds
['MWSAuthTok’']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘MWSAuthTok’
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['MWSAuthToken']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hMWSAuthTok’
(
$v®ue
)

144 
$this
->
	`£tMWSAuthTok’
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

155  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

166 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

190 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘Qu”y
()

201  
$this
->
_f›lds
['Query']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tQu”y
(
$v®ue
)

212 
$this
->
_f›lds
['Qu”y']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘Qu”y
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['Query']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hQu”y
(
$v®ue
)

236 
$this
->
	`£tQu”y
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$g‘Qu”yCÚ‹xtId
()

247  
$this
->
_f›lds
['QueryContextId']['FieldValue'];

248 
	}
}

256 
public
 
funùiÚ
 
	$£tQu”yCÚ‹xtId
(
$v®ue
)

258 
$this
->
_f›lds
['Qu”yCÚ‹xtId']['F›ldV®ue'] = 
$v®ue
;

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$isS‘Qu”yCÚ‹xtId
()

269  !
	`is_nuÎ
(
$this
->
_f›lds
['QueryContextId']['FieldValue']);

270 
	}
}

280 
public
 
funùiÚ
 
	$w™hQu”yCÚ‹xtId
(
$v®ue
)

282 
$this
->
	`£tQu”yCÚ‹xtId
(
$v®ue
);

283  
$this
;

284 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ListMatchingProductsResponse.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsRe¥Ú£
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'Li¡M©chšgProduùsResuÉ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ListMatchingProductsResult'),

46 'Re¥Ú£M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseMetadata'),

47 'Re¥Ú£H—d”M‘ad©a' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ResponseHeaderMetadata'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘Li¡M©chšgProduùsResuÉ
()

59  
$this
->
_f›lds
['ListMatchingProductsResult']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tLi¡M©chšgProduùsResuÉ
(
$v®ue
)

70 
$this
->
_f›lds
['Li¡M©chšgProduùsResuÉ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘Li¡M©chšgProduùsResuÉ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['ListMatchingProductsResult']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hLi¡M©chšgProduùsResuÉ
(
$v®ue
)

94 
$this
->
	`£tLi¡M©chšgProduùsResuÉ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Re¥Ú£M‘ad©a
()

105  
$this
->
_f›lds
['ResponseMetadata']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tRe¥Ú£M‘ad©a
(
$v®ue
)

116 
$this
->
_f›lds
['Re¥Ú£M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Re¥Ú£M‘ad©a
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseMetadata']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hRe¥Ú£M‘ad©a
(
$v®ue
)

140 
$this
->
	`£tRe¥Ú£M‘ad©a
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Re¥Ú£H—d”M‘ad©a
()

151  
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

162 
$this
->
_f›lds
['Re¥Ú£H—d”M‘ad©a']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Re¥Ú£H—d”M‘ad©a
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['ResponseHeaderMetadata']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hRe¥Ú£H—d”M‘ad©a
(
$v®ue
)

186 
$this
->
	`£tRe¥Ú£H—d”M‘ad©a
(
$v®ue
);

187  
$this
;

188 
	}
}

197 
public
 
funùiÚ
 
	$äomXML
(
$xml
)

199 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

200 
$dom
->
	`lßdXML
(
$xml
);

201 
$x·th
 = 
Ãw
 
	`DOMXP©h
(
$dom
);

202 
$»¥Ú£
 = 
$x·th
->
	`qu”y
("//*[local-name()='ListMatchingProductsResponse']");

203 ià(
$»¥Ú£
->
Ëngth
 == 1) {

204  
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsRe¥Ú£
((
$»¥Ú£
->
	`™em
(0)));

206 
throw
 
Ãw
 
	`Exû±iÚ
 ("Unableo construct MarketplaceWebServiceProducts_Model_ListMatchingProductsResponse from…rovided XML. 

207 
Make
 
su»
 
th©
 
Li¡M©chšgProduùsRe¥Ú£
 
is
 
a
 
roÙ
 
–em’t
");

209 
	}
}

215 
public
 
funùiÚ
 
	$toXML
()

217 
$xml
 = "";

218 
$xml
 .= "<ListMatchingProductsResponse xmlns=\"http://mws.amazonservices.com/schema/Products/2011-10-01\">";

219 
$xml
 .ğ
$this
->
	`_toXMLF¿gm’t
();

220 
$xml
 .= "</ListMatchingProductsResponse>";

221  
$xml
;

222 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ListMatchingProductsResult.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsResuÉ
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Produùs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ProductList'),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Produùs
()

55  
$this
->
_f›lds
['Products']['FieldValue'];

56 
	}
}

64 
public
 
funùiÚ
 
	$£tProduùs
(
$v®ue
)

66 
$this
->
_f›lds
['Produùs']['F›ldV®ue'] = 
$v®ue
;

67  
$this
;

68 
	}
}

75 
public
 
funùiÚ
 
	$isS‘Produùs
()

77  !
	`is_nuÎ
(
$this
->
_f›lds
['Products']['FieldValue']);

78 
	}
}

88 
public
 
funùiÚ
 
	$w™hProduùs
(
$v®ue
)

90 
$this
->
	`£tProduùs
(
$v®ue
);

91  
$this
;

92 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestOfferListingList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Lowe¡OfãrLi¡šgLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Lowe¡OfãrLi¡šg' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_LowestOfferListingType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Lowe¡OfãrLi¡šg
()

55 ià(
$this
->
_f›lds
['Lowe¡OfãrLi¡šg']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Lowe¡OfãrLi¡šg']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['LowestOfferListing']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tLowe¡OfãrLi¡šg
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Lowe¡OfãrLi¡šg']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tLowe¡OfãrLi¡šg
()

82 
$this
->
_f›lds
['Lowe¡OfãrLi¡šg']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Lowe¡OfãrLi¡šg
()

92  !
	`em±y
(
$this
->
_f›lds
['LowestOfferListing']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hLowe¡OfãrLi¡šg
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Lowe¡OfãrLi¡šg
)

107 
$this
->
_f›lds
['Lowe¡OfãrLi¡šg']['F›ldV®ue'][] = 
$Lowe¡OfãrLi¡šg
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestOfferListingType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

42 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Lowe¡OfãrLi¡šgTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

44 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

46 
$this
->
_f›lds
 = 
	`¬¿y
 (

47 'Qu®if›rs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_QualifiersType'),

48 'Numb”OfOfãrLi¡šgsCÚsid”ed' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'int'),

49 'S–ËrF“dbackCouÁ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'int'),

50 'Priû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_PriceType'),

51 'MuÉËOfãrsAtLowe¡Priû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

61 
public
 
funùiÚ
 
	$g‘Qu®if›rs
()

63  
$this
->
_f›lds
['Qualifiers']['FieldValue'];

64 
	}
}

72 
public
 
funùiÚ
 
	$£tQu®if›rs
(
$v®ue
)

74 
$this
->
_f›lds
['Qu®if›rs']['F›ldV®ue'] = 
$v®ue
;

75  
$this
;

76 
	}
}

83 
public
 
funùiÚ
 
	$isS‘Qu®if›rs
()

85  !
	`is_nuÎ
(
$this
->
_f›lds
['Qualifiers']['FieldValue']);

86 
	}
}

96 
public
 
funùiÚ
 
	$w™hQu®if›rs
(
$v®ue
)

98 
$this
->
	`£tQu®if›rs
(
$v®ue
);

99  
$this
;

100 
	}
}

107 
public
 
funùiÚ
 
	$g‘Numb”OfOfãrLi¡šgsCÚsid”ed
()

109  
$this
->
_f›lds
['NumberOfOfferListingsConsidered']['FieldValue'];

110 
	}
}

118 
public
 
funùiÚ
 
	$£tNumb”OfOfãrLi¡šgsCÚsid”ed
(
$v®ue
)

120 
$this
->
_f›lds
['Numb”OfOfãrLi¡šgsCÚsid”ed']['F›ldV®ue'] = 
$v®ue
;

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$isS‘Numb”OfOfãrLi¡šgsCÚsid”ed
()

131  !
	`is_nuÎ
(
$this
->
_f›lds
['NumberOfOfferListingsConsidered']['FieldValue']);

132 
	}
}

142 
public
 
funùiÚ
 
	$w™hNumb”OfOfãrLi¡šgsCÚsid”ed
(
$v®ue
)

144 
$this
->
	`£tNumb”OfOfãrLi¡šgsCÚsid”ed
(
$v®ue
);

145  
$this
;

146 
	}
}

153 
public
 
funùiÚ
 
	$g‘S–ËrF“dbackCouÁ
()

155  
$this
->
_f›lds
['SellerFeedbackCount']['FieldValue'];

156 
	}
}

164 
public
 
funùiÚ
 
	$£tS–ËrF“dbackCouÁ
(
$v®ue
)

166 
$this
->
_f›lds
['S–ËrF“dbackCouÁ']['F›ldV®ue'] = 
$v®ue
;

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$isS‘S–ËrF“dbackCouÁ
()

177  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerFeedbackCount']['FieldValue']);

178 
	}
}

188 
public
 
funùiÚ
 
	$w™hS–ËrF“dbackCouÁ
(
$v®ue
)

190 
$this
->
	`£tS–ËrF“dbackCouÁ
(
$v®ue
);

191  
$this
;

192 
	}
}

199 
public
 
funùiÚ
 
	$g‘Priû
()

201  
$this
->
_f›lds
['Price']['FieldValue'];

202 
	}
}

210 
public
 
funùiÚ
 
	$£tPriû
(
$v®ue
)

212 
$this
->
_f›lds
['Priû']['F›ldV®ue'] = 
$v®ue
;

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$isS‘Priû
()

223  !
	`is_nuÎ
(
$this
->
_f›lds
['Price']['FieldValue']);

224 
	}
}

234 
public
 
funùiÚ
 
	$w™hPriû
(
$v®ue
)

236 
$this
->
	`£tPriû
(
$v®ue
);

237  
$this
;

238 
	}
}

245 
public
 
funùiÚ
 
	$g‘MuÉËOfãrsAtLowe¡Priû
()

247  
$this
->
_f›lds
['MultipleOffersAtLowestPrice']['FieldValue'];

248 
	}
}

256 
public
 
funùiÚ
 
	$£tMuÉËOfãrsAtLowe¡Priû
(
$v®ue
)

258 
$this
->
_f›lds
['MuÉËOfãrsAtLowe¡Priû']['F›ldV®ue'] = 
$v®ue
;

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$isS‘MuÉËOfãrsAtLowe¡Priû
()

269  !
	`is_nuÎ
(
$this
->
_f›lds
['MultipleOffersAtLowestPrice']['FieldValue']);

270 
	}
}

280 
public
 
funùiÚ
 
	$w™hMuÉËOfãrsAtLowe¡Priû
(
$v®ue
)

282 
$this
->
	`£tMuÉËOfãrsAtLowe¡Priû
(
$v®ue
);

283  
$this
;

284 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestPriceType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

43 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Lowe¡PriûTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

45 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

47 
$this
->
_f›lds
 = 
	`¬¿y
 (

48 'cÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

49 'fulflm’tChªÃl' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

50 'LªdedPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

51 'Li¡šgPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

52 'Shpšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

53 'Pošts' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Points'),

55 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

63 
public
 
funùiÚ
 
	$g‘cÚd™iÚ
()

65  
$this
->
_f›lds
['condition']['FieldValue'];

66 
	}
}

74 
public
 
funùiÚ
 
	$£tcÚd™iÚ
(
$v®ue
)

76 
$this
->
_f›lds
['cÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

77  
$this
;

78 
	}
}

85 
public
 
funùiÚ
 
	$isS‘cÚd™iÚ
()

87  !
	`is_nuÎ
(
$this
->
_f›lds
['condition']['FieldValue']);

88 
	}
}

98 
public
 
funùiÚ
 
	$w™hcÚd™iÚ
(
$v®ue
)

100 
$this
->
	`£tcÚd™iÚ
(
$v®ue
);

101  
$this
;

102 
	}
}

109 
public
 
funùiÚ
 
	$g‘fulflm’tChªÃl
()

111  
$this
->
_f›lds
['fulfillmentChannel']['FieldValue'];

112 
	}
}

120 
public
 
funùiÚ
 
	$£tfulflm’tChªÃl
(
$v®ue
)

122 
$this
->
_f›lds
['fulflm’tChªÃl']['F›ldV®ue'] = 
$v®ue
;

123  
$this
;

124 
	}
}

131 
public
 
funùiÚ
 
	$isS‘fulflm’tChªÃl
()

133  !
	`is_nuÎ
(
$this
->
_f›lds
['fulfillmentChannel']['FieldValue']);

134 
	}
}

144 
public
 
funùiÚ
 
	$w™hfulflm’tChªÃl
(
$v®ue
)

146 
$this
->
	`£tfulflm’tChªÃl
(
$v®ue
);

147  
$this
;

148 
	}
}

155 
public
 
funùiÚ
 
	$g‘LªdedPriû
()

157  
$this
->
_f›lds
['LandedPrice']['FieldValue'];

158 
	}
}

166 
public
 
funùiÚ
 
	$£tLªdedPriû
(
$v®ue
)

168 
$this
->
_f›lds
['LªdedPriû']['F›ldV®ue'] = 
$v®ue
;

169  
$this
;

170 
	}
}

177 
public
 
funùiÚ
 
	$isS‘LªdedPriû
()

179  !
	`is_nuÎ
(
$this
->
_f›lds
['LandedPrice']['FieldValue']);

180 
	}
}

190 
public
 
funùiÚ
 
	$w™hLªdedPriû
(
$v®ue
)

192 
$this
->
	`£tLªdedPriû
(
$v®ue
);

193  
$this
;

194 
	}
}

201 
public
 
funùiÚ
 
	$g‘Li¡šgPriû
()

203  
$this
->
_f›lds
['ListingPrice']['FieldValue'];

204 
	}
}

212 
public
 
funùiÚ
 
	$£tLi¡šgPriû
(
$v®ue
)

214 
$this
->
_f›lds
['Li¡šgPriû']['F›ldV®ue'] = 
$v®ue
;

215  
$this
;

216 
	}
}

223 
public
 
funùiÚ
 
	$isS‘Li¡šgPriû
()

225  !
	`is_nuÎ
(
$this
->
_f›lds
['ListingPrice']['FieldValue']);

226 
	}
}

236 
public
 
funùiÚ
 
	$w™hLi¡šgPriû
(
$v®ue
)

238 
$this
->
	`£tLi¡šgPriû
(
$v®ue
);

239  
$this
;

240 
	}
}

247 
public
 
funùiÚ
 
	$g‘Shpšg
()

249  
$this
->
_f›lds
['Shipping']['FieldValue'];

250 
	}
}

258 
public
 
funùiÚ
 
	$£tShpšg
(
$v®ue
)

260 
$this
->
_f›lds
['Shpšg']['F›ldV®ue'] = 
$v®ue
;

261  
$this
;

262 
	}
}

269 
public
 
funùiÚ
 
	$isS‘Shpšg
()

271  !
	`is_nuÎ
(
$this
->
_f›lds
['Shipping']['FieldValue']);

272 
	}
}

282 
public
 
funùiÚ
 
	$w™hShpšg
(
$v®ue
)

284 
$this
->
	`£tShpšg
(
$v®ue
);

285  
$this
;

286 
	}
}

293 
public
 
funùiÚ
 
	$g‘Pošts
()

295  
$this
->
_f›lds
['Points']['FieldValue'];

296 
	}
}

304 
public
 
funùiÚ
 
	$£tPošts
(
$v®ue
)

306 
$this
->
_f›lds
['Pošts']['F›ldV®ue'] = 
$v®ue
;

307  
$this
;

308 
	}
}

315 
public
 
funùiÚ
 
	$isS‘Pošts
()

317  !
	`is_nuÎ
(
$this
->
_f›lds
['Points']['FieldValue']);

318 
	}
}

328 
public
 
funùiÚ
 
	$w™hPošts
(
$v®ue
)

330 
$this
->
	`£tPošts
(
$v®ue
);

331  
$this
;

332 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestPrices.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Lowe¡Priûs
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Lowe¡Priû' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_LowestPriceType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Lowe¡Priû
()

55 ià(
$this
->
_f›lds
['Lowe¡Priû']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Lowe¡Priû']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['LowestPrice']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tLowe¡Priû
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Lowe¡Priû']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tLowe¡Priû
()

82 
$this
->
_f›lds
['Lowe¡Priû']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Lowe¡Priû
()

92  !
	`em±y
(
$this
->
_f›lds
['LowestPrice']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hLowe¡Priû
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Lowe¡Priû
)

107 
$this
->
_f›lds
['Lowe¡Priû']['F›ldV®ue'][] = 
$Lowe¡Priû
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/Message.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Mes§ge
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'LoÿË' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 'Text' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘LoÿË
()

57  
$this
->
_f›lds
['Locale']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tLoÿË
(
$v®ue
)

68 
$this
->
_f›lds
['LoÿË']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘LoÿË
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['Locale']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hLoÿË
(
$v®ue
)

92 
$this
->
	`£tLoÿË
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘Text
()

103  
$this
->
_f›lds
['Text']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tText
(
$v®ue
)

114 
$this
->
_f›lds
['Text']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘Text
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['Text']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hText
(
$v®ue
)

138 
$this
->
	`£tText
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/MessageList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Mes§geLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Mes§ge' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_Message')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Mes§ge
()

55 ià(
$this
->
_f›lds
['Mes§ge']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Mes§ge']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Message']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tMes§ge
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Mes§ge']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tMes§ge
()

82 
$this
->
_f›lds
['Mes§ge']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Mes§ge
()

92  !
	`em±y
(
$this
->
_f›lds
['Message']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hMes§ge
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Mes§ge
)

107 
$this
->
_f›lds
['Mes§ge']['F›ldV®ue'][] = 
$Mes§ge
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/MoneyType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_MÚeyTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'Cu¼’cyCode' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 'AmouÁ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'float'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘Cu¼’cyCode
()

57  
$this
->
_f›lds
['CurrencyCode']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tCu¼’cyCode
(
$v®ue
)

68 
$this
->
_f›lds
['Cu¼’cyCode']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘Cu¼’cyCode
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['CurrencyCode']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hCu¼’cyCode
(
$v®ue
)

92 
$this
->
	`£tCu¼’cyCode
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘AmouÁ
()

103  
$this
->
_f›lds
['Amount']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tAmouÁ
(
$v®ue
)

114 
$this
->
_f›lds
['AmouÁ']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘AmouÁ
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['Amount']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hAmouÁ
(
$v®ue
)

138 
$this
->
	`£tAmouÁ
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/NumberOfOfferListingsList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Numb”OfOfãrLi¡šgsLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'OfãrLi¡šgCouÁ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_OfferListingCountType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘OfãrLi¡šgCouÁ
()

55 ià(
$this
->
_f›lds
['OfãrLi¡šgCouÁ']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['OfãrLi¡šgCouÁ']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['OfferListingCount']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tOfãrLi¡šgCouÁ
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['OfãrLi¡šgCouÁ']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tOfãrLi¡šgCouÁ
()

82 
$this
->
_f›lds
['OfãrLi¡šgCouÁ']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘OfãrLi¡šgCouÁ
()

92  !
	`em±y
(
$this
->
_f›lds
['OfferListingCount']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hOfãrLi¡šgCouÁ
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$OfãrLi¡šgCouÁ
)

107 
$this
->
_f›lds
['OfãrLi¡šgCouÁ']['F›ldV®ue'][] = 
$OfãrLi¡šgCouÁ
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/NumberOfOffers.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Numb”OfOfãrs
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'OfãrCouÁ' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_OfferCountType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘OfãrCouÁ
()

55 ià(
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['OfferCount']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tOfãrCouÁ
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tOfãrCouÁ
()

82 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘OfãrCouÁ
()

92  !
	`em±y
(
$this
->
_f›lds
['OfferCount']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hOfãrCouÁ
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$OfãrCouÁ
)

107 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'][] = 
$OfãrCouÁ
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/OfferCountType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_OfãrCouÁTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'cÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

46 'fulflm’tChªÃl' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

47 'OfãrCouÁ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '.int'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘cÚd™iÚ
()

59  
$this
->
_f›lds
['condition']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tcÚd™iÚ
(
$v®ue
)

70 
$this
->
_f›lds
['cÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘cÚd™iÚ
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['condition']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hcÚd™iÚ
(
$v®ue
)

94 
$this
->
	`£tcÚd™iÚ
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘fulflm’tChªÃl
()

105  
$this
->
_f›lds
['fulfillmentChannel']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tfulflm’tChªÃl
(
$v®ue
)

116 
$this
->
_f›lds
['fulflm’tChªÃl']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘fulflm’tChªÃl
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['fulfillmentChannel']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hfulflm’tChªÃl
(
$v®ue
)

140 
$this
->
	`£tfulflm’tChªÃl
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘OfãrCouÁ
()

151  
$this
->
_f›lds
['OfferCount']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tOfãrCouÁ
(
$v®ue
)

162 
$this
->
_f›lds
['OfãrCouÁ']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘OfãrCouÁ
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['OfferCount']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hOfãrCouÁ
(
$v®ue
)

186 
$this
->
	`£tOfãrCouÁ
(
$v®ue
);

187  
$this
;

188 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/OfferListingCountType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_OfãrLi¡šgCouÁTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'V®ue' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '.int'),

45 'cÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => '@string'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘V®ue
()

57  
$this
->
_f›lds
['Value']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tV®ue
(
$v®ue
)

68 
$this
->
_f›lds
['V®ue']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘V®ue
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['Value']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hV®ue
(
$v®ue
)

92 
$this
->
	`£tV®ue
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘cÚd™iÚ
()

103  
$this
->
_f›lds
['condition']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tcÚd™iÚ
(
$v®ue
)

114 
$this
->
_f›lds
['cÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘cÚd™iÚ
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['condition']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hcÚd™iÚ
(
$v®ue
)

138 
$this
->
	`£tcÚd™iÚ
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/OfferType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

44 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_OfãrTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

46 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

48 
$this
->
_f›lds
 = 
	`¬¿y
 (

49 'BuyšgPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_PriceType'),

50 'ReguÏrPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

51 'Fulflm’tChªÃl' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

52 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

53 'I‹mSubCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

54 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

55 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

57 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

65 
public
 
funùiÚ
 
	$g‘BuyšgPriû
()

67  
$this
->
_f›lds
['BuyingPrice']['FieldValue'];

68 
	}
}

76 
public
 
funùiÚ
 
	$£tBuyšgPriû
(
$v®ue
)

78 
$this
->
_f›lds
['BuyšgPriû']['F›ldV®ue'] = 
$v®ue
;

79  
$this
;

80 
	}
}

87 
public
 
funùiÚ
 
	$isS‘BuyšgPriû
()

89  !
	`is_nuÎ
(
$this
->
_f›lds
['BuyingPrice']['FieldValue']);

90 
	}
}

100 
public
 
funùiÚ
 
	$w™hBuyšgPriû
(
$v®ue
)

102 
$this
->
	`£tBuyšgPriû
(
$v®ue
);

103  
$this
;

104 
	}
}

111 
public
 
funùiÚ
 
	$g‘ReguÏrPriû
()

113  
$this
->
_f›lds
['RegularPrice']['FieldValue'];

114 
	}
}

122 
public
 
funùiÚ
 
	$£tReguÏrPriû
(
$v®ue
)

124 
$this
->
_f›lds
['ReguÏrPriû']['F›ldV®ue'] = 
$v®ue
;

125  
$this
;

126 
	}
}

133 
public
 
funùiÚ
 
	$isS‘ReguÏrPriû
()

135  !
	`is_nuÎ
(
$this
->
_f›lds
['RegularPrice']['FieldValue']);

136 
	}
}

146 
public
 
funùiÚ
 
	$w™hReguÏrPriû
(
$v®ue
)

148 
$this
->
	`£tReguÏrPriû
(
$v®ue
);

149  
$this
;

150 
	}
}

157 
public
 
funùiÚ
 
	$g‘Fulflm’tChªÃl
()

159  
$this
->
_f›lds
['FulfillmentChannel']['FieldValue'];

160 
	}
}

168 
public
 
funùiÚ
 
	$£tFulflm’tChªÃl
(
$v®ue
)

170 
$this
->
_f›lds
['Fulflm’tChªÃl']['F›ldV®ue'] = 
$v®ue
;

171  
$this
;

172 
	}
}

179 
public
 
funùiÚ
 
	$isS‘Fulflm’tChªÃl
()

181  !
	`is_nuÎ
(
$this
->
_f›lds
['FulfillmentChannel']['FieldValue']);

182 
	}
}

192 
public
 
funùiÚ
 
	$w™hFulflm’tChªÃl
(
$v®ue
)

194 
$this
->
	`£tFulflm’tChªÃl
(
$v®ue
);

195  
$this
;

196 
	}
}

203 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

205  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

206 
	}
}

214 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

216 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

217  
$this
;

218 
	}
}

225 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

227  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

228 
	}
}

238 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

240 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

241  
$this
;

242 
	}
}

249 
public
 
funùiÚ
 
	$g‘I‹mSubCÚd™iÚ
()

251  
$this
->
_f›lds
['ItemSubCondition']['FieldValue'];

252 
	}
}

260 
public
 
funùiÚ
 
	$£tI‹mSubCÚd™iÚ
(
$v®ue
)

262 
$this
->
_f›lds
['I‹mSubCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

263  
$this
;

264 
	}
}

271 
public
 
funùiÚ
 
	$isS‘I‹mSubCÚd™iÚ
()

273  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemSubCondition']['FieldValue']);

274 
	}
}

284 
public
 
funùiÚ
 
	$w™hI‹mSubCÚd™iÚ
(
$v®ue
)

286 
$this
->
	`£tI‹mSubCÚd™iÚ
(
$v®ue
);

287  
$this
;

288 
	}
}

295 
public
 
funùiÚ
 
	$g‘S–ËrId
()

297  
$this
->
_f›lds
['SellerId']['FieldValue'];

298 
	}
}

306 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

308 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

309  
$this
;

310 
	}
}

317 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

319  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

320 
	}
}

330 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

332 
$this
->
	`£tS–ËrId
(
$v®ue
);

333  
$this
;

334 
	}
}

341 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

343  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

344 
	}
}

352 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

354 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

355  
$this
;

356 
	}
}

363 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

365  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

366 
	}
}

376 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

378 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

379  
$this
;

380 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/OffersList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_OfãrsLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Ofãr' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_OfferType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Ofãr
()

55 ià(
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Offer']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tOfãr
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tOfãr
()

82 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Ofãr
()

92  !
	`em±y
(
$this
->
_f›lds
['Offer']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hOfãr
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Ofãr
)

107 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'][] = 
$Ofãr
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/Points.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Pošts
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'PoštsNumb”' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'int'),

45 'PoštsMÚ‘¬yV®ue' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘PoštsNumb”
()

57  
$this
->
_f›lds
['PointsNumber']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tPoštsNumb”
(
$v®ue
)

68 
$this
->
_f›lds
['PoštsNumb”']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘PoštsNumb”
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['PointsNumber']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hPoštsNumb”
(
$v®ue
)

92 
$this
->
	`£tPoštsNumb”
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘PoštsMÚ‘¬yV®ue
()

103  
$this
->
_f›lds
['PointsMonetaryValue']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tPoštsMÚ‘¬yV®ue
(
$v®ue
)

114 
$this
->
_f›lds
['PoštsMÚ‘¬yV®ue']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘PoštsMÚ‘¬yV®ue
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['PointsMonetaryValue']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hPoštsMÚ‘¬yV®ue
(
$v®ue
)

138 
$this
->
	`£tPoštsMÚ‘¬yV®ue
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/PriceToEstimateFees.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_PriûToE¡im©eF“s
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'Li¡šgPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

46 'Shpšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

47 'Pošts' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Points'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘Li¡šgPriû
()

59  
$this
->
_f›lds
['ListingPrice']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tLi¡šgPriû
(
$v®ue
)

70 
$this
->
_f›lds
['Li¡šgPriû']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘Li¡šgPriû
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['ListingPrice']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hLi¡šgPriû
(
$v®ue
)

94 
$this
->
	`£tLi¡šgPriû
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘Shpšg
()

105  
$this
->
_f›lds
['Shipping']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tShpšg
(
$v®ue
)

116 
$this
->
_f›lds
['Shpšg']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘Shpšg
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['Shipping']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hShpšg
(
$v®ue
)

140 
$this
->
	`£tShpšg
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘Pošts
()

151  
$this
->
_f›lds
['Points']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tPošts
(
$v®ue
)

162 
$this
->
_f›lds
['Pošts']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘Pošts
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['Points']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hPošts
(
$v®ue
)

186 
$this
->
	`£tPošts
(
$v®ue
);

187  
$this
;

188 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/PriceType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

41 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_PriûTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

43 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

45 
$this
->
_f›lds
 = 
	`¬¿y
 (

46 'LªdedPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

47 'Li¡šgPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

48 'Shpšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

49 'Pošts' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Points'),

51 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

59 
public
 
funùiÚ
 
	$g‘LªdedPriû
()

61  
$this
->
_f›lds
['LandedPrice']['FieldValue'];

62 
	}
}

70 
public
 
funùiÚ
 
	$£tLªdedPriû
(
$v®ue
)

72 
$this
->
_f›lds
['LªdedPriû']['F›ldV®ue'] = 
$v®ue
;

73  
$this
;

74 
	}
}

81 
public
 
funùiÚ
 
	$isS‘LªdedPriû
()

83  !
	`is_nuÎ
(
$this
->
_f›lds
['LandedPrice']['FieldValue']);

84 
	}
}

94 
public
 
funùiÚ
 
	$w™hLªdedPriû
(
$v®ue
)

96 
$this
->
	`£tLªdedPriû
(
$v®ue
);

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$g‘Li¡šgPriû
()

107  
$this
->
_f›lds
['ListingPrice']['FieldValue'];

108 
	}
}

116 
public
 
funùiÚ
 
	$£tLi¡šgPriû
(
$v®ue
)

118 
$this
->
_f›lds
['Li¡šgPriû']['F›ldV®ue'] = 
$v®ue
;

119  
$this
;

120 
	}
}

127 
public
 
funùiÚ
 
	$isS‘Li¡šgPriû
()

129  !
	`is_nuÎ
(
$this
->
_f›lds
['ListingPrice']['FieldValue']);

130 
	}
}

140 
public
 
funùiÚ
 
	$w™hLi¡šgPriû
(
$v®ue
)

142 
$this
->
	`£tLi¡šgPriû
(
$v®ue
);

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$g‘Shpšg
()

153  
$this
->
_f›lds
['Shipping']['FieldValue'];

154 
	}
}

162 
public
 
funùiÚ
 
	$£tShpšg
(
$v®ue
)

164 
$this
->
_f›lds
['Shpšg']['F›ldV®ue'] = 
$v®ue
;

165  
$this
;

166 
	}
}

173 
public
 
funùiÚ
 
	$isS‘Shpšg
()

175  !
	`is_nuÎ
(
$this
->
_f›lds
['Shipping']['FieldValue']);

176 
	}
}

186 
public
 
funùiÚ
 
	$w™hShpšg
(
$v®ue
)

188 
$this
->
	`£tShpšg
(
$v®ue
);

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$g‘Pošts
()

199  
$this
->
_f›lds
['Points']['FieldValue'];

200 
	}
}

208 
public
 
funùiÚ
 
	$£tPošts
(
$v®ue
)

210 
$this
->
_f›lds
['Pošts']['F›ldV®ue'] = 
$v®ue
;

211  
$this
;

212 
	}
}

219 
public
 
funùiÚ
 
	$isS‘Pošts
()

221  !
	`is_nuÎ
(
$this
->
_f›lds
['Points']['FieldValue']);

222 
	}
}

232 
public
 
funùiÚ
 
	$w™hPošts
(
$v®ue
)

234 
$this
->
	`£tPošts
(
$v®ue
);

235  
$this
;

236 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/Product.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

44 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Produù
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

46 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

48 
$this
->
_f›lds
 = 
	`¬¿y
 (

49 'Id’tif›rs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_IdentifierType'),

50 'A‰ribu‹S‘s' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_AttributeSetList'),

51 'R–©iÚshs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_RelationshipList'),

52 'Com³t™ivePricšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_CompetitivePricingType'),

53 'S®esRªkšgs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SalesRankList'),

54 'Lowe¡OfãrLi¡šgs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_LowestOfferListingList'),

55 'Ofãrs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_OffersList'),

57 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

65 
public
 
funùiÚ
 
	$g‘Id’tif›rs
()

67  
$this
->
_f›lds
['Identifiers']['FieldValue'];

68 
	}
}

76 
public
 
funùiÚ
 
	$£tId’tif›rs
(
$v®ue
)

78 
$this
->
_f›lds
['Id’tif›rs']['F›ldV®ue'] = 
$v®ue
;

79  
$this
;

80 
	}
}

87 
public
 
funùiÚ
 
	$isS‘Id’tif›rs
()

89  !
	`is_nuÎ
(
$this
->
_f›lds
['Identifiers']['FieldValue']);

90 
	}
}

100 
public
 
funùiÚ
 
	$w™hId’tif›rs
(
$v®ue
)

102 
$this
->
	`£tId’tif›rs
(
$v®ue
);

103  
$this
;

104 
	}
}

111 
public
 
funùiÚ
 
	$g‘A‰ribu‹S‘s
()

113  
$this
->
_f›lds
['AttributeSets']['FieldValue'];

114 
	}
}

122 
public
 
funùiÚ
 
	$£tA‰ribu‹S‘s
(
$v®ue
)

124 
$this
->
_f›lds
['A‰ribu‹S‘s']['F›ldV®ue'] = 
$v®ue
;

125  
$this
;

126 
	}
}

133 
public
 
funùiÚ
 
	$isS‘A‰ribu‹S‘s
()

135  !
	`is_nuÎ
(
$this
->
_f›lds
['AttributeSets']['FieldValue']);

136 
	}
}

146 
public
 
funùiÚ
 
	$w™hA‰ribu‹S‘s
(
$v®ue
)

148 
$this
->
	`£tA‰ribu‹S‘s
(
$v®ue
);

149  
$this
;

150 
	}
}

157 
public
 
funùiÚ
 
	$g‘R–©iÚshs
()

159  
$this
->
_f›lds
['Relationships']['FieldValue'];

160 
	}
}

168 
public
 
funùiÚ
 
	$£tR–©iÚshs
(
$v®ue
)

170 
$this
->
_f›lds
['R–©iÚshs']['F›ldV®ue'] = 
$v®ue
;

171  
$this
;

172 
	}
}

179 
public
 
funùiÚ
 
	$isS‘R–©iÚshs
()

181  !
	`is_nuÎ
(
$this
->
_f›lds
['Relationships']['FieldValue']);

182 
	}
}

192 
public
 
funùiÚ
 
	$w™hR–©iÚshs
(
$v®ue
)

194 
$this
->
	`£tR–©iÚshs
(
$v®ue
);

195  
$this
;

196 
	}
}

203 
public
 
funùiÚ
 
	$g‘Com³t™ivePricšg
()

205  
$this
->
_f›lds
['CompetitivePricing']['FieldValue'];

206 
	}
}

214 
public
 
funùiÚ
 
	$£tCom³t™ivePricšg
(
$v®ue
)

216 
$this
->
_f›lds
['Com³t™ivePricšg']['F›ldV®ue'] = 
$v®ue
;

217  
$this
;

218 
	}
}

225 
public
 
funùiÚ
 
	$isS‘Com³t™ivePricšg
()

227  !
	`is_nuÎ
(
$this
->
_f›lds
['CompetitivePricing']['FieldValue']);

228 
	}
}

238 
public
 
funùiÚ
 
	$w™hCom³t™ivePricšg
(
$v®ue
)

240 
$this
->
	`£tCom³t™ivePricšg
(
$v®ue
);

241  
$this
;

242 
	}
}

249 
public
 
funùiÚ
 
	$g‘S®esRªkšgs
()

251  
$this
->
_f›lds
['SalesRankings']['FieldValue'];

252 
	}
}

260 
public
 
funùiÚ
 
	$£tS®esRªkšgs
(
$v®ue
)

262 
$this
->
_f›lds
['S®esRªkšgs']['F›ldV®ue'] = 
$v®ue
;

263  
$this
;

264 
	}
}

271 
public
 
funùiÚ
 
	$isS‘S®esRªkšgs
()

273  !
	`is_nuÎ
(
$this
->
_f›lds
['SalesRankings']['FieldValue']);

274 
	}
}

284 
public
 
funùiÚ
 
	$w™hS®esRªkšgs
(
$v®ue
)

286 
$this
->
	`£tS®esRªkšgs
(
$v®ue
);

287  
$this
;

288 
	}
}

295 
public
 
funùiÚ
 
	$g‘Lowe¡OfãrLi¡šgs
()

297  
$this
->
_f›lds
['LowestOfferListings']['FieldValue'];

298 
	}
}

306 
public
 
funùiÚ
 
	$£tLowe¡OfãrLi¡šgs
(
$v®ue
)

308 
$this
->
_f›lds
['Lowe¡OfãrLi¡šgs']['F›ldV®ue'] = 
$v®ue
;

309  
$this
;

310 
	}
}

317 
public
 
funùiÚ
 
	$isS‘Lowe¡OfãrLi¡šgs
()

319  !
	`is_nuÎ
(
$this
->
_f›lds
['LowestOfferListings']['FieldValue']);

320 
	}
}

330 
public
 
funùiÚ
 
	$w™hLowe¡OfãrLi¡šgs
(
$v®ue
)

332 
$this
->
	`£tLowe¡OfãrLi¡šgs
(
$v®ue
);

333  
$this
;

334 
	}
}

341 
public
 
funùiÚ
 
	$g‘Ofãrs
()

343  
$this
->
_f›lds
['Offers']['FieldValue'];

344 
	}
}

352 
public
 
funùiÚ
 
	$£tOfãrs
(
$v®ue
)

354 
$this
->
_f›lds
['Ofãrs']['F›ldV®ue'] = 
$v®ue
;

355  
$this
;

356 
	}
}

363 
public
 
funùiÚ
 
	$isS‘Ofãrs
()

365  !
	`is_nuÎ
(
$this
->
_f›lds
['Offers']['FieldValue']);

366 
	}
}

376 
public
 
funùiÚ
 
	$w™hOfãrs
(
$v®ue
)

378 
$this
->
	`£tOfãrs
(
$v®ue
);

379  
$this
;

380 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ProductList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_ProduùLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Produù' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_Product')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Produù
()

55 ià(
$this
->
_f›lds
['Produù']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Product']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tProduù
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tProduù
()

82 
$this
->
_f›lds
['Produù']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Produù
()

92  !
	`em±y
(
$this
->
_f›lds
['Product']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hProduù
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Produù
)

107 
$this
->
_f›lds
['Produù']['F›ldV®ue'][] = 
$Produù
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/QualifiersType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

43 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Qu®if›rsTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

45 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

47 
$this
->
_f›lds
 = 
	`¬¿y
 (

48 'I‹mCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 'I‹mSubcÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

50 'Fulflm’tChªÃl' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

51 'ShsDome¡iÿÎy' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

52 'ShpšgTime' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ShippingTimeType'),

53 'S–ËrPos™iveF“dbackR©šg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

55 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

63 
public
 
funùiÚ
 
	$g‘I‹mCÚd™iÚ
()

65  
$this
->
_f›lds
['ItemCondition']['FieldValue'];

66 
	}
}

74 
public
 
funùiÚ
 
	$£tI‹mCÚd™iÚ
(
$v®ue
)

76 
$this
->
_f›lds
['I‹mCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

77  
$this
;

78 
	}
}

85 
public
 
funùiÚ
 
	$isS‘I‹mCÚd™iÚ
()

87  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemCondition']['FieldValue']);

88 
	}
}

98 
public
 
funùiÚ
 
	$w™hI‹mCÚd™iÚ
(
$v®ue
)

100 
$this
->
	`£tI‹mCÚd™iÚ
(
$v®ue
);

101  
$this
;

102 
	}
}

109 
public
 
funùiÚ
 
	$g‘I‹mSubcÚd™iÚ
()

111  
$this
->
_f›lds
['ItemSubcondition']['FieldValue'];

112 
	}
}

120 
public
 
funùiÚ
 
	$£tI‹mSubcÚd™iÚ
(
$v®ue
)

122 
$this
->
_f›lds
['I‹mSubcÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

123  
$this
;

124 
	}
}

131 
public
 
funùiÚ
 
	$isS‘I‹mSubcÚd™iÚ
()

133  !
	`is_nuÎ
(
$this
->
_f›lds
['ItemSubcondition']['FieldValue']);

134 
	}
}

144 
public
 
funùiÚ
 
	$w™hI‹mSubcÚd™iÚ
(
$v®ue
)

146 
$this
->
	`£tI‹mSubcÚd™iÚ
(
$v®ue
);

147  
$this
;

148 
	}
}

155 
public
 
funùiÚ
 
	$g‘Fulflm’tChªÃl
()

157  
$this
->
_f›lds
['FulfillmentChannel']['FieldValue'];

158 
	}
}

166 
public
 
funùiÚ
 
	$£tFulflm’tChªÃl
(
$v®ue
)

168 
$this
->
_f›lds
['Fulflm’tChªÃl']['F›ldV®ue'] = 
$v®ue
;

169  
$this
;

170 
	}
}

177 
public
 
funùiÚ
 
	$isS‘Fulflm’tChªÃl
()

179  !
	`is_nuÎ
(
$this
->
_f›lds
['FulfillmentChannel']['FieldValue']);

180 
	}
}

190 
public
 
funùiÚ
 
	$w™hFulflm’tChªÃl
(
$v®ue
)

192 
$this
->
	`£tFulflm’tChªÃl
(
$v®ue
);

193  
$this
;

194 
	}
}

201 
public
 
funùiÚ
 
	$g‘ShsDome¡iÿÎy
()

203  
$this
->
_f›lds
['ShipsDomestically']['FieldValue'];

204 
	}
}

212 
public
 
funùiÚ
 
	$£tShsDome¡iÿÎy
(
$v®ue
)

214 
$this
->
_f›lds
['ShsDome¡iÿÎy']['F›ldV®ue'] = 
$v®ue
;

215  
$this
;

216 
	}
}

223 
public
 
funùiÚ
 
	$isS‘ShsDome¡iÿÎy
()

225  !
	`is_nuÎ
(
$this
->
_f›lds
['ShipsDomestically']['FieldValue']);

226 
	}
}

236 
public
 
funùiÚ
 
	$w™hShsDome¡iÿÎy
(
$v®ue
)

238 
$this
->
	`£tShsDome¡iÿÎy
(
$v®ue
);

239  
$this
;

240 
	}
}

247 
public
 
funùiÚ
 
	$g‘ShpšgTime
()

249  
$this
->
_f›lds
['ShippingTime']['FieldValue'];

250 
	}
}

258 
public
 
funùiÚ
 
	$£tShpšgTime
(
$v®ue
)

260 
$this
->
_f›lds
['ShpšgTime']['F›ldV®ue'] = 
$v®ue
;

261  
$this
;

262 
	}
}

269 
public
 
funùiÚ
 
	$isS‘ShpšgTime
()

271  !
	`is_nuÎ
(
$this
->
_f›lds
['ShippingTime']['FieldValue']);

272 
	}
}

282 
public
 
funùiÚ
 
	$w™hShpšgTime
(
$v®ue
)

284 
$this
->
	`£tShpšgTime
(
$v®ue
);

285  
$this
;

286 
	}
}

293 
public
 
funùiÚ
 
	$g‘S–ËrPos™iveF“dbackR©šg
()

295  
$this
->
_f›lds
['SellerPositiveFeedbackRating']['FieldValue'];

296 
	}
}

304 
public
 
funùiÚ
 
	$£tS–ËrPos™iveF“dbackR©šg
(
$v®ue
)

306 
$this
->
_f›lds
['S–ËrPos™iveF“dbackR©šg']['F›ldV®ue'] = 
$v®ue
;

307  
$this
;

308 
	}
}

315 
public
 
funùiÚ
 
	$isS‘S–ËrPos™iveF“dbackR©šg
()

317  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerPositiveFeedbackRating']['FieldValue']);

318 
	}
}

328 
public
 
funùiÚ
 
	$w™hS–ËrPos™iveF“dbackR©šg
(
$v®ue
)

330 
$this
->
	`£tS–ËrPos™iveF“dbackR©šg
(
$v®ue
);

331  
$this
;

332 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/RelationshipList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_R–©iÚshLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Any' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('object')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Any
()

55 ià(
$this
->
_f›lds
['Any']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Any']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tAny
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tAny
()

82 
$this
->
_f›lds
['Any']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Any
()

92  !
	`em±y
(
$this
->
_f›lds
['Any']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hAny
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Any
)

107 
$this
->
_f›lds
['Any']['F›ldV®ue'][] = 
$Any
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ResponseHeaderMetadata.php

1 <?
php


20 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Re¥Ú£H—d”M‘ad©a
 {

22 cÚ¡ 
	mREQUEST_ID
 = 'x-mws-request-id';

23 cÚ¡ 
	mRESPONSE_CONTEXT
 = 'x-mws-response-context';

24 cÚ¡ 
	mTIMESTAMP
 = 'x-mws-timestamp';

25 cÚ¡ 
	mQUOTA_MAX
 = 'x-mws-quota-max';

26 cÚ¡ 
	mQUOTA_REMAINING
 = 'x-mws-quota-remaining';

27 cÚ¡ 
	mQUOTA_RESETS_AT
 = 'x-mws-quota-resetsOn';

29 
´iv©e
 
	m$m‘ad©a
 = 
¬¿y
();

31 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$»que¡Id
 = 
nuÎ
, 
$»¥Ú£CÚ‹xt
 =‚uÎ, 
$time¡amp
 =‚ull,

32 
$quÙaMax
 = 
nuÎ
, 
$quÙaRemaššg
 =‚uÎ, 
$quÙaRe£tsAt
 =‚ull) {

33 
$this
->
m‘ad©a
[
£lf
::
REQUEST_ID
] = 
$»que¡Id
;

34 
$this
->
m‘ad©a
[
£lf
::
RESPONSE_CONTEXT
] = 
$»¥Ú£CÚ‹xt
;

35 
$this
->
m‘ad©a
[
£lf
::
TIMESTAMP
] = 
$time¡amp
;

36 
$this
->
m‘ad©a
[
£lf
::
QUOTA_MAX
] = 
$quÙaMax
;

37 
$this
->
m‘ad©a
[
£lf
::
QUOTA_REMAINING
] = 
$quÙaRemaššg
;

38 
$this
->
m‘ad©a
[
£lf
::
QUOTA_RESETS_AT
] = 
$quÙaRe£tsAt
;

41 
public
 
funùiÚ
 
	$g‘Reque¡Id
() {

42  
$this
->
m‘ad©a
[
£lf
::
REQUEST_ID
];

43 
	}
}

45 
public
 
funùiÚ
 
	$g‘Re¥Ú£CÚ‹xt
() {

46  
$this
->
m‘ad©a
[
£lf
::
RESPONSE_CONTEXT
];

47 
	}
}

49 
public
 
funùiÚ
 
	$g‘Time¡amp
() {

50  
$this
->
m‘ad©a
[
£lf
::
TIMESTAMP
];

51 
	}
}

59 
public
 
funùiÚ
 
	$g‘QuÙaMax
() {

60  
$this
->
m‘ad©a
[
£lf
::
QUOTA_MAX
];

61 
	}
}

69 
public
 
funùiÚ
 
	$g‘QuÙaRemaššg
() {

70  
$this
->
m‘ad©a
[
£lf
::
QUOTA_REMAINING
];

71 
	}
}

79 
public
 
funùiÚ
 
	$g‘QuÙaRe£tsAt
() {

80  
$this
->
m‘ad©a
[
£lf
::
QUOTA_RESETS_AT
];

81 
	}
}

83 
public
 
funùiÚ
 
	$__toSŒšg
() {

84  "Reque¡Id: " . 
$this
->
	`g‘Reque¡Id
(è. ", Re¥Ú£CÚ‹xt: " . $this->
	`g‘Re¥Ú£CÚ‹xt
() .

85 ", Time¡amp: " . 
$this
->
	`g‘Time¡amp
(è. ", QuÙ¨Max: " . $this->
	`g‘QuÙaMax
() .

86 ", QuÙ¨Remaššg: " . 
$this
->
	`g‘QuÙaRemaššg
(è. ", QuÙ¨Re£t At: " . $this->
	`g‘QuÙaRe£tsAt
();

87 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ResponseMetadata.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Re¥Ú£M‘ad©a
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Reque¡Id' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Reque¡Id
()

55  
$this
->
_f›lds
['RequestId']['FieldValue'];

56 
	}
}

64 
public
 
funùiÚ
 
	$£tReque¡Id
(
$v®ue
)

66 
$this
->
_f›lds
['Reque¡Id']['F›ldV®ue'] = 
$v®ue
;

67  
$this
;

68 
	}
}

75 
public
 
funùiÚ
 
	$isS‘Reque¡Id
()

77  !
	`is_nuÎ
(
$this
->
_f›lds
['RequestId']['FieldValue']);

78 
	}
}

88 
public
 
funùiÚ
 
	$w™hReque¡Id
(
$v®ue
)

90 
$this
->
	`£tReque¡Id
(
$v®ue
);

91  
$this
;

92 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/SKUOfferDetail.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

48 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_SKUOfãrD‘a
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

50 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

52 
$this
->
_f›lds
 = 
	`¬¿y
 (

53 'MyOfãr' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

54 'SubCÚd™iÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

55 'S–ËrF“dbackR©šg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_SellerFeedbackType'),

56 'ShpšgTime' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_DetailedShippingTimeType'),

57 'Li¡šgPriû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

58 'Pošts' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_Points'),

59 'Shpšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

60 'ShsFrom' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_ShipsFromType'),

61 'IsFulfËdByAmazÚ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

62 'IsBuyBoxWšÃr' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

63 'IsF—tu»dM”chªt' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'bool'),

65 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

73 
public
 
funùiÚ
 
	$isMyOfãr
()

75  
$this
->
_f›lds
['MyOffer']['FieldValue'];

76 
	}
}

83 
public
 
funùiÚ
 
	$g‘MyOfãr
()

85  
$this
->
_f›lds
['MyOffer']['FieldValue'];

86 
	}
}

94 
public
 
funùiÚ
 
	$£tMyOfãr
(
$v®ue
)

96 
$this
->
_f›lds
['MyOfãr']['F›ldV®ue'] = 
$v®ue
;

97  
$this
;

98 
	}
}

105 
public
 
funùiÚ
 
	$isS‘MyOfãr
()

107  !
	`is_nuÎ
(
$this
->
_f›lds
['MyOffer']['FieldValue']);

108 
	}
}

118 
public
 
funùiÚ
 
	$w™hMyOfãr
(
$v®ue
)

120 
$this
->
	`£tMyOfãr
(
$v®ue
);

121  
$this
;

122 
	}
}

129 
public
 
funùiÚ
 
	$g‘SubCÚd™iÚ
()

131  
$this
->
_f›lds
['SubCondition']['FieldValue'];

132 
	}
}

140 
public
 
funùiÚ
 
	$£tSubCÚd™iÚ
(
$v®ue
)

142 
$this
->
_f›lds
['SubCÚd™iÚ']['F›ldV®ue'] = 
$v®ue
;

143  
$this
;

144 
	}
}

151 
public
 
funùiÚ
 
	$isS‘SubCÚd™iÚ
()

153  !
	`is_nuÎ
(
$this
->
_f›lds
['SubCondition']['FieldValue']);

154 
	}
}

164 
public
 
funùiÚ
 
	$w™hSubCÚd™iÚ
(
$v®ue
)

166 
$this
->
	`£tSubCÚd™iÚ
(
$v®ue
);

167  
$this
;

168 
	}
}

175 
public
 
funùiÚ
 
	$g‘S–ËrF“dbackR©šg
()

177  
$this
->
_f›lds
['SellerFeedbackRating']['FieldValue'];

178 
	}
}

186 
public
 
funùiÚ
 
	$£tS–ËrF“dbackR©šg
(
$v®ue
)

188 
$this
->
_f›lds
['S–ËrF“dbackR©šg']['F›ldV®ue'] = 
$v®ue
;

189  
$this
;

190 
	}
}

197 
public
 
funùiÚ
 
	$isS‘S–ËrF“dbackR©šg
()

199  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerFeedbackRating']['FieldValue']);

200 
	}
}

210 
public
 
funùiÚ
 
	$w™hS–ËrF“dbackR©šg
(
$v®ue
)

212 
$this
->
	`£tS–ËrF“dbackR©šg
(
$v®ue
);

213  
$this
;

214 
	}
}

221 
public
 
funùiÚ
 
	$g‘ShpšgTime
()

223  
$this
->
_f›lds
['ShippingTime']['FieldValue'];

224 
	}
}

232 
public
 
funùiÚ
 
	$£tShpšgTime
(
$v®ue
)

234 
$this
->
_f›lds
['ShpšgTime']['F›ldV®ue'] = 
$v®ue
;

235  
$this
;

236 
	}
}

243 
public
 
funùiÚ
 
	$isS‘ShpšgTime
()

245  !
	`is_nuÎ
(
$this
->
_f›lds
['ShippingTime']['FieldValue']);

246 
	}
}

256 
public
 
funùiÚ
 
	$w™hShpšgTime
(
$v®ue
)

258 
$this
->
	`£tShpšgTime
(
$v®ue
);

259  
$this
;

260 
	}
}

267 
public
 
funùiÚ
 
	$g‘Li¡šgPriû
()

269  
$this
->
_f›lds
['ListingPrice']['FieldValue'];

270 
	}
}

278 
public
 
funùiÚ
 
	$£tLi¡šgPriû
(
$v®ue
)

280 
$this
->
_f›lds
['Li¡šgPriû']['F›ldV®ue'] = 
$v®ue
;

281  
$this
;

282 
	}
}

289 
public
 
funùiÚ
 
	$isS‘Li¡šgPriû
()

291  !
	`is_nuÎ
(
$this
->
_f›lds
['ListingPrice']['FieldValue']);

292 
	}
}

302 
public
 
funùiÚ
 
	$w™hLi¡šgPriû
(
$v®ue
)

304 
$this
->
	`£tLi¡šgPriû
(
$v®ue
);

305  
$this
;

306 
	}
}

313 
public
 
funùiÚ
 
	$g‘Pošts
()

315  
$this
->
_f›lds
['Points']['FieldValue'];

316 
	}
}

324 
public
 
funùiÚ
 
	$£tPošts
(
$v®ue
)

326 
$this
->
_f›lds
['Pošts']['F›ldV®ue'] = 
$v®ue
;

327  
$this
;

328 
	}
}

335 
public
 
funùiÚ
 
	$isS‘Pošts
()

337  !
	`is_nuÎ
(
$this
->
_f›lds
['Points']['FieldValue']);

338 
	}
}

348 
public
 
funùiÚ
 
	$w™hPošts
(
$v®ue
)

350 
$this
->
	`£tPošts
(
$v®ue
);

351  
$this
;

352 
	}
}

359 
public
 
funùiÚ
 
	$g‘Shpšg
()

361  
$this
->
_f›lds
['Shipping']['FieldValue'];

362 
	}
}

370 
public
 
funùiÚ
 
	$£tShpšg
(
$v®ue
)

372 
$this
->
_f›lds
['Shpšg']['F›ldV®ue'] = 
$v®ue
;

373  
$this
;

374 
	}
}

381 
public
 
funùiÚ
 
	$isS‘Shpšg
()

383  !
	`is_nuÎ
(
$this
->
_f›lds
['Shipping']['FieldValue']);

384 
	}
}

394 
public
 
funùiÚ
 
	$w™hShpšg
(
$v®ue
)

396 
$this
->
	`£tShpšg
(
$v®ue
);

397  
$this
;

398 
	}
}

405 
public
 
funùiÚ
 
	$g‘ShsFrom
()

407  
$this
->
_f›lds
['ShipsFrom']['FieldValue'];

408 
	}
}

416 
public
 
funùiÚ
 
	$£tShsFrom
(
$v®ue
)

418 
$this
->
_f›lds
['ShsFrom']['F›ldV®ue'] = 
$v®ue
;

419  
$this
;

420 
	}
}

427 
public
 
funùiÚ
 
	$isS‘ShsFrom
()

429  !
	`is_nuÎ
(
$this
->
_f›lds
['ShipsFrom']['FieldValue']);

430 
	}
}

440 
public
 
funùiÚ
 
	$w™hShsFrom
(
$v®ue
)

442 
$this
->
	`£tShsFrom
(
$v®ue
);

443  
$this
;

444 
	}
}

451 
public
 
funùiÚ
 
	$isIsFulfËdByAmazÚ
()

453  
$this
->
_f›lds
['IsFulfilledByAmazon']['FieldValue'];

454 
	}
}

461 
public
 
funùiÚ
 
	$g‘IsFulfËdByAmazÚ
()

463  
$this
->
_f›lds
['IsFulfilledByAmazon']['FieldValue'];

464 
	}
}

472 
public
 
funùiÚ
 
	$£tIsFulfËdByAmazÚ
(
$v®ue
)

474 
$this
->
_f›lds
['IsFulfËdByAmazÚ']['F›ldV®ue'] = 
$v®ue
;

475  
$this
;

476 
	}
}

483 
public
 
funùiÚ
 
	$isS‘IsFulfËdByAmazÚ
()

485  !
	`is_nuÎ
(
$this
->
_f›lds
['IsFulfilledByAmazon']['FieldValue']);

486 
	}
}

496 
public
 
funùiÚ
 
	$w™hIsFulfËdByAmazÚ
(
$v®ue
)

498 
$this
->
	`£tIsFulfËdByAmazÚ
(
$v®ue
);

499  
$this
;

500 
	}
}

507 
public
 
funùiÚ
 
	$isIsBuyBoxWšÃr
()

509  !
	`is_nuÎ
(
$this
->
_f›lds
['IsBuyBoxWinner']['FieldValue']) && $this->_fields['IsBuyBoxWinner']['FieldValue'];

510 
	}
}

517 
public
 
funùiÚ
 
	$g‘IsBuyBoxWšÃr
()

519  
$this
->
_f›lds
['IsBuyBoxWinner']['FieldValue'];

520 
	}
}

528 
public
 
funùiÚ
 
	$£tIsBuyBoxWšÃr
(
$v®ue
)

530 
$this
->
_f›lds
['IsBuyBoxWšÃr']['F›ldV®ue'] = 
$v®ue
;

531  
$this
;

532 
	}
}

539 
public
 
funùiÚ
 
	$isS‘IsBuyBoxWšÃr
()

541  !
	`is_nuÎ
(
$this
->
_f›lds
['IsBuyBoxWinner']['FieldValue']);

542 
	}
}

552 
public
 
funùiÚ
 
	$w™hIsBuyBoxWšÃr
(
$v®ue
)

554 
$this
->
	`£tIsBuyBoxWšÃr
(
$v®ue
);

555  
$this
;

556 
	}
}

563 
public
 
funùiÚ
 
	$isIsF—tu»dM”chªt
()

565  !
	`is_nuÎ
(
$this
->
_f›lds
['IsFeaturedMerchant']['FieldValue']) && $this->_fields['IsFeaturedMerchant']['FieldValue'];

566 
	}
}

573 
public
 
funùiÚ
 
	$g‘IsF—tu»dM”chªt
()

575  
$this
->
_f›lds
['IsFeaturedMerchant']['FieldValue'];

576 
	}
}

584 
public
 
funùiÚ
 
	$£tIsF—tu»dM”chªt
(
$v®ue
)

586 
$this
->
_f›lds
['IsF—tu»dM”chªt']['F›ldV®ue'] = 
$v®ue
;

587  
$this
;

588 
	}
}

595 
public
 
funùiÚ
 
	$isS‘IsF—tu»dM”chªt
()

597  !
	`is_nuÎ
(
$this
->
_f›lds
['IsFeaturedMerchant']['FieldValue']);

598 
	}
}

608 
public
 
funùiÚ
 
	$w™hIsF—tu»dM”chªt
(
$v®ue
)

610 
$this
->
	`£tIsF—tu»dM”chªt
(
$v®ue
);

611  
$this
;

612 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/SKUOfferDetailList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_SKUOfãrD‘aLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Ofãr' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_SKUOfferDetail')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Ofãr
()

55 ià(
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['Offer']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tOfãr
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tOfãr
()

82 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘Ofãr
()

92  !
	`em±y
(
$this
->
_f›lds
['Offer']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hOfãr
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$Ofãr
)

107 
$this
->
_f›lds
['Ofãr']['F›ldV®ue'][] = 
$Ofãr
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/SalesRankList.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_S®esRªkLi¡
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'S®esRªk' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('MarketplaceWebServiceProducts_Model_SalesRankType')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘S®esRªk
()

55 ià(
$this
->
_f›lds
['S®esRªk']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['S®esRªk']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['SalesRank']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tS®esRªk
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['S®esRªk']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tS®esRªk
()

82 
$this
->
_f›lds
['S®esRªk']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘S®esRªk
()

92  !
	`em±y
(
$this
->
_f›lds
['SalesRank']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hS®esRªk
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$S®esRªk
)

107 
$this
->
_f›lds
['S®esRªk']['F›ldV®ue'][] = 
$S®esRªk
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/SalesRankType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_S®esRªkTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'ProduùC©egÜyId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 'Rªk' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'int'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘ProduùC©egÜyId
()

57  
$this
->
_f›lds
['ProductCategoryId']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tProduùC©egÜyId
(
$v®ue
)

68 
$this
->
_f›lds
['ProduùC©egÜyId']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘ProduùC©egÜyId
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['ProductCategoryId']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hProduùC©egÜyId
(
$v®ue
)

92 
$this
->
	`£tProduùC©egÜyId
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘Rªk
()

103  
$this
->
_f›lds
['Rank']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tRªk
(
$v®ue
)

114 
$this
->
_f›lds
['Rªk']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘Rªk
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['Rank']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hRªk
(
$v®ue
)

138 
$this
->
	`£tRªk
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/SellerFeedbackType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_S–ËrF“dbackTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'S–ËrPos™iveF“dbackR©šg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'float'),

45 'F“dbackCouÁ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'int'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘S–ËrPos™iveF“dbackR©šg
()

57  
$this
->
_f›lds
['SellerPositiveFeedbackRating']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tS–ËrPos™iveF“dbackR©šg
(
$v®ue
)

68 
$this
->
_f›lds
['S–ËrPos™iveF“dbackR©šg']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘S–ËrPos™iveF“dbackR©šg
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerPositiveFeedbackRating']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hS–ËrPos™iveF“dbackR©šg
(
$v®ue
)

92 
$this
->
	`£tS–ËrPos™iveF“dbackR©šg
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘F“dbackCouÁ
()

103  
$this
->
_f›lds
['FeedbackCount']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tF“dbackCouÁ
(
$v®ue
)

114 
$this
->
_f›lds
['F“dbackCouÁ']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘F“dbackCouÁ
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['FeedbackCount']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hF“dbackCouÁ
(
$v®ue
)

138 
$this
->
	`£tF“dbackCouÁ
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/SellerSKUIdentifier.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

40 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_S–ËrSKUId’tif›r
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

42 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

44 
$this
->
_f›lds
 = 
	`¬¿y
 (

45 'M¬k‘¶aûId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

46 'S–ËrId' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 'S–ËrSKU' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

49 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

57 
public
 
funùiÚ
 
	$g‘M¬k‘¶aûId
()

59  
$this
->
_f›lds
['MarketplaceId']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tM¬k‘¶aûId
(
$v®ue
)

70 
$this
->
_f›lds
['M¬k‘¶aûId']['F›ldV®ue'] = 
$v®ue
;

71  
$this
;

72 
	}
}

79 
public
 
funùiÚ
 
	$isS‘M¬k‘¶aûId
()

81  !
	`is_nuÎ
(
$this
->
_f›lds
['MarketplaceId']['FieldValue']);

82 
	}
}

92 
public
 
funùiÚ
 
	$w™hM¬k‘¶aûId
(
$v®ue
)

94 
$this
->
	`£tM¬k‘¶aûId
(
$v®ue
);

95  
$this
;

96 
	}
}

103 
public
 
funùiÚ
 
	$g‘S–ËrId
()

105  
$this
->
_f›lds
['SellerId']['FieldValue'];

106 
	}
}

114 
public
 
funùiÚ
 
	$£tS–ËrId
(
$v®ue
)

116 
$this
->
_f›lds
['S–ËrId']['F›ldV®ue'] = 
$v®ue
;

117  
$this
;

118 
	}
}

125 
public
 
funùiÚ
 
	$isS‘S–ËrId
()

127  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerId']['FieldValue']);

128 
	}
}

138 
public
 
funùiÚ
 
	$w™hS–ËrId
(
$v®ue
)

140 
$this
->
	`£tS–ËrId
(
$v®ue
);

141  
$this
;

142 
	}
}

149 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

151  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

152 
	}
}

160 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

162 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

163  
$this
;

164 
	}
}

171 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

173  !
	`is_nuÎ
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

174 
	}
}

184 
public
 
funùiÚ
 
	$w™hS–ËrSKU
(
$v®ue
)

186 
$this
->
	`£tS–ËrSKU
(
$v®ue
);

187  
$this
;

188 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/SellerSKUListType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_S–ËrSKULi¡Ty³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'S–ËrSKU' => 
	`¬¿y
('FieldValue' =>‡rray(), 'FieldType' =>‡rray('string')),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘S–ËrSKU
()

55 ià(
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] =ğ
nuÎ
)

57 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
	`¬¿y
();

59  
$this
->
_f›lds
['SellerSKU']['FieldValue'];

60 
	}
}

68 
public
 
funùiÚ
 
	$£tS–ËrSKU
(
$v®ue
)

70 ià(!
$this
->
	`_isNum”icA¼ay
(
$v®ue
)) {

71 
$v®ue
 = 
	`¬¿y
 ($value);

73 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
$v®ue
;

74  
$this
;

75 
	}
}

80 
public
 
funùiÚ
 
	$un£tS–ËrSKU
()

82 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'] = 
	`¬¿y
();

83 
	}
}

90 
public
 
funùiÚ
 
	$isS‘S–ËrSKU
()

92  !
	`em±y
(
$this
->
_f›lds
['SellerSKU']['FieldValue']);

93 
	}
}

103 
public
 
funùiÚ
 
	$w™hS–ËrSKU
()

105 
	`fÜ—ch
 (
	`func_g‘_¬gs
(è
as
 
$S–ËrSKU
)

107 
$this
->
_f›lds
['S–ËrSKU']['F›ldV®ue'][] = 
$S–ËrSKU
;

109  
$this
;

110 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ShippingTimeType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

38 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_ShpšgTimeTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

40 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

42 
$this
->
_f›lds
 = 
	`¬¿y
 (

43 'Max' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

53 
public
 
funùiÚ
 
	$g‘Max
()

55  
$this
->
_f›lds
['Max']['FieldValue'];

56 
	}
}

64 
public
 
funùiÚ
 
	$£tMax
(
$v®ue
)

66 
$this
->
_f›lds
['Max']['F›ldV®ue'] = 
$v®ue
;

67  
$this
;

68 
	}
}

75 
public
 
funùiÚ
 
	$isS‘Max
()

77  !
	`is_nuÎ
(
$this
->
_f›lds
['Max']['FieldValue']);

78 
	}
}

88 
public
 
funùiÚ
 
	$w™hMax
(
$v®ue
)

90 
$this
->
	`£tMax
(
$v®ue
);

91  
$this
;

92 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/ShipsFromType.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

39 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_ShsFromTy³
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

41 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

43 
$this
->
_f›lds
 = 
	`¬¿y
 (

44 'S‹' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

45 'CouÁry' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

47 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

55 
public
 
funùiÚ
 
	$g‘S‹
()

57  
$this
->
_f›lds
['State']['FieldValue'];

58 
	}
}

66 
public
 
funùiÚ
 
	$£tS‹
(
$v®ue
)

68 
$this
->
_f›lds
['S‹']['F›ldV®ue'] = 
$v®ue
;

69  
$this
;

70 
	}
}

77 
public
 
funùiÚ
 
	$isS‘S‹
()

79  !
	`is_nuÎ
(
$this
->
_f›lds
['State']['FieldValue']);

80 
	}
}

90 
public
 
funùiÚ
 
	$w™hS‹
(
$v®ue
)

92 
$this
->
	`£tS‹
(
$v®ue
);

93  
$this
;

94 
	}
}

101 
public
 
funùiÚ
 
	$g‘CouÁry
()

103  
$this
->
_f›lds
['Country']['FieldValue'];

104 
	}
}

112 
public
 
funùiÚ
 
	$£tCouÁry
(
$v®ue
)

114 
$this
->
_f›lds
['CouÁry']['F›ldV®ue'] = 
$v®ue
;

115  
$this
;

116 
	}
}

123 
public
 
funùiÚ
 
	$isS‘CouÁry
()

125  !
	`is_nuÎ
(
$this
->
_f›lds
['Country']['FieldValue']);

126 
	}
}

136 
public
 
funùiÚ
 
	$w™hCouÁry
(
$v®ue
)

138 
$this
->
	`£tCouÁry
(
$v®ue
);

139  
$this
;

140 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Model/Summary.php

1 <?
php


24 
»quœe_Úû
 (
dœÇme
(
__FILE__
) . '/../Model.php');

45 şas 
	cM¬k‘¶aûWebS”viûProduùs_Mod–_Summ¬y
 
ex‹nds
 
	mM¬k‘¶aûWebS”viûProduùs_Mod–
 {

47 
public
 
funùiÚ
 
	$__cÚ¡ruù
(
$d©a
 = 
nuÎ
)

49 
$this
->
_f›lds
 = 
	`¬¿y
 (

50 'TÙ®OfãrCouÁ' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'int'),

51 'Numb”OfOfãrs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_NumberOfOffers'),

52 'Lowe¡Priûs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_LowestPrices'),

53 'BuyBoxPriûs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_BuyBoxPrices'),

54 'Li¡Priû' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

55 'Sugge¡edLow”PriûPlusShpšg' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_MoneyType'),

56 'BuyBoxEligibËOfãrs' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'MarketplaceWebServiceProducts_Model_BuyBoxEligibleOffers'),

57 'OfãrsAvaabËTime' => 
	`¬¿y
('F›ldV®ue' => 
nuÎ
, 'FieldType' => 'string'),

59 
·»Á
::
	`__cÚ¡ruù
(
$d©a
);

67 
public
 
funùiÚ
 
	$g‘TÙ®OfãrCouÁ
()

69  
$this
->
_f›lds
['TotalOfferCount']['FieldValue'];

70 
	}
}

78 
public
 
funùiÚ
 
	$£tTÙ®OfãrCouÁ
(
$v®ue
)

80 
$this
->
_f›lds
['TÙ®OfãrCouÁ']['F›ldV®ue'] = 
$v®ue
;

81  
$this
;

82 
	}
}

89 
public
 
funùiÚ
 
	$isS‘TÙ®OfãrCouÁ
()

91  !
	`is_nuÎ
(
$this
->
_f›lds
['TotalOfferCount']['FieldValue']);

92 
	}
}

102 
public
 
funùiÚ
 
	$w™hTÙ®OfãrCouÁ
(
$v®ue
)

104 
$this
->
	`£tTÙ®OfãrCouÁ
(
$v®ue
);

105  
$this
;

106 
	}
}

113 
public
 
funùiÚ
 
	$g‘Numb”OfOfãrs
()

115  
$this
->
_f›lds
['NumberOfOffers']['FieldValue'];

116 
	}
}

124 
public
 
funùiÚ
 
	$£tNumb”OfOfãrs
(
$v®ue
)

126 
$this
->
_f›lds
['Numb”OfOfãrs']['F›ldV®ue'] = 
$v®ue
;

127  
$this
;

128 
	}
}

135 
public
 
funùiÚ
 
	$isS‘Numb”OfOfãrs
()

137  !
	`is_nuÎ
(
$this
->
_f›lds
['NumberOfOffers']['FieldValue']);

138 
	}
}

148 
public
 
funùiÚ
 
	$w™hNumb”OfOfãrs
(
$v®ue
)

150 
$this
->
	`£tNumb”OfOfãrs
(
$v®ue
);

151  
$this
;

152 
	}
}

159 
public
 
funùiÚ
 
	$g‘Lowe¡Priûs
()

161  
$this
->
_f›lds
['LowestPrices']['FieldValue'];

162 
	}
}

170 
public
 
funùiÚ
 
	$£tLowe¡Priûs
(
$v®ue
)

172 
$this
->
_f›lds
['Lowe¡Priûs']['F›ldV®ue'] = 
$v®ue
;

173  
$this
;

174 
	}
}

181 
public
 
funùiÚ
 
	$isS‘Lowe¡Priûs
()

183  !
	`is_nuÎ
(
$this
->
_f›lds
['LowestPrices']['FieldValue']);

184 
	}
}

194 
public
 
funùiÚ
 
	$w™hLowe¡Priûs
(
$v®ue
)

196 
$this
->
	`£tLowe¡Priûs
(
$v®ue
);

197  
$this
;

198 
	}
}

205 
public
 
funùiÚ
 
	$g‘BuyBoxPriûs
()

207  
$this
->
_f›lds
['BuyBoxPrices']['FieldValue'];

208 
	}
}

216 
public
 
funùiÚ
 
	$£tBuyBoxPriûs
(
$v®ue
)

218 
$this
->
_f›lds
['BuyBoxPriûs']['F›ldV®ue'] = 
$v®ue
;

219  
$this
;

220 
	}
}

227 
public
 
funùiÚ
 
	$isS‘BuyBoxPriûs
()

229  !
	`is_nuÎ
(
$this
->
_f›lds
['BuyBoxPrices']['FieldValue']);

230 
	}
}

240 
public
 
funùiÚ
 
	$w™hBuyBoxPriûs
(
$v®ue
)

242 
$this
->
	`£tBuyBoxPriûs
(
$v®ue
);

243  
$this
;

244 
	}
}

251 
public
 
funùiÚ
 
	$g‘Li¡Priû
()

253  
$this
->
_f›lds
['ListPrice']['FieldValue'];

254 
	}
}

262 
public
 
funùiÚ
 
	$£tLi¡Priû
(
$v®ue
)

264 
$this
->
_f›lds
['Li¡Priû']['F›ldV®ue'] = 
$v®ue
;

265  
$this
;

266 
	}
}

273 
public
 
funùiÚ
 
	$isS‘Li¡Priû
()

275  !
	`is_nuÎ
(
$this
->
_f›lds
['ListPrice']['FieldValue']);

276 
	}
}

286 
public
 
funùiÚ
 
	$w™hLi¡Priû
(
$v®ue
)

288 
$this
->
	`£tLi¡Priû
(
$v®ue
);

289  
$this
;

290 
	}
}

297 
public
 
funùiÚ
 
	$g‘Sugge¡edLow”PriûPlusShpšg
()

299  
$this
->
_f›lds
['SuggestedLowerPricePlusShipping']['FieldValue'];

300 
	}
}

308 
public
 
funùiÚ
 
	$£tSugge¡edLow”PriûPlusShpšg
(
$v®ue
)

310 
$this
->
_f›lds
['Sugge¡edLow”PriûPlusShpšg']['F›ldV®ue'] = 
$v®ue
;

311  
$this
;

312 
	}
}

319 
public
 
funùiÚ
 
	$isS‘Sugge¡edLow”PriûPlusShpšg
()

321  !
	`is_nuÎ
(
$this
->
_f›lds
['SuggestedLowerPricePlusShipping']['FieldValue']);

322 
	}
}

332 
public
 
funùiÚ
 
	$w™hSugge¡edLow”PriûPlusShpšg
(
$v®ue
)

334 
$this
->
	`£tSugge¡edLow”PriûPlusShpšg
(
$v®ue
);

335  
$this
;

336 
	}
}

343 
public
 
funùiÚ
 
	$g‘BuyBoxEligibËOfãrs
()

345  
$this
->
_f›lds
['BuyBoxEligibleOffers']['FieldValue'];

346 
	}
}

354 
public
 
funùiÚ
 
	$£tBuyBoxEligibËOfãrs
(
$v®ue
)

356 
$this
->
_f›lds
['BuyBoxEligibËOfãrs']['F›ldV®ue'] = 
$v®ue
;

357  
$this
;

358 
	}
}

365 
public
 
funùiÚ
 
	$isS‘BuyBoxEligibËOfãrs
()

367  !
	`is_nuÎ
(
$this
->
_f›lds
['BuyBoxEligibleOffers']['FieldValue']);

368 
	}
}

378 
public
 
funùiÚ
 
	$w™hBuyBoxEligibËOfãrs
(
$v®ue
)

380 
$this
->
	`£tBuyBoxEligibËOfãrs
(
$v®ue
);

381  
$this
;

382 
	}
}

389 
public
 
funùiÚ
 
	$g‘OfãrsAvaabËTime
()

391  
$this
->
_f›lds
['OffersAvailableTime']['FieldValue'];

392 
	}
}

400 
public
 
funùiÚ
 
	$£tOfãrsAvaabËTime
(
$v®ue
)

402 
$this
->
_f›lds
['OfãrsAvaabËTime']['F›ldV®ue'] = 
$v®ue
;

403  
$this
;

404 
	}
}

411 
public
 
funùiÚ
 
	$isS‘OfãrsAvaabËTime
()

413  !
	`is_nuÎ
(
$this
->
_f›lds
['OffersAvailableTime']['FieldValue']);

414 
	}
}

424 
public
 
funùiÚ
 
	$w™hOfãrsAvaabËTime
(
$v®ue
)

426 
$this
->
	`£tOfãrsAvaabËTime
(
$v®ue
);

427  
$this
;

428 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/.config.inc.php

1 <?
php


9 
defše
('AWS_ACCESS_KEY_ID', 'AKIAIQ3AR7PLQUFLUD5A');

10 
defše
('AWS_SECRET_ACCESS_KEY', 'ZkOWStjEmO6kMUM1wH+4yR7OzcJe2mLh5ex60AlI');

18 
defše
('APPLICATION_NAME', 'iSpring Amazon MWS');

19 
defše
('APPLICATION_VERSION', '2019.09.06');

27 
defše
 ('MERCHANT_ID', 'A2AB4EJKHRN74A');

28 
defše
 ('MARKETPLACE_ID', 'ATVPDKIKX0DER');

38 
£t_šşude_·th
(
g‘_šşude_·th
(è. 
PATH_SEPARATOR
 . '../../.');

54 
funùiÚ
 
	$__autŞßd
(
$şassName
){

55 
$feP©h
 = 
	`¡r_»¶aû
('_', 
DIRECTORY_SEPARATOR
, 
$şassName
) . '.php';

56 
$šşudeP©hs
 = 
	`ex¶ode
(
PATH_SEPARATOR
, 
	`g‘_šşude_·th
());

57 
	`fÜ—ch
(
$šşudeP©hs
 
as
 
$šşudeP©h
){

58 if(
	`fe_exi¡s
(
$šşudeP©h
 . 
DIRECTORY_SEPARATOR
 . 
$feP©h
)){

59 
»quœe_Úû
 
$feP©h
;

63 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetCompetitivePricingForASINSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

35 
	g$£rviûU¾
 = "https://mws.amazonservices.com/Products/2011-10-01";

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘Com³t™ivePricšgFÜASIN
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘Com³t™ivePricšgFÜASIN
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘Com³t™ivePricšgFÜASIN
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetCompetitivePricingForSKUSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜSKUReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘Com³t™ivePricšgFÜSKU
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘Com³t™ivePricšgFÜSKU
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘Com³t™ivePricšgFÜSKU
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestOfferListingsForASINSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜASINReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘Lowe¡OfãrLi¡šgsFÜASIN
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘Lowe¡OfãrLi¡šgsFÜASIN
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘Lowe¡OfãrLi¡šgsFÜASIN
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestOfferListingsForSKUSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡OfãrLi¡šgsFÜSKUReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘Lowe¡OfãrLi¡šgsFÜSKU
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘Lowe¡OfãrLi¡šgsFÜSKU
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘Lowe¡OfãrLi¡šgsFÜSKU
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestPricedOffersForASINSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜASINReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘Lowe¡PriûdOfãrsFÜASIN
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘Lowe¡PriûdOfãrsFÜASIN
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘Lowe¡PriûdOfãrsFÜASIN
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestPricedOffersForSKUSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Lowe¡PriûdOfãrsFÜSKUReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘Lowe¡PriûdOfãrsFÜSKU
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘Lowe¡PriûdOfãrsFÜSKU
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘Lowe¡PriûdOfãrsFÜSKU
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMatchingProductForIdSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùFÜIdReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘M©chšgProduùFÜId
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘M©chšgProduùFÜId
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduùFÜId
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMatchingProductSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

70 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mock
();

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

95 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

96 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

97 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

98 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

99 
$dom
->
fÜm©Ouut
 = 
Œue
;

101 
echo
 '<pre>';

102 
$´oduù_d©a
 = 
	`¬¿y
();

103 
$´oduùs
 = 
$dom
->
	`g‘EËm’tsByTagName
("Product");

104 
	`fÜ—ch
 (
$´oduùs
 
as
 
$´oduù
) {

107 
$sku_šfo
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("SellerSKU");

108 
$sku
 = 
$sku_šfo
[0]->
nodeV®ue
;

109 
$´oduù_d©a
[
$sku
] = 
	`¬¿y
();

112 
$ÿ‹gÜyId
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ProductCategoryId");

113 
$´oduù_d©a
[
$sku
]['ÿ‹gÜy'] = 
$ÿ‹gÜyId
[0]->
nodeV®ue
;

116 
$§ËsRªkšgs
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Rank");

117 
$´oduù_d©a
[
$sku
]['¿nk'] = 
$§ËsRªkšgs
[0]->
nodeV®ue
;

119 
$Priû
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Price");

120 
	`fÜ—ch
 (
$Priû
 
as
 
$key
 => 
$v®ue
) {

122 
$Li¡Priû
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("ListingPrice");

123 
	`fÜ—ch
 (
$Li¡Priû
 
as
 
$k
 => 
$v®
) {

126 
$cu¼’cyCode
 = 
$v®
->
	`g‘EËm’tsByTagName
("CurrencyCode");

127 
$´oduù_d©a
[
$sku
]['cu¼’cy'] = 
$cu¼’cyCode
[0]->
nodeV®ue
;

130 
$AmouÁ
 = 
$v®
->
	`g‘EËm’tsByTagName
("Amount");

131 
$´oduù_d©a
[
$sku
]['amouÁ'] = 
$amouÁ
[0]->
nodeV®ue
;

138 
$cÚn
 = 
	`mysqli_cÚÃù
("localhost", "think14d_demo", "demo@153", "think14d_mws");

139 
$sql
 = "INSERT INTO mw Õroduù_sku, c©egÜy_id,„ªk,…riû, cu¼’cyèVALUES ('".
$ÿ‹gÜy
."','".
$¿nkšg
."','".
$cu¼’cy_code
."','".
$amouÁ
."')";

140 ià(
	`mysqli_qu”y
(
$cÚn
, 
$sql
)) {

141 
echo
 "inserted successfully";

143 
echo
 "E¼Ü:" . 
	`mysqli_”rÜ
(
$cÚn
);

145 
	`mysqli_şo£
(
$cÚn
);

146 
d›
;

149 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

150 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

151 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

152 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

153 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

154 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

155 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

156 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

158 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMyFeesEstimateSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyF“sE¡im©eReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘MyF“sE¡im©e
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘MyF“sE¡im©e
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘MyF“sE¡im©e
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMyPriceForASINSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜASINReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘MyPriûFÜASIN
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘MyPriûFÜASIN
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘MyPriûFÜASIN
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMyPriceForSKUSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘MyPriûFÜSKUReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘MyPriûFÜSKU
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘MyPriûFÜSKU
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘MyPriûFÜSKU
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetProductCategoriesForASINSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜASINReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘ProduùC©egÜ›sFÜASIN
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘ProduùC©egÜ›sFÜASIN
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘ProduùC©egÜ›sFÜASIN
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetProductCategoriesForSKUSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘ProduùC©egÜ›sFÜSKUReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘ProduùC©egÜ›sFÜSKU
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘ProduùC©egÜ›sFÜSKU
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘ProduùC©egÜ›sFÜSKU
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetServiceStatusSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘S”viûStusReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeG‘S”viûStus
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeG‘S”viûStus
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`G‘S”viûStus
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/src/MarketplaceWebServiceProducts/Samples/ListMatchingProductsSample.php

1 <?
php


24 
»quœe_Úû
('.config.inc.php');

44 
	g$cÚfig
 = 
¬¿y
 (

45 'S”viûURL' => 
$£rviûU¾
,

46 'ProxyHo¡' => 
nuÎ
,

48 'ProxyU£ºame' => 
nuÎ
,

49 'ProxyPasswÜd' => 
nuÎ
,

53 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

54 
AWS_ACCESS_KEY_ID
,

55 
AWS_SECRET_ACCESS_KEY
,

56 
APPLICATION_NAME
,

57 
APPLICATION_VERSION
,

58 
$cÚfig
);

77 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_Li¡M©chšgProduùsReque¡
();

78 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

80 
švokeLi¡M©chšgProduùs
(
$£rviû
, 
$»que¡
);

91 
funùiÚ
 
	$švokeLi¡M©chšgProduùs
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
)

93 
Œy
 {

94 
$»¥Ú£
 = 
$£rviû
->
	`Li¡M©chšgProduùs
(
$»que¡
);

96 
	`echo
 ("Service Response\n");

97 
	`echo
 ("=============================================================================\n");

99 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

100 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

101 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

102 
$dom
->
fÜm©Ouut
 = 
Œue
;

103 
echo
 
$dom
->
	`§veXML
();

104 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

106 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

107 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

108 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

109 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

110 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

111 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

112 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

113 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

115 
	}
}

	@MWSProducts/test.php

1 <?
php


2 
	g$csvFe
 = 
fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

3 
	g$d©a
 = [];

4 
	g$csv_d©a
 = [];

5 
	g$i
=0;

6 
	$fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

7 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

8 if(
	`is£t
(
$_GET
['tier'])){

9 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

10 
$d©a
[] = 
$csv_check_d©a
;

13 
$d©a
[] = 
$csv_check_d©a
;

15 
$i
 += 1;

17 
	}
}

19 
	$fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

20 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

21 ià(
	`couÁ
(
$csv_¬¿y_d©a
)>3 
ªd
 
	`´eg_m©ch_®l
('/B0\w{8}/',$csv_¬¿y_d©a[4],
$m
)) {

23 
	`fÜ—ch
 (
$m
[0] 
as
 
$v
) {

25 
$aCompAsšs
[] = 
$v
;

28 
	}
}

29 
	gecho
 "<´e>"; 
´št_r
(
$aCompAsšs
);ƒcho "</pre>";

	@MWSProducts/test2_fetch_data.php

1 <?
php


2 
	g»quœe_Úû
 'my_mws_functions.php';

4 
	g$sPublishedGoogËSh“tTsv
 = 
fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=352479658&single=true&output=tsv');

5 
	g$aW©chedLi¡šgs
 = 
g‘W©chedLi¡šgs
(
$sPublishedGoogËSh“tTsv
);

25 
	g$u¾_¬¿y
 = 
¬¿y
(

26 
¬¿y
("region" => "us","url" => "https://mws.amazonservices.com/Products/2011-10-01","id" => "ATVPDKIKX0DER"),

27 
¬¿y
("region" => "ca","url" => "https://mws.amazonservices.ca/Products/2011-10-01","id" => "A2EUQ1WTGCTBG2"),

28 
¬¿y
("region" => "uk","url" => "https://mws-eu.amazonservices.com/Products/2011-10-01","id" => "A1F83G8C2ARO7P"));

29 
	g$¬¿y_Ëngth
 = 
couÁ
(
$u¾_¬¿y
);

31 
	g$i
 = 0; $i < 1; $i++){

32 
	g$»giÚ
 = 
$u¾_¬¿y
[
$i
]['region'];

33 
	g$£rviûU¾
 = 
$u¾_¬¿y
[
$i
]['url'];

34 
	g$m¬k‘¶aû_id
 = 
$u¾_¬¿y
[
$i
]['id'];

36 
g‘MwsReqObj
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
,
$aAsš
);

38 
	g$asš_chunk
 = 
¬¿y_chunk
(
$aW©chedLi¡šgs
,10);

39 
	g$»s
 = 
¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

42 
	g$»que¡
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

43 
	g$»que¡
->
£tS–ËrId
(
MERCHANT_ID
);

44 
	g$»que¡
->
£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

45 
	g$asš_li¡
ğ
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

46 
	$fÜ—ch
(
$»s
 
as
 
$asš
){

47 
$asš_li¡
->
	`£tASIN
(
$asš
);

48 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

51 
	`švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
,
$»giÚ
);

52 
	}
}

56 
funùiÚ
 
	$g‘W©chedLi¡šgs
(
$sPublishedGoogËSh“tTsv
) {

57 
$aW©chedLi¡šgs
 = [];

58 
	`fÜ—ch
(
$sPublishedGoogËSh“tTsv
 
as
 
$sTsvRow
) {

60 
$aTsvRow
 = 
	`ex¶ode
("\t", 
$sTsvRow
);

72 ià(
	`´eg_m©ch
('/(B0\w{8})/',
$aTsvRow
[0],
$m
è=ğ
FALSE
) ;

73 
$asš
 = 
$m
[1];

74 
$mod–
 = 
$aTsvRow
[1];

75 
$t›r
 = 
$aTsvRow
[2];

76 
$owÃr
 = 
$aTsvRow
[3];

77 
$comp
 = 
$aTsvRow
[4];

79 
$aW©chedLi¡šgs
[
$asš
] = 
	`¬¿y
('mod–'=>
$mod–
,'t›r'=>
$t›r
,'owÃr'=>
$owÃr
,'comp'=>
$comp
);

81 
$aW©chedLi¡šgs
 = 
	`¬¿y_unique
($aWatchedListings);

82  
$aW©chedLi¡šgs
;

83 
	}
}

84 
	gex™
;

86 
	g$csvFe
 = 
fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

87 
	g$d©a
 = [];

88 
	g$csv_d©a
 = [];

89 
	g$i
=0;

90 
	$fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

91 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

92 if(
	`is£t
(
$_GET
['tier'])){

93 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

94 
$d©a
[] = 
$csv_check_d©a
;

97 
$d©a
[] = 
$csv_check_d©a
;

99 
$i
 += 1;

100 
echo
 "<h3>$line</h3>";

101 ià(
$i
>3) ;

103 
	}
}

105 
	$fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

106 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

107 
$csv_´oduù_Ën
 = 
	`¡¾’
(
$csv_´oduù_asš
);

108 if(
$csv_´oduù_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

109 
$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

110 
$csv_d©a
[] = 
$csv_´oduù_asš
;

112 
$csv_v®ues
 = 
	`im¶ode
("\t", 
$csv_¬¿y_d©a
);

113 
	}
}

114 
	gecho
 "<´e>"; 
´št_r
(
$csv_v®ues
);ƒcho "</pre>";

115 
	gex™
;

116 
	g$csv_f‹r_¬¿y
 = 
¬¿y_f‹r
(
$csv_d©a
);

117 
	g$csv_f‹r_¬¿y
 = 
¬¿y_unique
(
$csv_f‹r_¬¿y
);

118 
	g$csv_chunk
 = 
¬¿y_chunk
(
$csv_f‹r_¬¿y
,10);

119 
	g$GLOBALS
['csv_¬¿y'] = 
$d©a
;

120 
	g$aW©chedLi¡šgs
 = [];

121 
	$fÜ—ch
 (
$d©a
 
as
 
$’Œy
) {

122 ià(!
	`em±y
(
$’Œy
[4])){

123 
$csv_d©a
 = 
	`ex¶ode
(',', 
$’Œy
[4]);

124 ià(!
	`em±y
(
$csv_d©a
)){

125 
$asš_d©a
 = 
	`¬¿y_m­
('Œim', 
$csv_d©a
);

126 
	`fÜ—ch
(
$asš_d©a
 
as
 
$asš_fš®_d©a
){

127 
$asš_Ën
 = 
	`¡¾’
(
$asš_fš®_d©a
);

128 if(
$asš_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$asš_fš®_d©a
)){

129 
$aW©chedLi¡šgs
[] = 
$asš_fš®_d©a
;

134 
	}
}

135 
	g$aW©chedLi¡šgs
 = 
¬¿y_f‹r
(
$aW©chedLi¡šgs
);

136 
	g$aW©chedLi¡šgs
 = 
¬¿y_unique
(
$aW©chedLi¡šgs
);

137 
	g$asš_chunk
 = 
¬¿y_chunk
(
$aW©chedLi¡šgs
,10);

138 
	g$»s
 = 
¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

	@MWSProducts/test3_fetch_data.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
»quœe_Úû
('mws_config.php');

11 
	g$u¾_¬¿y
 = 
¬¿y
(array("region" => "us","url" => "https://mws.amazonservices.com/Products/2011-10-01","id" => "ATVPDKIKX0DER"),array("region" => "ca","url" => "https://mws.amazonservices.ca/Products/2011-10-01","id" => "A2EUQ1WTGCTBG2"),‡rray("region" => "uk","url" => "https://mws-eu.amazonservices.com/Products/2011-10-01","id" => "A1F83G8C2ARO7P"));

12 
	g$¬¿y_Ëngth
 = 
couÁ
(
$u¾_¬¿y
);

13 
	g$i
 = 0; $˜< 
	g$¬¿y_Ëngth
; $i++){

14 
	g$»giÚ
 = 
$u¾_¬¿y
[
$i
]['region'];

15 
	g$£rviûU¾
 = 
$u¾_¬¿y
[
$i
]['url'];

16 
	g$m¬k‘¶aû_id
 = 
$u¾_¬¿y
[
$i
]['id'];

17 
cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
);

19 
funùiÚ
 
	$cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
){

20 
$cÚfig
 = 
	`¬¿y
 (

21 'S”viûURL' => 
$£rviûU¾
,

22 'ProxyHo¡' => 
nuÎ
,

24 'ProxyU£ºame' => 
nuÎ
,

25 'ProxyPasswÜd' => 
nuÎ
,

28 
$£rviû
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

29 
AWS_ACCESS_KEY_ID
,

30 
AWS_SECRET_ACCESS_KEY
,

31 
APPLICATION_NAME
,

32 
APPLICATION_VERSION
,

33 
$cÚfig
);

35 
$csvFe
 = 
	`fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

36 
	`fÜ—ch
(
$csvFe
 
as
 
$sCsvLše
) {

37 
$aCsvLše
 = 
	`ex¶ode
(',', 
$sCsvLše
);

38 if(
	`is£t
(
$_GET
['t›r']è
ªd
 $_GET['t›r'] <> 
$aCsvLše
[2] ) ;

39 ià(
	`´eg_m©ch_®l
('/B0\w{8}/',
$sCsvLše
,
$m
)) {

40 
	`fÜ—ch
(
$m
[0] 
as
 
$asš
) {

41 
$asš_¬¿y
[] = 
$asš
;

55 
echo
 "<´e>"; 
	`´št_r
(
$asš_¬¿y
);ƒchØ"</´e><hr>"; 
ex™
;

58 
$asš_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$asš_¬¿y
);

59 
$asš_f‹r_¬¿y
 = 
	`¬¿y_unique
($asin_filter_array);

60 
$asš_chunk
 = 
	`¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

61 
$»s
 = 
	`¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

62 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

63 
$»que¡
->
	`£tS–ËrId
(
MERCHANT_ID
);

64 
$»que¡
->
	`£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

65 
$asš_li¡
ğ
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

66 
	`fÜ—ch
(
$»s
 
as
 
$asš
){

67 
$asš_li¡
->
	`£tASIN
(
$asš
);

68 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

69 
	`švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
,
$»giÚ
);

71 
	}
}

73 
h—d”
('Location: index.php');

74 
ex™
();

76 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
){

77 
Œy
 {

79 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

80 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

81 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

84 
$´oduù_d©a
 = 
	`¬¿y
();

85 
$csv_db_d©a
 = 
	`¬¿y
();

86 
$ÿ‹gÜy_d©a
 = 
	`¬¿y
();

87 
$´oduùs
 = 
$dom
->
	`g‘EËm’tsByTagName
("Product");

88 
	`fÜ—ch
 (
$´oduùs
 
as
 
$´oduù
) {

90 
$sku_šfo
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ASIN");

91 
$sku
 = 
$sku_šfo
[0]->
nodeV®ue
;

92 
$´oduù_d©a
['asš'] = 
$sku
;

95 
$ÿ‹gÜy
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ProductCategoryId");

96 
$¿nk
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Rank");

97 
$¿nk_¬¿y
 = 
	`¬¿y
();

98 
$ÿ‹gÜy_¬¿y
 = 
	`¬¿y
();

99 
$i
 = 0; $˜< 
$ÿ‹gÜy
->
Ëngth
; $i++){

100 
$¿nk_¬¿y
['¿nk'.
$i
] = 
$¿nk
[$i]->
nodeV®ue
;

101 
$ÿ‹gÜy_¬¿y
['ÿ‹gÜy'.
$i
] = 
$ÿ‹gÜy
[$i]->
nodeV®ue
;

104 
$Priû
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("AttributeSets");

105 
	`fÜ—ch
 (
$Priû
 
as
 
$key
 => 
$v®ue
) {

107 
$Li¡Priû
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("ListPrice");

109 
	`fÜ—ch
 (
$Li¡Priû
 
as
 
$k
 => 
$v®
) {

111 
$amouÁ
 = 
$v®
->
	`g‘EËm’tsByTagName
("Amount");

112 
$´oduù_d©a
['´iû'] = 
$amouÁ
[0]->
nodeV®ue
;

114 
$cu¼’cyCode
 = 
$v®
->
	`g‘EËm’tsByTagName
("CurrencyCode");

115 
$´oduù_d©a
['cu¼’cy'] = (
$cu¼’cyCode
[0]->
nodeV®ue
 == "USD") ? 1 : 0;

116 
$csv_¬¿y_d©as
 = 
$GLOBALS
['csv_array'];

117 
	`fÜ—ch
(
$csv_¬¿y_d©as
 
as
 
$csv_¬¿y_d©a
){

118 
$sku_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[4],
$´oduù_d©a
['asin']);

119 
$u¾_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[0],
$´oduù_d©a
['asin']);

120 if(
$sku_comp_d©a
 > -1 || 
$u¾_comp_d©a
 > -1 ){

121 
$´oduù_d©a
['t›r'] = 
$csv_¬¿y_d©a
[2];

122 
$´oduù_d©a
['owÃr'] = 
$csv_¬¿y_d©a
[3];

126 
$£Ëù_sql
 = "SELECT * FROM csv WHERE…roduù LIKE '%".
$´oduù_d©a
['asin']."%' ORDER BY id LIMIT 1";

127 
$mysqli
 = 
	`mws_mysqlCÚÃù
();

128 
$»suÉ
 = 
$mysqli
->
	`qu”y
(
$£Ëù_sql
);

129 
$rows
 = 
$»suÉ
->
	`ãtch_assoc
();

130 
$´oduù_d©a
['csv_id'] = 
$rows
['id'];

131 
$´oduù_d©a
['t›r'] = 
$rows
['tier'];

132 
$owÃr
 = 
$rows
['owner'];

133 
$£Ëù_owÃr_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_owÃ¸WHERE Namğ'".
$owÃr
."'");

134 
	`fÜ—ch
(
$£Ëù_owÃr_sql
 
as
 
$£Ëù_owÃr
){

135 
$´oduù_d©a
['owÃr'] = 
$£Ëù_owÃr
['ID'];

137 if(
$rows
['group_asš'] =ğ
$´oduù_d©a
['asin']){

138 
$´oduù_d©a
['type'] = 1;

140 
$´oduù_d©a
['type'] = 2;

143 
$mod–
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("Model");

144 
$sku
 = 
$mod–
[0]->
nodeV®ue
;

146 
$£Ëù_sku_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_sku WHERE Sku = '".
$sku
."'");

147 if(
$£Ëù_sku_sql
->
num_rows
 == 0){

148 
$š£¹_sku_sql
 = "INSERT INTO mws_sku (SkuèVALUES ('".
$sku
."')";

149 
$mysqli
->
	`qu”y
(
$š£¹_sku_sql
);

150 
$sku_id
 = 
$mysqli
->
š£¹_id
;

151 
$´oduù_d©a
['sku'] = 
$sku_id
;

153 
	`fÜ—ch
(
$£Ëù_sku_sql
 
as
 
$£Ëù_sku
){

154 
$´oduù_d©a
['sku'] = 
$£Ëù_sku
['ID'];

158 
$ÿ‹gÜy1
 = 
$ÿ‹gÜy_¬¿y
['category0'];

159 
$£Ëù_ÿ‹gÜy1_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_ÿ‹gÜy1 WHERE C©egÜy = '".
$ÿ‹gÜy1
."'");

160 if(
$£Ëù_ÿ‹gÜy1_sql
->
num_rows
 == 0){

161 
$š£¹_ÿ‹gÜy1_sql
 = "INSERT INTO mws_ÿ‹gÜy1 (C©egÜyèVALUES ('".
$ÿ‹gÜy1
."')";

162 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy1_sql
);

163 
$ÿ‹gÜy1_id
 = 
$mysqli
->
š£¹_id
;

164 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$ÿ‹gÜy1_id
;

166 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy1_sql
 
as
 
$£Ëù_ÿt1
){

167 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$£Ëù_ÿt1
['ID'];

171 
$´oduù_d©a
['¿nk1'] = 
$¿nk_¬¿y
['rank0'];

172 
$ÿ‹gÜy2
 = 
$ÿ‹gÜy_¬¿y
['category1'];

173 
$£Ëù_ÿ‹gÜy2_sql
 = 
$mysqli
->
	`qu”y
("SELECT * FROM mws_ÿ‹gÜy2 WHERE C©egÜy = '".
$ÿ‹gÜy2
."'");

174 if(
$£Ëù_ÿ‹gÜy2_sql
->
num_rows
 == 0){

175 
$š£¹_ÿ‹gÜy2_sql
 = "INSERT INTO mws_ÿ‹gÜy2 (C©egÜyèVALUES ('".
$ÿ‹gÜy2
."')";

176 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy2_sql
);

177 
$ÿ‹gÜy2_id
 = 
$mysqli
->
š£¹_id
;

178 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$ÿ‹gÜy2_id
;

180 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy2_sql
 
as
 
$£Ëù_ÿt2
){

181 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$£Ëù_ÿt2
['ID'];

184 
$´oduù_d©a
['¿nk2'] = 
$¿nk_¬¿y
['rank1'];

185 
$v®ues
 = 
	`im¶ode
("','", 
$´oduù_d©a
);

186 
$š£¹_sql
 = "INSERT INTO mws_".
$»giÚ
." (asš,´iû,cu¼’cy,t›r,owÃr,csv_id,ty³,sku,ÿ‹gÜy1,¿nk1,ÿ‹gÜy2,¿nk2èVALUES ('".
$v®ues
."')";

187 
$mysqli
->
	`qu”y
(
$š£¹_sql
);

191 
$_SESSION
['success'] = 'Data Fetched Successfully.';

192 }
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

193 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

194 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

195 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

196 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

197 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

198 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

199 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

201 
	}
}

	@MWSProducts/test_fetch_data.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
»quœe_Úû
('mws_config.php');

5 
ši_£t
('display_errors', 1);

6 
ši_£t
('display_startup_errors', 1);

7 
”rÜ_»pÜtšg
(
E_ALL
);

13 
	g$u¾_¬¿y
 = 
¬¿y
(

14 
¬¿y
("region" => "us","url" => "https://mws.amazonservices.com/Products/2011-10-01","id" => "ATVPDKIKX0DER"),

15 
¬¿y
("region" => "ca","url" => "https://mws.amazonservices.ca/Products/2011-10-01","id" => "A2EUQ1WTGCTBG2"),

16 
¬¿y
("region" => "uk","url" => "https://mws-eu.amazonservices.com/Products/2011-10-01","id" => "A1F83G8C2ARO7P"));

17 
	g$¬¿y_Ëngth
 = 
couÁ
(
$u¾_¬¿y
);

19 
	g$i
 = 0; $i < 1; $i++){

20 
	g$»giÚ
 = 
$u¾_¬¿y
[
$i
]['region'];

21 
	g$£rviûU¾
 = 
$u¾_¬¿y
[
$i
]['url'];

22 
	g$m¬k‘¶aû_id
 = 
$u¾_¬¿y
[
$i
]['id'];

24 
cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
);

26 
funùiÚ
 
	$cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
){

27 
$cÚfig
 = 
	`¬¿y
 (

28 'S”viûURL' => 
$£rviûU¾
,

29 'ProxyHo¡' => 
nuÎ
,

31 'ProxyU£ºame' => 
nuÎ
,

32 'ProxyPasswÜd' => 
nuÎ
,

35 
$£rviû
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

36 
AWS_ACCESS_KEY_ID
,

37 
AWS_SECRET_ACCESS_KEY
,

38 
APPLICATION_NAME
,

39 
APPLICATION_VERSION
,

40 
$cÚfig
);

42 
$csvFe
 = 
	`fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

43 
$d©a
 = [];

44 
$csv_d©a
 = [];

45 
$i
=0;

46 
	`fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

47 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

48 if(
	`is£t
(
$_GET
['tier'])){

49 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

50 
$d©a
[] = 
$csv_check_d©a
;

53 
$d©a
[] = 
$csv_check_d©a
;

55 
$i
 += 1;

56 
echo
 "<h3>$line</h3>";

57 ià(
$i
>2) ;

61 
	`fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

62 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

63 
$csv_´oduù_Ën
 = 
	`¡¾’
(
$csv_´oduù_asš
);

64 if(
$csv_´oduù_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

65 
$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

66 
$csv_d©a
[] = 
$csv_´oduù_asš
;

68 
$csv_v®ues
 = 
	`im¶ode
("','", 
$csv_¬¿y_d©a
);

70 
$csv_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$csv_d©a
);

71 
$csv_f‹r_¬¿y
 = 
	`¬¿y_unique
($csv_filter_array);

72 
$csv_chunk
 = 
	`¬¿y_chunk
(
$csv_f‹r_¬¿y
,10);

73 
$GLOBALS
['csv_¬¿y'] = 
$d©a
;

74 
$asš_¬¿y
 = [];

75 
	`fÜ—ch
 (
$d©a
 
as
 
$’Œy
) {

76 ià(!
	`em±y
(
$’Œy
[4])){

77 
$csv_d©a
 = 
	`ex¶ode
(',', 
$’Œy
[4]);

78 ià(!
	`em±y
(
$csv_d©a
)){

79 
$asš_d©a
 = 
	`¬¿y_m­
('Œim', 
$csv_d©a
);

80 
	`fÜ—ch
(
$asš_d©a
 
as
 
$asš_fš®_d©a
){

81 
$asš_Ën
 = 
	`¡¾’
(
$asš_fš®_d©a
);

82 if(
$asš_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$asš_fš®_d©a
)){

83 
$asš_¬¿y
[] = 
$asš_fš®_d©a
;

89 
$asš_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$asš_¬¿y
);

90 
$asš_f‹r_¬¿y
 = 
	`¬¿y_unique
($asin_filter_array);

91 
$asš_chunk
 = 
	`¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

92 
$»s
 = 
	`¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

95 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

96 
$»que¡
->
	`£tS–ËrId
(
MERCHANT_ID
);

97 
$»que¡
->
	`£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

98 
$asš_li¡
ğ
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

99 
	`fÜ—ch
(
$»s
 
as
 
$asš
){

100 
$asš_li¡
->
	`£tASIN
(
$asš
);

101 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

104 
	`švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
,
$»giÚ
);

106 
	}
}

109 
ex™
();

111 
funùiÚ
 
	$‹¡
(){

113 
$»¥Ú£
 = 
$£rviû
->
	`g‘Lowe¡OfãrLi¡šgsFÜASIN
(
$»que¡
);

115 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

116 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

117 
$dom
->
´e£rveWh™eS·û
 = 
çl£
;

118 
$dom
->
fÜm©Ouut
 = 
Œue
;

119 
$xml_d©a
 = 
$dom
->
	`§veXML
();

120 
$dom
->
	`lßdXML
(
$xml_d©a
);

122 
$Ùh”OfãrXml
 = 
	`sim¶exml_lßd_¡ršg
(
$xml_d©a
);

124 
	`fÜ—ch
(
$Ùh”OfãrXml
 
as
 
$ofãrs
)

127 if(!
	`is£t
(
$ofãrs
["status"]))

131 if(
$ofãrs
["status"] != "Success")

134 
$asš
 = (
SŒšg
è
$ofãrs
->
Produù
->
Id’tif›rs
->
M¬k‘¶aûASIN
->
ASIN
;

137 
$£Î”_couÁ”
 = 0;

138 
$Ùh”s_»¥Ú£_d©a
[
$asš
] = "";

139 
	`fÜ—ch
(
$ofãrs
->
Produù
->
Lowe¡OfãrLi¡šgs
->
Lowe¡OfãrLi¡šg
 
as
 
$ofãrs_li¡
)

141 
$Ùh”s_»¥Ú£_d©a
[
$asš
][
$£Î”_couÁ”
]["LªdedPriû"] = (
SŒšg
è
$ofãrs_li¡
->
Priû
->
LªdedPriû
->
AmouÁ
;

142 
$Ùh”s_»¥Ú£_d©a
[
$asš
][
$£Î”_couÁ”
]["Li¡šgPriû"] = (
SŒšg
è
$ofãrs_li¡
->
Priû
->
Li¡šgPriû
->
AmouÁ
;

143 
$Ùh”s_»¥Ú£_d©a
[
$asš
][
$£Î”_couÁ”
]["Shpšg"] = (
SŒšg
è
$ofãrs_li¡
->
Priû
->
Shpšg
->
AmouÁ
;

144 
$Ùh”s_»¥Ú£_d©a
[
$asš
][
$£Î”_couÁ”
]["Fulflm’t"] = 
$fulflm’t_chªÃl
;

145 
$Ùh”s_»¥Ú£_d©a
[
$asš
][
$£Î”_couÁ”
]["SKU"] = 
$asš_¬¿y
[$asin]["sku"];

146 
$Ùh”s_»¥Ú£_d©a
[
$asš
][
$£Î”_couÁ”
]["AZN_ASIN"] = $asin;

147 
$£Î”_couÁ”
++;

150 
	}
}

161 
funùiÚ
 
	$švokeG‘M©chšgProduù2
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
) {

162 
Œy
 {

163 
$»¥Ú£
 = 
$£rviû
->
	`g‘M©chšgProduù
(
$»que¡
);

164 
echo
 "Service Response\n";

165 
echo
 "=============================================================================\n";

166 
echo
 " GetMatchingProductResponse\n";

168 
$g‘M©chšgProduùResuÉLi¡
 = 
$»¥Ú£
->
	`g‘G‘M©chšgProduùResuÉ
();

169 
	`fÜ—ch
 (
$g‘M©chšgProduùResuÉLi¡
 
as
 
$g‘M©chšgProduùResuÉ
) {

170 
echo
 " GetMatchingProductResult\n";

171 ià(
$g‘M©chšgProduùResuÉ
->
	`isS‘ASIN
()) {

172 
echo
 " ASIN";

173 
echo
 "\n";

174 
echo
 " " . 
$g‘M©chšgProduùResuÉ
->
	`g‘ASIN
() . "\n";

176 ià(
$g‘M©chšgProduùResuÉ
->
	`isS‘Stus
()) {

177 
echo
 " status";

178 
echo
 "\n";

179 
echo
 " " . 
$g‘M©chšgProduùResuÉ
->
	`g‘Stus
() . "\n";

181 ià(
$g‘M©chšgProduùResuÉ
->
	`isS‘Produù
()) {

182 
echo
 " Product\n";

183 
$´oduù
 = 
$g‘M©chšgProduùResuÉ
->
	`g‘Produù
();

184 ià(
$´oduù
->
	`isS‘Id’tif›rs
()) {

185 
echo
 " Identifiers\n";

186 
$id’tif›rs
 = 
$´oduù
->
	`g‘Id’tif›rs
();

187 ià(
$id’tif›rs
->
	`isS‘M¬k‘¶aûASIN
()) {

188 
echo
 " MarketplaceASIN\n";

189 
$m¬k‘¶aûASIN
 = 
$id’tif›rs
->
	`g‘M¬k‘¶aûASIN
();

190 ià(
$m¬k‘¶aûASIN
->
	`isS‘M¬k‘¶aûId
()) {

191 
echo
 " MarketplaceId\n";

192 
echo
 " " . 
$m¬k‘¶aûASIN
->
	`g‘M¬k‘¶aûId
() . "\n";

194 ià(
$m¬k‘¶aûASIN
->
	`isS‘ASIN
()) {

195 
echo
 " ASIN\n";

196 
echo
 " " . 
$m¬k‘¶aûASIN
->
	`g‘ASIN
() . "\n";

199 ià(
$id’tif›rs
->
	`isS‘SKUId’tif›r
()) {

200 
echo
 " SKUIdentifier\n";

201 
$SKUId’tif›r
 = 
$id’tif›rs
->
	`g‘SKUId’tif›r
();

202 ià(
$SKUId’tif›r
->
	`isS‘M¬k‘¶aûId
()) {

203 
echo
 " MarketplaceId\n";

204 
echo
 " " . 
$SKUId’tif›r
->
	`g‘M¬k‘¶aûId
() . "\n";

206 ià(
$SKUId’tif›r
->
	`isS‘S–ËrId
()) {

207 
echo
 " SellerId\n";

208 
echo
 " " . 
$SKUId’tif›r
->
	`g‘S–ËrId
() . "\n";

210 ià(
$SKUId’tif›r
->
	`isS‘S–ËrSKU
()) {

211 
echo
 " SellerSKU\n";

212 
echo
 " " . 
$SKUId’tif›r
->
	`g‘S–ËrSKU
() . "\n";

216 ià(
$´oduù
->
	`isS‘A‰ribu‹S‘s
()) {

217 
echo
 " AttributeSets\n";

218 
$©Œibu‹S‘s
 = 
$´oduù
->
	`g‘A‰ribu‹S‘s
();

219 ià(
$©Œibu‹S‘s
->
	`isS‘Any
()) {

220 
$nodeLi¡
 = 
$©Œibu‹S‘s
->
	`g‘Any
();

221 
echo
 "<´e>"; 
	`´št_r
(
$nodeLi¡
);ƒcho "</pre>"; ;

224 ià(
$´oduù
->
	`isS‘R–©iÚshs
()) {

225 
echo
 " Relationships\n";

226 
$»ÏtiÚshs
 = 
$´oduù
->
	`g‘R–©iÚshs
();

227 ià(
$»ÏtiÚshs
->
	`isS‘Any
()) {

228 
$nodeLi¡
 = 
$»ÏtiÚshs
->
	`g‘Any
();

229 
echo
 "<´e>"; 
	`´št_r
(
$nodeLi¡
);ƒcho "</pre>"; ;

232 ià(
$´oduù
->
	`isS‘Com³t™ivePricšg
()) {

233 
echo
 " CompetitivePricing\n";

234 
$com³t™ivePricšg
 = 
$´oduù
->
	`g‘Com³t™ivePricšg
();

235 ià(
$com³t™ivePricšg
->
	`isS‘Com³t™ivePriûs
()) {

236 
echo
 " CompetitivePrices\n";

237 
$com³t™ivePriûs
 = 
$com³t™ivePricšg
->
	`g‘Com³t™ivePriûs
();

238 
$com³t™ivePriûLi¡
 = 
$com³t™ivePriûs
->
	`g‘Com³t™ivePriû
();

239 
	`fÜ—ch
 (
$com³t™ivePriûLi¡
 
as
 
$com³t™ivePriû
) {

240 
echo
 " CompetitivePrice\n";

241 ià(
$com³t™ivePriû
->
	`isS‘CÚd™iÚ
()) {

242 
echo
 " condition";

243 
echo
 "\n";

244 
echo
 " " . 
$com³t™ivePriû
->
	`g‘CÚd™iÚ
() . "\n";

246 ià(
$com³t™ivePriû
->
	`isS‘SubcÚd™iÚ
()) {

247 
echo
 " subcondition";

248 
echo
 "\n";

249 
echo
 " " . 
$com³t™ivePriû
->
	`g‘SubcÚd™iÚ
() . "\n";

251 ià(
$com³t™ivePriû
->
	`isS‘B–ÚgsToReque¡”
()) {

252 
echo
 " belongsToRequester";

253 
echo
 "\n";

254 
echo
 " " . 
$com³t™ivePriû
->
	`g‘B–ÚgsToReque¡”
() . "\n";

256 ià(
$com³t™ivePriû
->
	`isS‘Com³t™ivePriûId
()) {

257 
echo
 " CompetitivePriceId\n";

258 
echo
 " " . 
$com³t™ivePriû
->
	`g‘Com³t™ivePriûId
() . "\n";

260 ià(
$com³t™ivePriû
->
	`isS‘Priû
()) {

261 
echo
 " Price\n";

262 
$´iû
 = 
$com³t™ivePriû
->
	`g‘Priû
();

263 ià(
$´iû
->
	`isS‘LªdedPriû
()) {

264 
echo
 " LandedPrice\n";

265 
$ÏndedPriû
 = 
$´iû
->
	`g‘LªdedPriû
();

266 ià(
$ÏndedPriû
->
	`isS‘Cu¼’cyCode
()) {

267 
echo
 " CurrencyCode\n";

268 
echo
 " " . 
$ÏndedPriû
->
	`g‘Cu¼’cyCode
() . "\n";

270 ià(
$ÏndedPriû
->
	`isS‘AmouÁ
()) {

271 
echo
 " Amount\n";

272 
echo
 " " . 
$ÏndedPriû
->
	`g‘AmouÁ
() . "\n";

275 ià(
$´iû
->
	`isS‘Li¡šgPriû
()) {

276 
echo
 " ListingPrice\n";

277 
$li¡šgPriû
 = 
$´iû
->
	`g‘Li¡šgPriû
();

278 ià(
$li¡šgPriû
->
	`isS‘Cu¼’cyCode
()) {

279 
echo
 " CurrencyCode\n";

280 
echo
 " " . 
$li¡šgPriû
->
	`g‘Cu¼’cyCode
() . "\n";

282 ià(
$li¡šgPriû
->
	`isS‘AmouÁ
()) {

283 
echo
 " Amount\n";

284 
echo
 " " . 
$li¡šgPriû
->
	`g‘AmouÁ
() . "\n";

287 ià(
$´iû
->
	`isS‘Shpšg
()) {

288 
echo
 " Shipping\n";

289 
$shpšg
 = 
$´iû
->
	`g‘Shpšg
();

290 ià(
$shpšg
->
	`isS‘Cu¼’cyCode
()) {

291 
echo
 " CurrencyCode\n";

292 
echo
 " " . 
$shpšg
->
	`g‘Cu¼’cyCode
() . "\n";

294 ià(
$shpšg
->
	`isS‘AmouÁ
()) {

295 
echo
 " Amount\n";

296 
echo
 " " . 
$shpšg
->
	`g‘AmouÁ
() . "\n";

302 ià(
$com³t™ivePricšg
->
	`isS‘Numb”OfOfãrLi¡šgs
()) {

303 
echo
 " NumberOfOfferListings\n";

304 
$numb”OfOfãrLi¡šgs
 = 
$com³t™ivePricšg
->
	`g‘Numb”OfOfãrLi¡šgs
();

305 
$ofãrLi¡šgCouÁLi¡
 = 
$numb”OfOfãrLi¡šgs
->
	`g‘OfãrLi¡šgCouÁ
();

306 
	`fÜ—ch
 (
$ofãrLi¡šgCouÁLi¡
 
as
 
$ofãrLi¡šgCouÁ
) {

307 
echo
 " OfferListingCount\n";

308 ià(
$ofãrLi¡šgCouÁ
->
	`isS‘CÚd™iÚ
()) {

309 
echo
 " condition";

310 
echo
 "\n";

311 
echo
 " " . 
$ofãrLi¡šgCouÁ
->
	`g‘CÚd™iÚ
() . "\n";

313 ià(
$ofãrLi¡šgCouÁ
->
	`isS‘V®ue
()) {

314 
echo
 " Value";

315 
echo
 "\n";

316 
echo
 " " . 
$ofãrLi¡šgCouÁ
->
	`g‘V®ue
() . "\n";

320 ià(
$com³t™ivePricšg
->
	`isS‘T¿deInV®ue
()) {

321 
echo
 " TradeInValue\n";

322 
$ŒadeInV®ue
 = 
$com³t™ivePricšg
->
	`g‘T¿deInV®ue
();

323 ià(
$ŒadeInV®ue
->
	`isS‘Cu¼’cyCode
()) {

324 
echo
 " CurrencyCode\n";

325 
echo
 " " . 
$ŒadeInV®ue
->
	`g‘Cu¼’cyCode
() . "\n";

327 ià(
$ŒadeInV®ue
->
	`isS‘AmouÁ
()) {

328 
echo
 " Amount\n";

329 
echo
 " " . 
$ŒadeInV®ue
->
	`g‘AmouÁ
() . "\n";

333 ià(
$´oduù
->
	`isS‘S®esRªkšgs
()) {

334 
echo
 " SalesRankings\n";

335 
$§ËsRªkšgs
 = 
$´oduù
->
	`g‘S®esRªkšgs
();

336 
$§ËsRªkLi¡
 = 
$§ËsRªkšgs
->
	`g‘S®esRªk
();

337 
	`fÜ—ch
 (
$§ËsRªkLi¡
 
as
 
$§ËsRªk
) {

338 
echo
 " SalesRank\n";

339 ià(
$§ËsRªk
->
	`isS‘ProduùC©egÜyId
()) {

340 
echo
 " ProductCategoryId\n";

341 
echo
 " " . 
$§ËsRªk
->
	`g‘ProduùC©egÜyId
() . "\n";

343 ià(
$§ËsRªk
->
	`isS‘Rªk
()) {

344 
echo
 " Rank\n";

345 
echo
 " " . 
$§ËsRªk
->
	`g‘Rªk
() . "\n";

349 ià(
$´oduù
->
	`isS‘Lowe¡OfãrLi¡šgs
()) {

350 
echo
 " LowestOfferListings\n";

351 
$lowe¡OfãrLi¡šgs
 = 
$´oduù
->
	`g‘Lowe¡OfãrLi¡šgs
();

352 
$lowe¡OfãrLi¡šgLi¡
 = 
$lowe¡OfãrLi¡šgs
->
	`g‘Lowe¡OfãrLi¡šg
();

353 
	`fÜ—ch
 (
$lowe¡OfãrLi¡šgLi¡
 
as
 
$lowe¡OfãrLi¡šg
) {

354 
echo
 " LowestOfferListing\n";

355 ià(
$lowe¡OfãrLi¡šg
->
	`isS‘Qu®if›rs
()) {

356 
echo
 " Qualifiers\n";

357 
$qu®if›rs
 = 
$lowe¡OfãrLi¡šg
->
	`g‘Qu®if›rs
();

358 ià(
$qu®if›rs
->
	`isS‘I‹mCÚd™iÚ
()) {

359 
echo
 " ItemCondition\n";

360 
echo
 " " . 
$qu®if›rs
->
	`g‘I‹mCÚd™iÚ
() . "\n";

362 ià(
$qu®if›rs
->
	`isS‘I‹mSubcÚd™iÚ
()) {

363 
echo
 " ItemSubcondition\n";

364 
echo
 " " . 
$qu®if›rs
->
	`g‘I‹mSubcÚd™iÚ
() . "\n";

366 ià(
$qu®if›rs
->
	`isS‘Fulflm’tChªÃl
()) {

367 
echo
 " FulfillmentChannel\n";

368 
echo
 " " . 
$qu®if›rs
->
	`g‘Fulflm’tChªÃl
() . "\n";

370 ià(
$qu®if›rs
->
	`isS‘ShsDome¡iÿÎy
()) {

371 
echo
 " ShipsDomestically\n";

372 
echo
 " " . 
$qu®if›rs
->
	`g‘ShsDome¡iÿÎy
() . "\n";

374 ià(
$qu®if›rs
->
	`isS‘ShpšgTime
()) {

375 
echo
 " ShippingTime\n";

376 
$shpšgTime
 = 
$qu®if›rs
->
	`g‘ShpšgTime
();

377 ià(
$shpšgTime
->
	`isS‘Max
()) {

378 
echo
 " Max\n";

379 
echo
 " " . 
$shpšgTime
->
	`g‘Max
() . "\n";

382 ià(
$qu®if›rs
->
	`isS‘S–ËrPos™iveF“dbackR©šg
()) {

383 
echo
 " SellerPositiveFeedbackRating\n";

384 
echo
 " " . 
$qu®if›rs
->
	`g‘S–ËrPos™iveF“dbackR©šg
() . "\n";

387 ià(
$lowe¡OfãrLi¡šg
->
	`isS‘Numb”OfOfãrLi¡šgsCÚsid”ed
()) {

388 
echo
 " NumberOfOfferListingsConsidered\n";

389 
echo
 " " . 
$lowe¡OfãrLi¡šg
->
	`g‘Numb”OfOfãrLi¡šgsCÚsid”ed
() . "\n";

391 ià(
$lowe¡OfãrLi¡šg
->
	`isS‘S–ËrF“dbackCouÁ
()) {

392 
echo
 " SellerFeedbackCount\n";

393 
echo
 " " . 
$lowe¡OfãrLi¡šg
->
	`g‘S–ËrF“dbackCouÁ
() . "\n";

395 ià(
$lowe¡OfãrLi¡šg
->
	`isS‘Priû
()) {

396 
echo
 " Price\n";

397 
$´iû1
 = 
$lowe¡OfãrLi¡šg
->
	`g‘Priû
();

398 ià(
$´iû1
->
	`isS‘LªdedPriû
()) {

399 
echo
 " LandedPrice\n";

400 
$ÏndedPriû1
 = 
$´iû1
->
	`g‘LªdedPriû
();

401 ià(
$ÏndedPriû1
->
	`isS‘Cu¼’cyCode
()) {

402 
echo
 " CurrencyCode\n";

403 
echo
 " " . 
$ÏndedPriû1
->
	`g‘Cu¼’cyCode
() . "\n";

405 ià(
$ÏndedPriû1
->
	`isS‘AmouÁ
()) {

406 
echo
 " Amount\n";

407 
echo
 " " . 
$ÏndedPriû1
->
	`g‘AmouÁ
() . "\n";

410 ià(
$´iû1
->
	`isS‘Li¡šgPriû
()) {

411 
echo
 " ListingPrice\n";

412 
$li¡šgPriû1
 = 
$´iû1
->
	`g‘Li¡šgPriû
();

413 ià(
$li¡šgPriû1
->
	`isS‘Cu¼’cyCode
()) {

414 
echo
 " CurrencyCode\n";

415 
echo
 " " . 
$li¡šgPriû1
->
	`g‘Cu¼’cyCode
() . "\n";

417 ià(
$li¡šgPriû1
->
	`isS‘AmouÁ
()) {

418 
echo
 " Amount\n";

419 
echo
 " " . 
$li¡šgPriû1
->
	`g‘AmouÁ
() . "\n";

422 ià(
$´iû1
->
	`isS‘Shpšg
()) {

423 
echo
 " Shipping\n";

424 
$shpšg1
 = 
$´iû1
->
	`g‘Shpšg
();

425 ià(
$shpšg1
->
	`isS‘Cu¼’cyCode
()) {

426 
echo
 " CurrencyCode\n";

427 
echo
 " " . 
$shpšg1
->
	`g‘Cu¼’cyCode
() . "\n";

429 ià(
$shpšg1
->
	`isS‘AmouÁ
()) {

430 
echo
 " Amount\n";

431 
echo
 " " . 
$shpšg1
->
	`g‘AmouÁ
() . "\n";

435 ià(
$lowe¡OfãrLi¡šg
->
	`isS‘MuÉËOfãrsAtLowe¡Priû
()) {

436 
echo
 " MultipleOffersAtLowestPrice\n";

437 
echo
 " " . 
$lowe¡OfãrLi¡šg
->
	`g‘MuÉËOfãrsAtLowe¡Priû
() . "\n";

441 ià(
$´oduù
->
	`isS‘Ofãrs
()) {

442 
echo
 " Offers\n";

443 
$ofãrs
 = 
$´oduù
->
	`g‘Ofãrs
();

444 
$ofãrLi¡
 = 
$ofãrs
->
	`g‘Ofãr
();

445 
	`fÜ—ch
 (
$ofãrLi¡
 
as
 
$ofãr
) {

446 
echo
 " Offer\n";

447 ià(
$ofãr
->
	`isS‘BuyšgPriû
()) {

448 
echo
 " BuyingPrice\n";

449 
$buyšgPriû
 = 
$ofãr
->
	`g‘BuyšgPriû
();

450 ià(
$buyšgPriû
->
	`isS‘LªdedPriû
()) {

451 
echo
 " LandedPrice\n";

452 
$ÏndedPriû2
 = 
$buyšgPriû
->
	`g‘LªdedPriû
();

453 ià(
$ÏndedPriû2
->
	`isS‘Cu¼’cyCode
()) {

454 
echo
 " CurrencyCode\n";

455 
echo
 " " . 
$ÏndedPriû2
->
	`g‘Cu¼’cyCode
() . "\n";

457 ià(
$ÏndedPriû2
->
	`isS‘AmouÁ
()) {

458 
echo
 " Amount\n";

459 
echo
 " " . 
$ÏndedPriû2
->
	`g‘AmouÁ
() . "\n";

462 ià(
$buyšgPriû
->
	`isS‘Li¡šgPriû
()) {

463 
echo
 " ListingPrice\n";

464 
$li¡šgPriû2
 = 
$buyšgPriû
->
	`g‘Li¡šgPriû
();

465 ià(
$li¡šgPriû2
->
	`isS‘Cu¼’cyCode
()) {

466 
echo
 " CurrencyCode\n";

467 
echo
 " " . 
$li¡šgPriû2
->
	`g‘Cu¼’cyCode
() . "\n";

469 ià(
$li¡šgPriû2
->
	`isS‘AmouÁ
()) {

470 
echo
 " Amount\n";

471 
echo
 " " . 
$li¡šgPriû2
->
	`g‘AmouÁ
() . "\n";

474 ià(
$buyšgPriû
->
	`isS‘Shpšg
()) {

475 
echo
 " Shipping\n";

476 
$shpšg2
 = 
$buyšgPriû
->
	`g‘Shpšg
();

477 ià(
$shpšg2
->
	`isS‘Cu¼’cyCode
()) {

478 
echo
 " CurrencyCode\n";

479 
echo
 " " . 
$shpšg2
->
	`g‘Cu¼’cyCode
() . "\n";

481 ià(
$shpšg2
->
	`isS‘AmouÁ
()) {

482 
echo
 " Amount\n";

483 
echo
 " " . 
$shpšg2
->
	`g‘AmouÁ
() . "\n";

487 ià(
$ofãr
->
	`isS‘ReguÏrPriû
()) {

488 
echo
 " RegularPrice\n";

489 
$»guÏrPriû
 = 
$ofãr
->
	`g‘ReguÏrPriû
();

490 ià(
$»guÏrPriû
->
	`isS‘Cu¼’cyCode
()) {

491 
echo
 " CurrencyCode\n";

492 
echo
 " " . 
$»guÏrPriû
->
	`g‘Cu¼’cyCode
() . "\n";

494 ià(
$»guÏrPriû
->
	`isS‘AmouÁ
()) {

495 
echo
 " Amount\n";

496 
echo
 " " . 
$»guÏrPriû
->
	`g‘AmouÁ
() . "\n";

499 ià(
$ofãr
->
	`isS‘Fulflm’tChªÃl
()) {

500 
echo
 " FulfillmentChannel\n";

501 
echo
 " " . 
$ofãr
->
	`g‘Fulflm’tChªÃl
() . "\n";

503 ià(
$ofãr
->
	`isS‘I‹mCÚd™iÚ
()) {

504 
echo
 " ItemCondition\n";

505 
echo
 " " . 
$ofãr
->
	`g‘I‹mCÚd™iÚ
() . "\n";

507 ià(
$ofãr
->
	`isS‘I‹mSubCÚd™iÚ
()) {

508 
echo
 " ItemSubCondition\n";

509 
echo
 " " . 
$ofãr
->
	`g‘I‹mSubCÚd™iÚ
() . "\n";

511 ià(
$ofãr
->
	`isS‘S–ËrId
()) {

512 
echo
 " SellerId\n";

513 
echo
 " " . 
$ofãr
->
	`g‘S–ËrId
() . "\n";

515 ià(
$ofãr
->
	`isS‘S–ËrSKU
()) {

516 
echo
 " SellerSKU\n";

517 
echo
 " " . 
$ofãr
->
	`g‘S–ËrSKU
() . "\n";

522 ià(
$g‘M©chšgProduùResuÉ
->
	`isS‘E¼Ü
()) {

523 
echo
 " Error\n";

524 
$”rÜ
 = 
$g‘M©chšgProduùResuÉ
->
	`g‘E¼Ü
();

525 ià(
$”rÜ
->
	`isS‘Ty³
()) {

526 
echo
 " Type\n";

527 
echo
 " " . 
$”rÜ
->
	`g‘Ty³
() . "\n";

529 ià(
$”rÜ
->
	`isS‘Code
()) {

530 
echo
 " Code\n";

531 
echo
 " " . 
$”rÜ
->
	`g‘Code
() . "\n";

533 ià(
$”rÜ
->
	`isS‘Mes§ge
()) {

534 
echo
 " Message\n";

535 
echo
 " " . 
$”rÜ
->
	`g‘Mes§ge
() . "\n";

539 ià(
$»¥Ú£
->
	`isS‘Re¥Ú£M‘ad©a
()) {

540 
echo
 " ResponseMetadata\n";

541 
$»¥Ú£M‘ad©a
 = 
$»¥Ú£
->
	`g‘Re¥Ú£M‘ad©a
();

542 ià(
$»¥Ú£M‘ad©a
->
	`isS‘Reque¡Id
()) {

543 
echo
 " RequestId\n";

544 
echo
 " " . 
$»¥Ú£M‘ad©a
->
	`g‘Reque¡Id
() . "\n";

547 
echo
 " Re¥Ú£H—d”M‘ad©a: " . 
$»¥Ú£
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n";

548 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

549 
echo
 "CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n";

550 
echo
 "Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n";

551 
echo
 "E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n";

552 
echo
 "E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n";

553 
echo
 "Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n";

554 
echo
 "XML: " . 
$ex
->
	`g‘XML
() . "\n";

555 
echo
 "Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n";

557 
	}
}

568 
funùiÚ
 
	$švokeG‘Com³t™ivePricšgFÜASIN
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
){

569 
Œy
 {

570 
$»¥Ú£
 = 
$£rviû
->
	`G‘Com³t™ivePricšgFÜASIN
(
$»que¡
);

575 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

576 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

577 
$dom
->
´e£rveWh™eS·û
 = 
Œue
;

578 
$dom
->
fÜm©Ouut
 = 
Œue
;

583 
$xml¡r
 = 
$dom
->
	`§veXML
();

584 
$xml
=
Ãw
 
	`Sim¶eXMLEËm’t
(
$xml¡r
);

596 
$asš
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
Id’tif›rs
->
M¬k‘¶aûASIN
->
ASIN
;

597 
$LªdedPriû
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
Com³t™ivePricšg
->
Com³t™ivePriûs
->
Com³t™ivePriû
->
Priû
->
LªdedPriû
->
AmouÁ
;

598 
$PriûLowe¡
 = 
$LªdedPriû
;

599 
	`fÜ—ch
 (
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
Com³t™ivePricšg
->
Com³t™ivePriûs
 
as
 
$ComPriû
) {

600 
$cÚd™iÚ
 = 
$ComPriû
->
Com³t™ivePriû
->
Priû
['condition'];

601 
$Li¡šgPriû
 = 
$ComPriû
->
Com³t™ivePriû
->
Priû
->
Li¡šgPriû
->
AmouÁ
;

603 ià(
	`¡ri¡r
(
$cÚd™iÚ
,'New')<>
FALSE
) {

604 ià(
$PriûLowe¡
 > 
$Li¡šgPriû
) $PriceLowest = $ListingPrice;

608 
$cÚd™iÚ
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
Com³t™ivePricšg
->
Com³t™ivePriûs
->
Com³t™ivePriû
['condition'];

609 
$Li¡šgPriû
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
Com³t™ivePricšg
->
Com³t™ivePriûs
->
Com³t™ivePriû
->
Priû
->
Li¡šgPriû
->
AmouÁ
;

610 
$cu¼’cy
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
Com³t™ivePricšg
->
Com³t™ivePriûs
->
Com³t™ivePriû
->
Priû
->
LªdedPriû
->
Cu¼’cyCode
;

611 
$ÿ‹gÜy1
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
S®esRªkšgs
->
S®esRªk
[0]->
ProduùC©egÜyId
;

612 
$¿nk1
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
S®esRªkšgs
->
S®esRªk
[0]->
Rªk
;

613 
$ÿ‹gÜy2
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
S®esRªkšgs
->
S®esRªk
[1]->
ProduùC©egÜyId
;

614 
$¿nk2
 = 
$xml
->
G‘Com³t™ivePricšgFÜASINResuÉ
->
Produù
->
S®esRªkšgs
->
S®esRªk
[1]->
Rªk
;

616 
echo
 "<hr> $asin <br> $condition <br>ListingPrice= $ListingPrice <br>LandedPrice= $LandedPrice <br>LowestPrice= $PriceLowest <br> $currency <br> $category1 <br> $rank1 <br> $category2 <br> $rank2";

618 } 
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

619 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

620 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

621 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

622 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

623 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

624 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

625 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

627 
	}
}

629 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
){

630 
Œy
 {

632 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

633 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

634 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

636 
$xml¡r
 = 
$dom
->
	`§veXML
();

637 
$xml
=
Ãw
 
	`Sim¶eXMLEËm’t
(
$xml¡r
);

638 
echo
 "<´e>"; 
	`´št_r
(
$xml
);ƒchØ"<´e>"; 
ex™
;

639 
$´oduù_d©a
 = 
	`¬¿y
();

640 
$csv_db_d©a
 = 
	`¬¿y
();

641 
$ÿ‹gÜy_d©a
 = 
	`¬¿y
();

642 
$´oduùs
 = 
$dom
->
	`g‘EËm’tsByTagName
("Product");

643 
	`fÜ—ch
 (
$´oduùs
 
as
 
$´oduù
) {

645 
$sku_šfo
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ASIN");

646 
$sku
 = 
$sku_šfo
[0]->
nodeV®ue
;

647 
$´oduù_d©a
['asš'] = 
$sku
;

650 
$ÿ‹gÜy
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ProductCategoryId");

651 
$¿nk
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Rank");

652 
$¿nk_¬¿y
 = 
	`¬¿y
();

653 
$ÿ‹gÜy_¬¿y
 = 
	`¬¿y
();

654 
$i
 = 0; $˜< 
$ÿ‹gÜy
->
Ëngth
; $i++){

655 
$¿nk_¬¿y
['¿nk'.
$i
] = 
$¿nk
[$i]->
nodeV®ue
;

656 
$ÿ‹gÜy_¬¿y
['ÿ‹gÜy'.
$i
] = 
$ÿ‹gÜy
[$i]->
nodeV®ue
;

659 
$ProduùA‰ribu‹S‘s
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("AttributeSets");

661 
	`fÜ—ch
 (
$ProduùA‰ribu‹S‘s
 
as
 
$key
 => 
$v®ue
) {

663 
$Li¡Priû
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("ListPrice");

669 
	`fÜ—ch
 (
$Li¡Priû
 
as
 
$k
 => 
$v®
) {

671 
echo
 "<´e>"; 
	`´št_r
(
$v®
);ƒcho "<pre>";

672 
$amouÁ
 = 
$v®
->
	`g‘EËm’tsByTagName
("Amount");

673 
$´oduù_d©a
['´iû'] = 
$amouÁ
[0]->
nodeV®ue
;

675 
$cu¼’cyCode
 = 
$v®
->
	`g‘EËm’tsByTagName
("CurrencyCode");

676 
$´oduù_d©a
['cu¼’cy'] = (
$cu¼’cyCode
[0]->
nodeV®ue
 == "USD") ? 1 : 0;

678 
$csv_¬¿y_d©as
 = 
$GLOBALS
['csv_array'];

679 
	`fÜ—ch
(
$csv_¬¿y_d©as
 
as
 
$csv_¬¿y_d©a
){

680 
$sku_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[4],
$´oduù_d©a
['asin']);

681 
$u¾_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[0],
$´oduù_d©a
['asin']);

682 if(
$sku_comp_d©a
 > -1 || 
$u¾_comp_d©a
 > -1 ){

683 
$´oduù_d©a
['t›r'] = 
$csv_¬¿y_d©a
[2];

684 
$´oduù_d©a
['owÃr'] = 
$csv_¬¿y_d©a
[3];

688 
$£Ëù_sql
 = "SELECT * FROM csv WHERE…roduù LIKE '%".
$´oduù_d©a
['asin']."%' ORDER BY id LIMIT 1";

689 
$mysqli
 = 
	`mws_mysqlCÚÃù
();

690 
$»suÉ
 = 
$mysqli
->
	`qu”y
(
$£Ëù_sql
);

691 
$rows
 = 
$»suÉ
->
	`ãtch_assoc
();

692 
$´oduù_d©a
['csv_id'] = 
$rows
['id'];

693 
$´oduù_d©a
['t›r'] = 
$rows
['tier'];

694 
$owÃr
 = 
$rows
['owner'];

695 
$£Ëù_owÃr_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_owÃ¸WHERE Namğ'".
$owÃr
."'");

696 
	`fÜ—ch
(
$£Ëù_owÃr_sql
 
as
 
$£Ëù_owÃr
){

697 
$´oduù_d©a
['owÃr'] = 
$£Ëù_owÃr
['ID'];

699 if(
$rows
['group_asš'] =ğ
$´oduù_d©a
['asin']){

700 
$´oduù_d©a
['type'] = 1;

702 
$´oduù_d©a
['type'] = 2;

705 
$mod–
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("Model");

706 
$sku
 = 
$mod–
[0]->
nodeV®ue
;

708 
$£Ëù_sku_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_sku WHERE Sku = '".
$sku
."'");

709 if(
$£Ëù_sku_sql
->
num_rows
 == 0){

710 
$š£¹_sku_sql
 = "INSERT INTO mws_sku (SkuèVALUES ('".
$sku
."')";

711 
$mysqli
->
	`qu”y
(
$š£¹_sku_sql
);

712 
$sku_id
 = 
$mysqli
->
š£¹_id
;

713 
$´oduù_d©a
['sku'] = 
$sku_id
;

715 
	`fÜ—ch
(
$£Ëù_sku_sql
 
as
 
$£Ëù_sku
){

716 
$´oduù_d©a
['sku'] = 
$£Ëù_sku
['ID'];

720 
$ÿ‹gÜy1
 = 
$ÿ‹gÜy_¬¿y
['category0'];

721 
$£Ëù_ÿ‹gÜy1_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_ÿ‹gÜy1 WHERE C©egÜy = '".
$ÿ‹gÜy1
."'");

722 if(
$£Ëù_ÿ‹gÜy1_sql
->
num_rows
 == 0){

723 
$š£¹_ÿ‹gÜy1_sql
 = "INSERT INTO mws_ÿ‹gÜy1 (C©egÜyèVALUES ('".
$ÿ‹gÜy1
."')";

724 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy1_sql
);

725 
$ÿ‹gÜy1_id
 = 
$mysqli
->
š£¹_id
;

726 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$ÿ‹gÜy1_id
;

728 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy1_sql
 
as
 
$£Ëù_ÿt1
){

729 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$£Ëù_ÿt1
['ID'];

733 
$´oduù_d©a
['¿nk1'] = 
$¿nk_¬¿y
['rank0'];

734 
$ÿ‹gÜy2
 = 
$ÿ‹gÜy_¬¿y
['category1'];

735 
$£Ëù_ÿ‹gÜy2_sql
 = 
$mysqli
->
	`qu”y
("SELECT * FROM mws_ÿ‹gÜy2 WHERE C©egÜy = '".
$ÿ‹gÜy2
."'");

736 if(
$£Ëù_ÿ‹gÜy2_sql
->
num_rows
 == 0){

737 
$š£¹_ÿ‹gÜy2_sql
 = "INSERT INTO mws_ÿ‹gÜy2 (C©egÜyèVALUES ('".
$ÿ‹gÜy2
."')";

738 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy2_sql
);

739 
$ÿ‹gÜy2_id
 = 
$mysqli
->
š£¹_id
;

740 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$ÿ‹gÜy2_id
;

742 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy2_sql
 
as
 
$£Ëù_ÿt2
){

743 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$£Ëù_ÿt2
['ID'];

746 
$´oduù_d©a
['¿nk2'] = 
$¿nk_¬¿y
['rank1'];

747 
$v®ues
 = 
	`im¶ode
("','", 
$´oduù_d©a
);

748 
$š£¹_sql
 = "INSERT INTO mws_".
$»giÚ
." (asš,´iû,cu¼’cy,t›r,owÃr,csv_id,ty³,sku,ÿ‹gÜy1,¿nk1,ÿ‹gÜy2,¿nk2èVALUES ('".
$v®ues
."')";

749 
$mysqli
->
	`qu”y
(
$š£¹_sql
);

754 
$_SESSION
['success'] = 'Data Fetched Successfully.';

755 }
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

756 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

757 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

758 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

759 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

760 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

761 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

762 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

764 
	}
}

	@MWSProducts/test_my_mws_functions.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
»quœe_Úû
('mws_config.php');

5 
ši_£t
('display_errors', 1);

6 
ši_£t
('display_startup_errors', 1);

7 
”rÜ_»pÜtšg
(
E_ALL
);

9 
	g$cÚfig
 = 
¬¿y
 (

10 'S”viûURL' => 
$£rviûU¾
,

11 'ProxyHo¡' => 
nuÎ
,

13 'ProxyU£ºame' => 
nuÎ
,

14 'ProxyPasswÜd' => 
nuÎ
,

17 
	g$£rviû
 = 
Ãw
 
M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

18 
AWS_ACCESS_KEY_ID
,

19 
AWS_SECRET_ACCESS_KEY
,

20 
APPLICATION_NAME
,

21 
APPLICATION_VERSION
,

22 
$cÚfig


26 
funùiÚ
 
	$g‘MwsReqObj
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
,
$»qTy³
,
$asš_¬¿y
){

27 
glob®
 
$cÚfig
,
$£rviû
;

28 
$asš_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$asš_¬¿y
);

29 
$asš_f‹r_¬¿y
 = 
	`¬¿y_unique
($asin_filter_array);

30 
$asš_chunk
 = 
	`¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

31 
$»s
 = 
	`¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

33 
	`Sw™ch
 (
$»qTy³
) {

35 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘Com³t™ivePricšgFÜASINReque¡
();

38 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

41 
$»que¡
->
	`£tS–ËrId
(
MERCHANT_ID
);

42 
$»que¡
->
	`£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

43  
$»que¡
;

44 
	}
}

	@MWSProducts/testcomp_fetch_data.php

1 <?
php


3 
	g»quœe_Úû
 'db.php';

4 
»quœe_Úû
('mws_config.php');

11 
	g$u¾_¬¿y
 = 
¬¿y
(array("region" => "us","url" => "https://mws.amazonservices.com/Products/2011-10-01","id" => "ATVPDKIKX0DER"),array("region" => "ca","url" => "https://mws.amazonservices.ca/Products/2011-10-01","id" => "A2EUQ1WTGCTBG2"),‡rray("region" => "uk","url" => "https://mws-eu.amazonservices.com/Products/2011-10-01","id" => "A1F83G8C2ARO7P"));

12 
	g$¬¿y_Ëngth
 = 
couÁ
(
$u¾_¬¿y
);

13 
	g$i
 = 0; $˜< 
	g$¬¿y_Ëngth
; $i++){

14 
	g$»giÚ
 = 
$u¾_¬¿y
[
$i
]['region'];

15 
	g$£rviûU¾
 = 
$u¾_¬¿y
[
$i
]['url'];

16 
	g$m¬k‘¶aû_id
 = 
$u¾_¬¿y
[
$i
]['id'];

17 
cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
);

19 
funùiÚ
 
	$cÚfig_£rviû_u¾
(
$»giÚ
,
$£rviûU¾
,
$m¬k‘¶aû_id
){

20 
$cÚfig
 = 
	`¬¿y
 (

21 'S”viûURL' => 
$£rviûU¾
,

22 'ProxyHo¡' => 
nuÎ
,

24 'ProxyU£ºame' => 
nuÎ
,

25 'ProxyPasswÜd' => 
nuÎ
,

28 
$£rviû
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Cl›Á
(

29 
AWS_ACCESS_KEY_ID
,

30 
AWS_SECRET_ACCESS_KEY
,

31 
APPLICATION_NAME
,

32 
APPLICATION_VERSION
,

33 
$cÚfig
);

35 
$csvFe
 = 
	`fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

36 
$d©a
 = [];

37 
$csv_d©a
 = [];

38 
$i
=0;

39 
	`fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

40 
$csv_check_d©a
 = 
	`¡r_g‘csv
(
$lše
);

41 if(
	`is£t
(
$_GET
['tier'])){

42 if(
$_GET
['t›r'] =ğ
$csv_check_d©a
[2] ){

43 
$d©a
[] = 
$csv_check_d©a
;

46 
$d©a
[] = 
$csv_check_d©a
;

48 
$i
 += 1;

52 
	`fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

53 
$csv_´oduù_asš
 = 
	`sub¡r
(
$csv_¬¿y_d©a
[0], 
	`¡¼pos
($csv_array_data[0], '/') + 1);

54 ià(
	`couÁ
(
$csv_¬¿y_d©a
)>3 
ªd
 
	`´eg_m©ch_®l
('/B0\w{8}/',$csv_¬¿y_d©a[4],
$m
)) {

56 
	`fÜ—ch
 (
$m
[0] 
as
 
$v
) {

58 
$aCompAsšs
[] = 
$v
;

62 
$csv_´oduù_Ën
 = 
	`¡¾’
(
$csv_´oduù_asš
);

63 if(
$csv_´oduù_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

64 
$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

65 
$csv_d©a
[] = 
$csv_´oduù_asš
;

67 
$csv_v®ues
 = 
	`im¶ode
("','", 
$csv_¬¿y_d©a
);

69 
$csv_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$csv_d©a
);

70 
$csv_f‹r_¬¿y
 = 
	`¬¿y_unique
($csv_filter_array);

71 
$csv_chunk
 = 
	`¬¿y_chunk
(
$csv_f‹r_¬¿y
,10);

72 
$GLOBALS
['csv_¬¿y'] = 
$d©a
;

73 
$asš_¬¿y
 = [];

74 
	`fÜ—ch
 (
$d©a
 
as
 
$’Œy
) {

75 ià(!
	`em±y
(
$’Œy
[4])){

76 
$csv_d©a
 = 
	`ex¶ode
(',', 
$’Œy
[4]);

77 ià(!
	`em±y
(
$csv_d©a
)){

78 
$asš_d©a
 = 
	`¬¿y_m­
('Œim', 
$csv_d©a
);

79 
	`fÜ—ch
(
$asš_d©a
 
as
 
$asš_fš®_d©a
){

80 
$asš_Ën
 = 
	`¡¾’
(
$asš_fš®_d©a
);

81 if(
$asš_Ën
 =ğ10 && !
	`´eg_m©ch
('/[^A-Za-z0-9]/', 
$asš_fš®_d©a
)){

82 
$asš_¬¿y
[] = 
$asš_fš®_d©a
;

90 
$asš_¬¿y
 = 
	`¬¿y_m”ge
(
$aCompAsšs
,$asin_array);

92 
$asš_f‹r_¬¿y
 = 
	`¬¿y_f‹r
(
$asš_¬¿y
);

93 
$asš_f‹r_¬¿y
 = 
	`¬¿y_unique
($asin_filter_array);

94 
$asš_chunk
 = 
	`¬¿y_chunk
(
$asš_f‹r_¬¿y
,10);

95 
$»s
 = 
	`¬¿y_m”ge
(
$csv_chunk
, 
$asš_chunk
);

96 
$»que¡
 = 
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_G‘M©chšgProduùReque¡
();

97 
$»que¡
->
	`£tS–ËrId
(
MERCHANT_ID
);

98 
$»que¡
->
	`£tM¬k‘¶aûId
(
$m¬k‘¶aû_id
);

99 
$asš_li¡
ğ
Ãw
 
	`M¬k‘¶aûWebS”viûProduùs_Mod–_ASINLi¡Ty³
();

100 
	`fÜ—ch
(
$»s
 
as
 
$asš
){

101 
$asš_li¡
->
	`£tASIN
(
$asš
);

102 
$»que¡
->
	`£tASINLi¡
(
$asš_li¡
);

103 
	`švokeG‘M©chšgProduù
(
$£rviû
, 
$»que¡
,
$»giÚ
);

105 
	}
}

107 
h—d”
('Location: index.php');

108 
ex™
();

110 
funùiÚ
 
	$švokeG‘M©chšgProduù
(
M¬k‘¶aûWebS”viûProduùs_IÁ”çû
 
$£rviû
, 
$»que¡
, 
$»giÚ
){

111 
Œy
 {

113 
$»¥Ú£
 = 
$£rviû
->
	`G‘M©chšgProduù
(
$»que¡
);

114 
$dom
 = 
Ãw
 
	`DOMDocum’t
();

115 
$dom
->
	`lßdXML
(
$»¥Ú£
->
	`toXML
());

118 
$´oduù_d©a
 = 
	`¬¿y
();

119 
$csv_db_d©a
 = 
	`¬¿y
();

120 
$ÿ‹gÜy_d©a
 = 
	`¬¿y
();

121 
$´oduùs
 = 
$dom
->
	`g‘EËm’tsByTagName
("Product");

122 
	`fÜ—ch
 (
$´oduùs
 
as
 
$´oduù
) {

124 
$sku_šfo
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ASIN");

125 
$sku
 = 
$sku_šfo
[0]->
nodeV®ue
;

126 
$´oduù_d©a
['asš'] = 
$sku
;

129 
$ÿ‹gÜy
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("ProductCategoryId");

130 
$¿nk
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("Rank");

131 
$¿nk_¬¿y
 = 
	`¬¿y
();

132 
$ÿ‹gÜy_¬¿y
 = 
	`¬¿y
();

133 
$i
 = 0; $˜< 
$ÿ‹gÜy
->
Ëngth
; $i++){

134 
$¿nk_¬¿y
['¿nk'.
$i
] = 
$¿nk
[$i]->
nodeV®ue
;

135 
$ÿ‹gÜy_¬¿y
['ÿ‹gÜy'.
$i
] = 
$ÿ‹gÜy
[$i]->
nodeV®ue
;

138 
$Priû
 = 
$´oduù
->
	`g‘EËm’tsByTagName
("AttributeSets");

139 
	`fÜ—ch
 (
$Priû
 
as
 
$key
 => 
$v®ue
) {

141 
$Li¡Priû
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("ListPrice");

143 
	`fÜ—ch
 (
$Li¡Priû
 
as
 
$k
 => 
$v®
) {

145 
$amouÁ
 = 
$v®
->
	`g‘EËm’tsByTagName
("Amount");

146 
$´oduù_d©a
['´iû'] = 
$amouÁ
[0]->
nodeV®ue
;

148 
$cu¼’cyCode
 = 
$v®
->
	`g‘EËm’tsByTagName
("CurrencyCode");

149 
$´oduù_d©a
['cu¼’cy'] = (
$cu¼’cyCode
[0]->
nodeV®ue
 == "USD") ? 1 : 0;

150 
$csv_¬¿y_d©as
 = 
$GLOBALS
['csv_array'];

151 
	`fÜ—ch
(
$csv_¬¿y_d©as
 
as
 
$csv_¬¿y_d©a
){

152 
$sku_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[4],
$´oduù_d©a
['asin']);

153 
$u¾_comp_d©a
 = 
	`¡½os
(
$csv_¬¿y_d©a
[0],
$´oduù_d©a
['asin']);

154 if(
$sku_comp_d©a
 > -1 || 
$u¾_comp_d©a
 > -1 ){

155 
$´oduù_d©a
['t›r'] = 
$csv_¬¿y_d©a
[2];

156 
$´oduù_d©a
['owÃr'] = 
$csv_¬¿y_d©a
[3];

160 
$£Ëù_sql
 = "SELECT * FROM csv WHERE…roduù LIKE '%".
$´oduù_d©a
['asin']."%' ORDER BY id LIMIT 1";

161 
$mysqli
 = 
	`mws_mysqlCÚÃù
();

162 
$»suÉ
 = 
$mysqli
->
	`qu”y
(
$£Ëù_sql
);

163 
$rows
 = 
$»suÉ
->
	`ãtch_assoc
();

164 
$´oduù_d©a
['csv_id'] = 
$rows
['id'];

165 
$´oduù_d©a
['t›r'] = 
$rows
['tier'];

166 
$owÃr
 = 
$rows
['owner'];

167 
$£Ëù_owÃr_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_owÃ¸WHERE Namğ'".
$owÃr
."'");

168 
	`fÜ—ch
(
$£Ëù_owÃr_sql
 
as
 
$£Ëù_owÃr
){

169 
$´oduù_d©a
['owÃr'] = 
$£Ëù_owÃr
['ID'];

171 if(
$rows
['group_asš'] =ğ
$´oduù_d©a
['asin']){

172 
$´oduù_d©a
['type'] = 1;

174 
$´oduù_d©a
['type'] = 2;

177 
$mod–
 = 
$v®ue
->
	`g‘EËm’tsByTagName
("Model");

178 
$sku
 = 
$mod–
[0]->
nodeV®ue
;

180 
$£Ëù_sku_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_sku WHERE Sku = '".
$sku
."'");

181 if(
$£Ëù_sku_sql
->
num_rows
 == 0){

182 
$š£¹_sku_sql
 = "INSERT INTO mws_sku (SkuèVALUES ('".
$sku
."')";

183 
$mysqli
->
	`qu”y
(
$š£¹_sku_sql
);

184 
$sku_id
 = 
$mysqli
->
š£¹_id
;

185 
$´oduù_d©a
['sku'] = 
$sku_id
;

187 
	`fÜ—ch
(
$£Ëù_sku_sql
 
as
 
$£Ëù_sku
){

188 
$´oduù_d©a
['sku'] = 
$£Ëù_sku
['ID'];

192 
$ÿ‹gÜy1
 = 
$ÿ‹gÜy_¬¿y
['category0'];

193 
$£Ëù_ÿ‹gÜy1_sql
 = 
$mysqli
->
	`qu”y
("SELECT ID FROM mws_ÿ‹gÜy1 WHERE C©egÜy = '".
$ÿ‹gÜy1
."'");

194 if(
$£Ëù_ÿ‹gÜy1_sql
->
num_rows
 == 0){

195 
$š£¹_ÿ‹gÜy1_sql
 = "INSERT INTO mws_ÿ‹gÜy1 (C©egÜyèVALUES ('".
$ÿ‹gÜy1
."')";

196 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy1_sql
);

197 
$ÿ‹gÜy1_id
 = 
$mysqli
->
š£¹_id
;

198 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$ÿ‹gÜy1_id
;

200 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy1_sql
 
as
 
$£Ëù_ÿt1
){

201 
$´oduù_d©a
['ÿ‹gÜy1'] = 
$£Ëù_ÿt1
['ID'];

205 
$´oduù_d©a
['¿nk1'] = 
$¿nk_¬¿y
['rank0'];

206 
$ÿ‹gÜy2
 = 
$ÿ‹gÜy_¬¿y
['category1'];

207 
$£Ëù_ÿ‹gÜy2_sql
 = 
$mysqli
->
	`qu”y
("SELECT * FROM mws_ÿ‹gÜy2 WHERE C©egÜy = '".
$ÿ‹gÜy2
."'");

208 if(
$£Ëù_ÿ‹gÜy2_sql
->
num_rows
 == 0){

209 
$š£¹_ÿ‹gÜy2_sql
 = "INSERT INTO mws_ÿ‹gÜy2 (C©egÜyèVALUES ('".
$ÿ‹gÜy2
."')";

210 
$mysqli
->
	`qu”y
(
$š£¹_ÿ‹gÜy2_sql
);

211 
$ÿ‹gÜy2_id
 = 
$mysqli
->
š£¹_id
;

212 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$ÿ‹gÜy2_id
;

214 
	`fÜ—ch
(
$£Ëù_ÿ‹gÜy2_sql
 
as
 
$£Ëù_ÿt2
){

215 
$´oduù_d©a
['ÿ‹gÜy2'] = 
$£Ëù_ÿt2
['ID'];

218 
$´oduù_d©a
['¿nk2'] = 
$¿nk_¬¿y
['rank1'];

219 
$v®ues
 = 
	`im¶ode
("','", 
$´oduù_d©a
);

220 
$š£¹_sql
 = "INSERT INTO mws_".
$»giÚ
." (asš,´iû,cu¼’cy,t›r,owÃr,csv_id,ty³,sku,ÿ‹gÜy1,¿nk1,ÿ‹gÜy2,¿nk2èVALUES ('".
$v®ues
."')";

221 
$mysqli
->
	`qu”y
(
$š£¹_sql
);

225 
$_SESSION
['success'] = 'Data Fetched Successfully.';

226 }
	`ÿtch
 (
M¬k‘¶aûWebS”viûProduùs_Exû±iÚ
 
$ex
) {

227 
	`echo
("CaughˆExû±iÚ: " . 
$ex
->
	`g‘Mes§ge
() . "\n");

228 
	`echo
("Re¥Ú£ Stu Code: " . 
$ex
->
	`g‘StusCode
() . "\n");

229 
	`echo
("E¼Ü Code: " . 
$ex
->
	`g‘E¼ÜCode
() . "\n");

230 
	`echo
("E¼Ü Ty³: " . 
$ex
->
	`g‘E¼ÜTy³
() . "\n");

231 
	`echo
("Reque¡ ID: " . 
$ex
->
	`g‘Reque¡Id
() . "\n");

232 
	`echo
("XML: " . 
$ex
->
	`g‘XML
() . "\n");

233 
	`echo
("Re¥Ú£H—d”M‘ad©a: " . 
$ex
->
	`g‘Re¥Ú£H—d”M‘ad©a
() . "\n");

235 
	}
}

	@alert_ajax_call.php

1 <?
php


3 
	g»quœe_Úû
 '../db.php';

5 
	g$mysqli
 = 
Ãw
 
mysqli
(
$dbHo¡
, 
$dbU£r
, 
$dbPwd
, 
$dbName
);

7 ià(!
	g$mysqli
) {

8 
d›
("CÚÃùiÚ faed: " . 
mysqli_cÚÃù_”rÜ
());

10 ià(
	$mysqli_cÚÃù_”ºo
()) {

11 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

12 
	`ex™
();

13 
	}
}

14 ià(
is£t
(
$_GET
['asin'])) {

15 
	g$asš
 = 
$_GET
['asin'];

16 
	g$£Ëù_d©e_qu”y
 = 
$mysqli
->
qu”y
("SELECT‡sš,´iû,¿nk1,¿nk2,upd©ed FROM mws_u WHERE‡sš = '".
$asš
."' AND DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i') = (SELECT MAX(DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i'))‡s‚ew FROM mws_us WHERE updated >= NOW() - INTERVAL 12 HOUR) UNION SELECT‡sin,price,rank1,rank2,updated FROM mws_us WHERE‡sin = '".$asin."' AND DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i') = (SELECT MIN(DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i'))‡s‚ew FROM mws_us WHERE updated >= NOW() - INTERVAL 12 HOUR)");

17 
fÜ—ch
 (
$£Ëù_d©e_qu”y
 
as
 
$d©a_qu”y
) {

18 
	g$d©a_¬¿y
[
$d©a_qu”y
['asš']][] = 
¬¿y
('asin' => $data_query['asin'],'rank1' => $data_query['rank1'],'rank2' => $data_query['rank2'],'price' => $data_query['price']);

20 
	g$msg
 = 
¬¿y
();

21 
	g$d©a_asš
 = 
$d©a_¬¿y
[
$asš
][0]['asin'];

22 
	g$fœ¡_¿nk1
 = 
$d©a_¬¿y
[
$asš
][0]['rank1'];

23 
	g$fœ¡_¿nk2
 = 
$d©a_¬¿y
[
$asš
][1]['rank1'];

24 
	g$fœ¡_¿nk_³rûÁage
 = (20 / 100è* 
$fœ¡_¿nk2
;

25 
	g$Ãw_fœ¡_¿nk1
 = 
$fœ¡_¿nk_³rûÁage
 + 
$fœ¡_¿nk2
;

26 
	g$Ãw_fœ¡_¿nk2
 = 
$fœ¡_¿nk2
 - 
$fœ¡_¿nk_³rûÁage
;

27 if(
	g$Ãw_fœ¡_¿nk2
 >ğ
$fœ¡_¿nk1
 || 
$Ãw_fœ¡_¿nk1
 <= $first_rank1) {

28 
$mÜe_Ëss
 = 
$Ãw_fœ¡_¿nk1
 <ğ
$fœ¡_¿nk1
 ? "increased" : "decreased";

29 
	g$msg
[] = "Th¿nk1 oà".
$asš
 ." ". 
$mÜe_Ëss
." by 20%";

32 
	g$£cÚd_¿nk1
 = 
$d©a_¬¿y
[
$asš
][0]['rank2'];

33 
	g$£cÚd_¿nk2
 = 
$d©a_¬¿y
[
$asš
][1]['rank2'];

34 
	g$£cÚd_¿nk_³rûÁage
 = (20 / 100è* 
$£cÚd_¿nk2
;

35 
	g$Ãw_£cÚd_¿nk1
 = 
$£cÚd_¿nk_³rûÁage
 + 
$£cÚd_¿nk2
;

36 
	g$Ãw_£cÚd_¿nk2
 = 
$£cÚd_¿nk2
 - 
$£cÚd_¿nk_³rûÁage
 ;

37 if(
	g$Ãw_£cÚd_¿nk2
 >ğ
$£cÚd_¿nk1
 || 
$Ãw_£cÚd_¿nk1
 <= $second_rank1) {

38 
$¿nk2_mÜe_Ëss
 = 
$Ãw_£cÚd_¿nk1
 <ğ
$£cÚd_¿nk1
 ? "increased" : "decreased";

39 
	g$msg
[] = "Th¿nk2 oà".
$asš
 ." ". 
$¿nk2_mÜe_Ëss
." by 20%";

42 
	g$´iû1
 = 
$d©a_¬¿y
[
$asš
][0]['price'];

43 
	g$´iû2
 = 
$d©a_¬¿y
[
$asš
][1]['price'];

44 
	g$£cÚd_´iû_³rûÁage
 = (20 / 100è* 
$´iû2
;

45 
	g$Ãw_´iû1
 = 
$£cÚd_´iû_³rûÁage
 + 
$´iû2
;

46 
	g$Ãw_´iû2
 = 
$´iû2
 - 
$£cÚd_´iû_³rûÁage
;

47 if(
	g$Ãw_´iû2
 >ğ
$´iû1
 || 
$Ãw_´iû1
 <= $price1) {

48 
$´iû_mÜe_Ëss
 = 
$Ãw_´iû1
 <ğ
$´iû1
 ? "increased" : "decreased";

49 
	g$msg
[] = "Th´iû oà".
$asš
 ." ". 
$´iû_mÜe_Ëss
." by 20%";

51 if(
em±y
(
$msg
)){

52 
echo
 
jsÚ_’code
(
¬¿y
('¡©us' => 
çl£
));

53 
ex™
();

55 
echo
 
jsÚ_’code
(
$msg
);

	@alert_crawl_ajax_call.php

1 <?
php


2 ià(
is£t
(
$_GET
['asin'])) {

4 
	g»quœe_Úû
 '../db.php';

6 
	g$mysqli
 = 
Ãw
 
mysqli
(
$dbHo¡
, 
$dbU£r
, 
$dbPwd
, 
$dbName
);

8 ià(!
	g$mysqli
) {

9 
d›
("CÚÃùiÚ faed: " . 
mysqli_cÚÃù_”rÜ
());

11 ià(
mysqli_cÚÃù_”ºo
()) {

12 
´štf
("CÚÃù faed: %s\n", 
mysqli_cÚÃù_”rÜ
());

13 
ex™
();

16 şas 
	cC¿wËr
 
ex‹nds
 
	gS¶ObjeùStÜage


18 
´iv©e
 
	g$domx·th
;

19 
´iv©e
 
	g$»gexResuÉs
;

20 
´iv©e
 
	g$ch¬£t
;

22 
public
 
funùiÚ
 
__cÚ¡ruù
(
$node
 = 
nuÎ
, 
$ch¬£t
 = "UTF-8", 
$»gexResuÉs
 = 
¬¿y
(), 
$domx·th
 =‚ull)

24 
$this
->
»gexResuÉs
 = 
$»gexResuÉs
;

25 
	g$this
->
	gdomx·th
 = 
$domx·th
;

26 
	g$this
->
	gch¬£t
 = 
$ch¬£t
;

27 
	g$this
->
add
(
$node
);

30 
public
 
funùiÚ
 
__de¡ruù
()

32 
	g$this
->
ş—r
();

33 
	g$this
->
	g»gexResuÉs
 = 
nuÎ
;

34 
	g$this
->
	gdomx·th
 = 
nuÎ
;

35 
	g$this
->
	gch¬£t
 = 
nuÎ
;

38 
public
 
funùiÚ
 
__toSŒšg
()

40  
	g$this
->
‹xt
();

46 
public
 
funùiÚ
 
ş—r
()

48 
	g$this
->
»moveAÎ
(
$this
);

60 
public
 
funùiÚ
 
add
(
$node
)

62 ià(
$node
 
š¡ªûof
 
	gDOMNodeLi¡
) {

63 
	g$this
->
addNodeLi¡
(
$node
);

64 } 
–£if
 (
is_¬¿y
(
$node
)) {

65 
	g$this
->
addNodes
(
$node
);

66 } 
–£if
 (
is_¡ršg
(
$node
)) {

67 
	g$this
->
addCÚ‹Á
(
$node
);

68 } 
–£if
 (
is_objeù
(
$node
)) {

69 
	g$this
->
addNode
(
$node
);

81 
public
 
funùiÚ
 
addCÚ‹Á
(
$cÚ‹Á
, 
$ty³
 = 
nuÎ
)

83 ià(
em±y
(
$ty³
)) {

84 
$ty³
 = 'text/html';

88 ià(!
´eg_m©ch
('/(x|ht)ml/i', 
$ty³
, 
$m©ches
)) {

89  
	gnuÎ
;

92 ià('x' ==ğ
$m©ches
[1]) {

93 
$this
->
addXmlCÚ‹Á
(
$cÚ‹Á
, $this->
ch¬£t
);

95 
	g$this
->
addHtmlCÚ‹Á
(
$cÚ‹Á
, 
$this
->
ch¬£t
);

113 
public
 
funùiÚ
 
addHtmlCÚ‹Á
(
$cÚ‹Á
, 
$ch¬£t
 = "UTF-8")

115 
$cu¼’t
 = 
libxml_u£_š‹º®_”rÜs
(
Œue
);

116 
	g$di§bËEÁ™›s
 = 
libxml_di§bË_’t™y_lßd”
(
Œue
);

118 
	g$dom
 = 
Ãw
 
DOMDocum’t
('1.0', 
$ch¬£t
);

119 
	g$dom
->
	gv®id©eOnP¬£
 = 
Œue
;

121 ià(
funùiÚ_exi¡s
('mb_cÚv”t_’codšg'è&& 
š_¬¿y
(
¡¹Şow”
(
$ch¬£t
), 
¬¿y_m­
('¡¹Şow”', 
mb_li¡_’codšgs
()))) {

122 
	g$cÚ‹Á
 = 
mb_cÚv”t_’codšg
(
$cÚ‹Á
, 'HTML-ENTITIES', 
$ch¬£t
);

125 @
	g$dom
->
lßdHTML
(
$cÚ‹Á
);

127 
libxml_u£_š‹º®_”rÜs
(
$cu¼’t
);

128 
libxml_di§bË_’t™y_lßd”
(
$di§bËEÁ™›s
);

130 
	g$this
->
addDocum’t
(
$dom
);

147 
public
 
funùiÚ
 
addXmlCÚ‹Á
(
$cÚ‹Á
, 
$ch¬£t
 = "UTF-8")

149 
$cu¼’t
 = 
libxml_u£_š‹º®_”rÜs
(
Œue
);

150 
	g$di§bËEÁ™›s
 = 
libxml_di§bË_’t™y_lßd”
(
Œue
);

152 
	g$dom
 = 
Ãw
 
DOMDocum’t
('1.0', 
$ch¬£t
);

153 
	g$dom
->
	gv®id©eOnP¬£
 = 
Œue
;

156 @
	g$dom
->
lßdXML
(
¡r_»¶aû
('xmÊs', 'ns', 
$cÚ‹Á
), 
LIBXML_NONET
);

158 
libxml_u£_š‹º®_”rÜs
(
$cu¼’t
);

159 
libxml_di§bË_’t™y_lßd”
(
$di§bËEÁ™›s
);

161 
	g$this
->
addDocum’t
(
$dom
);

170 
public
 
funùiÚ
 
addDocum’t
(
DOMDocum’t
 
$dom
)

172 ià(
	g$dom
->
	gdocum’tEËm’t
) {

173 
	g$this
->
addNode
(
$dom
->
docum’tEËm’t
);

183 
public
 
funùiÚ
 
addNodeLi¡
(
DOMNodeLi¡
 
$nodes
)

185 
fÜ—ch
(
$nodes
 
as
 
$node
) {

186 
	g$this
->
addNode
(
$node
);

197 
public
 
funùiÚ
 
addNodes
(
¬¿y
 
$nodes
)

199 
fÜ—ch
(
$nodes
 
as
 
$node
) {

200 
	g$this
->
add
(
$node
);

211 
public
 
funùiÚ
 
addNode
(
DOMNode
 
$node
)

213 ià(
$node
 
š¡ªûof
 
	gDOMDocum’t
) {

214 
	g$this
->
©ch
(
$node
->
docum’tEËm’t
);

216 
	g$this
->
©ch
(
$node
);

228 
public
 
funùiÚ
 
eq
(
$pos™iÚ
)

230 if(!
em±y
(
$this
->
»gexResuÉs
))

232 
fÜ—ch
 (
$this
->
»gexResuÉs
 
as
 
$i
 => 
$‹xt
) {

233 ià(
$i
 =ğ
$pos™iÚ
) {

234  
Ãw
 (
nuÎ
,‚uÎ, 
¬¿y
(1 => 
$this
->
»gexResuÉs
[
$i
]));

238  
Ãw
 (
	gnuÎ
,‚ull);

242 
fÜ—ch
 (
$this
 
as
 
$i
 => 
$node
) {

243 ià(
$i
 =ğ
$pos™iÚ
) {

244  
Ãw
 (
$node
, 
$this
->
ch¬£t
, 
nuÎ
, $this->
domx·th
);

248  
Ãw
 (
	gnuÎ
);

269 
public
 
funùiÚ
 
—ch
(
Closu»
 
$şosu»
)

271 
	g$d©a
 = 
¬¿y
();

272 
fÜ—ch
 (
$this
 
as
 
$node
) {

273 
	g$d©a
[] = 
$şosu»
(
Ãw
 (
$node
, 
$this
->
ch¬£t
, 
nuÎ
, $this->
domx·th
));

276  
	g$d©a
;

285 
public
 
funùiÚ
 
fœ¡
()

287  
	g$this
->
eq
(0);

296 
public
 
funùiÚ
 
Ï¡
()

298 if(!
em±y
(
$this
->
»gexResuÉs
)è 
	g$this
->
eq
(
couÁ
($this->regexResults) - 1);

299  
	g$this
->
eq
(
couÁ
(
$this
) - 1);

310 
public
 
funùiÚ
 
©Œ
(
$©Œibu‹
)

312 ià(!
couÁ
(
$this
è|| 
em±y
($this->
g‘Node
(0)->
©Œibu‹s
))  "";

314  
	g$this
->
g‘Node
(0)->
g‘A‰ribu‹
(
$©Œibu‹
);

332 
public
 
funùiÚ
 
exŒaù
(
$©Œibu‹s
)

334 
	g$©Œibu‹s
 = (
¬¿y
è
$©Œibu‹s
;

336 
	g$d©a
 = 
¬¿y
();

337 
	g$–em’ts
 = 
¬¿y
();

338 
fÜ—ch
 (
$this
 
as
 
$node
) {

339 
	g$nodeName
 = 
$node
->
nodeName
;

341 
fÜ—ch
 (
$©Œibu‹s
 
as
 
$©Œibu‹
) {

342 
	g$gName
 = 
$this
->
»gex
("/(.*?)\:/", 
$©Œibu‹
)->
‹xt
();

343 
	g$©Œibu‹Name
 = 
$this
->
»gex
("/\:\:(.*)/", 
$©Œibu‹
)->
‹xt
();

345 if(
	g$gName
 ==ğ
$nodeName
) {

346 if("‹xt" ==ğ
$©Œibu‹Name
)

348 
$‹xt
 = 
C¿wËr
::
¡r
(
$node
->
nodeV®ue
);

350 
	g$‹xt
 = 
$node
->
g‘A‰ribu‹
(
$©Œibu‹Name
);

353 
	g$–em’ts
[
$©Œibu‹Name
] = 
$‹xt
;

357 if(
couÁ
(
$–em’ts
è=ğcouÁ(
$©Œibu‹s
)) {

358 
$d©a
[] = 
$–em’ts
;

359 
un£t
(
$–em’ts
);

363  
	g$d©a
;

372 
public
 
funùiÚ
 
‹xt
()

374 if(!
em±y
(
$this
->
»gexResuÉs
))

376  
	gC¿wËr
::
¡r
(
$this
->
»gexResuÉs
[1]);

380 ià(!
couÁ
(
$this
))  "";

381  
	gC¿wËr
::
¡r
(
$this
->
g‘Node
(0)->
nodeV®ue
);

385 
funùiÚ
 
‹xtAÎ
(
$glue
 = ". ")

387 
$‹xtAÎ
 = "";

388 
fÜ—ch
 (
$this
 
as
 
$node
) {

389 
	g$‹xtAÎ
 .ğ
C¿wËr
::
¡r
(
$node
->
nodeV®ue
è. 
$glue
;

392  
Œim
(
´eg_»¶aû
("/$glue$/", "", 
$‹xtAÎ
));

395 
public
 
funùiÚ
 
html
()

397 ià(!
couÁ
(
$this
))  "";

398 
	g$dom
 = 
Ãw
 
DOMDocum’t
('1.0', 'UTF-8');

399 
	g$dom
->
­³ndChd
(
$dom
->
impÜtNode
(
$this
->
g‘Node
(0), 
Œue
));

400  
	g$dom
->
§veHTML
();

409 
public
 
funùiÚ
 
numb”
()

411 if(!
em±y
(
$this
->
»gexResuÉs
)è 
	gC¿wËr
::
toNumb”
($this->regexResults[1]);

412  
	gC¿wËr
::
toNumb”
(
$this
->
‹xt
());

415 
public
 
funùiÚ
 
´iû
()

417 
	g$‹xt
 = 
$this
->
‹xt
();

418  
´eg_»¶aû
("/[^\d\.]/", "", 
$‹xt
);

421 
public
 
funùiÚ
 
»gex
(
$»g
, 
$‹xt
 = "")

423 if(!
em±y
(
$‹xt
))

425 if(
´eg_m©ch
(
$»g
, 
$‹xt
, 
$m©ch
)è 
Ãw
 (
nuÎ
,‚ull, $match);

429 if(
´eg_m©ch
(
$»g
, 
$this
->
‹xt
(), 
$m©ch
)) {

430  
Ãw
 (
	gnuÎ
,‚uÎ, 
	g$m©ch
);

434  
Ãw
 ();

445 
public
 
funùiÚ
 
fšd
(
$x·th
)

447 ià(!
couÁ
(
$this
)è 
Ãw
 (
	gnuÎ
);

449 if(
em±y
(
$this
->
domx·th
)) {

450 
	g$this
->
	gdomx·th
 = 
Ãw
 
DOMXP©h
(
$this
->
g‘Node
(0)->
owÃrDocum’t
);

453 
	g$x·th
 = ".//" . 
¡r_»¶aû
("| ", "| .//", 
$x·th
);

454  
Ãw
 (
	g$this
->
	gdomx·th
->
qu”y
(
$x·th
, 
$this
->
g‘Node
(0)),

455 
	g$this
->
	gch¬£t
,

456 
	gnuÎ
,

457 
	g$this
->
	gdomx·th
);

482 
public
 
funùiÚ
 
x·thL™”®
(
$s
)

484 ià(
	gçl£
 ==ğ
¡½os
(
$s
, "'")) {

485  
¥rštf
("'%s'", 
$s
);

488 ià(
	gçl£
 ==ğ
¡½os
(
$s
, '"')) {

489  
¥rštf
('"%s"', 
$s
);

492 
	g$¡ršg
 = 
$s
;

493 
	g$·¹s
 = 
¬¿y
();

494 
	gŒue
) {

495 ià(
	gçl£
 !=ğ
$pos
 = 
¡½os
(
$¡ršg
, "'")) {

496 
	g$·¹s
[] = 
¥rštf
("'%s'", 
sub¡r
(
$¡ršg
, 0, 
$pos
));

497 
	g$·¹s
[] = "\"'\"";

498 
	g$¡ršg
 = 
sub¡r
(
$¡ršg
, 
$pos
 + 1);

500 
	g$·¹s
[] = "'$string'";

505  
¥rštf
("cÚÿt(%s)", 
im¶ode
(
$·¹s
, ', '));

508 
public
 
funùiÚ
 
ş—nHtml
(
$html
)

510 
	g$tidy_cÚfig
 = 
¬¿y
(

511 "ş—n" => 
Œue
,

512 "ouut-xhtml" => 
Œue
,

516 
	g$tidy
 = 
tidy_·r£_¡ršg
(
$html
, 
$tidy_cÚfig
);

517 
	g$tidy
->
ş—nR•aœ
();

518  
	g$tidy
->
	gv®ue
;

528 
public
 
funùiÚ
 
toNumb”
(
$¡r
)

530 
	g$v®ue
 = "";

531 
	g$¡r
 = 
´eg_»¶aû
("/(,\d{2})$|(\.\d{2})$|\s|\+\/-/", "", 
$¡r
);

532 
	g$¡r
 = 
´eg_»¶aû
("/,(\d{3})|\.(\d{3})/", "$1$2", 
$¡r
);

533 if(
´eg_m©ch
("/(-?\d+)/", 
$¡r
, 
$m©ch
)è
	g$v®ue
 = 
štv®
($match[1]);

535  
	g$v®ue
;

538 
public
 
funùiÚ
 
¡r
(
$¡r
)

540 
	g$¡r
 = 
¡r_»¶aû
(
chr
(194è. chr(160), " ", 
$¡r
);

541 
	g$¡r
 = 
´eg_»¶aû
("/\s+|\n/", " ", 
$¡r
);

542  
Œim
(
$¡r
);

545 
public
 
funùiÚ
 
‹¡
(
$obj
)

547 
	gecho
 "<pre>";

548 
´št_r
(
$obj
);

549 
	gecho
 "</pre>";

550 
	gex™
;

553 
public
 
funùiÚ
 
g’”©eId
(
$‹xt
)

555 
	g$¡r
 = 
üc32
(
$‹xt
);

556 
	g$id
 = 
¥rštf
("%u", 
$¡r
);

557  
	g$id
;

560 
´iv©e
 
funùiÚ
 
g‘Node
(
$pos™iÚ
)

562 
fÜ—ch
 (
$this
 
as
 
$i
 => 
$node
) {

563 ià(
$i
 =ğ
$pos™iÚ
) {

564  
$node
;

568  
	gnuÎ
;

571 şas 
	cCl›Á


573 
´iv©e
 
	g$´oxyLi¡
;

574 
´iv©e
 
	g$´oxyU£rPwd
;

575 
´iv©e
 
	g$»que¡HªdËr
 = 
nuÎ
;

576 
´iv©e
 
	g$mšD–ay
 = 0;

577 
´iv©e
 
	g$maxD–ay
 = 0;

578 
´iv©e
 
	g$cu¾Timeout
 = 80;

579 
´iv©e
 
	g$cook›EÇbËd
 = 
çl£
;

580 
´iv©e
 
	g$h—d”s
 = 
¬¿y
(

589 
public
 
funùiÚ
 
__cÚ¡ruù
(
$´oxyLi¡
 = 
¬¿y
(), 
$´oxyU£rPwd
 = "")

591 
$this
->
´oxyLi¡
 = 
$´oxyLi¡
;

592 
	g$this
->
	g´oxyU£rPwd
 = 
$´oxyU£rPwd
;

593 
	g$this
->
	g»que¡HªdËr
 = 
cu¾_š™
();

596 
public
 
funùiÚ
 
__de¡ruù
()

599 
cu¾_şo£
(
$this
->
»que¡HªdËr
);

600 
	g$this
->
	g»que¡HªdËr
 = 
nuÎ
;

603 
public
 
funùiÚ
 
d–ay
(
$mš
, 
$max
)

605 
	g$this
->
	gmšD–ay
 = 
$mš
;

606 
	g$this
->
	gmaxD–ay
 = 
$max
;

609 
public
 
funùiÚ
 
’abËCook›s
()

611 
	g$this
->
	gcook›EÇbËd
 = 
Œue
;

614 
public
 
funùiÚ
 
£tProxyInfo
(
$´oxyLi¡
, 
$´oxyU£rPwd
) {

615 
	g$this
->
	g´oxyLi¡
 = 
$´oxyLi¡
;

616 
	g$this
->
	g´oxyU£rPwd
 = 
$´oxyU£rPwd
;

619 
public
 
funùiÚ
 
£tCu¾Timeout
(
$timeout
)

621 
	g$this
->
	gcu¾Timeout
 = 
$timeout
;

624 
public
 
funùiÚ
 
£tXMLHTTPReque¡
(
$v®ue
)

626 if(
	g$v®ue
è
	g$this
->
	gh—d”s
[] = "X-Requested-With: XMLHttpRequest";

629 
public
 
funùiÚ
 
£tH—d”s
(
$h—d”s
)

631 
	g$this
->
	gh—d”s
 = 
$h—d”s
;

634 
public
 
funùiÚ
 
g‘
(
$u¾
, 
$İtiÚs
 = 
nuÎ
)

636 
¦“p
(
¿nd
(
$this
->
mšD–ay
, $this->
maxD–ay
));

638 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_URL
, 
¡r_»¶aû
(" ", "%20", 
$u¾
));

639 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

640 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FOLLOWLOCATION
, 
Œue
);

641 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_MAXREDIRS
, 5);

642 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FRESH_CONNECT
, 
Œue
);

643 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_AUTOREFERER
, 
Œue
);

644 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

645 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYHOST
, 
çl£
);

646 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_TIMEOUT
, $this->
cu¾Timeout
);

647 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_ENCODING
, 'gzip,deflate');

648 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_HTTPHEADER
, $this->
h—d”s
);

649 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_REFERER
, 'http://www.google.com');

651 if(
	g$this
->
	gcook›EÇbËd
)

653 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEFILE
, "cookie.txt");

654 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEJAR
, "cookie.txt");

657 if(!
em±y
(
$İtiÚs
)è
cu¾_£tİt_¬¿y
(
$this
->
»que¡HªdËr
, $options);

659 if(!
em±y
(
$this
->
´oxyLi¡
))

661 
	g$´oxy
 = 
$this
->
´oxyLi¡
[
¬¿y_¿nd
($this->proxyList)];

662 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_PROXY
, 
$´oxy
);

663 if(!
em±y
(
$this
->
´oxyU£rPwd
)è
cu¾_£tİt
($this->
»que¡HªdËr
, 
CURLOPT_PROXYUSERPWD
, $this->proxyUserPwd);

666 
	g$»¥Ú£
 = 
cu¾_exec
(
$this
->
»que¡HªdËr
);

668  
	g$»¥Ú£
;

671 
public
 
funùiÚ
 
po¡
(
$u¾
, 
$po¡D©a
 = 
nuÎ
, 
$İtiÚs
 =‚ull)

673 
¦“p
(
¿nd
(
$this
->
mšD–ay
, $this->
maxD–ay
));

675 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_URL
, 
¡r_»¶aû
(" ", "%20", 
$u¾
));

676 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

677 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FOLLOWLOCATION
, 
Œue
);

678 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_MAXREDIRS
, 5);

679 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FRESH_CONNECT
, 
Œue
);

680 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_AUTOREFERER
, 
Œue
);

681 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

682 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYHOST
, 
çl£
);

683 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_TIMEOUT
, 40);

684 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_ENCODING
, 'gzip,deflate');

685 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_HTTPHEADER
, $this->
h—d”s
);

686 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_REFERER
, 'http://www.google.com');

687 if(
	g$this
->
	gcook›EÇbËd
)

689 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEFILE
, "cookie.txt");

690 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEJAR
, "cookie.txt");

693 if(!
em±y
(
$po¡D©a
))

695 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POST
, 
Œue
);

696 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POSTFIELDS
, 
$po¡D©a
);

699 if(!
em±y
(
$İtiÚs
)è
cu¾_£tİt_¬¿y
(
$this
->
»que¡HªdËr
, $options);

701 if(!
em±y
(
$this
->
´oxyLi¡
))

703 
	g$´oxy
 = 
$this
->
´oxyLi¡
[
¬¿y_¿nd
($this->proxyList)];

704 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_PROXY
, 
$´oxy
);

705 if(!
em±y
(
$this
->
´oxyU£rPwd
)è
cu¾_£tİt
($this->
»que¡HªdËr
, 
CURLOPT_PROXYUSERPWD
, $this->proxyUserPwd);

708  
cu¾_exec
(
$this
->
»que¡HªdËr
);

711 
public
 
funùiÚ
 
po¡JSON
(
$u¾
, 
$po¡D©a
 = 
nuÎ
)

713 
¦“p
(
¿nd
(
$this
->
mšD–ay
, $this->
maxD–ay
));

715 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_URL
, 
¡r_»¶aû
(" ", "%20", 
$u¾
));

716 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

717 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FOLLOWLOCATION
, 
Œue
);

718 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_MAXREDIRS
, 5);

719 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FRESH_CONNECT
, 
Œue
);

720 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_AUTOREFERER
, 
Œue
);

721 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

722 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYHOST
, 
çl£
);

723 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_TIMEOUT
, 40);

724 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_ENCODING
, 'gzip,deflate');

725 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_HTTPHEADER
, 
¬¿y
(

727 'CÚ‹Á-L’gth: ' . 
¡¾’
(
$po¡D©a
))

729 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_REFERER
, 'http://www.google.com');

730 if(
	g$this
->
	gcook›EÇbËd
)

732 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEFILE
, "cookie.txt");

733 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEJAR
, "cookie.txt");

736 if(!
em±y
(
$po¡D©a
))

738 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POST
, 
Œue
);

739 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POSTFIELDS
, 
$po¡D©a
);

742 if(!
em±y
(
$İtiÚs
)è
cu¾_£tİt_¬¿y
(
$this
->
»que¡HªdËr
, $options);

744 if(!
em±y
(
$this
->
´oxyLi¡
))

746 
	g$´oxy
 = 
$this
->
´oxyLi¡
[
¬¿y_¿nd
($this->proxyList)];

747 
cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_PROXY
, 
$´oxy
);

748 if(!
em±y
(
$this
->
´oxyU£rPwd
)è
cu¾_£tİt
($this->
»que¡HªdËr
, 
CURLOPT_PROXYUSERPWD
, $this->proxyUserPwd);

751  
cu¾_exec
(
$this
->
»que¡HªdËr
);

754 
public
 
funùiÚ
 
g‘RedœeùU¾
()

756  
cu¾_g‘šfo
(
$this
->
»que¡HªdËr
, 
CURLINFO_EFFECTIVE_URL
);

759 
public
 
funùiÚ
 
g‘H‰pCode
()

761  
cu¾_g‘šfo
(
$this
->
»que¡HªdËr
, 
CURLINFO_HTTP_CODE
);

764 
	g$ş›Á
 = 
Ãw
 
Cl›Á
();

765 
	g$´oxyLi¡
 = 
¬¿y
();

766 
	g$´oxyU£rPwd
 = "";

768 
	g$´oxyLšes
 = 
ex¶ode
("\n", 
$ş›Á
->
g‘
("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=308001853&single=true&output=tsv"));

769 
	$fÜ—ch
(
$´oxyLšes
 
as
 
$lše
) {

770 if(
	`´eg_m©ch
("/([\d\.]+)\t(\d+)\t(.*)\t(.*)/", 
$lše
, 
$m©ch
)) {

771 
$´oxyLi¡
[] = 
$m©ch
[1] . ":" . $match[2];

772 
$´oxyU£rPwd
 = 
	`Œim
(
$m©ch
[3] . ":" . $match[4]);

774 
	}
}

776 if(!
	$em±y
(
$´oxyLi¡
)) {

777 
$ş›Á
->
	`£tProxyInfo
(
$´oxyLi¡
, 
$´oxyU£rPwd
);

778 
	}
}

780 
	g$asš
 = 
$_GET
['asin'];

781 
	g$¡¬tU¾
 = "h‰ps://www.amazÚ.com/gp/ofãr-li¡šg/".
$asš
."/ref=dp_olp_all_mbc?ie=UTF8&condition=new";

782 
	g$·geIndex
 = 1;

783 
	g$html
 = 
$ş›Á
->
g‘
(
$¡¬tU¾
 . 
$·geIndex
);

784 
	g$·geCouÁ”
 += 1;

785 
	g$üawËr
 = 
Ãw
 
C¿wËr
(
$html
);

786 
	g$£Î”_d©a
 = 
$üawËr
->
fšd
("div[cÚšs(@şass, 'a-row‡-¥acšg-mš˜ŞpOfãr')]")->
—ch
(
	$funùiÚ
(
$node
è
	$u£
(
$·geCouÁ”
) {

787 
$d©a
 = 
	`¬¿y
();

788 
$d©a
['cÚd™iÚ'] = 
$node
->
	`fšd
("¥ª[@şas ğ'a-size-medium oÍCÚd™iÚ‡-‹xt-bŞd']")->
	`‹xt
();

789 
$d©a
['£Î”_šfo'] = 
$node
->
	`fšd
("¥ª[@şas ğ'a-size-medium‡-‹xt-bŞd']")->fšd("a")->
	`©Œ
("href");

790 
$cÚd™iÚ
 = 
	`¡¹Şow”
(
$d©a
['condition']);

791 
$u¾
 = 'h‰ps://www.amazÚ.com'.
$d©a
['seller_info'];

792 
$·¹s
 = 
	`·r£_u¾
(
$u¾
);

793 
$qu”y
 = 
$·¹s
['query'];

794 
	`·r£_¡r
(
$·¹s
['qu”y'], 
$qu”y
);

795 
$£Î”
 = 
$qu”y
['seller'];

796 
$asš
 = 
$qu”y
['asin'];

797 if(
$£Î”
 !ğ'A2AB4EJKHRN74A' && 
$cÚd™iÚ
 =ğ'Ãw' && !
	`em±y
($seller)){

798 
echo
 "IÎeg® S–Ë¸oà".
$asš
 ." u¾ is: ". 
$u¾
;

799 
echo
 "<br>";

801 
	}
});

	@alert_email.php

1 <?
php


8 
	g$NEW_SCRAPE
 = 
Œue
;

11 
	g»quœe_Úû
 '../db.php';

13 
	g$mysqli
 = 
Ãw
 
mysqli
(
$dbHo¡
, 
$dbU£r
, 
$dbPwd
, 
$dbName
);

15 ià(!
	g$mysqli
) {

16 
d›
("CÚÃùiÚ faed: " . 
mysqli_cÚÃù_”rÜ
());

18 ià(
	$mysqli_cÚÃù_”ºo
()) {

19 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

20 
	`ex™
();

21 
	}
}

23 şas 
	cC¿wËr
 
ex‹nds
 
	mS¶ObjeùStÜage


25 
´iv©e
 
	m$domx·th
;

26 
´iv©e
 
	m$»gexResuÉs
;

27 
´iv©e
 
	m$ch¬£t
;

29 
public
 
funùiÚ
 
__cÚ¡ruù
(
$node
 = 
nuÎ
, 
$ch¬£t
 = "UTF-8", 
$»gexResuÉs
 = 
¬¿y
(), 
$domx·th
 =‚ull)

31 
$this
->
»gexResuÉs
 = 
$»gexResuÉs
;

32 
	m$this
->
	mdomx·th
 = 
$domx·th
;

33 
	m$this
->
	mch¬£t
 = 
$ch¬£t
;

34 
	m$this
->
add
(
$node
);

37 
public
 
funùiÚ
 
	$__de¡ruù
()

39 
$this
->
	`ş—r
();

40 
$this
->
»gexResuÉs
 = 
nuÎ
;

41 
$this
->
domx·th
 = 
nuÎ
;

42 
$this
->
ch¬£t
 = 
nuÎ
;

43 
	}
}

45 
public
 
funùiÚ
 
	$__toSŒšg
()

47  
$this
->
	`‹xt
();

48 
	}
}

53 
public
 
funùiÚ
 
	$ş—r
()

55 
$this
->
	`»moveAÎ
($this);

56 
	}
}

67 
public
 
funùiÚ
 
	$add
(
$node
)

69 ià(
$node
 
š¡ªûof
 
DOMNodeLi¡
) {

70 
$this
->
	`addNodeLi¡
(
$node
);

71 } 
	`–£if
 (
	`is_¬¿y
(
$node
)) {

72 
$this
->
	`addNodes
(
$node
);

73 } 
	`–£if
 (
	`is_¡ršg
(
$node
)) {

74 
$this
->
	`addCÚ‹Á
(
$node
);

75 } 
	`–£if
 (
	`is_objeù
(
$node
)) {

76 
$this
->
	`addNode
(
$node
);

78 
	}
}

88 
public
 
funùiÚ
 
	$addCÚ‹Á
(
$cÚ‹Á
, 
$ty³
 = 
nuÎ
)

90 ià(
	`em±y
(
$ty³
)) {

91 
$ty³
 = 'text/html';

95 ià(!
	`´eg_m©ch
('/(x|ht)ml/i', 
$ty³
, 
$m©ches
)) {

96  
nuÎ
;

99 ià('x' ==ğ
$m©ches
[1]) {

100 
$this
->
	`addXmlCÚ‹Á
(
$cÚ‹Á
, $this->
ch¬£t
);

102 
$this
->
	`addHtmlCÚ‹Á
(
$cÚ‹Á
, $this->
ch¬£t
);

104 
	}
}

120 
public
 
funùiÚ
 
addHtmlCÚ‹Á
(
$cÚ‹Á
, 
$ch¬£t
 = "UTF-8")

122 
$cu¼’t
 = 
libxml_u£_š‹º®_”rÜs
(
Œue
);

123 
	g$di§bËEÁ™›s
 = 
libxml_di§bË_’t™y_lßd”
(
Œue
);

125 
	g$dom
 = 
Ãw
 
DOMDocum’t
('1.0', 
$ch¬£t
);

126 
	g$dom
->
	gv®id©eOnP¬£
 = 
Œue
;

128 ià(
funùiÚ_exi¡s
('mb_cÚv”t_’codšg'è&& 
š_¬¿y
(
¡¹Şow”
(
$ch¬£t
), 
¬¿y_m­
('¡¹Şow”', 
mb_li¡_’codšgs
()))) {

129 
	g$cÚ‹Á
 = 
mb_cÚv”t_’codšg
(
$cÚ‹Á
, 'HTML-ENTITIES', 
$ch¬£t
);

132 @
	g$dom
->
lßdHTML
(
$cÚ‹Á
);

134 
libxml_u£_š‹º®_”rÜs
(
$cu¼’t
);

135 
libxml_di§bË_’t™y_lßd”
(
$di§bËEÁ™›s
);

137 
	g$this
->
addDocum’t
(
$dom
);

154 
public
 
funùiÚ
 
addXmlCÚ‹Á
(
$cÚ‹Á
, 
$ch¬£t
 = "UTF-8")

156 
$cu¼’t
 = 
libxml_u£_š‹º®_”rÜs
(
Œue
);

157 
	g$di§bËEÁ™›s
 = 
libxml_di§bË_’t™y_lßd”
(
Œue
);

159 
	g$dom
 = 
Ãw
 
DOMDocum’t
('1.0', 
$ch¬£t
);

160 
	g$dom
->
	gv®id©eOnP¬£
 = 
Œue
;

163 @
	g$dom
->
lßdXML
(
¡r_»¶aû
('xmÊs', 'ns', 
$cÚ‹Á
), 
LIBXML_NONET
);

165 
libxml_u£_š‹º®_”rÜs
(
$cu¼’t
);

166 
libxml_di§bË_’t™y_lßd”
(
$di§bËEÁ™›s
);

168 
	g$this
->
addDocum’t
(
$dom
);

177 
public
 
funùiÚ
 
	$addDocum’t
(
DOMDocum’t
 
$dom
)

179 ià(
$dom
->
docum’tEËm’t
) {

180 
$this
->
	`addNode
(
$dom
->
docum’tEËm’t
);

182 
	}
}

190 
public
 
funùiÚ
 
	$addNodeLi¡
(
DOMNodeLi¡
 
$nodes
)

192 
	`fÜ—ch
(
$nodes
 
as
 
$node
) {

193 
$this
->
	`addNode
(
$node
);

195 
	}
}

204 
public
 
funùiÚ
 
	$addNodes
(
¬¿y
 
$nodes
)

206 
	`fÜ—ch
(
$nodes
 
as
 
$node
) {

207 
$this
->
	`add
(
$node
);

209 
	}
}

218 
public
 
funùiÚ
 
	$addNode
(
DOMNode
 
$node
)

220 ià(
$node
 
š¡ªûof
 
DOMDocum’t
) {

221 
$this
->
	`©ch
(
$node
->
docum’tEËm’t
);

223 
$this
->
	`©ch
(
$node
);

225 
	}
}

235 
public
 
funùiÚ
 
	$eq
(
$pos™iÚ
)

237 if(!
	`em±y
(
$this
->
»gexResuÉs
))

239 
	`fÜ—ch
 (
$this
->
»gexResuÉs
 
as
 
$i
 => 
$‹xt
) {

240 ià(
$i
 =ğ
$pos™iÚ
) {

241  
Ãw
 (
nuÎ
,‚uÎ, 
	`¬¿y
(1 => 
$this
->
»gexResuÉs
[
$i
]));

245  
Ãw
 (
nuÎ
,‚ull);

249 
	`fÜ—ch
 (
$this
 
as
 
$i
 => 
$node
) {

250 ià(
$i
 =ğ
$pos™iÚ
) {

251  
Ãw
 (
$node
, 
$this
->
ch¬£t
, 
nuÎ
, $this->
domx·th
);

255  
Ãw
 (
nuÎ
);

257 
	}
}

276 
public
 
funùiÚ
 
	$—ch
(
Closu»
 
$şosu»
)

278 
$d©a
 = 
	`¬¿y
();

279 
	`fÜ—ch
 (
$this
 
as
 
$node
) {

280 
$d©a
[] = 
	`$şosu»
(
Ãw
 (
$node
, 
$this
->
ch¬£t
, 
nuÎ
, $this->
domx·th
));

283  
$d©a
;

284 
	}
}

292 
public
 
funùiÚ
 
	$fœ¡
()

294  
$this
->
	`eq
(0);

295 
	}
}

303 
public
 
funùiÚ
 
	$Ï¡
()

305 if(!
	`em±y
(
$this
->
»gexResuÉs
)è $this->
	`eq
(
	`couÁ
($this->regexResults) - 1);

306  
$this
->
	`eq
(
	`couÁ
($this) - 1);

307 
	}
}

317 
public
 
funùiÚ
 
	$©Œ
(
$©Œibu‹
)

319 ià(!
	`couÁ
(
$this
è|| 
	`em±y
($this->
	`g‘Node
(0)->
©Œibu‹s
))  "";

321  
$this
->
	`g‘Node
(0)->
	`g‘A‰ribu‹
(
$©Œibu‹
);

322 
	}
}

339 
public
 
funùiÚ
 
	$exŒaù
(
$©Œibu‹s
)

341 
$©Œibu‹s
 = (
¬¿y
) $attributes;

343 
$d©a
 = 
	`¬¿y
();

344 
$–em’ts
 = 
	`¬¿y
();

345 
	`fÜ—ch
 (
$this
 
as
 
$node
) {

346 
$nodeName
 = 
$node
->
nodeName
;

348 
	`fÜ—ch
 (
$©Œibu‹s
 
as
 
$©Œibu‹
) {

349 
$gName
 = 
$this
->
	`»gex
("/(.*?)\:/", 
$©Œibu‹
)->
	`‹xt
();

350 
$©Œibu‹Name
 = 
$this
->
	`»gex
("/\:\:(.*)/", 
$©Œibu‹
)->
	`‹xt
();

352 if(
$gName
 ==ğ
$nodeName
) {

353 if("‹xt" ==ğ
$©Œibu‹Name
)

355 
$‹xt
 = 
C¿wËr
::
	`¡r
(
$node
->
nodeV®ue
);

357 
$‹xt
 = 
$node
->
	`g‘A‰ribu‹
(
$©Œibu‹Name
);

360 
$–em’ts
[
$©Œibu‹Name
] = 
$‹xt
;

364 if(
	`couÁ
(
$–em’ts
è=ğcouÁ(
$©Œibu‹s
)) {

365 
$d©a
[] = 
$–em’ts
;

366 
	`un£t
(
$–em’ts
);

370  
$d©a
;

371 
	}
}

379 
public
 
funùiÚ
 
	$‹xt
()

381 if(!
	`em±y
(
$this
->
»gexResuÉs
))

383  
C¿wËr
::
	`¡r
(
$this
->
»gexResuÉs
[1]);

387 ià(!
	`couÁ
(
$this
))  "";

388  
C¿wËr
::
	`¡r
(
$this
->
	`g‘Node
(0)->
nodeV®ue
);

390 
	}
}

392 
funùiÚ
 
‹xtAÎ
(
$glue
 = ". ")

394 
$‹xtAÎ
 = "";

395 
fÜ—ch
 (
$this
 
as
 
$node
) {

396 
	g$‹xtAÎ
 .ğ
C¿wËr
::
¡r
(
$node
->
nodeV®ue
è. 
$glue
;

399  
Œim
(
´eg_»¶aû
("/$glue$/", "", 
$‹xtAÎ
));

402 
public
 
funùiÚ
 
	$html
()

404 ià(!
	`couÁ
(
$this
))  "";

405 
$dom
 = 
Ãw
 
	`DOMDocum’t
('1.0', 'UTF-8');

406 
$dom
->
	`­³ndChd
($dom->
	`impÜtNode
(
$this
->
	`g‘Node
(0), 
Œue
));

407  
$dom
->
	`§veHTML
();

408 
	}
}

416 
public
 
funùiÚ
 
	$numb”
()

418 if(!
	`em±y
(
$this
->
»gexResuÉs
)è 
C¿wËr
::
	`toNumb”
($this->regexResults[1]);

419  
C¿wËr
::
	`toNumb”
(
$this
->
	`‹xt
());

420 
	}
}

422 
public
 
funùiÚ
 
	$´iû
()

424 
$‹xt
 = 
$this
->
	`‹xt
();

425  
	`´eg_»¶aû
("/[^\d\.]/", "", 
$‹xt
);

426 
	}
}

428 
public
 
funùiÚ
 
»gex
(
$»g
, 
$‹xt
 = "")

430 if(!
em±y
(
$‹xt
))

432 if(
´eg_m©ch
(
$»g
, 
$‹xt
, 
$m©ch
)è 
Ãw
 (
nuÎ
,‚ull, $match);

436 if(
´eg_m©ch
(
$»g
, 
$this
->
‹xt
(), 
$m©ch
)) {

437  
Ãw
 (
	gnuÎ
,‚uÎ, 
	g$m©ch
);

441  
Ãw
 ();

452 
public
 
funùiÚ
 
	$fšd
(
$x·th
)

454 ià(!
	`couÁ
(
$this
)è 
Ãw
 (
nuÎ
);

456 if(
	`em±y
(
$this
->
domx·th
)) {

457 
$this
->
domx·th
 = 
Ãw
 
	`DOMXP©h
($this->
	`g‘Node
(0)->
owÃrDocum’t
);

460 
$x·th
 = ".//" . 
	`¡r_»¶aû
("| ", "| .//", $xpath);

461  
Ãw
 (
$this
->
domx·th
->
	`qu”y
(
$x·th
, $this->
	`g‘Node
(0)),

462 
$this
->
ch¬£t
,

463 
nuÎ
,

464 
$this
->
domx·th
);

465 
	}
}

489 
public
 
funùiÚ
 
	$x·thL™”®
(
$s
)

491 ià(
çl£
 ==ğ
	`¡½os
(
$s
, "'")) {

492  
	`¥rštf
("'%s'", 
$s
);

495 ià(
çl£
 ==ğ
	`¡½os
(
$s
, '"')) {

496  
	`¥rštf
('"%s"', 
$s
);

499 
$¡ršg
 = 
$s
;

500 
$·¹s
 = 
	`¬¿y
();

501 
Œue
) {

502 ià(
çl£
 !=ğ
$pos
 = 
	`¡½os
(
$¡ršg
, "'")) {

503 
$·¹s
[] = 
	`¥rštf
("'%s'", 
	`sub¡r
(
$¡ršg
, 0, 
$pos
));

504 
$·¹s
[] = "\"'\"";

505 
$¡ršg
 = 
	`sub¡r
($¡ršg, 
$pos
 + 1);

507 
$·¹s
[] = "'$string'";

512  
	`¥rštf
("cÚÿt(%s)", 
	`im¶ode
(
$·¹s
, ', '));

513 
	}
}

515 
public
 
funùiÚ
 
	$ş—nHtml
(
$html
)

517 
$tidy_cÚfig
 = 
	`¬¿y
(

518 "ş—n" => 
Œue
,

519 "ouut-xhtml" => 
Œue
,

523 
$tidy
 = 
	`tidy_·r£_¡ršg
(
$html
, 
$tidy_cÚfig
);

524 
$tidy
->
	`ş—nR•aœ
();

525  
$tidy
->
v®ue
;

526 
	}
}

535 
public
 
funùiÚ
 
	$toNumb”
(
$¡r
)

537 
$v®ue
 = "";

538 
$¡r
 = 
	`´eg_»¶aû
("/(,\d{2})$|(\.\d{2})$|\s|\+\/-/", "", $str);

539 
$¡r
 = 
	`´eg_»¶aû
("/,(\d{3})|\.(\d{3})/", "$1$2", $str);

540 if(
	`´eg_m©ch
("/(-?\d+)/", 
$¡r
, 
$m©ch
)è
$v®ue
 = 
	`štv®
($match[1]);

542  
$v®ue
;

543 
	}
}

545 
public
 
funùiÚ
 
	$¡r
(
$¡r
)

547 
$¡r
 = 
	`¡r_»¶aû
(
	`chr
(194) . chr(160), " ", $str);

548 
$¡r
 = 
	`´eg_»¶aû
("/\s+|\n/", " ", $str);

549  
	`Œim
(
$¡r
);

550 
	}
}

552 
public
 
funùiÚ
 
	$‹¡
(
$obj
)

554 
echo
 "<pre>";

555 
	`´št_r
(
$obj
);

556 
echo
 "</pre>";

557 
ex™
;

558 
	}
}

560 
public
 
funùiÚ
 
	$g’”©eId
(
$‹xt
)

562 
$¡r
 = 
	`üc32
(
$‹xt
);

563 
$id
 = 
	`¥rštf
("%u", 
$¡r
);

564  
$id
;

565 
	}
}

567 
´iv©e
 
funùiÚ
 
	$g‘Node
(
$pos™iÚ
)

569 
	`fÜ—ch
 (
$this
 
as
 
$i
 => 
$node
) {

570 ià(
$i
 =ğ
$pos™iÚ
) {

571  
$node
;

575  
nuÎ
;

576 
	}
}

581 şas 
	cCl›Á


583 
´iv©e
 
	m$´oxyLi¡
;

584 
´iv©e
 
	m$´oxyU£rPwd
;

585 
´iv©e
 
	m$»que¡HªdËr
 = 
nuÎ
;

586 
´iv©e
 
	m$mšD–ay
 = 0;

587 
´iv©e
 
	m$maxD–ay
 = 0;

588 
´iv©e
 
	m$cu¾Timeout
 = 80;

589 
´iv©e
 
	m$cook›EÇbËd
 = 
çl£
;

590 
´iv©e
 
	m$h—d”s
 = 
¬¿y
(

599 
public
 
funùiÚ
 
__cÚ¡ruù
(
$´oxyLi¡
 = 
¬¿y
(), 
$´oxyU£rPwd
 = "")

601 
$this
->
´oxyLi¡
 = 
$´oxyLi¡
;

602 
	m$this
->
	m´oxyU£rPwd
 = 
$´oxyU£rPwd
;

603 
	m$this
->
	m»que¡HªdËr
 = 
cu¾_š™
();

606 
public
 
funùiÚ
 
	$__de¡ruù
()

609 
	`cu¾_şo£
(
$this
->
»que¡HªdËr
);

610 
$this
->
»que¡HªdËr
 = 
nuÎ
;

611 
	}
}

613 
public
 
funùiÚ
 
	$d–ay
(
$mš
, 
$max
)

615 
$this
->
mšD–ay
 = 
$mš
;

616 
$this
->
maxD–ay
 = 
$max
;

617 
	}
}

619 
public
 
funùiÚ
 
	$’abËCook›s
()

621 
$this
->
cook›EÇbËd
 = 
Œue
;

622 
	}
}

624 
public
 
funùiÚ
 
	$£tProxyInfo
(
$´oxyLi¡
, 
$´oxyU£rPwd
) {

625 
$this
->
´oxyLi¡
 = 
$´oxyLi¡
;

626 
$this
->
´oxyU£rPwd
 = 
$´oxyU£rPwd
;

627 
	}
}

629 
public
 
funùiÚ
 
	$£tCu¾Timeout
(
$timeout
)

631 
$this
->
cu¾Timeout
 = 
$timeout
;

632 
	}
}

634 
public
 
funùiÚ
 
	$£tXMLHTTPReque¡
(
$v®ue
)

636 if(
$v®ue
è
$this
->
h—d”s
[] = "X-Requested-With: XMLHttpRequest";

637 
	}
}

639 
public
 
funùiÚ
 
	$£tH—d”s
(
$h—d”s
)

641 
$this
->
h—d”s
 = 
$h—d”s
;

642 
	}
}

644 
public
 
funùiÚ
 
	$g‘
(
$u¾
, 
$İtiÚs
 = 
nuÎ
)

646 
	`¦“p
(
	`¿nd
(
$this
->
mšD–ay
, $this->
maxD–ay
));

648 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_URL
, 
	`¡r_»¶aû
(" ", "%20", 
$u¾
));

649 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

650 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FOLLOWLOCATION
, 
Œue
);

651 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_MAXREDIRS
, 5);

652 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FRESH_CONNECT
, 
Œue
);

653 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_AUTOREFERER
, 
Œue
);

654 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

655 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYHOST
, 
çl£
);

656 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_TIMEOUT
, $this->
cu¾Timeout
);

657 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_ENCODING
, 'gzip,deflate');

658 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_HTTPHEADER
, $this->
h—d”s
);

659 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_REFERER
, 'http://www.google.com');

661 if(
$this
->
cook›EÇbËd
)

663 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEFILE
, "cookie.txt");

664 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEJAR
, "cookie.txt");

667 if(!
	`em±y
(
$İtiÚs
)è
	`cu¾_£tİt_¬¿y
(
$this
->
»que¡HªdËr
, $options);

669 if(!
	`em±y
(
$this
->
´oxyLi¡
))

671 
$´oxy
 = 
$this
->
´oxyLi¡
[
	`¬¿y_¿nd
($this->proxyList)];

672 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_PROXY
, 
$´oxy
);

673 if(!
	`em±y
(
$this
->
´oxyU£rPwd
)è
	`cu¾_£tİt
($this->
»que¡HªdËr
, 
CURLOPT_PROXYUSERPWD
, $this->proxyUserPwd);

676 
$»¥Ú£
 = 
	`cu¾_exec
(
$this
->
»que¡HªdËr
);

678  
$»¥Ú£
;

679 
	}
}

681 
public
 
funùiÚ
 
	$po¡
(
$u¾
, 
$po¡D©a
 = 
nuÎ
, 
$İtiÚs
 =‚ull)

683 
	`¦“p
(
	`¿nd
(
$this
->
mšD–ay
, $this->
maxD–ay
));

685 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_URL
, 
	`¡r_»¶aû
(" ", "%20", 
$u¾
));

686 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

687 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FOLLOWLOCATION
, 
Œue
);

688 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_MAXREDIRS
, 5);

689 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FRESH_CONNECT
, 
Œue
);

690 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_AUTOREFERER
, 
Œue
);

691 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

692 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYHOST
, 
çl£
);

693 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_TIMEOUT
, 40);

694 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_ENCODING
, 'gzip,deflate');

695 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_HTTPHEADER
, $this->
h—d”s
);

696 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_REFERER
, 'http://www.google.com');

697 if(
$this
->
cook›EÇbËd
)

699 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEFILE
, "cookie.txt");

700 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEJAR
, "cookie.txt");

703 if(!
	`em±y
(
$po¡D©a
))

705 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POST
, 
Œue
);

706 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POSTFIELDS
, 
$po¡D©a
);

709 if(!
	`em±y
(
$İtiÚs
)è
	`cu¾_£tİt_¬¿y
(
$this
->
»que¡HªdËr
, $options);

711 if(!
	`em±y
(
$this
->
´oxyLi¡
))

713 
$´oxy
 = 
$this
->
´oxyLi¡
[
	`¬¿y_¿nd
($this->proxyList)];

714 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_PROXY
, 
$´oxy
);

715 if(!
	`em±y
(
$this
->
´oxyU£rPwd
)è
	`cu¾_£tİt
($this->
»que¡HªdËr
, 
CURLOPT_PROXYUSERPWD
, $this->proxyUserPwd);

718  
	`cu¾_exec
(
$this
->
»que¡HªdËr
);

719 
	}
}

721 
public
 
funùiÚ
 
	$po¡JSON
(
$u¾
, 
$po¡D©a
 = 
nuÎ
)

723 
	`¦“p
(
	`¿nd
(
$this
->
mšD–ay
, $this->
maxD–ay
));

725 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_URL
, 
	`¡r_»¶aû
(" ", "%20", 
$u¾
));

726 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

727 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FOLLOWLOCATION
, 
Œue
);

728 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_MAXREDIRS
, 5);

729 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_FRESH_CONNECT
, 
Œue
);

730 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_AUTOREFERER
, 
Œue
);

731 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

732 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_SSL_VERIFYHOST
, 
çl£
);

733 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_TIMEOUT
, 40);

734 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_ENCODING
, 'gzip,deflate');

735 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_HTTPHEADER
, 
	`¬¿y
(

737 'CÚ‹Á-L’gth: ' . 
	`¡¾’
(
$po¡D©a
))

739 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_REFERER
, 'http://www.google.com');

740 if(
$this
->
cook›EÇbËd
)

742 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEFILE
, "cookie.txt");

743 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_COOKIEJAR
, "cookie.txt");

746 if(!
	`em±y
(
$po¡D©a
))

748 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POST
, 
Œue
);

749 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_POSTFIELDS
, 
$po¡D©a
);

752 if(!
	`em±y
(
$İtiÚs
)è
	`cu¾_£tİt_¬¿y
(
$this
->
»que¡HªdËr
, $options);

754 if(!
	`em±y
(
$this
->
´oxyLi¡
))

756 
$´oxy
 = 
$this
->
´oxyLi¡
[
	`¬¿y_¿nd
($this->proxyList)];

757 
	`cu¾_£tİt
(
$this
->
»que¡HªdËr
, 
CURLOPT_PROXY
, 
$´oxy
);

758 if(!
	`em±y
(
$this
->
´oxyU£rPwd
)è
	`cu¾_£tİt
($this->
»que¡HªdËr
, 
CURLOPT_PROXYUSERPWD
, $this->proxyUserPwd);

761  
	`cu¾_exec
(
$this
->
»que¡HªdËr
);

762 
	}
}

764 
public
 
funùiÚ
 
	$g‘RedœeùU¾
()

766  
	`cu¾_g‘šfo
(
$this
->
»que¡HªdËr
, 
CURLINFO_EFFECTIVE_URL
);

767 
	}
}

769 
public
 
funùiÚ
 
	$g‘H‰pCode
()

771  
	`cu¾_g‘šfo
(
$this
->
»que¡HªdËr
, 
CURLINFO_HTTP_CODE
);

772 
	}
}

775 
	g$£Ëù_®l_asš_qu”y
 = 
$mysqli
->
qu”y
("SELECT DISTINCT(asin) FROM mws_us");

776 
	g$i
 = 1;

777 
	g$d©a_¬¿y
 = 
¬¿y
();

779 
	$fÜ—ch
 (
$£Ëù_®l_asš_qu”y
 
as
 
$asš
){

780 
$£Ëù_d©e_qu”y
 = 
$mysqli
->
	`qu”y
("SELECT‡sš,´iû,¿nk1,¿nk2,upd©ed FROM mws_u WHERE‡sš = '".
$asš
['asin']."' AND DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i') = (SELECT MAX(DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i'))‡s‚ew FROM mws_us WHERE updated >= NOW() - INTERVAL 12 HOUR) UNION SELECT‡sin,price,rank1,rank2,updated FROM mws_us WHERE‡sin = '".$asin['asin']."' AND DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i') = (SELECT MIN(DATE_FORMAT(`updated`, '%Y-%m-%d %H:%i'))‡s‚ew FROM mws_us WHERE updated >= NOW() - INTERVAL 12 HOUR)");

781 
	`fÜ—ch
 (
$£Ëù_d©e_qu”y
 
as
 
$d©a_qu”y
) {

782 
$d©a_¬¿y
[
$d©a_qu”y
['asš']][] = 
	`¬¿y
('asin' => $data_query['asin'],'rank1' => $data_query['rank1'],'rank2' => $data_query['rank2'],'price' => $data_query['price']);

784 
$d©a
 = 
$d©a_¬¿y
[
$asš
['asin']];

785 
$asš
 = 
$d©a
[0]['asin'];

786 
$fœ¡_¿nk1
 = 
$d©a
[0]['rank1'];

787 
$fœ¡_¿nk2
 = 
$d©a
[1]['rank1'];

788 
$£cÚd_¿nk1
 = 
$d©a
[0]['rank2'];

789 
$£cÚd_¿nk2
 = 
$d©a
[1]['rank2'];

790 
$´iû1
 = 
$d©a
[0]['price'];

791 
$´iû2
 = 
$d©a
[1]['price'];

792 
$fœ¡_¿nk_³rûÁage
 = (20 / 100è* 
$fœ¡_¿nk2
;

793 
$Ãw_fœ¡_¿nk1
 = 
$fœ¡_¿nk_³rûÁage
 + 
$fœ¡_¿nk2
;

794 
$Ãw_fœ¡_¿nk2
 = 
$fœ¡_¿nk2
 - 
$fœ¡_¿nk_³rûÁage
;

795 if(
$Ãw_fœ¡_¿nk2
 >ğ
$fœ¡_¿nk1
 || 
$Ãw_fœ¡_¿nk1
 <= $first_rank1) {

796 
$mÜe_Ëss
 = 
$Ãw_fœ¡_¿nk1
 <ğ
$fœ¡_¿nk1
 ? "increased" : "decreased";

797 
$¿nk1_msg
 = "Th¿nk1 oà".
$asš
 ." ". 
$mÜe_Ëss
." by 20%";

799 
	`®”t_nÙif›r
(
$¿nk1_msg
);

801 
$£cÚd_¿nk_³rûÁage
 = (20 / 100è* 
$£cÚd_¿nk2
;

802 
$Ãw_£cÚd_¿nk1
 = 
$£cÚd_¿nk_³rûÁage
 + 
$£cÚd_¿nk2
;

803 
$Ãw_£cÚd_¿nk2
 = 
$£cÚd_¿nk2
 - 
$£cÚd_¿nk_³rûÁage
 ;

804 if(
$Ãw_£cÚd_¿nk2
 >ğ
$£cÚd_¿nk1
 || 
$Ãw_£cÚd_¿nk1
 <= $second_rank1) {

805 
$¿nk2_mÜe_Ëss
 = 
$Ãw_£cÚd_¿nk1
 <ğ
$£cÚd_¿nk1
 ? "increased" : "decreased";

806 
$¿nk2_msg
 = "Th¿nk2 oà".
$asš
 ." ". 
$¿nk2_mÜe_Ëss
." by 20%";

808 
	`®”t_nÙif›r
(
$¿nk2_msg
);

811 
$£cÚd_´iû_³rûÁage
 = (20 / 100è* 
$´iû2
;

812 
$Ãw_´iû1
 = 
$£cÚd_´iû_³rûÁage
 + 
$´iû2
;

813 
$Ãw_´iû2
 = 
$´iû2
 - 
$£cÚd_´iû_³rûÁage
;

814 if(
$Ãw_´iû2
 >ğ
$´iû1
 || 
$Ãw_´iû1
 <= $price1) {

815 
$´iû_mÜe_Ëss
 = 
$Ãw_´iû1
 <ğ
$´iû1
 ? "increased" : "decreased";

816 
$´iû_msg
 = "Th´iû oà".
$asš
 ." ". 
$´iû_mÜe_Ëss
." by 20%";

817 
	`®”t_nÙif›r
(
$´iû1_msg
);

819 
	}
}

820 
	g$s™eName
 = "amazon";

821 
	g$ouutFe
 = "output/$siteName" . "_products.csv";

822 
	g$ouutFe_1
 = "output/$siteName" . "_products_text.csv";

823 
	g$maxPage
 = 1;

825 
	g$ş›Á
 = 
Ãw
 
Cl›Á
();

826 
	g$´oxyLi¡
 = 
¬¿y
();

827 
	g$´oxyU£rPwd
 = "";

829 
	g$´oxyLšes
 = 
ex¶ode
("\n", 
$ş›Á
->
g‘
("https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=308001853&single=true&output=tsv"));

830 
	$fÜ—ch
(
$´oxyLšes
 
as
 
$lše
) {

831 if(
	`´eg_m©ch
("/([\d\.]+)\t(\d+)\t(.*)\t(.*)/", 
$lše
, 
$m©ch
)) {

832 
$´oxyLi¡
[] = 
$m©ch
[1] . ":" . $match[2];

833 
$´oxyU£rPwd
 = 
	`Œim
(
$m©ch
[3] . ":" . $match[4]);

835 
	}
}

837 if(!
	$em±y
(
$´oxyLi¡
)) {

838 
$ş›Á
->
	`£tProxyInfo
(
$´oxyLi¡
, 
$´oxyU£rPwd
);

839 
	}
}

844 
	g$£Ëù_qu”y
 = 
$mysqli
->
qu”y
("SELECT DISTINCT(asin) FROM mws_us WHEREype = 1");

845 
	g$u¾_nÙif›r
 = 
¬¿y
();

846 
	$fÜ—ch
 (
$£Ëù_qu”y
 
as
 
$£Ëù_d©a
) {

847 
$¡¬tU¾
 = "h‰ps://www.amazÚ.com/gp/ofãr-li¡šg/".
$£Ëù_d©a
['asin']."/ref=dp_olp_all_mbc?ie=UTF8&condition=new";

849 
$·geIndex
 = 1;

850 
$html
 = 
$ş›Á
->
	`g‘
(
$¡¬tU¾
 . 
$·geIndex
);

851 
$·geCouÁ”
 += 1;

852 
$üawËr
 = 
Ãw
 
	`C¿wËr
(
$html
);

853 
$£Î”_d©a
 = 
$üawËr
->
	`fšd
("div[cÚšs(@şass, 'a-row‡-¥acšg-mš˜ŞpOfãr')]")->
	`—ch
(
	`funùiÚ
(
$node
è
	`u£
(
$·geCouÁ”
) {

854 
$d©a
 = 
	`¬¿y
();

855 
$d©a
['cÚd™iÚ'] = 
$node
->
	`fšd
("¥ª[@şas ğ'a-size-medium oÍCÚd™iÚ‡-‹xt-bŞd']")->
	`‹xt
();

856 
$d©a
['£Î”_šfo'] = 
$node
->
	`fšd
("¥ª[@şas ğ'a-size-medium‡-‹xt-bŞd']")->fšd("a")->
	`©Œ
("href");

857 
$cÚd™iÚ
 = 
	`¡¹Şow”
(
$d©a
['condition']);

858 
$u¾
 = 'h‰ps://www.amazÚ.com'.
$d©a
['seller_info'];

859 
$·¹s
 = 
	`·r£_u¾
(
$u¾
);

860 
$qu”y
 = 
$·¹s
['query'];

861 
	`·r£_¡r
(
$·¹s
['qu”y'], 
$qu”y
);

862 
$£Î”
 = 
$qu”y
['seller'];

863 
$asš
 = 
$qu”y
['asin'];

864 if(
$£Î”
 !ğ'A2AB4EJKHRN74A' && 
$cÚd™iÚ
 =ğ'Ãw' && !
	`em±y
($seller)){

867 
$£Î”_msg
 = "Th”i ª IÎeg® S–Ë¸ªd IÎeg® S–Ë¸u¾ i ".
$u¾
." oàasš: ". 
$asš
;

868 
	`®”t_nÙif›r
(
$£Î”_msg
);

879 
	}
}

880 
funùiÚ
 
	$®”t_nÙif›r
(
$msg
){

881 
$®”t_¬¿y
 = 
	`¬¿y
();

882 ià(
	`em±y
(
$_GET
è&& !
	`is£t
($_GET['disable'])) {

883 ià(
$di¥Ïy
 == 'url') {

884 
$to
 = 'kapilkasera0801@gmail.com,123johnchen@gmail.com,ait1ispring@gmail.com';

885 
$subjeù
 = 'Illegal Seller Alert';

886 
$h—d”s
 = "MIME-Version: 1.0" . "\r\n";

887 
$h—d”s
 .= "Content-type:text/html;charset=UTF-8" . "\r\n";

888 
$h—d”s
 .= 'From: <https://www.123filter.com>' . "\r\n";

889 
$mes§ge
 = "<html>

890 <
h—d
>

891 <
t™Ë
>
HTML
 
ema
</title>

892 </
h—d
>

893 <
body
>

894 <
img
 
¤c
='h‰ps://www.123f‹r.com/ac/»sourûs/image/18/73/3.²g' 
®t
='logo' 
¡yË
='width:300px;' />

895 <
bË
>

896 <
Œ
>

897 <
td
>

898 <
¡rÚg
>".$msg."</strong>

899 </
td
>

900 </
Œ
>

901 </
bË
>

902 </
body
>

903 </
html
>";

904 if(
	`ma
(
$to
,
$subjeù
,
$mes§ge
,
$h—d”s
)){

907 
echo
 "Not Sent";

910 
$to
 = 'kapilkasera0801@gmail.com,123johnchen@gmail.com,ait1ispring@gmail.com';

911 
$subjeù
 = 'Illegal Seller Alert';

912 
$h—d”s
 = "MIME-Version: 1.0" . "\r\n";

913 
$h—d”s
 .= "Content-type:text/html;charset=UTF-8" . "\r\n";

914 
$h—d”s
 .= 'From: <https://www.123filter.com>' . "\r\n";

915 
$mes§ge
 = "<html>

916 <
h—d
>

917 <
t™Ë
>
HTML
 
ema
</title>

918 </
h—d
>

919 <
body
>

920 <
img
 
¤c
='h‰ps://www.123f‹r.com/ac/»sourûs/image/18/73/3.²g' 
®t
='logo' 
¡yË
='width:300px;' />

921 <
bË
>

922 <
Œ
>

923 <
td
>

924 <
¡rÚg
>".$msg."</strong>

925 </
td
>

926 </
Œ
>

927 </
bË
>

928 </
body
>

929 </
html
>";

930 if(
	`ma
(
$to
,
$subjeù
,
$mes§ge
,
$h—d”s
)){

933 
echo
 "Not Sent";

937  
	`¬¿y
('u¾' => 
$u¾
,'asš'=>
$asš
,'di¥Ïy_‹xt' => 
$di¥Ïy
);

938 
	}
}

	@dashboard.good.php

1 <
	gh—d
><
lšk
 
	g»l
="shÜtcuˆicÚ" 
h»f
="mt.ico" 
ty³
="image/x-icon" />

2 <
lšk
 
h»f
="lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

3 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/sortable/sorttable.js"></script>

4 <
lšk
 
h»f
="lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

5 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/TableFilter/tablefilter.js"></script>

7 <
lšk
 
h»f
="lib/jqu”y-ui-1.10.4.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.js"></script>

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery-ui-1.10.4.min.js"></script>

10 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.dataTables.js"></script>

11 <
¡yË
>

12 
a
.
i¥ršg
:
lšk
, 
	ga
.
	gi¥ršg
:
vis™ed
 {

13 
background
-
cŞÜ
: 
blue
;

14 
	gcŞÜ
: 
wh™e
;

15 
	g·ddšg
: 4
px
 25px;

16 
	g‹xt
-
	g®ign
: 
ûÁ”
;

17 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

18 
	gdi¥Ïy
: 
šlše
-
block
;

20 
	ga
.
	gi¥ršg
:
hov”
,‡.i¥ršg:
aùive
 {

21 
cŞÜ
: 
blue
;

22 
	gbackground
-
	gcŞÜ
: 
wh™e
;

24 
	ga
.
	gcom³
:
lšk
,‡.com³:
vis™ed
 {

25 
background
-
cŞÜ
: 
g»’
;

26 
	gcŞÜ
: 
wh™e
;

27 
	g·ddšg
: 4
px
 25px;

28 
	g‹xt
-
	g®ign
: 
ûÁ”
;

29 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

30 
	gdi¥Ïy
: 
šlše
-
block
;

32 
	ga
.
	gcom³
:
hov”
,‡.com³:
aùive
 {

33 
cŞÜ
: 
g»’
;

34 
	gbackground
-
	gcŞÜ
: 
wh™e
;

36 .
	gdÙ
 {

37 
	gheight
: 12
px
;

38 
	gwidth
: 12
px
;

39 
	gbackground
-
	gcŞÜ
: #bbb;

40 
	gbÜd”
-
	g¿dius
: 50%;

41 
	gdi¥Ïy
: 
šlše
-
block
;

43 
	gbË
 {

44 
	gwidth
: 10
px
;

45 
	gbÜd”
: 1
px
 
sŞid
 
bÏck
;

46 
	gem±y
-
	gûÎs
: 
hide
;

49 
bË
 
	gth
 > 
	gdiv
,abË 
	gtd
 > div {

50 
	gov”æow
: 
hidd’
;

51 
	gheight
: 15
px
;

52 
	gfÚt
-
	gsize
: 0.875e
m
;

53 
	g·ddšg
: 0
px
;

54 
	gbÜd”
-
	gbÙtom
: 1
px
 
sŞid
 #ddd;

55 
	gv”tiÿl
-
	g®ign
: 
tİ
;

56 
	g‹xt
-
	g®ign
: 
ûÁ”
;

58 
	gŒ
.
	ghov”
:
hov”
 {
background
-
cŞÜ
:#f5f5f5;}

60 </
	g¡yË
>

61 </
	gh—d
>

62 <?
php


64 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

65 
šşude_Úû
('lib/functions.php');

67 
defše
("EMAIL_RECEPIENTS",'John@iSpringFilter.com');

68 
defše
("PERIODS",'2 years,1 years,6 months,3 months,30 days,7 days,120 hours,24 hours');

69 
defše
('TooltipHeaders','rank1|rank2|reviews|avgrating|price');

70 
	g$m­DnsCouÁr›s
=
¬¿y
('us'=>'com','ca'=>'ca','uk'=>'co.uk');

71 
	g$timeoff£t
 = 3600 * 2;

72 ià(
time
(è> 
¡¹Ùime
('Fœ¡ Sunday OàM¬ch'è
ªd
ime(è< sŒtÙime('Fœ¡ Sunday OàNovemb” 'èè
	g$timeoff£t
 = 3600 * 3;

73 
	g$»giÚ
 = 
is£t
(
$_GET
['region']) ? $_GET['region'] : 'us';

74 
	g$dnsCouÁry
=
$m­DnsCouÁr›s
[
$»giÚ
];

75 
	g$bË
 = 'asš_'. 
$»giÚ
 .'_numbers';

76 
	g$image_width
 = 1380;

78 
	g$³riod
='24 hours';

79 ià(
is£t
(
$_GET
['³riod'])è
	g$³riod
 = 
¡r_»¶aû
('+',' ',$_GET['period']);

81 (
	`´eg_m©ch
('/y—rs/',
$³riod
)): 
$d©eFÜm©
 = '%Y.%m'; 
$avgOrSum
='avg'; ;

82 (
	`´eg_m©ch
('/mÚths/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.W%v'; 
$avgOrSum
='avg'; ;

83 (
	`´eg_m©ch
('/days/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.%d%a'; 
$avgOrSum
='avg'; ;

84 (
	`´eg_m©ch
('/hours/',
$³riod
)): 
$d©eFÜm©
 = '%m/%d.%H'; 
$avgOrSum
='avg'; ;

85 : 
$d©eFÜm©
 = '%m/%d.%H';

86 
	}
}

88 
	g$aAsšSku
=
g‘_asš_sku_¬¿y
();

89 
	g$aSkuAsš
=
¬¿y_æ
(
$aAsšSku
);

90 
	g$sAsšsW™hRªk1NÙToBeDevidedBy1000
='/TTG|B002C0A7ZY|B00Q798N8E|B005LJ8EXU/';

92 iàĞ
is£t
(
$_GET
['q']è
ªd
 
	g$_GET
['q']=='skuassign' ) {

93 
upd©e_sku_assign
();

94 
echo
 
¡r_»¶aû
("\n",'<br>',
li¡_sku_by_owÃr
());

95 
	gex™
;

99 ià(!
	$em±y
(
$_GET
è
ªd
 !
	`em±y
($_GET['items'])) {

100 
$days
 = 
$³riod
 ? 
	`¡¹Ùime
('now - '. $period . ' - 3 hours') : strtotime('now - 1 years');

103 
$aGroups
[] = 
	`¡r_»¶aû
(";","\n",
	`Œim
(
$_GET
['items'],';')) ."\n";

104 
echo
 '<buttonype="button" onclick="javascript:history.back()">Back</button> ';

105 
	}
} {

106 
	g$days
 = 
¡¹Ùime
('now - 27 hours');

107 ià(
	g$»giÚ
 <> 'us'è
	g$days
 = 
¡¹Ùime
('now - 240 hours');

109 ià(
is£t
(
$_GET
['owner'])) {

110 
	g$fe
=
li¡_sku_by_owÃr
(
$_GET
['owner']);

112 
	g$fe
 = 
fe_g‘_cÚ‹Ás
('h‰p://czyu§.com/amazÚ.'. 
$»giÚ
 .'_asin_sku_competitors.txt');

114 
	g$aGroups
 = 
ex¶ode
("\n\n",
$fe
);

122 ià(
	g$»giÚ
=='us' 
ªd
 
is£t
(
$_GET
['list'])) {

123 
$group
='B005LJ8EXU,RCC7AK_Eric vs B00NWZ1RCK,APEC_PH75;B003XELTTG,RCC7 vs B00I0ZGOZM,APEC RO50;';

124 
groupNumb”s
(
$group
,'review gap');

126 
	$fÜ—ch
(
$aGroups
 
as
 
$group
) {

127 ià(
	`sub¡r
(
$group
,0,1)<>'-' 
ªd
 
	`¡¾’
($group)>15è
	`groupNumb”s
($group);

129 
	}
}

131 
funùiÚ
 
	$OLD»v›wG­
(
$asš1
,
$asš2
,
$t™Ë
){

132 
glob®
 
$bË
,
$image_width
,
$aToŞtD©a
;

133 
$sumif
="ROUND(MAX(IF(asin='$asin1',reviews,0))/10,1) AS '$asin1„eviews',ROUND(MAX(IF(asin='$asin2',reviews,0))/10,1) AS '$asin2„eviews',";

134 
$sumif
='';

135 
$q
="SELECT d©e_fÜm©(äom_unixtimeÑime+7200),'%y/%m/%d'èa dtime, $sumiàMAX(IF×sš='$asš1',»v›ws,0)è- MAX(IF×sš='$asš2',»v›ws,0)èAS g­ FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim> ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BYime DESC";

136 
$qRev›ws
="SELECT d©e_fÜm©(äom_unixtimeÑime+7200),'%y/%m/%d'èa dtime, MAX(IF×sš='$asš1',»v›ws,0)èa '$asš1', MAX(IF×sš='$asš2',»v›ws,0)èAS '$asš2' FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim> ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime ORDER BYime DESC";

138 
echo
 '<li><aarget=_blank href="reviewgap.php">History Data</a><br>';

139 
$aToŞtD©a
=
	`sqlqu”y
(
$qRev›ws
);

140 
$aToŞtD©a
['h—d”']="dtim". 
$asš1
 ." ". 
$asš2
;

141 
$aM­D©a
=
	`sqlqu”y
(
$q
);

142 
	`myd¿wch¬t
(
$aM­D©a
,'','time','Rev›w g­: '.
$t™Ë
,
$image_width
,120);

143 
	}
}

145 
funùiÚ
 
	$»v›wG­
(
$asš1
,
$asš2
,
$t™Ë
){

146 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
;

147 
$sumif
="ROUND(MAX(IF(asin='$asin1',reviews,0))/10,1) AS '$asin1„eviews',ROUND(MAX(IF(asin='$asin2',reviews,0))/10,1) AS '$asin2„eviews',";

148 
$sumif
='';

149 
$q
="SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime, $sumiàMAX(IF×sš='$asš1',»v›ws,0)è- MAX(IF×sš='$asš2',»v›ws,0)èAS g­ FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BYime DESC";

151 
$qNumb”s
="SELECT MAX(IF×sš='$asš1',a.rws,0)è- MAX(IF×sš='$asš2',a.rws,0)èAS g­, SUM(IF×.asš = '$asš1',‡.rk1, 0)èa '$asš1„ªk1' , SUM(IF×.asš = '$asš1',‡.rk2, 0)èa '$asš1„ªk2' , SUM(IF×.asš = '$asš1',‡.rws, 0)èa '$asš1„ev›ws' , SUM(IF×.asš = '$asš1',‡.ªg, 0)èa '$asš1‡vg¿tšg' , SUM(IF×.asš = '$asš1',‡.pû, 0)èa '$asš1…riû' , '$asš1 \n\t'‡ '$asš1', SUM(IF×.asš = '$asš2',‡.rk1, 0)èa '$asš2„ªk1' , SUM(IF×.asš = '$asš2',‡.rk2, 0)èa '$asš2„ªk2' , SUM(IF×.asš = '$asš2',‡.rws, 0)èa '$asš2„ev›ws' , SUM(IF×.asš = '$asš2',‡.ªg, 0)èa '$asš2‡vg¿tšg' , SUM(IF×.asš = '$asš2',‡.pû, 0)èa '$asš2…riû' , '$asš2 \n'‡ '$asš2' FROM (SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime,‡sš, ROUND×vgÔªk1),0èa rk1 , ROUND×vgÔªk2),0èa rk2 , ROUND(MAXÔev›ws),0èa rw , ROUND×vg×vg¿tšg),1èa ªg , ROUND×vgÕriû),2èa pû FROM‡sš_us_numb” WHERE‡sš IN ('$asš1','$asš2'èAND„ªk1 > 0 ANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." group by‡sin, dtime )‡ GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BY dtime DESC";

153 
echo
 "<li><aarget=_blank href=\"reviewgap.php\">Reviews gap: $title</a><br>";

154 
$aToŞtD©a
=
	`sqlqu”y
(
$qNumb”s
);

157 
$aToŞtD©a
['h—d”']=
	`¡r_»¶aû
('|',"\t",'g­|'. 
ToŞtH—d”s
 .'|asin');

158 
$aM­D©a
=
	`sqlqu”y
(
$q
);

159 
	`myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,120);

160 
	}
}

162 
funùiÚ
 
groupNumb”s
(
$group
,
$®‹r
=''){

163 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
,
$sAsšsW™hRªk1NÙToBeDevidedBy1000
;

164 
	g$qBa£Sub
=
$q1Sub
=
$qAÎSub
=
$™ems
=''; 
	g$Ëg’d
='<div font-size: 0.875em; /* 14px/16=0.875em */>';

166 
	g$aLšes
=
ex¶ode
("\n",
$group
);

167 
fÜ—ch
(
ex¶ode
('|',
ToŞtH—d”s
è
as
 
$h
) {

168 
	g$qAÎSub
 .= ",'\n$h:' AS '$h'";

169 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

170 
	g$Ê
=0;$Ê<
couÁ
(
$aLšes
);$ln++) {

171 
	g$lše
=
$aLšes
[
$Ê
];

172 ià(
¡½os
(
$lše
,'--')>-1) { ;}

173 ià(
´eg_m©ch
(';h‰ps://www.amazÚ.com/(\w+-\w+-\w+).*/dp/(B\w{9});',
$lše
,
$m
)) {

174 
	g$lše
=
$m
[2] .','. $m[1];

176 
	g$aVs
=
ex¶ode
(',',
$lše
);

177 ià(
¡½os
(
$lše
,',')==
çl£
) ;

178 
	g$asš
=
$aVs
[0];

179 
	g$sku
=
$aVs
[1];

180 ià(
¡ros
(
$Ëg’d
,
$asš
)==
çl£
) {

181 
$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></¥ª><¨t™Ë=\"O³À". 
$asš
 ."‡ˆAmazÚ.". 
$dnsCouÁry
 ."\"arget=_blank href=\"http://www.amazon.". $dnsCountry ."/dp/$asin\">$sku</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

182 
	g$™ems
 .ğ
$lše
 .';';

183 
	g$aSkus
[] = 
$sku
;

184 
	g$aAsšs
[] = 
$asš
;

186 
	g$sAsšs
 = 
im¶ode
("','",
$aAsšs
);

187 
	g$sSkus
 = 
im¶ode
(',',
$aSkus
);

188 ià(
	g$»giÚ
 <> 'us' 
Ü
 
´eg_m©ch
(
$sAsšsW™hRªk1NÙToBeDevidedBy1000
,
$group
)==
FALSE
) {

189 
$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 - IF(a.rk1<1000,a.rk1,ROUND(a.rk1/1000,1)), 0))‡s '$sku„ank1' ";

191 
	g$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 -‡.rk1, 0))‡s '$sku„ank1' ";

195 ià(
	g$h
=='price') {

196 
$qAÎSub
 .= ", CONCAT('$',SUM(IF(a.asin = '$asin',‡.$sh, 0)))‡s '$sku $h' ";

198 
	g$qAÎSub
 .= ", SUM(IF(a.asin = '$asin',‡.$sh, 0))‡s '$sku $h' ";

206 
	g$decim®
=0;

207 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

208 ià(
	g$h
=='avg¿tšg'è
$decim®
=1;

209 ià(
	g$h
=='´iû'è{ 
$decim®
=2; }

210 
	g$qBa£Sub
 .= ", ROUND(avg($h),$decimal)‡s $sh ";

212 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„ank1 > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

214 ià(
	g$®‹r
=='review gap' ) {

215 
$sAsšs
=
$q1Sub
=''; 
	g$Ëg’d
='Rev›w g­: '; 
un£t
(
$aAsšs
); 
	g$Ê
=0;

216 
fÜ—ch
(
ex¶ode
(';',
$group
è
as
 
$·œ
) {

218 ià(
´eg_m©ch_®l
('/(B\w{9}),([\w \_\-]+èv (B\w{9}),([\w \_\-]+)/',
$·œ
,
$m
)) {

220 
	g$asš1
=
$m
[1][0]; 
	g$aAsšs
[]=
$asš1
;

221 
	g$sku1
=
$m
[2][0];

222 
	g$asš2
=
$m
[3][0]; 
	g$aAsšs
[]=
$asš2
;

223 
	g$sku2
=
$m
[4][0];

224 
	g$q1Sub
 .= ", MAX(IF(a.asin='$asin1',a.rws,0)) - MAX(IF(a.asin='$asin2',a.rws,0)) AS '$sku1 vs $sku2'";

225 
	g$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></span>$sku1 vs $sku2 ";

226 
	g$Ê
++;

229 
	g$sAsšs
 = 
im¶ode
("','", 
$aAsšs
);

230 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„eviews > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0)‡ GROUP BY dtime ORDER BY dtime DESC";

231 
	g$q1
=
¡r_»¶aû
(
$d©eFÜm©
,'%y/%m/%d',
$q1
);

232 
	g$q1
=
¡r_»¶aû
(
$days
,
¡¹Ùime
('28 day ago'),
$q1
);

239 
	g$qAÎ
=
¡r_»¶aû
("$q1Sub", 
sub¡r
(
$qAÎSub
,0),
$q1
);

240 ià(
¡ros
(
__FILE__
,'b‘a')>1è
	gecho
 '<li>'. 
	g$q1
 .'<li>'. 
	g$qAÎ
 .'<p>';

241 
	g$aM­D©a
=
sqlqu”y
(
$q1
);

242 
	g$aToŞtD©a
=
sqlqu”y
(
$qAÎ
);

244 
	g$aToŞtD©a
['h—d”']=
im¶ode
("\t",
$aSkus
);

250 
fÜ—ch
(
ex¶ode
(',',
PERIODS
è
as
 
$d©eRªge
) {

251 iàĞ(
is£t
(
$_GET
['³riod']è
ªd
 
	g$d©eRªge
==$_GET['³riod']è
Ü
 ( 
em±y
($_GET['™ems']èªd 
$d©eRªge
=='24 hours' )) {

253 
$Ëg’d
 .= '* ';

255 
	g$Ëg’d
 .ğ'<¨t™Ë="Ch¬ˆoà'. 
$d©eRªge
 .'‡v”ªge" h»f="'. 
ba£Çme
(
__FILE__
è.'?»giÚ='. 
$»giÚ
 .'&³riod='. 
¡r_»¶aû
(' ','+',$dateRange) . "&items=$items\">$dateRange</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

257 
	g$Ëg’d
 .='<br></div>';

258 
echo
 
	g$Ëg’d
;

259 
	g$image_height
 = 200;

260 
	g$image_height
 = 
couÁ
(
$aLšes
)*50;

261 ià(
	g$image_height
 < 100) $image_height=100;

263 
myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,
$image_height
);

264 
	gecho
 '<br>';

266 ià(!
em±y
(
$_GET
['items'])) {

267 
	g$qAv”age
=
¡r_»¶aû
(
$d©eFÜm©
,'%Y',
$q1
);

268 
	g$aAvgD©a
=
sqlqu”y
(
$qAv”age
);

269 
	gecho
 'Av”agoàÏ¡ <B>'. 
	g$_GET
['period'] .'</B>';

270 
di¥ÏyA¼ayToTabË
(
$aAvgD©a
,"Average of†ast $dateRange");

275 
di¥ÏyA¼ayToTabË
(
$aToŞtD©a
, "Detail of†ast $dateRange");

281 
funùiÚ
 
	$di¥ÏyA¼ayToTabË
(
$¬¿y
, 
$bËId
=1) {

288 ià(
	`couÁ
(
$¬¿y
) > 0) {

289 
echo
 '<bË id="'. 
$bËId
 .'" cÏss="f‹¿bË sÜbË"><th—d><Œ cÏss="hov”"><th>'. 
	`im¶ode
('</th><th>', 
	`¬¿y_keys
(
	`cu¼’t
(
$¬¿y
))) ."</th></tr></thead><tbody>";

290 
	`fÜ—ch
 (
$¬¿y
 
as
 
$row
) {

291 ià(!
	`is_¬¿y
(
$row
è
Ü
 
	`em±y
($row)) ;

292 
	`¬¿y_m­
('htmËÁ™›s', 
$row
);

293 
echo
 '<Œ cÏss="hov”"><td><div>'. 
	`im¶ode
('</div></td><td><div>', 
$row
) .'</div></td></tr>';

295 
echo
 "</tbody></table>";

297 
	}
}

299 #C®lback 'd©a_pošts': 
G’”©e
 1 <
¬—
> 
lše
 
š
 
the
 
image
 
m­
:

302 
funùiÚ
 
¡Üe_m­
(
$img
, 
$·s¡hru
, 
$sh­e
='dÙ', 
$row
, 
$cŞumn
, 
$x
, 
$y
) {

303 
glob®
 
	g$iM­
,
	g$aToŞtD©a
;

305 #Lšk 
URL
, 
demÚ¡¿tiÚ
 
Úly
:

307 #CÚv”ˆ
coÜdš©es
 
to
 
š‹g”s
:

309 #Aµ’d 
the
 
»cÜd
 
this
 
d©a
 
pošt
 
sh­e
 
to
h
image
 
m­
 
¡ršg
:

313 
	g$coÜds
 = 
¥rštf
("%d,%d,%d", 
$x
, 
$y
, 5);

319 
	g$toŞt
=
$aToŞtD©a
[
$row
]['dtime'] ."\t". $aToŞtD©a['h—d”'] . 
¡r_»¶aû
($aToŞtD©a[$row]['dtime'],'',
im¶ode
("\t",$aTooltipData[$row]));

320 #Requœed 
®t
-
‹xt
:

321 
	g$®t
 = 
$aToŞtD©a
['header'];

322 
	g$iM­
 .= " <area shape=\"circle\" coords=\"$coords\"itle=\"$tooltip\">\n";

325 
funùiÚ
 
myd¿wch¬t
(
$aM­D©a
,
$t™Ë_c
='',
$t™Ë_x
='',
$yLeg’ts
='',
$width
=1600,
$height
=120){

329 
glob®
 
$aCŞÜs
, 
$iM­
;

330 ià(
couÁ
(
$aM­D©a
) > 48) {

331 
	g$¬¿ys
 = 
¬¿y_chunk
(
$aM­D©a
,48);

332 
fÜ—ch
(
$¬¿ys
 
as
 
$¬¿y
) {

333 
	g$width
=
couÁ
(
$¬¿y
)*32;

334 ià(
	g$width
<640) $width=640;

335 
myd¿wch¬t
(
$¬¿y
,
$t™Ë_c
,
$t™Ë_x
,
$yLeg’ts
,
$width
,
$height
);

339 #Thi 
glob®
 
¡ršg
 
accumuÏ‹s
 
the
 
image
 
m­
 
AREA
 
gs
.

342 
	g$¶Ù
 = 
Ãw
 
PHPlÙ
(
$width
,
$height
);

343 #Di§bË 
”rÜ
 
images
, 
sšû
 
this
 
süt
 
´oduûs
 
HTML
:

344 
	g$¶Ù
->
S‘Fau»Image
(
F®£
);

346 
	g$¶Ù
->
S‘PrštImage
(
F®£
);

349 
	g$¶Ù
->
S‘FÚtTTF
('x_label', '/home/czyusa1973/public_html/mt/lib/Yagora.ttf', 9);

350 
	g$¶Ù
->
S‘FÚtTTF
('y_label', '/home/czyusa1973/public_html/mt/lib/Yagora.ttf', 8);

351 ià(
couÁ
(
$aM­D©a
è>ğ21è{
$¶Ù
->
S‘XLab–AngË
(45);}

352 
	g$¶Ù
->
S‘YD©aLab–AngË
(90);

369 
	g$¶Ù
->
S‘D©aV®ues
(
$aM­D©a
);

372 
	g$¶Ù
->
S‘T™Ë
(
$t™Ë_c
);

379 
	g$¶Ù
->
S‘XTickInüem’t
(1);

380 
	g$¶Ù
->
S‘D¿wXGrid
(
True
);

381 
	g$¶Ù
->
S‘D¿wYGrid
(
F®£
);

382 
	g$¶Ù
->
S‘XTickAnchÜ
(0.5);

383 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

384 
	g$¶Ù
->
S‘XD©aLab–Pos
('plotdown');

385 
	g$¶Ù
->
TuÃYAutoRªge
(1, 'R', 0);

386 
	g$¶Ù
->
S‘YD©aLab–Pos
('plotin');

388 
	g$¶Ù
->
S‘YD©aLab–AngË
(0);

389 
	g$¶Ù
->
S‘PlÙTy³
('linepoints');

390 
	g$¶Ù
->
S‘YTickLab–Pos
('none');

391 
	g$¶Ù
->
S‘D©aCŞÜs
(
$aCŞÜs
);

392 
	g$¶Ù
->
S‘LšeStyËs
('solid');

393 
	g$¶Ù
->
S‘LšeWidths
(1);

396 ià(
¡½os
(
$yLeg’ts
,',') > 2) {

398 
	g$Ëg’d
 = 
ex¶ode
(',',
$yLeg’ts
);

399 
	g$¶Ù
->
S‘Leg’d
(
$Ëg’d
);

404 
	g$¶Ù
->
S‘Leg’dPix–s
(250, 1);

407 ià(
¡¾’
(
$yLeg’ts
)>1è
	g$¶Ù
->
S‘Leg’d
($yLegents);

408 
	g$¶Ù
->
S‘Leg’dPos™iÚ
(1, 0, 'plot', 0.5, 0);

412 #S‘ 
the
 
d©a_pošts
 
ÿÎback
 
which
 
wl
 
g’”©e
h
image
 
m­
.

414 
	g$¶Ù
->
S‘C®lback
('data_points', 'store_map');

415 
	g$¶Ù
->
D¿wG¿ph
();

417 
	g$m­Id
=
¿nd
();

418 
	gecho
 '<m­‚ame="m­'. 
	g$m­Id
 .'">' . 
	g$iM­
 .'</m­><img src="'. 
	g$¶Ù
->
EncodeImage
() .'"‡lt="Plot Image" usemap="#map'. $mapId .'">' ."\n";

419 
	g$iM­
='';

422 
funùiÚ
 
li¡_sku_by_owÃr
(
$owÃr
=''){

423 
glob®
 
$aAsšSku
,
$aSkuAsš
;

424 ià(
	g$owÃr
<>''è
	g$owÃrf‹r
="WHERE owner='$owner'";

425 
	g$q
="SELECT DISTINCT url,sku,tier,owner FROM `sku_assign` $ownerfilter ORDER BY†astupdated DESC,ier, sku ";

426 
fÜ—ch
(
sqlqu”y
(
$q
è
as
 
$r
){

427 
	g$sku
=
$r
['sku'];

429 
	g$u¾
=
$r
['url'];

430 
	g$t›r
=
$r
['tier'];

431 
	g$owÃr
=
$r
['owner'];

433 ià(
´eg_m©ch
('-/(B\w{9})-',
$u¾
,
$m
)) {

434 
	g$asš
=
$m
[1];

436 
	g$asš
=
$aSkuAsš
[
$sku
];

439 ià(
´eg_m©ch
('-(B\w{9})-',
$asš
è
ªd
 
¡ri¡r
(
$lšes
,
$sku
)==
FALSE
) $lines .= $asin .','. $sku ."\n\n";

443  
	g$lšes
;

446 
funùiÚ
 
	$upd©e_sku_assign
() {

447 
glob®
 
$aAsšSku
,
$aSkuAsš
;

448 
$li¡_u¾
='https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=tsv';

449 
$tsv
=
	`fe_g‘_cÚ‹Ás
(
$li¡_u¾
);

450 
$tsv
=
	`¡r_»¶aû
(' ','',$tsv);

452 
	`fÜ—ch
 (
	`ex¶ode
("\n",
$tsv
è
as
 
$lše
) {

453 
$vs
 = 
	`ex¶ode
("\t",
$lše
);

454 ià(
	`couÁ
(
$vs
)<3) ;

455 
$lše
=
	`Œim
($line);

456 
$v®ues
=
	`d©e
('Y-m-d H:i:s'è."','". 
	`¡r_»¶aû
("\t","','",
$lše
);

457 
$q
 .= "INSERT IGNORE INTO sku_assign VALUES ('$values');\n";

460 
	`sqlqu”y
(
$q
);

461 
	}
}

	@dashboard.php

1 <
	gh—d
><
lšk
 
	g»l
="shÜtcuˆicÚ" 
h»f
="mt.ico" 
ty³
="image/x-icon" />

2 <
lšk
 
h»f
="lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

3 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/sortable/sorttable.js"></script>

4 <
lšk
 
h»f
="lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

5 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/TableFilter/tablefilter.js"></script>

7 <
lšk
 
h»f
="lib/jqu”y-ui-1.10.4.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.js"></script>

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery-ui-1.10.4.min.js"></script>

10 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.dataTables.js"></script>

11 <
¡yË
>

12 
a
.
i¥ršg
:
lšk
, 
	ga
.
	gi¥ršg
:
vis™ed
 {

13 
background
-
cŞÜ
: 
blue
;

14 
	gcŞÜ
: 
wh™e
;

15 
	g·ddšg
: 4
px
 25px;

16 
	g‹xt
-
	g®ign
: 
ûÁ”
;

17 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

18 
	gdi¥Ïy
: 
šlše
-
block
;

20 
	ga
.
	gi¥ršg
:
hov”
,‡.i¥ršg:
aùive
 {

21 
cŞÜ
: 
blue
;

22 
	gbackground
-
	gcŞÜ
: 
wh™e
;

24 
	ga
.
	gcom³
:
lšk
,‡.com³:
vis™ed
 {

25 
background
-
cŞÜ
: 
g»’
;

26 
	gcŞÜ
: 
wh™e
;

27 
	g·ddšg
: 4
px
 25px;

28 
	g‹xt
-
	g®ign
: 
ûÁ”
;

29 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

30 
	gdi¥Ïy
: 
šlše
-
block
;

32 
	ga
.
	gcom³
:
hov”
,‡.com³:
aùive
 {

33 
cŞÜ
: 
g»’
;

34 
	gbackground
-
	gcŞÜ
: 
wh™e
;

36 .
	gdÙ
 {

37 
	gheight
: 12
px
;

38 
	gwidth
: 12
px
;

39 
	gbackground
-
	gcŞÜ
: #bbb;

40 
	gbÜd”
-
	g¿dius
: 50%;

41 
	gdi¥Ïy
: 
šlše
-
block
;

43 
	gbË
 {

44 
	gwidth
: 10
px
;

45 
	gbÜd”
: 1
px
 
sŞid
 
bÏck
;

46 
	gem±y
-
	gûÎs
: 
hide
;

49 
bË
 
	gth
 > 
	gdiv
,abË 
	gtd
 > div {

50 
	gov”æow
: 
hidd’
;

51 
	gheight
: 15
px
;

52 
	gfÚt
-
	gsize
: 0.875e
m
;

53 
	g·ddšg
: 0
px
;

54 
	gbÜd”
-
	gbÙtom
: 1
px
 
sŞid
 #ddd;

55 
	gv”tiÿl
-
	g®ign
: 
tİ
;

56 
	g‹xt
-
	g®ign
: 
ûÁ”
;

58 
	gŒ
.
	ghov”
:
hov”
 {
background
-
cŞÜ
:#f5f5f5;}

60 </
	g¡yË
>

61 </
	gh—d
>

62 <?
php


64 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

65 
ši_£t
('display_errors', 1);

66 
ši_£t
('display_startup_errors', 1);

67 
”rÜ_»pÜtšg
(
E_ALL
);

68 
šşude_Úû
('lib/functions.php');

70 
defše
("EMAIL_RECEPIENTS",'John@iSpringFilter.com');

71 
defše
("PERIODS",'2 years,1 years,6 months,3 months,30 days,7 days,120 hours,24 hours');

72 
defše
('TooltipHeaders','rank1|rank2|reviews|avgrating|price');

73 
	g$m­DnsCouÁr›s
=
¬¿y
('us'=>'com','ca'=>'ca','uk'=>'co.uk');

74 
	g$timeoff£t
 = 3600 * 3;

75 ià(
time
(è> 
¡¹Ùime
('Fœ¡ Sunday OàM¬ch'è
ªd
ime(è< sŒtÙime('Fœ¡ Sunday OàNovemb” 'èè
	g$timeoff£t
 = 3600 * 2;

76 
	g$»giÚ
 = 
is£t
(
$_GET
['region']) ? $_GET['region'] : 'us';

77 
	g$dnsCouÁry
=
$m­DnsCouÁr›s
[
$»giÚ
];

78 
	g$bË
 = 'asš_'. 
$»giÚ
 .'_numbers';

79 
	g$image_width
 = 1380;

81 
	g$³riod
='24 hours';

82 ià(
is£t
(
$_GET
['³riod'])è
	g$³riod
 = 
¡r_»¶aû
('+',' ',$_GET['period']);

84 (
	`´eg_m©ch
('/y—rs/',
$³riod
)): 
$d©eFÜm©
 = '%Y.%m'; 
$avgOrSum
='avg'; ;

85 (
	`´eg_m©ch
('/mÚths/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.W%v'; 
$avgOrSum
='avg'; ;

86 (
	`´eg_m©ch
('/days/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.%d%a'; 
$avgOrSum
='avg'; ;

87 (
	`´eg_m©ch
('/hours/',
$³riod
)): 
$d©eFÜm©
 = '%m/%d.%H'; 
$avgOrSum
='avg'; ;

88 : 
$d©eFÜm©
 = '%m/%d.%H';

89 
	}
}

91 
	g$aAsšSku
=
g‘_asš_sku_¬¿y
();

92 
	g$aSkuAsš
=
¬¿y_æ
(
$aAsšSku
);

93 
	g$sAsšsW™hRªk1NÙToBeDevidedBy1000
='/TTG|B002C0A7ZY|B00Q798N8E|B005LJ8EXU/';

95 iàĞ
is£t
(
$_GET
['q']è
ªd
 
	g$_GET
['q']=='skuassign' ) {

96 
upd©e_sku_assign
();

97 
echo
 
¡r_»¶aû
("\n",'<br>',
li¡_sku_by_owÃr_Ãw
());

98 
	gex™
;

102 ià(!
	$em±y
(
$_GET
è
ªd
 !
	`em±y
($_GET['items'])) {

103 
$days
 = 
$³riod
 ? 
	`¡¹Ùime
('now - '. $period . ' - 3 hours') : strtotime('now - 1 years');

106 
$aGroups
[] = 
	`¡r_»¶aû
(";","\n",
	`Œim
(
$_GET
['items'],';')) ."\n";

107 
echo
 '<buttonype="button" onclick="javascript:history.back()">Back</button> ';

108 
	}
} {

109 
	g$days
 = 
¡¹Ùime
('now - 27 hours');

110 ià(
	g$»giÚ
 <> 'us'è
	g$days
 = 
¡¹Ùime
('now - 120 hours');

112 ià(
is£t
(
$_GET
['owner'])) {

113 
	g$fe
=
li¡_sku_by_owÃr_Ãw
(
$_GET
['owner']);

115 
	g$fe
 = 
fe_g‘_cÚ‹Ás
('h‰p://czyu§.com/amazÚ.'. 
$»giÚ
 .'_asin_sku_competitors.txt');

117 
	g$aGroups
 = 
ex¶ode
("\n\n",
$fe
);

125 ià(
	g$»giÚ
=='us' 
ªd
 
is£t
(
$_GET
['list'])) {

126 
$group
='B005LJ8EXU,RCC7AK_Eric vs B00NWZ1RCK,APEC_PH75;B003XELTTG,RCC7 vs B00I0ZGOZM,APEC RO50;';

127 
groupNumb”s
(
$group
,'review gap');

129 
	$fÜ—ch
(
$aGroups
 
as
 
$group
) {

130 ià(
	`sub¡r
(
$group
,0,1)<>'-' 
ªd
 
	`¡¾’
($group)>15) {

131 
	`MwsGroupNumb”s
(
$group
,
	`¬¿y
('rank1'));

132 
	`NewGroupNumb”s
(
$group
,
	`¬¿y
('price','avgrating','reviews'));

135 
	}
}

137 
funùiÚ
 
	$»v›wG­
(
$asš1
,
$asš2
,
$t™Ë
){

138 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
;

139 
$sumif
="ROUND(MAX(IF(asin='$asin1',reviews,0))/10,1) AS '$asin1„eviews',ROUND(MAX(IF(asin='$asin2',reviews,0))/10,1) AS '$asin2„eviews',";

140 
$sumif
='';

141 
$q
="SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime, $sumiàMAX(IF×sš='$asš1',»v›ws,0)è- MAX(IF×sš='$asš2',»v›ws,0)èAS g­ FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BYime DESC";

143 
$qNumb”s
="SELECT MAX(IF×sš='$asš1',a.rws,0)è- MAX(IF×sš='$asš2',a.rws,0)èAS g­, SUM(IF×.asš = '$asš1',‡.rk1, 0)èa '$asš1„ªk1' , SUM(IF×.asš = '$asš1',‡.rk2, 0)èa '$asš1„ªk2' , SUM(IF×.asš = '$asš1',‡.rws, 0)èa '$asš1„ev›ws' , SUM(IF×.asš = '$asš1',‡.ªg, 0)èa '$asš1‡vg¿tšg' , SUM(IF×.asš = '$asš1',‡.pû, 0)èa '$asš1…riû' , '$asš1 \n\t'‡ '$asš1', SUM(IF×.asš = '$asš2',‡.rk1, 0)èa '$asš2„ªk1' , SUM(IF×.asš = '$asš2',‡.rk2, 0)èa '$asš2„ªk2' , SUM(IF×.asš = '$asš2',‡.rws, 0)èa '$asš2„ev›ws' , SUM(IF×.asš = '$asš2',‡.ªg, 0)èa '$asš2‡vg¿tšg' , SUM(IF×.asš = '$asš2',‡.pû, 0)èa '$asš2…riû' , '$asš2 \n'‡ '$asš2' FROM (SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime,‡sš, ROUND×vgÔªk1),0èa rk1 , ROUND×vgÔªk2),0èa rk2 , ROUND(MAXÔev›ws),0èa rw , ROUND×vg×vg¿tšg),1èa ªg , ROUND×vgÕriû),2èa pû FROM‡sš_us_numb” WHERE‡sš IN ('$asš1','$asš2'èAND„ªk1 > 0 ANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." group by‡sin, dtime )‡ GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BY dtime DESC";

145 
echo
 "<li><aarget=_blank href=\"reviewgap.php\">Reviews gap: $title</a><br>";

146 
$aToŞtD©a
=
	`sqlqu”y
(
$qNumb”s
);

149 
$aToŞtD©a
['h—d”']=
	`¡r_»¶aû
('|',"\t",'g­|'. 
ToŞtH—d”s
 .'|asin');

150 
$aM­D©a
=
	`sqlqu”y
(
$q
);

151 
	`myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,120);

152 
	}
}

154 
funùiÚ
 
groupNumb”s
(
$group
,
$®‹r
=''){

155 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
,
$aSkus
,
$sAsšsW™hRªk1NÙToBeDevidedBy1000
;

156 
	g$qBa£Sub
=
$q1Sub
=
$qAÎSub
=
$™ems
=''; 
	g$Ëg’d
='<div font-size: 0.875em; /* 14px/16=0.875em */>';

158 
	g$aLšes
=
ex¶ode
("\n",
$group
);

159 
fÜ—ch
(
ex¶ode
('|',
ToŞtH—d”s
è
as
 
$h
) {

160 
	g$qAÎSub
 .= ",'\n$h:' AS '$h'";

161 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

162 
	g$Ê
=0;$Ê<
couÁ
(
$aLšes
);$ln++) {

163 
	g$lše
=
$aLšes
[
$Ê
];

164 ià(
¡½os
(
$lše
,'--')>-1) { ;}

165 ià(
´eg_m©ch
(';h‰ps://www.amazÚ.com/(\w+-\w+-\w+).*/dp/(B\w{9});',
$lše
,
$m
)) {

166 
	g$lše
=
$m
[2] .','. $m[1];

168 
	g$aVs
=
ex¶ode
(',',
$lše
);

169 ià(
¡½os
(
$lše
,',')==
çl£
) ;

170 
	g$asš
=
$aVs
[0];

171 
	g$sku
=
$aVs
[1];

172 ià(
¡ros
(
$Ëg’d
,
$asš
)==
çl£
) {

173 
$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></¥ª><¨t™Ë=\"O³À". 
$asš
 ."‡ˆAmazÚ.". 
$dnsCouÁry
 ."\"arget=_blank href=\"http://www.amazon.". $dnsCountry ."/dp/$asin\">$sku</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

174 
	g$™ems
 .ğ
$lše
 .';';

175 
	g$aSkus
[] = 
$sku
;

176 
	g$aAsšs
[] = 
$asš
;

178 
	g$sAsšs
 = 
im¶ode
("','",
$aAsšs
);

179 
	g$sSkus
 = 
im¶ode
(',',
$aSkus
);

180 ià(
	g$»giÚ
 <> 'us' 
Ü
 
´eg_m©ch
(
$sAsšsW™hRªk1NÙToBeDevidedBy1000
,
$group
)==
FALSE
) {

181 
$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 - IF(a.rk1<1000,a.rk1,ROUND(a.rk1/1000,1)), 0))‡s '$sku„ank1' ";

183 
	g$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 -‡.rk1, 0))‡s '$sku„ank1' ";

187 ià(
	g$h
=='price') {

188 
$qAÎSub
 .= ", CONCAT('$',SUM(IF(a.asin = '$asin',‡.$sh, 0)))‡s '$sku $h' ";

190 
	g$qAÎSub
 .= ", SUM(IF(a.asin = '$asin',‡.$sh, 0))‡s '$sku $h' ";

198 
	g$decim®
=0;

199 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

200 ià(
	g$h
=='avg¿tšg'è
$decim®
=1;

201 ià(
	g$h
=='´iû'è{ 
$decim®
=2; }

202 
	g$qBa£Sub
 .= ", ROUND(avg($h),$decimal)‡s $sh ";

204 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„ank1 > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

206 ià(
	g$®‹r
=='review gap' ) {

207 
$sAsšs
=
$q1Sub
=''; 
	g$Ëg’d
='Rev›w g­: '; 
un£t
(
$aAsšs
); 
	g$Ê
=0;

208 
fÜ—ch
(
ex¶ode
(';',
$group
è
as
 
$·œ
) {

210 ià(
´eg_m©ch_®l
('/(B\w{9}),([\w \_\-]+èv (B\w{9}),([\w \_\-]+)/',
$·œ
,
$m
)) {

212 
	g$asš1
=
$m
[1][0]; 
	g$aAsšs
[]=
$asš1
;

213 
	g$sku1
=
$m
[2][0];

214 
	g$asš2
=
$m
[3][0]; 
	g$aAsšs
[]=
$asš2
;

215 
	g$sku2
=
$m
[4][0];

216 
	g$q1Sub
 .= ", MAX(IF(a.asin='$asin1',a.rws,0)) - MAX(IF(a.asin='$asin2',a.rws,0)) AS '$sku1 vs $sku2'";

217 
	g$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></span>$sku1 vs $sku2 ";

218 
	g$Ê
++;

221 
	g$sAsšs
 = 
im¶ode
("','", 
$aAsšs
);

222 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„eviews > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0)‡ GROUP BY dtime ORDER BY dtime DESC";

223 
	g$q1
=
¡r_»¶aû
(
$d©eFÜm©
,'%y/%m/%d',
$q1
);

224 
	g$q1
=
¡r_»¶aû
(
$days
,
¡¹Ùime
('28 day ago'),
$q1
);

231 
	g$qAÎ
=
¡r_»¶aû
("$q1Sub", 
sub¡r
(
$qAÎSub
,0),
$q1
);

232 ià(
¡ros
(
__FILE__
,'b‘a')>1è
	gecho
 '<li>'. 
	g$q1
 .'<li>'. 
	g$qAÎ
 .'<p>';

233 
	g$aM­D©a
=
sqlqu”y
(
$q1
);

234 
	g$aToŞtD©a
=
sqlqu”y
(
$qAÎ
);

236 
	g$aToŞtD©a
['h—d”']=
im¶ode
("\t",
$aSkus
);

242 
fÜ—ch
(
ex¶ode
(',',
PERIODS
è
as
 
$d©eRªge
) {

243 iàĞ(
is£t
(
$_GET
['³riod']è
ªd
 
	g$d©eRªge
==$_GET['³riod']è
Ü
 ( 
em±y
($_GET['™ems']èªd 
$d©eRªge
=='24 hours' )) {

245 
$Ëg’d
 .= '* ';

247 
	g$Ëg’d
 .ğ'<¨t™Ë="Ch¬ˆoà'. 
$d©eRªge
 .'‡v”ªge" h»f="'. 
ba£Çme
(
__FILE__
è.'?»giÚ='. 
$»giÚ
 .'&³riod='. 
¡r_»¶aû
(' ','+',$dateRange) . "&items=$items\">$dateRange</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

249 
	g$Ëg’d
 .='<br></div>';

250 
echo
 
	g$Ëg’d
;

251 
	g$image_height
 = 200;

252 
	g$image_height
 = 
couÁ
(
$aLšes
)*50;

253 ià(
	g$image_height
 < 100) $image_height=100;

255 
myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,
$image_height
);

256 
	gecho
 '<br>';

258 ià(!
em±y
(
$_GET
['items'])) {

259 
	g$qAv”age
=
¡r_»¶aû
(
$d©eFÜm©
,'%Y',
$q1
);

260 
	g$aAvgD©a
=
sqlqu”y
(
$qAv”age
);

261 
	gecho
 'Av”agoàÏ¡ <B>'. 
	g$_GET
['period'] .'</B>';

262 
di¥ÏyA¼ayToTabË
(
$aAvgD©a
,"Average of†ast $dateRange");

267 
di¥ÏyA¼ayToTabË
(
$aToŞtD©a
, "Detail of†ast $dateRange");

273 
funùiÚ
 
myd¿wch¬t
(
$aM­D©a
,
$t™Ë_c
='',
$t™Ë_x
='',
$yLeg’ts
='',
$width
=1600,
$height
=120){

277 
glob®
 
$aCŞÜs
, 
$iM­
;

278 ià(
couÁ
(
$aM­D©a
) > 48) {

279 
	g$¬¿ys
 = 
¬¿y_chunk
(
$aM­D©a
,48);

280 
fÜ—ch
(
$¬¿ys
 
as
 
$¬¿y
) {

281 
	g$width
=
couÁ
(
$¬¿y
)*32;

282 ià(
	g$width
<640) $width=640;

283 
myd¿wch¬t
(
$¬¿y
,
$t™Ë_c
,
$t™Ë_x
,
$yLeg’ts
,
$width
,
$height
);

287 #Thi 
glob®
 
¡ršg
 
accumuÏ‹s
 
the
 
image
 
m­
 
AREA
 
gs
.

290 
	g$¶Ù
 = 
Ãw
 
PHPlÙ
(
$width
,
$height
);

291 #Di§bË 
”rÜ
 
images
, 
sšû
 
this
 
süt
 
´oduûs
 
HTML
:

292 
	g$¶Ù
->
S‘Fau»Image
(
F®£
);

294 
	g$¶Ù
->
S‘PrštImage
(
F®£
);

297 
	g$¶Ù
->
S‘FÚtTTF
('x_label', '/var/www/html/uat/mt/lib/Yagora.ttf', 9);

298 
	g$¶Ù
->
S‘FÚtTTF
('y_label', '/var/www/html/uat/mt/lib/Yagora.ttf', 8);

299 ià(
couÁ
(
$aM­D©a
è>ğ21è{
$¶Ù
->
S‘XLab–AngË
(45);}

300 
	g$¶Ù
->
S‘YD©aLab–AngË
(90);

317 
	g$¶Ù
->
S‘D©aV®ues
(
$aM­D©a
);

320 
	g$¶Ù
->
S‘T™Ë
(
$t™Ë_c
);

327 
	g$¶Ù
->
S‘XTickInüem’t
(1);

328 
	g$¶Ù
->
S‘D¿wXGrid
(
True
);

329 
	g$¶Ù
->
S‘D¿wYGrid
(
F®£
);

330 
	g$¶Ù
->
S‘XTickAnchÜ
(0.5);

331 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

332 
	g$¶Ù
->
S‘XD©aLab–Pos
('plotdown');

333 
	g$¶Ù
->
TuÃYAutoRªge
(1, 'R', 0);

334 
	g$¶Ù
->
S‘YD©aLab–Pos
('plotin');

336 
	g$¶Ù
->
S‘YD©aLab–AngË
(0);

337 
	g$¶Ù
->
S‘PlÙTy³
('linepoints');

338 
	g$¶Ù
->
S‘YTickLab–Pos
('none');

339 
	g$¶Ù
->
S‘D©aCŞÜs
(
$aCŞÜs
);

340 
	g$¶Ù
->
S‘LšeStyËs
('solid');

341 
	g$¶Ù
->
S‘LšeWidths
(1);

344 ià(
¡½os
(
$yLeg’ts
,',') > 2) {

346 
	g$Ëg’d
 = 
ex¶ode
(',',
$yLeg’ts
);

347 
	g$¶Ù
->
S‘Leg’d
(
$Ëg’d
);

352 
	g$¶Ù
->
S‘Leg’dPix–s
(250, 1);

355 ià(
¡¾’
(
$yLeg’ts
)>1è
	g$¶Ù
->
S‘Leg’d
($yLegents);

356 
	g$¶Ù
->
S‘Leg’dPos™iÚ
(1, 0, 'plot', 0.5, 0);

360 #S‘ 
the
 
d©a_pošts
 
ÿÎback
 
which
 
wl
 
g’”©e
h
image
 
m­
.

362 
	g$¶Ù
->
S‘C®lback
('data_points', 'store_map');

363 
	g$¶Ù
->
D¿wG¿ph
();

365 
	g$m­Id
=
¿nd
();

366 
	gecho
 '<m­‚ame="m­'. 
	g$m­Id
 .'">' . 
	g$iM­
 .'</m­><img src="'. 
	g$¶Ù
->
EncodeImage
() .'"‡lt="Plot Image" usemap="#map'. $mapId .'">' ."\n";

367 
	g$iM­
='';

370 
funùiÚ
 
MwsGroupNumb”s
(
$group
,
$aH
,
$®‹r
=''){

371 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
,
$aSkus
,
$sAsšsW™hRªk1NÙToBeDevidedBy1000
;

372 
	g$qBa£Sub
=
$q1Sub
=
$qAÎSub
=
$™ems
=''; 
	g$Ëg’d
='<div font-size: 0.875em; /* 14px/16=0.875em */>';

373 
	g$aLšes
=
ex¶ode
("\n",
$group
);

375 
fÜ—ch
(
$aH
 
as
 
$h
) {

376 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

377 
	g$q1
=
$q1Sub
='';

378 
	g$Ê
=0;$Ê<
couÁ
(
$aLšes
);$ln++) {

379 
	g$lše
=
$aLšes
[
$Ê
];

380 ià(
¡½os
(
$lše
,'--')>-1) { ;}

381 ià(
´eg_m©ch
(';h‰ps://www.amazÚ.com/(\w+-\w+-\w+).*/dp/(B\w{9});',
$lše
,
$m
)) {

382 
	g$lše
=
$m
[2] .','. $m[1];

384 
	g$aVs
=
ex¶ode
(',',
$lše
);

385 ià(
¡½os
(
$lše
,',')==
çl£
) ;

386 
	g$asš
=
$aVs
[0];

387 
	g$sku
=
$aVs
[1];

388 ià(
¡ros
(
$Ëg’d
,
$asš
)==
çl£
) {

389 
$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></¥ª><¨t™Ë=\"O³À". 
$asš
 ."‡ˆAmazÚ.". 
$dnsCouÁry
 ."\"arget=_blank href=\"http://www.amazon.". $dnsCountry ."/dp/$asin\">$sku</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

390 
	g$™ems
 .ğ
$lše
 .';';

391 
	g$aSkus
[] = 
$sku
;

392 
	g$aAsšs
[] = 
$asš
;

394 
	g$sAsšs
 = 
im¶ode
("','",
$aAsšs
);

395 
	g$sSkus
 = 
im¶ode
(',',
$aSkus
);

397 
	g$İ
='+'; ià(
	g$h
=='¿nk1'è
$İ
='-';

398 ià(
	g$»giÚ
 <> 'ÿ' 
ªd
 
	g$h
=='rank1' ) {

399 
$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 $op IF(a.$sh<1000,a.$sh,ROUND(a.$sh/1000,1)), 0))‡s '$sku $h' ";

401 
	g$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 $op‡.$sh, 0))‡s '$sku $h' ";

405 ià(
	g$h
=='price') {

406 
$qAÎSub
 .= ", CONCAT('$',SUM(IF(a.asin = '$asin',‡.$sh, 0)))‡s '$sku $h' ";

408 
	g$qAÎSub
 .= ", SUM(IF(a.asin = '$asin',‡.$sh, 0))‡s '$sku $h' ";

416 
	g$decim®
=0;

417 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

418 ià(
	g$h
=='avg¿tšg'è
$decim®
=1;

419 ià(
	g$h
=='´iû'è{ 
$decim®
=2; }

420 
	g$qBa£Sub
 .= ", ROUND(avg($h),$decimal)‡s $sh ";

421 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND $h > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING $sh>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

422 ià(
	g$h
=='¿nk1'è
$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(DATE_SUB(updated, INTERVAL 4 HOUR),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM mws_us WHERE‡sin IN ('$sAsins') AND $h > 0 AND updated >= FROM_UNIXTIME($days) GROUP BY‡sin, dtime HAVING $sh>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

424 
	g$aM­D©a
=
$aToŞtD©a
=
sqlqu”y
(
$q1
);

425 
	g$image_height
 = 200;

426 
	g$image_height
 = 
couÁ
(
$aLšes
)*45;

427 ià(
	g$image_height
 < 100) $image_height=100;

429 
	g$image_width
 = 
couÁ
(
$aM­D©a
)*77;

430 ià(
	g$image_width
 < 1400) $image_width=1400;

431 
fÜ—ch
(
ex¶ode
(',',
PERIODS
è
as
 
$d©eRªge
) {

432 iàĞ(
is£t
(
$_GET
['³riod']è
ªd
 
	g$d©eRªge
==$_GET['³riod']è
Ü
 ( 
em±y
($_GET['™ems']èªd 
$d©eRªge
=='24 hours' )) {

434 
$Ëg’d
 .= '* ';

436 
	g$Ëg’d
 .ğ'<¨rg‘=_bÏnk™Ë="Ch¬ˆoà'. 
$d©eRªge
 .'‡v”ªge" h»f="'. 
ba£Çme
(
__FILE__
è.'?»giÚ='. 
$»giÚ
 .'&³riod='. 
¡r_»¶aû
(' ','+',$dateRange) . "&items=$items\">$dateRange</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

438 
	g$Ëg’d
 .='<br></div>';

439 ià(
	g$h
=='¿nk1'è
echo
 '<hr>'. 
$Ëg’d
;

440 ià(
is_¬¿y
(
$aM­D©a
è
	gªd
 !
em±y
($aM­D©a)è
NewD¿wCh¬t
($aM­D©a,
$aToŞtD©a
,
$h
,'time','',
$image_width
,
$image_height
);

442 ià(!
em±y
(
$_GET
['items'])) {

443 
	g$qAv”age
=
¡r_»¶aû
(
$d©eFÜm©
,'%Y',
$q1
);

444 
	g$aAvgD©a
=
sqlqu”y
(
$qAv”age
);

445 
	gecho
 '<br>Av”agoàÏ¡ <B>'. 
	g$_GET
['period'] .'</B>';

446 
di¥ÏyA¼ayToTabË
(
$aAvgD©a
,"Average of†ast $dateRange");

447 
di¥ÏyA¼ayToTabË
(
$aM­D©a
, "Detail of†ast $dateRange");

452 
funùiÚ
 
NewGroupNumb”s
(
$group
,
$aH
,
$®‹r
=''){

453 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
,
$aSkus
,
$sAsšsW™hRªk1NÙToBeDevidedBy1000
;

454 
	g$qBa£Sub
=
$q1Sub
=
$qAÎSub
=
$™ems
=''; 
	g$Ëg’d
='<div font-size: 0.875em; /* 14px/16=0.875em */>';

455 
	g$aLšes
=
ex¶ode
("\n",
$group
);

457 
fÜ—ch
(
$aH
 
as
 
$h
) {

458 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

459 
	g$q1
=
$q1Sub
='';

460 
	g$Ê
=0;$Ê<
couÁ
(
$aLšes
);$ln++) {

461 
	g$lše
=
$aLšes
[
$Ê
];

462 ià(
¡½os
(
$lše
,'--')>-1) { ;}

463 ià(
´eg_m©ch
(';h‰ps://www.amazÚ.com/(\w+-\w+-\w+).*/dp/(B\w{9});',
$lše
,
$m
)) {

464 
	g$lše
=
$m
[2] .','. $m[1];

466 
	g$aVs
=
ex¶ode
(',',
$lše
);

467 ià(
¡½os
(
$lše
,',')==
çl£
) ;

468 
	g$asš
=
$aVs
[0];

469 
	g$sku
=
$aVs
[1];

470 ià(
¡ros
(
$Ëg’d
,
$asš
)==
çl£
) {

471 
$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></¥ª><¨t™Ë=\"O³À". 
$asš
 ."‡ˆAmazÚ.". 
$dnsCouÁry
 ."\"arget=_blank href=\"http://www.amazon.". $dnsCountry ."/dp/$asin\">$sku</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

472 
	g$™ems
 .ğ
$lše
 .';';

473 
	g$aSkus
[] = 
$sku
;

474 
	g$aAsšs
[] = 
$asš
;

476 
	g$sAsšs
 = 
im¶ode
("','",
$aAsšs
);

477 
	g$sSkus
 = 
im¶ode
(',',
$aSkus
);

479 
	g$İ
='+'; ià(
	g$h
=='¿nk1'è
$İ
='-';

480 ià(
	g$»giÚ
 <> 'ÿ' 
ªd
 
	g$h
=='rank1' ) {

481 
$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 $op IF(a.$sh<1000,a.$sh,ROUND(a.$sh/1000,1)), 0))‡s '$sku $h' ";

483 
	g$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 $op‡.$sh, 0))‡s '$sku $h' ";

487 ià(
	g$h
=='price') {

488 
$qAÎSub
 .= ", CONCAT('$',SUM(IF(a.asin = '$asin',‡.$sh, 0)))‡s '$sku $h' ";

490 
	g$qAÎSub
 .= ", SUM(IF(a.asin = '$asin',‡.$sh, 0))‡s '$sku $h' ";

498 
	g$decim®
=0;

499 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

500 ià(
	g$h
=='avg¿tšg'è
$decim®
=1;

501 ià(
	g$h
=='´iû'è{ 
$decim®
=2; }

502 
	g$qBa£Sub
 .= ", ROUND(avg($h),$decimal)‡s $sh ";

503 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND $h > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING $sh>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

505 
	g$aM­D©a
=
$aToŞtD©a
=
sqlqu”y
(
$q1
);

506 
	g$image_height
 = 200;

507 
	g$image_height
 = 
couÁ
(
$aLšes
)*45;

508 ià(
	g$image_height
 < 100) $image_height=100;

510 
	g$image_width
 = 
couÁ
(
$aM­D©a
)*77;

511 ià(
	g$image_width
 < 1400) $image_width=1400;

512 
fÜ—ch
(
ex¶ode
(',',
PERIODS
è
as
 
$d©eRªge
) {

513 iàĞ(
is£t
(
$_GET
['³riod']è
ªd
 
	g$d©eRªge
==$_GET['³riod']è
Ü
 ( 
em±y
($_GET['™ems']èªd 
$d©eRªge
=='24 hours' )) {

515 
$Ëg’d
 .= '* ';

517 
	g$Ëg’d
 .ğ'<¨rg‘=_bÏnk™Ë="Ch¬ˆoà'. 
$d©eRªge
 .'‡v”ªge" h»f="'. 
ba£Çme
(
__FILE__
è.'?»giÚ='. 
$»giÚ
 .'&³riod='. 
¡r_»¶aû
(' ','+',$dateRange) . "&items=$items\">$dateRange</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

519 
	g$Ëg’d
 .='<br></div>';

520 ià(
	g$h
=='¿nk1'è
echo
 '<hr>'. 
$Ëg’d
;

521 ià(
is_¬¿y
(
$aM­D©a
è
	gªd
 !
em±y
($aM­D©a)è
NewD¿wCh¬t
($aM­D©a,
$aToŞtD©a
,
$h
,'time','',
$image_width
,
$image_height
);

523 ià(!
em±y
(
$_GET
['items'])) {

524 
	g$qAv”age
=
¡r_»¶aû
(
$d©eFÜm©
,'%Y',
$q1
);

525 
	g$aAvgD©a
=
sqlqu”y
(
$qAv”age
);

526 
	gecho
 '<br>Av”agoàÏ¡ <B>'. 
	g$_GET
['period'] .'</B>';

527 
di¥ÏyA¼ayToTabË
(
$aAvgD©a
,"Average of†ast $dateRange");

528 
di¥ÏyA¼ayToTabË
(
$aM­D©a
, "Detail of†ast $dateRange");

533 
funùiÚ
 
NewD¿wCh¬t
(
$aM­D©a
,
$aToŞtD©a
,
$h
='',
$t™Ë_x
='',
$yLeg’ts
='',
$width
=1600,
$height
=120){

543 
glob®
 
$aCŞÜs
, 
$iM­
;

545 
	g$yAxisTy³
 = 'lš—r'; 
	g$¶ÙTy³
='linepoints';

546 ià(
¡ri¡r
('¿nk1,»v›wG­',
$h
)==
FALSE
è{
$¶ÙTy³
='b¬s'; 
	g$height
=
$height
*0.7;}

548 ià(
couÁ
(
$aM­D©a
) > 48) {

549 
	g$¬¿ys
 = 
¬¿y_chunk
(
$aM­D©a
,48);

550 
fÜ—ch
(
$¬¿ys
 
as
 
$¬¿y
) {

551 
	g$width
=
couÁ
(
$¬¿y
)*32;

552 ià(
	g$width
<640) $width=640;

553 
NewD¿wCh¬t
(
$¬¿y
,
$h
,
$t™Ë_x
,
$yLeg’ts
,
$width
,
$height
);

558 
	g$¶Ù
 = 
Ãw
 
PHPlÙ
(
$width
,
$height
);

559 #Di§bË 
”rÜ
 
images
, 
sšû
 
this
 
süt
 
´oduûs
 
HTML
:

561 
	g$¶Ù
->
S‘PlÙTy³
(
$¶ÙTy³
);

562 
	g$¶Ù
->
S‘YSÿËTy³
(
$yAxisTy³
);

564 
	g$¶Ù
->
S‘YT™Ë
(
$h
);

565 ià(
	g$h
<>'¿nk1'è{ 
	g$¶Ù
->
S‘YD©aLab–AngË
(90); $¶Ù->
S‘M¬gšsPix–s
(
NULL
, NULL, 50); }

566 ià(
	g$¶ÙTy³
=='b¬s'è{
$¶Ù
->
b¬_width_adju¡
=0.2; 
	g$¶Ù
->
	ggroup_äac_width
=0.6; }

567 
	g$¶Ù
->
S‘PrštImage
(
F®£
);

568 
	g$¶Ù
->
S‘FÚtTTF
('x_label', '/var/www/html/uat/mt/lib/Yagora.ttf', 9);

569 
	g$¶Ù
->
S‘FÚtTTF
('y_label', '/var/www/html/uat/mt/lib/Yagora.ttf', 8);

570 ià(
couÁ
(
$aM­D©a
è> 21è{
	g$¶Ù
->
S‘XLab–AngË
(45);}

571 
	g$¶Ù
->
S‘D©aV®ues
(
$aM­D©a
);

572 
	g$¶Ù
->
S‘XTickInüem’t
(1);

573 
	g$¶Ù
->
S‘D¿wXGrid
(
True
);

574 
	g$¶Ù
->
S‘D¿wYGrid
(
F®£
);

575 
	g$¶Ù
->
S‘XTickAnchÜ
(0.5);

576 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

577 
	g$¶Ù
->
S‘XD©aLab–Pos
('plotdown');

578 
	g$¶Ù
->
TuÃYAutoRªge
(1, 'R', 0);

579 
	g$¶Ù
->
S‘YD©aLab–Pos
('plotin');

580 
	g$¶Ù
->
	gd©a_v®ue_Ïb–_di¡ªû
=0;

581 
	g$¶Ù
->
S‘YTickLab–Pos
('none');

582 
	g$¶Ù
->
S‘D©aCŞÜs
(
$aCŞÜs
);

583 
	g$¶Ù
->
S‘LšeStyËs
('solid');

584 
	g$¶Ù
->
S‘LšeWidths
(1);

585 ià(
is_¬¿y
(
$aToŞtD©a
)è
	g$¶Ù
->
S‘C®lback
('data_points', 'store_map');

586 
	g$¶Ù
->
D¿wG¿ph
();

587 
	g$m­Id
=
¿nd
();

588 
	gecho
 '<m­‚ame="m­'. 
	g$m­Id
 .'">' . 
	g$iM­
 .'</m­><img src="'. 
	g$¶Ù
->
EncodeImage
() .'"‡lt="Plot Image" usemap="#map'. $mapId .'">' ."\n";

589 
	g$iM­
='';

592 
funùiÚ
 
	$di¥ÏyA¼ayToTabË
(
$¬¿y
, 
$bËId
=1) {

599 ià(
	`couÁ
(
$¬¿y
) > 0) {

600 
echo
 '<bË id="'. 
$bËId
 .'" cÏss="sÜbË"><th—d><Œ cÏss="hov”"><th>'. 
	`im¶ode
('</th><th>', 
	`¬¿y_keys
(
	`cu¼’t
(
$¬¿y
))) ."</th></tr></thead><tbody>";

601 
	`fÜ—ch
 (
$¬¿y
 
as
 
$row
) {

602 ià(!
	`is_¬¿y
(
$row
è
Ü
 
	`em±y
($row)) ;

604 
	`¬¿y_m­
('htmËÁ™›s', 
$row
);

605 
echo
 '<Œ cÏss="hov”"><td><div>'. 
	`im¶ode
('</div></td><td><div>', 
$row
) .'</div></td></tr>';

607 
echo
 "</tbody></table>";

609 
	}
}

611 
funùiÚ
 
¡Üe_m­
(
$img
, 
$·s¡hru
, 
$sh­e
='dÙ', 
$row
, 
$cŞumn
, 
$x
, 
$y
) {

612 
glob®
 
	g$iM­
,
	g$aToŞtD©a
,
	g$aSkus
;

614 #Lšk 
URL
, 
demÚ¡¿tiÚ
 
Úly
:

616 #CÚv”ˆ
coÜdš©es
 
to
 
š‹g”s
:

618 #Aµ’d 
the
 
»cÜd
 
this
 
d©a
 
pošt
 
sh­e
 
to
h
image
 
m­
 
¡ršg
:

622 
	g$coÜds
 = 
¥rštf
("%d,%d,%d", 
$x
, 
$y
, 5);

629 
	g$toŞt
='';

630 
fÜ—ch
 (
$aToŞtD©a
[
$row
] 
as
 
$k
=>
$v
) {

631 ià(
$k
<>'dtime'è
$v
 = 
abs
($v);

632 
	g$toŞt
 .ğ
$k
 .'='. 
$v
 ."\n";

634 #Requœed 
®t
-
‹xt
:

635 
	g$®t
 = 
im¶ode
("\t",
$aSkus
);

636 
	g$iM­
 .= " <area shape=\"circle\" coords=\"$coords\"itle=\"$tooltip\">\n";

639 
funùiÚ
 
li¡_sku_by_owÃr_Ãw
(
$owÃr
=''){

641 
$lšes
=
$sCompAsšs
=
$owÃrf‹r
='';

642 ià(
	g$owÃr
<>''è
	g$owÃrf‹r
="WHERE owner='$owner'";

643 
	g$q
="SELECT DISTINCTier,asin,sku,owner,comp,lastupdated FROM `GoogleSheet4LA1Tier` $ownerfilter ORDER BY†astupdated DESC,ier, sku,‡sin, owner;";

644 
	g$aSqlQu”yResuÉs
 = 
sqlqu”y
(
$q
);

645 
¬¿y_muÉisÜt
(
$aSqlQu”yResuÉs
);

646 
fÜ—ch
(
$aSqlQu”yResuÉs
 
as
 
$r
){

647 
	g$sku
=
Œim
(
$r
['sku']);

649 
	g$asš
=
Œim
(
$r
['asin']);

650 
	g$t›r
=
Œim
(
$r
['tier']);

651 
	g$owÃr
=
Œim
(
$r
['owner']);

653 ià(
couÁ
(
$r
)>3 
ªd
 
´eg_m©ch_®l
('/B0\w{8}/',' '.$r['comp'],
$m
)) {

655 
fÜ—ch
 (
$m
[0] 
as
 
$v
) {

657 
	g$sCompAsšs
 .ğ
Œim
(
$v
) .','.rim($v) ."\n";

661 
	g$lšes
 .ğ
$asš
 .','. 
$sku
 ."\n". 
$sCompAsšs
 ."\n\n";

662 
	g$sCompAsšs
 = '';

665  
	g$lšes
;

668 
funùiÚ
 
li¡_sku_by_owÃr
(
$owÃr
=''){

669 
glob®
 
$aAsšSku
,
$aSkuAsš
;

670 ià(
	g$owÃr
<>''è
	g$owÃrf‹r
="WHERE owner='$owner'";

671 
	g$q
="SELECT DISTINCT url,sku,tier,owner FROM `sku_assign` $ownerfilter ORDER BY†astupdated DESC,ier, sku ";

672 
fÜ—ch
(
sqlqu”y
(
$q
è
as
 
$r
){

673 
	g$sku
=
$r
['sku'];

675 
	g$u¾
=
$r
['url'];

676 
	g$t›r
=
$r
['tier'];

677 
	g$owÃr
=
$r
['owner'];

679 ià(
´eg_m©ch
('-/(B\w{9})-',
$u¾
,
$m
)) {

680 
	g$asš
=
$m
[1];

682 
	g$asš
=
$aSkuAsš
[
$sku
];

685 ià(
´eg_m©ch
('-(B\w{9})-',
$asš
è
ªd
 
¡ri¡r
(
$lšes
,
$sku
)==
FALSE
) $lines .= $asin .','. $sku ."\n\n";

689  
	g$lšes
;

692 
funùiÚ
 
	$upd©e_sku_assign
() {

693 
glob®
 
$aAsšSku
,
$aSkuAsš
;

694 
$li¡_u¾
='https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=tsv';

695 
$tsv
=
	`fe_g‘_cÚ‹Ás
(
$li¡_u¾
);

696 
$tsv
=
	`¡r_»¶aû
(' ','',$tsv);

697 
$q
 = '';

699 
	`fÜ—ch
 (
	`ex¶ode
("\n",
$tsv
è
as
 
$lše
) {

700 
$vs
 = 
	`ex¶ode
("\t",
$lše
);

701 ià(
	`couÁ
(
$vs
)<3) ;

702 
$lše
=
	`Œim
($line);

703 
$v®ues
=
	`d©e
('Y-m-d H:i:s'è."','". 
	`¡r_»¶aû
("\t","','",
$lše
);

704 
$q
 .= "INSERT IGNORE INTO sku_assign VALUES ('$values');\n";

708 
	}
}

	@dashboard.replacedbymws.php

1 <
	gh—d
><
lšk
 
	g»l
="shÜtcuˆicÚ" 
h»f
="mt.ico" 
ty³
="image/x-icon" />

2 <
lšk
 
h»f
="lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

3 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/sortable/sorttable.js"></script>

4 <
lšk
 
h»f
="lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

5 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/TableFilter/tablefilter.js"></script>

7 <
lšk
 
h»f
="lib/jqu”y-ui-1.10.4.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.js"></script>

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery-ui-1.10.4.min.js"></script>

10 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.dataTables.js"></script>

11 <
¡yË
>

12 
a
.
i¥ršg
:
lšk
, 
	ga
.
	gi¥ršg
:
vis™ed
 {

13 
background
-
cŞÜ
: 
blue
;

14 
	gcŞÜ
: 
wh™e
;

15 
	g·ddšg
: 4
px
 25px;

16 
	g‹xt
-
	g®ign
: 
ûÁ”
;

17 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

18 
	gdi¥Ïy
: 
šlše
-
block
;

20 
	ga
.
	gi¥ršg
:
hov”
,‡.i¥ršg:
aùive
 {

21 
cŞÜ
: 
blue
;

22 
	gbackground
-
	gcŞÜ
: 
wh™e
;

24 
	ga
.
	gcom³
:
lšk
,‡.com³:
vis™ed
 {

25 
background
-
cŞÜ
: 
g»’
;

26 
	gcŞÜ
: 
wh™e
;

27 
	g·ddšg
: 4
px
 25px;

28 
	g‹xt
-
	g®ign
: 
ûÁ”
;

29 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

30 
	gdi¥Ïy
: 
šlše
-
block
;

32 
	ga
.
	gcom³
:
hov”
,‡.com³:
aùive
 {

33 
cŞÜ
: 
g»’
;

34 
	gbackground
-
	gcŞÜ
: 
wh™e
;

36 .
	gdÙ
 {

37 
	gheight
: 12
px
;

38 
	gwidth
: 12
px
;

39 
	gbackground
-
	gcŞÜ
: #bbb;

40 
	gbÜd”
-
	g¿dius
: 50%;

41 
	gdi¥Ïy
: 
šlše
-
block
;

43 
	gbË
 {

44 
	gwidth
: 10
px
;

45 
	gbÜd”
: 1
px
 
sŞid
 
bÏck
;

46 
	gem±y
-
	gûÎs
: 
hide
;

49 
bË
 
	gth
 > 
	gdiv
,abË 
	gtd
 > div {

50 
	gov”æow
: 
hidd’
;

51 
	gheight
: 15
px
;

52 
	gfÚt
-
	gsize
: 0.875e
m
;

53 
	g·ddšg
: 0
px
;

54 
	gbÜd”
-
	gbÙtom
: 1
px
 
sŞid
 #ddd;

55 
	gv”tiÿl
-
	g®ign
: 
tİ
;

56 
	g‹xt
-
	g®ign
: 
ûÁ”
;

58 
	gŒ
.
	ghov”
:
hov”
 {
background
-
cŞÜ
:#f5f5f5;}

60 </
	g¡yË
>

61 </
	gh—d
>

62 <?
php


64 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

65 
ši_£t
('display_errors', 1);

66 
ši_£t
('display_startup_errors', 1);

67 
”rÜ_»pÜtšg
(
E_ALL
);

68 
šşude_Úû
('lib/functions.php');

70 
defše
("EMAIL_RECEPIENTS",'John@iSpringFilter.com');

71 
defše
("PERIODS",'2 years,1 years,6 months,3 months,30 days,7 days,120 hours,24 hours');

72 
defše
('TooltipHeaders','rank1|rank2|reviews|avgrating|price');

73 
	g$m­DnsCouÁr›s
=
¬¿y
('us'=>'com','ca'=>'ca','uk'=>'co.uk');

74 
	g$timeoff£t
 = 3600 * 2;

75 ià(
time
(è> 
¡¹Ùime
('Fœ¡ Sunday OàM¬ch'è
ªd
ime(è< sŒtÙime('Fœ¡ Sunday OàNovemb” 'èè
	g$timeoff£t
 = 3600 * 3;

76 
	g$»giÚ
 = 
is£t
(
$_GET
['region']) ? $_GET['region'] : 'us';

77 
	g$dnsCouÁry
=
$m­DnsCouÁr›s
[
$»giÚ
];

78 
	g$bË
 = 'asš_'. 
$»giÚ
 .'_numbers';

79 
	g$image_width
 = 1380;

81 
	g$³riod
='24 hours';

82 ià(
is£t
(
$_GET
['³riod'])è
	g$³riod
 = 
¡r_»¶aû
('+',' ',$_GET['period']);

84 (
	`´eg_m©ch
('/y—rs/',
$³riod
)): 
$d©eFÜm©
 = '%Y.%m'; 
$avgOrSum
='avg'; ;

85 (
	`´eg_m©ch
('/mÚths/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.W%v'; 
$avgOrSum
='avg'; ;

86 (
	`´eg_m©ch
('/days/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.%d%a'; 
$avgOrSum
='avg'; ;

87 (
	`´eg_m©ch
('/hours/',
$³riod
)): 
$d©eFÜm©
 = '%m/%d.%H'; 
$avgOrSum
='avg'; ;

88 : 
$d©eFÜm©
 = '%m/%d.%H';

89 
	}
}

91 
	g$aAsšSku
=
g‘_asš_sku_¬¿y
();

92 
	g$aSkuAsš
=
¬¿y_æ
(
$aAsšSku
);

93 
	g$sAsšsW™hRªk1NÙToBeDevidedBy1000
='/TTG|B002C0A7ZY|B00Q798N8E|B005LJ8EXU/';

95 iàĞ
is£t
(
$_GET
['q']è
ªd
 
	g$_GET
['q']=='skuassign' ) {

96 
upd©e_sku_assign
();

97 
echo
 
¡r_»¶aû
("\n",'<br>',
li¡_sku_by_owÃr
());

98 
	gex™
;

102 ià(!
	$em±y
(
$_GET
è
ªd
 !
	`em±y
($_GET['items'])) {

103 
$days
 = 
$³riod
 ? 
	`¡¹Ùime
('now - '. $period . ' - 3 hours') : strtotime('now - 1 years');

106 
$aGroups
[] = 
	`¡r_»¶aû
(";","\n",
	`Œim
(
$_GET
['items'],';')) ."\n";

107 
echo
 '<buttonype="button" onclick="javascript:history.back()">Back</button> ';

108 
	}
} {

109 
	g$days
 = 
¡¹Ùime
('now - 27 hours');

110 ià(
	g$»giÚ
 <> 'us'è
	g$days
 = 
¡¹Ùime
('now - 120 hours');

112 ià(
is£t
(
$_GET
['owner'])) {

113 
	g$fe
=
li¡_sku_by_owÃr
(
$_GET
['owner']);

115 
	g$fe
 = 
fe_g‘_cÚ‹Ás
('h‰p://czyu§.com/amazÚ.'. 
$»giÚ
 .'_asin_sku_competitors.txt');

117 
	g$aGroups
 = 
ex¶ode
("\n\n",
$fe
);

125 ià(
	g$»giÚ
=='us' 
ªd
 
is£t
(
$_GET
['list'])) {

126 
$group
='B005LJ8EXU,RCC7AK_Eric vs B00NWZ1RCK,APEC_PH75;B003XELTTG,RCC7 vs B00I0ZGOZM,APEC RO50;';

127 
groupNumb”s
(
$group
,'review gap');

129 
	$fÜ—ch
(
$aGroups
 
as
 
$group
) {

130 ià(
	`sub¡r
(
$group
,0,1)<>'-' 
ªd
 
	`¡¾’
($group)>15) {

131 
	`NewGroupNumb”s
(
$group
,
	`¬¿y
('rank1','price','avgrating','reviews'));

134 
	}
}

136 
funùiÚ
 
	$»v›wG­
(
$asš1
,
$asš2
,
$t™Ë
){

137 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
;

138 
$sumif
="ROUND(MAX(IF(asin='$asin1',reviews,0))/10,1) AS '$asin1„eviews',ROUND(MAX(IF(asin='$asin2',reviews,0))/10,1) AS '$asin2„eviews',";

139 
$sumif
='';

140 
$q
="SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime, $sumiàMAX(IF×sš='$asš1',»v›ws,0)è- MAX(IF×sš='$asš2',»v›ws,0)èAS g­ FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BYime DESC";

142 
$qNumb”s
="SELECT MAX(IF×sš='$asš1',a.rws,0)è- MAX(IF×sš='$asš2',a.rws,0)èAS g­, SUM(IF×.asš = '$asš1',‡.rk1, 0)èa '$asš1„ªk1' , SUM(IF×.asš = '$asš1',‡.rk2, 0)èa '$asš1„ªk2' , SUM(IF×.asš = '$asš1',‡.rws, 0)èa '$asš1„ev›ws' , SUM(IF×.asš = '$asš1',‡.ªg, 0)èa '$asš1‡vg¿tšg' , SUM(IF×.asš = '$asš1',‡.pû, 0)èa '$asš1…riû' , '$asš1 \n\t'‡ '$asš1', SUM(IF×.asš = '$asš2',‡.rk1, 0)èa '$asš2„ªk1' , SUM(IF×.asš = '$asš2',‡.rk2, 0)èa '$asš2„ªk2' , SUM(IF×.asš = '$asš2',‡.rws, 0)èa '$asš2„ev›ws' , SUM(IF×.asš = '$asš2',‡.ªg, 0)èa '$asš2‡vg¿tšg' , SUM(IF×.asš = '$asš2',‡.pû, 0)èa '$asš2…riû' , '$asš2 \n'‡ '$asš2' FROM (SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime,‡sš, ROUND×vgÔªk1),0èa rk1 , ROUND×vgÔªk2),0èa rk2 , ROUND(MAXÔev›ws),0èa rw , ROUND×vg×vg¿tšg),1èa ªg , ROUND×vgÕriû),2èa pû FROM‡sš_us_numb” WHERE‡sš IN ('$asš1','$asš2'èAND„ªk1 > 0 ANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." group by‡sin, dtime )‡ GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BY dtime DESC";

144 
echo
 "<li><aarget=_blank href=\"reviewgap.php\">Reviews gap: $title</a><br>";

145 
$aToŞtD©a
=
	`sqlqu”y
(
$qNumb”s
);

148 
$aToŞtD©a
['h—d”']=
	`¡r_»¶aû
('|',"\t",'g­|'. 
ToŞtH—d”s
 .'|asin');

149 
$aM­D©a
=
	`sqlqu”y
(
$q
);

150 
	`myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,120);

151 
	}
}

153 
funùiÚ
 
groupNumb”s
(
$group
,
$®‹r
=''){

154 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
,
$aSkus
,
$sAsšsW™hRªk1NÙToBeDevidedBy1000
;

155 
	g$qBa£Sub
=
$q1Sub
=
$qAÎSub
=
$™ems
=''; 
	g$Ëg’d
='<div font-size: 0.875em; /* 14px/16=0.875em */>';

157 
	g$aLšes
=
ex¶ode
("\n",
$group
);

158 
fÜ—ch
(
ex¶ode
('|',
ToŞtH—d”s
è
as
 
$h
) {

159 
	g$qAÎSub
 .= ",'\n$h:' AS '$h'";

160 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

161 
	g$Ê
=0;$Ê<
couÁ
(
$aLšes
);$ln++) {

162 
	g$lše
=
$aLšes
[
$Ê
];

163 ià(
¡½os
(
$lše
,'--')>-1) { ;}

164 ià(
´eg_m©ch
(';h‰ps://www.amazÚ.com/(\w+-\w+-\w+).*/dp/(B\w{9});',
$lše
,
$m
)) {

165 
	g$lše
=
$m
[2] .','. $m[1];

167 
	g$aVs
=
ex¶ode
(',',
$lše
);

168 ià(
¡½os
(
$lše
,',')==
çl£
) ;

169 
	g$asš
=
$aVs
[0];

170 
	g$sku
=
$aVs
[1];

171 ià(
¡ros
(
$Ëg’d
,
$asš
)==
çl£
) {

172 
$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></¥ª><¨t™Ë=\"O³À". 
$asš
 ."‡ˆAmazÚ.". 
$dnsCouÁry
 ."\"arget=_blank href=\"http://www.amazon.". $dnsCountry ."/dp/$asin\">$sku</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

173 
	g$™ems
 .ğ
$lše
 .';';

174 
	g$aSkus
[] = 
$sku
;

175 
	g$aAsšs
[] = 
$asš
;

177 
	g$sAsšs
 = 
im¶ode
("','",
$aAsšs
);

178 
	g$sSkus
 = 
im¶ode
(',',
$aSkus
);

179 ià(
	g$»giÚ
 <> 'us' 
Ü
 
´eg_m©ch
(
$sAsšsW™hRªk1NÙToBeDevidedBy1000
,
$group
)==
FALSE
) {

180 
$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 - IF(a.rk1<1000,a.rk1,ROUND(a.rk1/1000,1)), 0))‡s '$sku„ank1' ";

182 
	g$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 -‡.rk1, 0))‡s '$sku„ank1' ";

186 ià(
	g$h
=='price') {

187 
$qAÎSub
 .= ", CONCAT('$',SUM(IF(a.asin = '$asin',‡.$sh, 0)))‡s '$sku $h' ";

189 
	g$qAÎSub
 .= ", SUM(IF(a.asin = '$asin',‡.$sh, 0))‡s '$sku $h' ";

197 
	g$decim®
=0;

198 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

199 ià(
	g$h
=='avg¿tšg'è
$decim®
=1;

200 ià(
	g$h
=='´iû'è{ 
$decim®
=2; }

201 
	g$qBa£Sub
 .= ", ROUND(avg($h),$decimal)‡s $sh ";

203 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„ank1 > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

205 ià(
	g$®‹r
=='review gap' ) {

206 
$sAsšs
=
$q1Sub
=''; 
	g$Ëg’d
='Rev›w g­: '; 
un£t
(
$aAsšs
); 
	g$Ê
=0;

207 
fÜ—ch
(
ex¶ode
(';',
$group
è
as
 
$·œ
) {

209 ià(
´eg_m©ch_®l
('/(B\w{9}),([\w \_\-]+èv (B\w{9}),([\w \_\-]+)/',
$·œ
,
$m
)) {

211 
	g$asš1
=
$m
[1][0]; 
	g$aAsšs
[]=
$asš1
;

212 
	g$sku1
=
$m
[2][0];

213 
	g$asš2
=
$m
[3][0]; 
	g$aAsšs
[]=
$asš2
;

214 
	g$sku2
=
$m
[4][0];

215 
	g$q1Sub
 .= ", MAX(IF(a.asin='$asin1',a.rws,0)) - MAX(IF(a.asin='$asin2',a.rws,0)) AS '$sku1 vs $sku2'";

216 
	g$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></span>$sku1 vs $sku2 ";

217 
	g$Ê
++;

220 
	g$sAsšs
 = 
im¶ode
("','", 
$aAsšs
);

221 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„eviews > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0)‡ GROUP BY dtime ORDER BY dtime DESC";

222 
	g$q1
=
¡r_»¶aû
(
$d©eFÜm©
,'%y/%m/%d',
$q1
);

223 
	g$q1
=
¡r_»¶aû
(
$days
,
¡¹Ùime
('28 day ago'),
$q1
);

230 
	g$qAÎ
=
¡r_»¶aû
("$q1Sub", 
sub¡r
(
$qAÎSub
,0),
$q1
);

231 ià(
¡ros
(
__FILE__
,'b‘a')>1è
	gecho
 '<li>'. 
	g$q1
 .'<li>'. 
	g$qAÎ
 .'<p>';

232 
	g$aM­D©a
=
sqlqu”y
(
$q1
);

233 
	g$aToŞtD©a
=
sqlqu”y
(
$qAÎ
);

235 
	g$aToŞtD©a
['h—d”']=
im¶ode
("\t",
$aSkus
);

241 
fÜ—ch
(
ex¶ode
(',',
PERIODS
è
as
 
$d©eRªge
) {

242 iàĞ(
is£t
(
$_GET
['³riod']è
ªd
 
	g$d©eRªge
==$_GET['³riod']è
Ü
 ( 
em±y
($_GET['™ems']èªd 
$d©eRªge
=='24 hours' )) {

244 
$Ëg’d
 .= '* ';

246 
	g$Ëg’d
 .ğ'<¨t™Ë="Ch¬ˆoà'. 
$d©eRªge
 .'‡v”ªge" h»f="'. 
ba£Çme
(
__FILE__
è.'?»giÚ='. 
$»giÚ
 .'&³riod='. 
¡r_»¶aû
(' ','+',$dateRange) . "&items=$items\">$dateRange</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

248 
	g$Ëg’d
 .='<br></div>';

249 
echo
 
	g$Ëg’d
;

250 
	g$image_height
 = 200;

251 
	g$image_height
 = 
couÁ
(
$aLšes
)*50;

252 ià(
	g$image_height
 < 100) $image_height=100;

254 
myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,
$image_height
);

255 
	gecho
 '<br>';

257 ià(!
em±y
(
$_GET
['items'])) {

258 
	g$qAv”age
=
¡r_»¶aû
(
$d©eFÜm©
,'%Y',
$q1
);

259 
	g$aAvgD©a
=
sqlqu”y
(
$qAv”age
);

260 
	gecho
 'Av”agoàÏ¡ <B>'. 
	g$_GET
['period'] .'</B>';

261 
di¥ÏyA¼ayToTabË
(
$aAvgD©a
,"Average of†ast $dateRange");

266 
di¥ÏyA¼ayToTabË
(
$aToŞtD©a
, "Detail of†ast $dateRange");

272 
funùiÚ
 
myd¿wch¬t
(
$aM­D©a
,
$t™Ë_c
='',
$t™Ë_x
='',
$yLeg’ts
='',
$width
=1600,
$height
=120){

276 
glob®
 
$aCŞÜs
, 
$iM­
;

277 ià(
couÁ
(
$aM­D©a
) > 48) {

278 
	g$¬¿ys
 = 
¬¿y_chunk
(
$aM­D©a
,48);

279 
fÜ—ch
(
$¬¿ys
 
as
 
$¬¿y
) {

280 
	g$width
=
couÁ
(
$¬¿y
)*32;

281 ià(
	g$width
<640) $width=640;

282 
myd¿wch¬t
(
$¬¿y
,
$t™Ë_c
,
$t™Ë_x
,
$yLeg’ts
,
$width
,
$height
);

286 #Thi 
glob®
 
¡ršg
 
accumuÏ‹s
 
the
 
image
 
m­
 
AREA
 
gs
.

289 
	g$¶Ù
 = 
Ãw
 
PHPlÙ
(
$width
,
$height
);

290 #Di§bË 
”rÜ
 
images
, 
sšû
 
this
 
süt
 
´oduûs
 
HTML
:

291 
	g$¶Ù
->
S‘Fau»Image
(
F®£
);

293 
	g$¶Ù
->
S‘PrštImage
(
F®£
);

296 
	g$¶Ù
->
S‘FÚtTTF
('x_label', '/var/www/html/codiad/workspace/mws/mt/lib/Yagora.ttf', 9);

297 
	g$¶Ù
->
S‘FÚtTTF
('y_label', '/var/www/html/codiad/workspace/mws/mt/lib/Yagora.ttf', 8);

298 ià(
couÁ
(
$aM­D©a
è>ğ21è{
$¶Ù
->
S‘XLab–AngË
(45);}

299 
	g$¶Ù
->
S‘YD©aLab–AngË
(90);

316 
	g$¶Ù
->
S‘D©aV®ues
(
$aM­D©a
);

319 
	g$¶Ù
->
S‘T™Ë
(
$t™Ë_c
);

326 
	g$¶Ù
->
S‘XTickInüem’t
(1);

327 
	g$¶Ù
->
S‘D¿wXGrid
(
True
);

328 
	g$¶Ù
->
S‘D¿wYGrid
(
F®£
);

329 
	g$¶Ù
->
S‘XTickAnchÜ
(0.5);

330 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

331 
	g$¶Ù
->
S‘XD©aLab–Pos
('plotdown');

332 
	g$¶Ù
->
TuÃYAutoRªge
(1, 'R', 0);

333 
	g$¶Ù
->
S‘YD©aLab–Pos
('plotin');

335 
	g$¶Ù
->
S‘YD©aLab–AngË
(0);

336 
	g$¶Ù
->
S‘PlÙTy³
('linepoints');

337 
	g$¶Ù
->
S‘YTickLab–Pos
('none');

338 
	g$¶Ù
->
S‘D©aCŞÜs
(
$aCŞÜs
);

339 
	g$¶Ù
->
S‘LšeStyËs
('solid');

340 
	g$¶Ù
->
S‘LšeWidths
(1);

343 ià(
¡½os
(
$yLeg’ts
,',') > 2) {

345 
	g$Ëg’d
 = 
ex¶ode
(',',
$yLeg’ts
);

346 
	g$¶Ù
->
S‘Leg’d
(
$Ëg’d
);

351 
	g$¶Ù
->
S‘Leg’dPix–s
(250, 1);

354 ià(
¡¾’
(
$yLeg’ts
)>1è
	g$¶Ù
->
S‘Leg’d
($yLegents);

355 
	g$¶Ù
->
S‘Leg’dPos™iÚ
(1, 0, 'plot', 0.5, 0);

359 #S‘ 
the
 
d©a_pošts
 
ÿÎback
 
which
 
wl
 
g’”©e
h
image
 
m­
.

361 
	g$¶Ù
->
S‘C®lback
('data_points', 'store_map');

362 
	g$¶Ù
->
D¿wG¿ph
();

364 
	g$m­Id
=
¿nd
();

365 
	gecho
 '<m­‚ame="m­'. 
	g$m­Id
 .'">' . 
	g$iM­
 .'</m­><img src="'. 
	g$¶Ù
->
EncodeImage
() .'"‡lt="Plot Image" usemap="#map'. $mapId .'">' ."\n";

366 
	g$iM­
='';

369 
funùiÚ
 
NewGroupNumb”s
(
$group
,
$aH
,
$®‹r
=''){

370 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
,
$aSkus
,
$sAsšsW™hRªk1NÙToBeDevidedBy1000
;

371 
	g$qBa£Sub
=
$q1Sub
=
$qAÎSub
=
$™ems
=''; 
	g$Ëg’d
='<div font-size: 0.875em; /* 14px/16=0.875em */>';

372 
	g$aLšes
=
ex¶ode
("\n",
$group
);

374 
fÜ—ch
(
$aH
 
as
 
$h
) {

375 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

376 
	g$q1
=
$q1Sub
='';

377 
	g$Ê
=0;$Ê<
couÁ
(
$aLšes
);$ln++) {

378 
	g$lše
=
$aLšes
[
$Ê
];

379 ià(
¡½os
(
$lše
,'--')>-1) { ;}

380 ià(
´eg_m©ch
(';h‰ps://www.amazÚ.com/(\w+-\w+-\w+).*/dp/(B\w{9});',
$lše
,
$m
)) {

381 
	g$lše
=
$m
[2] .','. $m[1];

383 
	g$aVs
=
ex¶ode
(',',
$lše
);

384 ià(
¡½os
(
$lše
,',')==
çl£
) ;

385 
	g$asš
=
$aVs
[0];

386 
	g$sku
=
$aVs
[1];

387 ià(
¡ros
(
$Ëg’d
,
$asš
)==
çl£
) {

388 
$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></¥ª><¨t™Ë=\"O³À". 
$asš
 ."‡ˆAmazÚ.". 
$dnsCouÁry
 ."\"arget=_blank href=\"http://www.amazon.". $dnsCountry ."/dp/$asin\">$sku</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

389 
	g$™ems
 .ğ
$lše
 .';';

390 
	g$aSkus
[] = 
$sku
;

391 
	g$aAsšs
[] = 
$asš
;

393 
	g$sAsšs
 = 
im¶ode
("','",
$aAsšs
);

394 
	g$sSkus
 = 
im¶ode
(',',
$aSkus
);

396 
	g$İ
='+'; ià(
	g$h
=='¿nk1'è
$İ
='-';

397 ià(
	g$»giÚ
 <> 'ÿ' 
ªd
 
	g$h
=='rank1') {

398 
$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 $op IF(a.$sh<1000,a.$sh,ROUND(a.$sh/1000,1)), 0))‡s '$sku $h' ";

400 
	g$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 $op‡.$sh, 0))‡s '$sku $h' ";

404 ià(
	g$h
=='price') {

405 
$qAÎSub
 .= ", CONCAT('$',SUM(IF(a.asin = '$asin',‡.$sh, 0)))‡s '$sku $h' ";

407 
	g$qAÎSub
 .= ", SUM(IF(a.asin = '$asin',‡.$sh, 0))‡s '$sku $h' ";

415 
	g$decim®
=0;

416 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

417 ià(
	g$h
=='avg¿tšg'è
$decim®
=1;

418 ià(
	g$h
=='´iû'è{ 
$decim®
=2; }

419 
	g$qBa£Sub
 .= ", ROUND(avg($h),$decimal)‡s $sh ";

420 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND $h > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING $sh>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

422 
	g$aM­D©a
=
$aToŞtD©a
=
sqlqu”y
(
$q1
);

423 
	g$image_height
 = 200;

424 
	g$image_height
 = 
couÁ
(
$aLšes
)*35;

425 ià(
	g$image_height
 < 100) $image_height=100;

427 
	g$image_width
 = 
couÁ
(
$aM­D©a
)*77;

428 ià(
	g$image_width
 < 1400) $image_width=1400;

429 
fÜ—ch
(
ex¶ode
(',',
PERIODS
è
as
 
$d©eRªge
) {

430 iàĞ(
is£t
(
$_GET
['³riod']è
ªd
 
	g$d©eRªge
==$_GET['³riod']è
Ü
 ( 
em±y
($_GET['™ems']èªd 
$d©eRªge
=='24 hours' )) {

432 
$Ëg’d
 .= '* ';

434 
	g$Ëg’d
 .ğ'<¨rg‘=_bÏnk™Ë="Ch¬ˆoà'. 
$d©eRªge
 .'‡v”ªge" h»f="'. 
ba£Çme
(
__FILE__
è.'?»giÚ='. 
$»giÚ
 .'&³riod='. 
¡r_»¶aû
(' ','+',$dateRange) . "&items=$items\">$dateRange</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

436 
	g$Ëg’d
 .='<br></div>';

437 ià(
	g$h
=='¿nk1'è
echo
 '<hr>'. 
$Ëg’d
;

438 ià(
is_¬¿y
(
$aM­D©a
è
	gªd
 !
em±y
($aM­D©a)è
NewD¿wCh¬t
($aM­D©a,
$aToŞtD©a
,
$h
,'time','',
$image_width
,
$image_height
);

440 ià(!
em±y
(
$_GET
['items'])) {

441 
	g$qAv”age
=
¡r_»¶aû
(
$d©eFÜm©
,'%Y',
$q1
);

442 
	g$aAvgD©a
=
sqlqu”y
(
$qAv”age
);

443 
	gecho
 '<br>Av”agoàÏ¡ <B>'. 
	g$_GET
['period'] .'</B>';

444 
di¥ÏyA¼ayToTabË
(
$aAvgD©a
,"Average of†ast $dateRange");

445 
di¥ÏyA¼ayToTabË
(
$aM­D©a
, "Detail of†ast $dateRange");

450 
funùiÚ
 
NewD¿wCh¬t
(
$aM­D©a
,
$aToŞtD©a
,
$h
='',
$t™Ë_x
='',
$yLeg’ts
='',
$width
=1600,
$height
=120){

460 
glob®
 
$aCŞÜs
, 
$iM­
;

462 
	g$yAxisTy³
 = 'lš—r'; 
	g$¶ÙTy³
='linepoints';

463 ià(
¡ri¡r
('¿nk1,»v›wG­',
$h
)==
FALSE
è{
$¶ÙTy³
='b¬s'; 
	g$height
=
$height
*0.7;}

465 ià(
couÁ
(
$aM­D©a
) > 48) {

466 
	g$¬¿ys
 = 
¬¿y_chunk
(
$aM­D©a
,48);

467 
fÜ—ch
(
$¬¿ys
 
as
 
$¬¿y
) {

468 
	g$width
=
couÁ
(
$¬¿y
)*32;

469 ià(
	g$width
<640) $width=640;

470 
NewD¿wCh¬t
(
$¬¿y
,
$h
,
$t™Ë_x
,
$yLeg’ts
,
$width
,
$height
);

475 
	g$¶Ù
 = 
Ãw
 
PHPlÙ
(
$width
,
$height
);

476 #Di§bË 
”rÜ
 
images
, 
sšû
 
this
 
süt
 
´oduûs
 
HTML
:

478 
	g$¶Ù
->
S‘PlÙTy³
(
$¶ÙTy³
);

479 
	g$¶Ù
->
S‘YSÿËTy³
(
$yAxisTy³
);

481 
	g$¶Ù
->
S‘YT™Ë
(
$h
);

482 ià(
	g$h
<>'¿nk1'è{ 
	g$¶Ù
->
S‘YD©aLab–AngË
(90); $¶Ù->
S‘M¬gšsPix–s
(
NULL
, NULL, 50); }

483 ià(
	g$¶ÙTy³
=='b¬s'è{
$¶Ù
->
b¬_width_adju¡
=0.2; 
	g$¶Ù
->
	ggroup_äac_width
=0.6; }

484 
	g$¶Ù
->
S‘PrštImage
(
F®£
);

485 
	g$¶Ù
->
S‘FÚtTTF
('x_label', '/var/www/html/codiad/workspace/mws/mt/lib/Yagora.ttf', 9);

486 
	g$¶Ù
->
S‘FÚtTTF
('y_label', '/var/www/html/codiad/workspace/mws/mt/lib/Yagora.ttf', 8);

487 ià(
couÁ
(
$aM­D©a
è> 21è{
	g$¶Ù
->
S‘XLab–AngË
(45);}

488 
	g$¶Ù
->
S‘D©aV®ues
(
$aM­D©a
);

489 
	g$¶Ù
->
S‘XTickInüem’t
(1);

490 
	g$¶Ù
->
S‘D¿wXGrid
(
True
);

491 
	g$¶Ù
->
S‘D¿wYGrid
(
F®£
);

492 
	g$¶Ù
->
S‘XTickAnchÜ
(0.5);

493 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

494 
	g$¶Ù
->
S‘XD©aLab–Pos
('plotdown');

495 
	g$¶Ù
->
TuÃYAutoRªge
(1, 'R', 0);

496 
	g$¶Ù
->
S‘YD©aLab–Pos
('plotin');

497 
	g$¶Ù
->
S‘YTickLab–Pos
('none');

498 
	g$¶Ù
->
S‘D©aCŞÜs
(
$aCŞÜs
);

499 
	g$¶Ù
->
S‘LšeStyËs
('solid');

500 
	g$¶Ù
->
S‘LšeWidths
(1);

501 ià(
is_¬¿y
(
$aToŞtD©a
)è
	g$¶Ù
->
S‘C®lback
('data_points', 'store_map');

502 
	g$¶Ù
->
D¿wG¿ph
();

503 
	g$m­Id
=
¿nd
();

504 
	gecho
 '<m­‚ame="m­'. 
	g$m­Id
 .'">' . 
	g$iM­
 .'</m­><img src="'. 
	g$¶Ù
->
EncodeImage
() .'"‡lt="Plot Image" usemap="#map'. $mapId .'">' ."\n";

505 
	g$iM­
='';

508 
funùiÚ
 
	$di¥ÏyA¼ayToTabË
(
$¬¿y
, 
$bËId
=1) {

515 ià(
	`couÁ
(
$¬¿y
) > 0) {

516 
echo
 '<bË id="'. 
$bËId
 .'" cÏss="sÜbË"><th—d><Œ cÏss="hov”"><th>'. 
	`im¶ode
('</th><th>', 
	`¬¿y_keys
(
	`cu¼’t
(
$¬¿y
))) ."</th></tr></thead><tbody>";

517 
	`fÜ—ch
 (
$¬¿y
 
as
 
$row
) {

518 ià(!
	`is_¬¿y
(
$row
è
Ü
 
	`em±y
($row)) ;

520 
	`¬¿y_m­
('htmËÁ™›s', 
$row
);

521 
echo
 '<Œ cÏss="hov”"><td><div>'. 
	`im¶ode
('</div></td><td><div>', 
$row
) .'</div></td></tr>';

523 
echo
 "</tbody></table>";

525 
	}
}

527 
funùiÚ
 
¡Üe_m­
(
$img
, 
$·s¡hru
, 
$sh­e
='dÙ', 
$row
, 
$cŞumn
, 
$x
, 
$y
) {

528 
glob®
 
	g$iM­
,
	g$aToŞtD©a
,
	g$aSkus
;

530 #Lšk 
URL
, 
demÚ¡¿tiÚ
 
Úly
:

532 #CÚv”ˆ
coÜdš©es
 
to
 
š‹g”s
:

534 #Aµ’d 
the
 
»cÜd
 
this
 
d©a
 
pošt
 
sh­e
 
to
h
image
 
m­
 
¡ršg
:

538 
	g$coÜds
 = 
¥rštf
("%d,%d,%d", 
$x
, 
$y
, 5);

545 
	g$toŞt
='';

546 
fÜ—ch
 (
$aToŞtD©a
[
$row
] 
as
 
$k
=>
$v
) {

547 ià(
$k
<>'dtime'è
$v
 = 
abs
($v);

548 
	g$toŞt
 .ğ
$k
 .'='. 
$v
 ."\n";

550 #Requœed 
®t
-
‹xt
:

551 
	g$®t
 = 
im¶ode
("\t",
$aSkus
);

552 
	g$iM­
 .= " <area shape=\"circle\" coords=\"$coords\"itle=\"$tooltip\">\n";

555 
funùiÚ
 
li¡_sku_by_owÃr
(
$owÃr
=''){

556 
glob®
 
$aAsšSku
,
$aSkuAsš
;

557 ià(
	g$owÃr
<>''è
	g$owÃrf‹r
="WHERE owner='$owner'";

558 
	g$q
="SELECT DISTINCT url,sku,tier,owner FROM `sku_assign` $ownerfilter ORDER BY†astupdated DESC,ier, sku ";

559 
fÜ—ch
(
sqlqu”y
(
$q
è
as
 
$r
){

560 
	g$sku
=
$r
['sku'];

562 
	g$u¾
=
$r
['url'];

563 
	g$t›r
=
$r
['tier'];

564 
	g$owÃr
=
$r
['owner'];

566 ià(
´eg_m©ch
('-/(B\w{9})-',
$u¾
,
$m
)) {

567 
	g$asš
=
$m
[1];

569 
	g$asš
=
$aSkuAsš
[
$sku
];

572 ià(
´eg_m©ch
('-(B\w{9})-',
$asš
è
ªd
 
¡ri¡r
(
$lšes
,
$sku
)==
FALSE
) $lines .= $asin .','. $sku ."\n\n";

576  
	g$lšes
;

579 
funùiÚ
 
	$upd©e_sku_assign
() {

580 
glob®
 
$aAsšSku
,
$aSkuAsš
;

581 
$li¡_u¾
='https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=tsv';

582 
$tsv
=
	`fe_g‘_cÚ‹Ás
(
$li¡_u¾
);

583 
$tsv
=
	`¡r_»¶aû
(' ','',$tsv);

585 
	`fÜ—ch
 (
	`ex¶ode
("\n",
$tsv
è
as
 
$lše
) {

586 
$vs
 = 
	`ex¶ode
("\t",
$lše
);

587 ià(
	`couÁ
(
$vs
)<3) ;

588 
$lše
=
	`Œim
($line);

589 
$v®ues
=
	`d©e
('Y-m-d H:i:s'è."','". 
	`¡r_»¶aû
("\t","','",
$lše
);

590 
$q
 .= "INSERT IGNORE INTO sku_assign VALUES ('$values');\n";

593 
	`sqlqu”y
(
$q
);

594 
	}
}

	@dashboard_bkp.php

1 <
	gh—d
><
lšk
 
	g»l
="shÜtcuˆicÚ" 
h»f
="mt.ico" 
ty³
="image/x-icon" />

2 <
lšk
 
h»f
="lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

3 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/sortable/sorttable.js"></script>

4 <
lšk
 
h»f
="lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

5 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/TableFilter/tablefilter.js"></script>

7 <
lšk
 
h»f
="lib/jqu”y-ui-1.10.4.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.js"></script>

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery-ui-1.10.4.min.js"></script>

10 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="lib/jquery.dataTables.js"></script>

11 <
¡yË
>

12 
a
.
i¥ršg
:
lšk
, 
	ga
.
	gi¥ršg
:
vis™ed
 {

13 
background
-
cŞÜ
: 
blue
;

14 
	gcŞÜ
: 
wh™e
;

15 
	g·ddšg
: 4
px
 25px;

16 
	g‹xt
-
	g®ign
: 
ûÁ”
;

17 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

18 
	gdi¥Ïy
: 
šlše
-
block
;

20 
	ga
.
	gi¥ršg
:
hov”
,‡.i¥ršg:
aùive
 {

21 
cŞÜ
: 
blue
;

22 
	gbackground
-
	gcŞÜ
: 
wh™e
;

24 
	ga
.
	gcom³
:
lšk
,‡.com³:
vis™ed
 {

25 
background
-
cŞÜ
: 
g»’
;

26 
	gcŞÜ
: 
wh™e
;

27 
	g·ddšg
: 4
px
 25px;

28 
	g‹xt
-
	g®ign
: 
ûÁ”
;

29 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

30 
	gdi¥Ïy
: 
šlše
-
block
;

32 
	ga
.
	gcom³
:
hov”
,‡.com³:
aùive
 {

33 
cŞÜ
: 
g»’
;

34 
	gbackground
-
	gcŞÜ
: 
wh™e
;

36 .
	gdÙ
 {

37 
	gheight
: 12
px
;

38 
	gwidth
: 12
px
;

39 
	gbackground
-
	gcŞÜ
: #bbb;

40 
	gbÜd”
-
	g¿dius
: 50%;

41 
	gdi¥Ïy
: 
šlše
-
block
;

43 
	gbË
 {

44 
	gwidth
: 10
px
;

45 
	gbÜd”
: 1
px
 
sŞid
 
bÏck
;

46 
	gem±y
-
	gûÎs
: 
hide
;

49 
bË
 
	gth
 > 
	gdiv
,abË 
	gtd
 > div {

50 
	gov”æow
: 
hidd’
;

51 
	gheight
: 15
px
;

52 
	gfÚt
-
	gsize
: 0.875e
m
;

53 
	g·ddšg
: 0
px
;

54 
	gbÜd”
-
	gbÙtom
: 1
px
 
sŞid
 #ddd;

55 
	gv”tiÿl
-
	g®ign
: 
tİ
;

56 
	g‹xt
-
	g®ign
: 
ûÁ”
;

58 
	gŒ
.
	ghov”
:
hov”
 {
background
-
cŞÜ
:#f5f5f5;}

60 </
	g¡yË
>

61 </
	gh—d
>

62 <?
php


64 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

65 
šşude_Úû
('lib/functions.php');

67 
defše
("EMAIL_RECEPIENTS",'John@iSpringFilter.com');

68 
defše
("PERIODS",'2 years,1 years,6 months,3 months,30 days,7 days,120 hours,24 hours');

69 
defše
('TooltipHeaders','rank1|rank2|reviews|avgrating|price');

70 
	g$m­DnsCouÁr›s
=
¬¿y
('us'=>'com','ca'=>'ca','uk'=>'co.uk');

71 
	g$timeoff£t
 = 3600 * 2;

72 ià(
time
(è> 
¡¹Ùime
('Fœ¡ Sunday OàM¬ch'è
ªd
ime(è< sŒtÙime('Fœ¡ Sunday OàNovemb” 'èè
	g$timeoff£t
 = 3600 * 3;

73 
	g$»giÚ
 = 
is£t
(
$_GET
['region']) ? $_GET['region'] : 'us';

74 
	g$dnsCouÁry
=
$m­DnsCouÁr›s
[
$»giÚ
];

75 
	g$bË
 = 'asš_'. 
$»giÚ
 .'_numbers';

76 
	g$image_width
 = 1380;

78 
	g$³riod
='24 hours';

79 ià(
is£t
(
$_GET
['³riod'])è
	g$³riod
 = 
¡r_»¶aû
('+',' ',$_GET['period']);

81 (
	`´eg_m©ch
('/y—rs/',
$³riod
)): 
$d©eFÜm©
 = '%Y.%m'; 
$avgOrSum
='avg'; ;

82 (
	`´eg_m©ch
('/mÚths/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.W%v'; 
$avgOrSum
='avg'; ;

83 (
	`´eg_m©ch
('/days/',
$³riod
)): 
$d©eFÜm©
 = '%y.%m.%d%a'; 
$avgOrSum
='avg'; ;

84 (
	`´eg_m©ch
('/hours/',
$³riod
)): 
$d©eFÜm©
 = '%m/%d.%H'; 
$avgOrSum
='avg'; ;

85 : 
$d©eFÜm©
 = '%m/%d.%H';

86 
	}
}

88 
	g$aAsšSku
=
g‘_asš_sku_¬¿y
();

89 
	g$aSkuAsš
=
¬¿y_æ
(
$aAsšSku
);

90 
	g$sAsšsW™hRªk1NÙToBeDevidedBy1000
='/TTG|B002C0A7ZY|B00Q798N8E|B005LJ8EXU/';

92 iàĞ
is£t
(
$_GET
['q']è
ªd
 
	g$_GET
['q']=='skuassign' ) {

93 
upd©e_sku_assign
();

94 
echo
 
¡r_»¶aû
("\n",'<br>',
li¡_sku_by_owÃr
());

95 
	gex™
;

99 ià(!
	$em±y
(
$_GET
è
ªd
 !
	`em±y
($_GET['items'])) {

100 
$days
 = 
$³riod
 ? 
	`¡¹Ùime
('now - '. $period . ' - 3 hours') : strtotime('now - 1 years');

103 
$aGroups
[] = 
	`¡r_»¶aû
(";","\n",
	`Œim
(
$_GET
['items'],';')) ."\n";

104 
echo
 '<buttonype="button" onclick="javascript:history.back()">Back</button> ';

105 
	}
} {

106 
	g$days
 = 
¡¹Ùime
('now - 27 hours');

107 ià(
	g$»giÚ
 <> 'us'è
	g$days
 = 
¡¹Ùime
('now - 240 hours');

109 ià(
is£t
(
$_GET
['owner'])) {

110 
	g$fe
=
li¡_sku_by_owÃr
(
$_GET
['owner']);

112 
	g$fe
 = 
fe_g‘_cÚ‹Ás
('h‰p://czyu§.com/amazÚ.'. 
$»giÚ
 .'_asin_sku_competitors.txt');

114 
	g$aGroups
 = 
ex¶ode
("\n\n",
$fe
);

122 ià(
	g$»giÚ
=='us' 
ªd
 
is£t
(
$_GET
['list'])) {

123 
$group
='B005LJ8EXU,RCC7AK_Eric vs B00NWZ1RCK,APEC_PH75;B003XELTTG,RCC7 vs B00I0ZGOZM,APEC RO50;';

124 
groupNumb”s
(
$group
,'review gap');

126 
	$fÜ—ch
(
$aGroups
 
as
 
$group
) {

127 ià(
	`sub¡r
(
$group
,0,1)<>'-' 
ªd
 
	`¡¾’
($group)>15è
	`groupNumb”s
($group);

129 
	}
}

131 
funùiÚ
 
	$OLD»v›wG­
(
$asš1
,
$asš2
,
$t™Ë
){

132 
glob®
 
$bË
,
$image_width
,
$aToŞtD©a
;

133 
$sumif
="ROUND(MAX(IF(asin='$asin1',reviews,0))/10,1) AS '$asin1„eviews',ROUND(MAX(IF(asin='$asin2',reviews,0))/10,1) AS '$asin2„eviews',";

134 
$sumif
='';

135 
$q
="SELECT d©e_fÜm©(äom_unixtimeÑime+7200),'%y/%m/%d'èa dtime, $sumiàMAX(IF×sš='$asš1',»v›ws,0)è- MAX(IF×sš='$asš2',»v›ws,0)èAS g­ FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim> ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BYime DESC";

136 
$qRev›ws
="SELECT d©e_fÜm©(äom_unixtimeÑime+7200),'%y/%m/%d'èa dtime, MAX(IF×sš='$asš1',»v›ws,0)èa '$asš1', MAX(IF×sš='$asš2',»v›ws,0)èAS '$asš2' FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim> ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime ORDER BYime DESC";

138 
echo
 '<li><aarget=_blank href="reviewgap.php">History Data</a><br>';

139 
$aToŞtD©a
=
	`sqlqu”y
(
$qRev›ws
);

140 
$aToŞtD©a
['h—d”']="dtim". 
$asš1
 ." ". 
$asš2
;

141 
$aM­D©a
=
	`sqlqu”y
(
$q
);

142 
	`myd¿wch¬t
(
$aM­D©a
,'','time','Rev›w g­: '.
$t™Ë
,
$image_width
,120);

143 
	}
}

145 
funùiÚ
 
	$»v›wG­
(
$asš1
,
$asš2
,
$t™Ë
){

146 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
;

147 
$sumif
="ROUND(MAX(IF(asin='$asin1',reviews,0))/10,1) AS '$asin1„eviews',ROUND(MAX(IF(asin='$asin2',reviews,0))/10,1) AS '$asin2„eviews',";

148 
$sumif
='';

149 
$q
="SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime, $sumiàMAX(IF×sš='$asš1',»v›ws,0)è- MAX(IF×sš='$asš2',»v›ws,0)èAS g­ FROM `". 
$bË
 ."` WHERE‡sš IN ('$asš1','$asš2'èANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BYime DESC";

151 
$qNumb”s
="SELECT MAX(IF×sš='$asš1',a.rws,0)è- MAX(IF×sš='$asš2',a.rws,0)èAS g­, SUM(IF×.asš = '$asš1',‡.rk1, 0)èa '$asš1„ªk1' , SUM(IF×.asš = '$asš1',‡.rk2, 0)èa '$asš1„ªk2' , SUM(IF×.asš = '$asš1',‡.rws, 0)èa '$asš1„ev›ws' , SUM(IF×.asš = '$asš1',‡.ªg, 0)èa '$asš1‡vg¿tšg' , SUM(IF×.asš = '$asš1',‡.pû, 0)èa '$asš1…riû' , '$asš1 \n\t'‡ '$asš1', SUM(IF×.asš = '$asš2',‡.rk1, 0)èa '$asš2„ªk1' , SUM(IF×.asš = '$asš2',‡.rk2, 0)èa '$asš2„ªk2' , SUM(IF×.asš = '$asš2',‡.rws, 0)èa '$asš2„ev›ws' , SUM(IF×.asš = '$asš2',‡.ªg, 0)èa '$asš2‡vg¿tšg' , SUM(IF×.asš = '$asš2',‡.pû, 0)èa '$asš2…riû' , '$asš2 \n'‡ '$asš2' FROM (SELECT d©e_fÜm©(äom_unixtimeÑime+$timeoff£t),'%y/%m/%d'èa dtime,‡sš, ROUND×vgÔªk1),0èa rk1 , ROUND×vgÔªk2),0èa rk2 , ROUND(MAXÔev›ws),0èa rw , ROUND×vg×vg¿tšg),1èa ªg , ROUND×vgÕriû),2èa pû FROM‡sš_us_numb” WHERE‡sš IN ('$asš1','$asš2'èAND„ªk1 > 0 ANDim>ğ". 
	`¡¹Ùime
('now - 28 days') ." group by‡sin, dtime )‡ GROUP BY dtime HAVING gap > -10 AND gap < 600 ORDER BY dtime DESC";

153 
echo
 "<li><aarget=_blank href=\"reviewgap.php\">Reviews gap: $title</a><br>";

154 
$aToŞtD©a
=
	`sqlqu”y
(
$qNumb”s
);

157 
$aToŞtD©a
['h—d”']=
	`¡r_»¶aû
('|',"\t",'g­|'. 
ToŞtH—d”s
 .'|asin');

158 
$aM­D©a
=
	`sqlqu”y
(
$q
);

159 
	`myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,120);

160 
	}
}

162 
funùiÚ
 
groupNumb”s
(
$group
,
$®‹r
=''){

163 
glob®
 
$»giÚ
,
$dnsCouÁry
,
$timeoff£t
,
$d©eFÜm©
,
$bË
,
$days
,
$aCŞÜs
,
$image_width
,
$aToŞtD©a
,
$sAsšsW™hRªk1NÙToBeDevidedBy1000
;

164 
	g$qBa£Sub
=
$q1Sub
=
$qAÎSub
=
$™ems
=''; 
	g$Ëg’d
='<div font-size: 0.875em; /* 14px/16=0.875em */>';

166 
	g$aLšes
=
ex¶ode
("\n",
$group
);

167 
fÜ—ch
(
ex¶ode
('|',
ToŞtH—d”s
è
as
 
$h
) {

168 
	g$qAÎSub
 .= ",'\n$h:' AS '$h'";

169 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

170 
	g$Ê
=0;$Ê<
couÁ
(
$aLšes
);$ln++) {

171 
	g$lše
=
$aLšes
[
$Ê
];

172 ià(
¡½os
(
$lše
,'--')>-1) { ;}

173 ià(
´eg_m©ch
(';h‰ps://www.amazÚ.com/(\w+-\w+-\w+).*/dp/(B\w{9});',
$lše
,
$m
)) {

174 
	g$lše
=
$m
[2] .','. $m[1];

176 
	g$aVs
=
ex¶ode
(',',
$lše
);

177 ià(
¡½os
(
$lše
,',')==
çl£
) ;

178 
	g$asš
=
$aVs
[0];

179 
	g$sku
=
$aVs
[1];

180 ià(
¡ros
(
$Ëg’d
,
$asš
)==
çl£
) {

181 
$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></¥ª><¨t™Ë=\"O³À". 
$asš
 ."‡ˆAmazÚ.com\"¬g‘=_bÏnk h»f=\"h‰p://www.amazÚ.". 
$dnsCouÁry
 ."/dp/$asin\">$sku</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

182 
	g$™ems
 .ğ
$lše
 .';';

183 
	g$aSkus
[] = 
$sku
;

184 
	g$aAsšs
[] = 
$asš
;

186 
	g$sAsšs
 = 
im¶ode
("','",
$aAsšs
);

187 
	g$sSkus
 = 
im¶ode
(',',
$aSkus
);

188 ià(
´eg_m©ch
(
$sAsšsW™hRªk1NÙToBeDevidedBy1000
,
$group
)==
FALSE
) {

189 
$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 - IF(a.rk1<1000,a.rk1,ROUND(a.rk1/1000,1)), 0))‡s '$sku„ank1' ";

191 
	g$q1Sub
 .= ",SUM(IF(a.asin = '$asin', 0 -‡.rk1, 0))‡s '$sku„ank1' ";

195 ià(
	g$h
=='price') {

196 
$qAÎSub
 .= ", CONCAT('$',SUM(IF(a.asin = '$asin',‡.$sh, 0)))‡s '$sku $h' ";

198 
	g$qAÎSub
 .= ", SUM(IF(a.asin = '$asin',‡.$sh, 0))‡s '$sku $h' ";

206 
	g$decim®
=0;

207 
	g$sh
=
sub¡r
(
$h
,0,1) . substr($h,-2);

208 ià(
	g$h
=='avg¿tšg'è
$decim®
=1;

209 ià(
	g$h
=='´iû'è{ 
$decim®
=2; }

210 
	g$qBa£Sub
 .= ", ROUND(avg($h),$decimal)‡s $sh ";

212 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„ank1 > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0 )‡ GROUP BY dtime ORDER BY dtime DESC";

214 ià(
	g$®‹r
=='review gap' ) {

215 
$sAsšs
=
$q1Sub
=''; 
	g$Ëg’d
='Rev›w g­: '; 
un£t
(
$aAsšs
); 
	g$Ê
=0;

216 
fÜ—ch
(
ex¶ode
(';',
$group
è
as
 
$·œ
) {

218 ià(
´eg_m©ch_®l
('/(B\w{9}),([\w \_\-]+èv (B\w{9}),([\w \_\-]+)/',
$·œ
,
$m
)) {

220 
	g$asš1
=
$m
[1][0]; 
	g$aAsšs
[]=
$asš1
;

221 
	g$sku1
=
$m
[2][0];

222 
	g$asš2
=
$m
[3][0]; 
	g$aAsšs
[]=
$asš2
;

223 
	g$sku2
=
$m
[4][0];

224 
	g$q1Sub
 .= ", MAX(IF(a.asin='$asin1',a.rws,0)) - MAX(IF(a.asin='$asin2',a.rws,0)) AS '$sku1 vs $sku2'";

225 
	g$Ëg’d
 .ğ"<¥ª cÏss=\"dÙ\" styË=\"background-cŞÜ:". 
$aCŞÜs
[
$Ê
] ."\"></span>$sku1 vs $sku2 ";

226 
	g$Ê
++;

229 
	g$sAsšs
 = 
im¶ode
("','", 
$aAsšs
);

230 
	g$q1
="SELECT dtime $q1Sub FROM (SELECT date_format(from_unixtime(time+$timeoffset),'$dateFormat')‡s dtime,‡sin $qBaseSub FROM $table WHERE‡sin IN ('$sAsins') AND„eviews > 0 ANDime >= $days GROUP BY‡sin, dtime HAVING„k1>0)‡ GROUP BY dtime ORDER BY dtime DESC";

231 
	g$q1
=
¡r_»¶aû
(
$d©eFÜm©
,'%y/%m/%d',
$q1
);

232 
	g$q1
=
¡r_»¶aû
(
$days
,
¡¹Ùime
('28 day ago'),
$q1
);

239 
	g$qAÎ
=
¡r_»¶aû
("$q1Sub", 
sub¡r
(
$qAÎSub
,0),
$q1
);

240 ià(
¡ros
(
__FILE__
,'b‘a')>1è
	gecho
 '<li>'. 
	g$q1
 .'<li>'. 
	g$qAÎ
 .'<p>';

241 
	g$aM­D©a
=
sqlqu”y
(
$q1
);

242 
	g$aToŞtD©a
=
sqlqu”y
(
$qAÎ
);

244 
	g$aToŞtD©a
['h—d”']=
im¶ode
("\t",
$aSkus
);

250 
fÜ—ch
(
ex¶ode
(',',
PERIODS
è
as
 
$d©eRªge
) {

251 iàĞ(
is£t
(
$_GET
['³riod']è
ªd
 
	g$d©eRªge
==$_GET['³riod']è
Ü
 ( 
em±y
($_GET['™ems']èªd 
$d©eRªge
=='24 hours' )) {

253 
$Ëg’d
 .= '* ';

255 
	g$Ëg’d
 .ğ'<¨t™Ë="Ch¬ˆoà'. 
$d©eRªge
 .'‡v”ªge" h»f="'. 
ba£Çme
(
__FILE__
è.'?»giÚ='. 
$»giÚ
 .'&³riod='. 
¡r_»¶aû
(' ','+',$dateRange) . "&items=$items\">$dateRange</a>&nbsp;&nbsp;|&nbsp;&nbsp;";

257 
	g$Ëg’d
 .='<br></div>';

258 
echo
 
	g$Ëg’d
;

259 
	g$image_height
 = 200;

260 ià(
	g$_GET
['™ems'] <>''è
	g$image_height
 = 600;

261 
myd¿wch¬t
(
$aM­D©a
,'','time','',
$image_width
,
$image_height
);

262 
	gecho
 '<br>';

264 ià(!
em±y
(
$_GET
['items'])) {

265 
	g$qAv”age
=
¡r_»¶aû
(
$d©eFÜm©
,'%Y',
$q1
);

266 
	g$aAvgD©a
=
sqlqu”y
(
$qAv”age
);

267 
	gecho
 'Av”agoàÏ¡ <B>'. 
	g$_GET
['period'] .'</B>';

268 
di¥ÏyA¼ayToTabË
(
$aAvgD©a
,"Average of†ast $dateRange");

273 
di¥ÏyA¼ayToTabË
(
$aToŞtD©a
, "Detail of†ast $dateRange");

279 
funùiÚ
 
	$di¥ÏyA¼ayToTabË
(
$¬¿y
, 
$bËId
=1) {

286 ià(
	`couÁ
(
$¬¿y
) > 0) {

287 
echo
 '<bË id="'. 
$bËId
 .'" cÏss="f‹¿bË sÜbË"><th—d><Œ cÏss="hov”"><th>'. 
	`im¶ode
('</th><th>', 
	`¬¿y_keys
(
	`cu¼’t
(
$¬¿y
))) ."</th></tr></thead><tbody>";

288 
	`fÜ—ch
 (
$¬¿y
 
as
 
$row
) {

289 ià(!
	`is_¬¿y
(
$row
è
Ü
 
	`em±y
($row)) ;

290 
	`¬¿y_m­
('htmËÁ™›s', 
$row
);

291 
echo
 '<Œ cÏss="hov”"><td><div>'. 
	`im¶ode
('</div></td><td><div>', 
$row
) .'</div></td></tr>';

293 
echo
 "</tbody></table>";

295 
	}
}

297 #C®lback 'd©a_pošts': 
G’”©e
 1 <
¬—
> 
lše
 
š
 
the
 
image
 
m­
:

300 
funùiÚ
 
¡Üe_m­
(
$img
, 
$·s¡hru
, 
$sh­e
='dÙ', 
$row
, 
$cŞumn
, 
$x
, 
$y
) {

301 
glob®
 
	g$iM­
,
	g$aToŞtD©a
;

303 #Lšk 
URL
, 
demÚ¡¿tiÚ
 
Úly
:

305 #CÚv”ˆ
coÜdš©es
 
to
 
š‹g”s
:

307 #Aµ’d 
the
 
»cÜd
 
this
 
d©a
 
pošt
 
sh­e
 
to
h
image
 
m­
 
¡ršg
:

311 
	g$coÜds
 = 
¥rštf
("%d,%d,%d", 
$x
, 
$y
, 5);

317 
	g$toŞt
=
$aToŞtD©a
[
$row
]['dtime'] ."\t". $aToŞtD©a['h—d”'] . 
¡r_»¶aû
($aToŞtD©a[$row]['dtime'],'',
im¶ode
("\t",$aTooltipData[$row]));

318 #Requœed 
®t
-
‹xt
:

319 
	g$®t
 = 
$aToŞtD©a
['header'];

320 
	g$iM­
 .= " <area shape=\"circle\" coords=\"$coords\"itle=\"$tooltip\">\n";

323 
funùiÚ
 
myd¿wch¬t
(
$aM­D©a
,
$t™Ë_c
='',
$t™Ë_x
='',
$yLeg’ts
='',
$width
=1600,
$height
=120){

327 
glob®
 
$aCŞÜs
, 
$iM­
;

328 ià(
couÁ
(
$aM­D©a
) > 48) {

329 
	g$¬¿ys
 = 
¬¿y_chunk
(
$aM­D©a
,48);

330 
fÜ—ch
(
$¬¿ys
 
as
 
$¬¿y
) {

331 
	g$width
=
couÁ
(
$¬¿y
)*32;

332 ià(
	g$width
<640) $width=640;

333 
myd¿wch¬t
(
$¬¿y
,
$t™Ë_c
,
$t™Ë_x
,
$yLeg’ts
,
$width
,
$height
);

337 #Thi 
glob®
 
¡ršg
 
accumuÏ‹s
 
the
 
image
 
m­
 
AREA
 
gs
.

340 
	g$¶Ù
 = 
Ãw
 
PHPlÙ
(
$width
,
$height
);

341 #Di§bË 
”rÜ
 
images
, 
sšû
 
this
 
süt
 
´oduûs
 
HTML
:

342 
	g$¶Ù
->
S‘Fau»Image
(
F®£
);

344 
	g$¶Ù
->
S‘PrštImage
(
F®£
);

347 
	g$¶Ù
->
S‘FÚtTTF
('x_label', '/home/czyusa1973/public_html/mt/lib/Yagora.ttf', 9);

348 
	g$¶Ù
->
S‘FÚtTTF
('y_label', '/home/czyusa1973/public_html/mt/lib/Yagora.ttf', 8);

349 ià(
couÁ
(
$aM­D©a
è>ğ21è{
$¶Ù
->
S‘XLab–AngË
(45);}

350 
	g$¶Ù
->
S‘YD©aLab–AngË
(90);

367 
	g$¶Ù
->
S‘D©aV®ues
(
$aM­D©a
);

370 
	g$¶Ù
->
S‘T™Ë
(
$t™Ë_c
);

377 
	g$¶Ù
->
S‘XTickInüem’t
(1);

378 
	g$¶Ù
->
S‘D¿wXGrid
(
True
);

379 
	g$¶Ù
->
S‘D¿wYGrid
(
F®£
);

380 
	g$¶Ù
->
S‘XTickAnchÜ
(0.5);

381 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

382 
	g$¶Ù
->
S‘XD©aLab–Pos
('plotdown');

383 
	g$¶Ù
->
TuÃYAutoRªge
(1, 'R', 0);

384 
	g$¶Ù
->
S‘YD©aLab–Pos
('plotin');

386 
	g$¶Ù
->
S‘YD©aLab–AngË
(0);

387 
	g$¶Ù
->
S‘PlÙTy³
('linepoints');

388 
	g$¶Ù
->
S‘YTickLab–Pos
('none');

389 
	g$¶Ù
->
S‘D©aCŞÜs
(
$aCŞÜs
);

390 
	g$¶Ù
->
S‘LšeStyËs
('solid');

391 
	g$¶Ù
->
S‘LšeWidths
(1);

394 ià(
¡½os
(
$yLeg’ts
,',') > 2) {

396 
	g$Ëg’d
 = 
ex¶ode
(',',
$yLeg’ts
);

397 
	g$¶Ù
->
S‘Leg’d
(
$Ëg’d
);

402 
	g$¶Ù
->
S‘Leg’dPix–s
(250, 1);

405 ià(
¡¾’
(
$yLeg’ts
)>1è
	g$¶Ù
->
S‘Leg’d
($yLegents);

406 
	g$¶Ù
->
S‘Leg’dPos™iÚ
(1, 0, 'plot', 0.5, 0);

410 #S‘ 
the
 
d©a_pošts
 
ÿÎback
 
which
 
wl
 
g’”©e
h
image
 
m­
.

412 
	g$¶Ù
->
S‘C®lback
('data_points', 'store_map');

413 
	g$¶Ù
->
D¿wG¿ph
();

415 
	g$m­Id
=
¿nd
();

416 
	gecho
 '<m­‚ame="m­'. 
	g$m­Id
 .'">' . 
	g$iM­
 .'</m­><img src="'. 
	g$¶Ù
->
EncodeImage
() .'"‡lt="Plot Image" usemap="#map'. $mapId .'">' ."\n";

417 
	g$iM­
='';

420 
funùiÚ
 
li¡_sku_by_owÃr
(
$owÃr
=''){

421 
glob®
 
$aAsšSku
,
$aSkuAsš
;

422 ià(
	g$owÃr
<>''è
	g$owÃrf‹r
="WHERE owner='$owner'";

423 
	g$q
="SELECT DISTINCT url,sku,tier,owner FROM `sku_assign` $ownerfilter ORDER BY†astupdated DESC,ier, sku ";

424 
fÜ—ch
(
sqlqu”y
(
$q
è
as
 
$r
){

425 
	g$sku
=
$r
['sku'];

427 
	g$u¾
=
$r
['url'];

428 
	g$t›r
=
$r
['tier'];

429 
	g$owÃr
=
$r
['owner'];

431 ià(
´eg_m©ch
('-/(B\w{9})-',
$u¾
,
$m
)) {

432 
	g$asš
=
$m
[1];

434 
	g$asš
=
$aSkuAsš
[
$sku
];

437 ià(
´eg_m©ch
('-(B\w{9})-',
$asš
è
ªd
 
¡ri¡r
(
$lšes
,
$sku
)==
FALSE
) $lines .= $asin .','. $sku ."\n\n";

441  
	g$lšes
;

444 
funùiÚ
 
	$upd©e_sku_assign
() {

445 
glob®
 
$aAsšSku
,
$aSkuAsš
;

446 
$li¡_u¾
='https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=tsv';

447 
$tsv
=
	`fe_g‘_cÚ‹Ás
(
$li¡_u¾
);

448 
$tsv
=
	`¡r_»¶aû
(' ','',$tsv);

450 
	`fÜ—ch
 (
	`ex¶ode
("\n",
$tsv
è
as
 
$lše
) {

451 
$vs
 = 
	`ex¶ode
("\t",
$lše
);

452 ià(
	`couÁ
(
$vs
)<3) ;

453 
$lše
=
	`Œim
($line);

454 
$v®ues
=
	`d©e
('Y-m-d H:i:s'è."','". 
	`¡r_»¶aû
("\t","','",
$lše
);

455 
$q
 .= "INSERT IGNORE INTO sku_assign VALUES ('$values');\n";

458 
	`sqlqu”y
(
$q
);

459 
	}
}

	@editor.php

1 <?
php


4 
	g$fe
 = 
$_GET
['file'];

5 ià(
sub¡r
(
$fe
,-4è=ğ'.php'è
ex™
;

6 
	g$u¾
 = 'ed™Ü_scTu4UTrYBGA4¬kTBPvfA7Uu5ú14jfhMcMvQ91i8.php?fe='. 
$fe
;

7 ià(!
	$fe_exi¡s
(
$fe
)) {

8 
echo
 "$file NOT found.";

9 
ex™
;

10 
	}
}

13 ià(
is£t
(
$_POST
['text']))

16 
	g$‹xt
 = '';

17 
fÜ—ch
(
ex¶ode
("\n",
$_POST
['‹xt']è
as
 
$lše
) {

18 
	g$lše
 = 
Œim
(
$lše
);

20 
	g$‹xt
 .ğ
$lše
 ."\n";

22 ià(!
em±y
(
$_POST
['SaveAs']è&& 
sub¡r
($_POST['NewFileName'],-5) == '.html') {

23 
fe_put_cÚ‹Ás
(
$_POST
['NewFeName'], 
$‹xt
);

25 
fe_put_cÚ‹Ás
(
$fe
, 
$‹xt
);

31 
	gecho
 "OÆy di¡šù„ow ¬§ved. <bu‰Úy³=\"bu‰Ú\" onşick=\"javasüt:hi¡Üy.back()\">Back</bu‰Ú><bË bÜd”=1><Œ><td><b>". 
¡r_»¶aû
("\n",'<br>',
$‹xt
) ."</b></td></tr></table>";

32 
ex™
();

36 
	g$‹xt
 = 
fe_g‘_cÚ‹Ás
(
$fe
);

39 <!-- 
HTML
 
	gfÜm
 -->

40 <
fÜm
 
	gaùiÚ
="" 
m‘hod
="post">

41 <!-- 
šput
 
ty³
="subm™" 
Çme
="SaveAs" 
v®ue
="Save As"/>

42 <
šput
 
ty³
="‹xt" 
Çme
="NewFeName" 
size
="100" / >

43 <
br
 -->

44 <
‹x»a
 
Çme
="‹xt" 
rows
="45" 
cŞs
="150"><?
php
 
echo
 
html¥ecŸlch¬s
(
$‹xt
è?></‹x»a><
br
>

45 <
šput
 
ty³
="subm™" 
v®ue
="Save"/>

46 </
fÜm
>

47 </
html
>

	@index.php

1 <!-- 
§ved
 
äom
 
	gu¾
=(0055)
h‰p
:

2 <
html
><
h—d
><
m‘a
 
h‰p
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

3 <
lšk
 
»l
="shÜtcuˆicÚ" 
h»f
="mt.ico" 
ty³
="image/x-icon">

4 <
t™Ë
>
M¬k‘
 
T¿ck”
</title>

5 <
süt
>

6 
funùiÚ
 
	$İ
() {

7 
	}
}

8 </
süt
>

9 </
h—d
>

12 (
PËa£
 
k“p
 
®l
 
cİyright
 
nÙiûs
.)

13 
This
 
äame£t
 
docum’t
 
šşudes
 
the
 
T»ev›w
 
süt
.

14 
Süt
 
found
 
š
: 
h‰p
:

15 
AuthÜ
: 
M¬ûlšo
 
Alves
 
M¬tšs


17 
You
 
may
 
make
 
Ùh”
 
chªges
, 
£e
 
Úlše
 
	gš¡ruùiÚs
,

18 
but
 dØ
nÙ
 
chªge
 
the
 
Çmes
 
of
h
äames
 (
Œ“äame
 
ªd
 
ba£äm
)

21 <?
php


22 
fÜ—ch
 (
glob
('u¶ßds/*.HomeD•ÙOrd”s.csv'è
as
 
$f
) {

24 
	g$nf
 = 
¡r_»¶aû
('u¶ßds/','u¶ßds/HomeD•ÙOrd”sCsv/',
$f
);

25 ià(
»Çme
(
$f
, 
$nf
)è
echo
 
	g$f
 .' -> '. 
	g$nf
 ."<br>";

29 <!-- <
äame£t
 
	gcŞs
="225,*" 
Ú»size
="if (navigator.family == &#39;nn4&#39;) window.location.reload()">

30 <
äame
 
¤c
="F¿meT»e.php" 
Çme
="FrameTree">

31 <
äame
 
¤c
="dashbßrd.php?li¡ñİ30" 
Çme
="tİright" 
id
="FrameContent">

32 <
äame
 
¤c
="nÙifiÿtiÚ.php" 
Çme
="bottomright">

33 </
äame£t
> -->

36 <
FRAMESET
 
COLS
="225,*" 
Ú»size
="if (navigator.family == &#39;nn4&#39;) window.location.reload()">

37 <
FRAME
 
SRC
="F¿meT»e.php" 
NAME
="left">

38 <
FRAMESET
 
ROWS
="100%">

39 <
FRAME
 
SRC
="dashbßrd.php?li¡ñİ30&»giÚ=us" 
NAME
="F¿meCÚ‹Á" 
äamebÜd”
="0" 
süŞlšg
="yes" 
id
="FrameContent">

40 <!-- <
FRAME
 
SRC
="nÙifiÿtiÚ.php" 
NAME
="bÙtomright" 
äamebÜd”
="0"> -->

41 </
FRAMESET
>

42 </
FRAMESET
>

45 </
html
>

	@kapil/FrameTreeNew.php

1 <?
php


2 
	g»quœe_Úû
 '../db.php';

4 
	g$mysqli
 = 
Ãw
 
mysqli
(
$dbHo¡
, 
$dbU£r
, 
$dbPwd
, 
$dbName
);

6 ià(!
	g$mysqli
) {

7 
d›
("CÚÃùiÚ faed: " . 
mysqli_cÚÃù_”rÜ
());

10 
	g$»suÉ
 = 
$mysqli
->
qu”y
("SELECT DISTINCT…roduct_sku, mws_model FROM mws WHERE csv_group_product = 'group' AND mws_model<>''");

11 
	g$¬r
 = 
¬¿y
();

12 
	$fÜ—ch
(
$»suÉ
 
as
 
$»s
){

13 
$¬r_us
[] = 
	`¬¿y
(
id
 => 120, 
Çme
 => 
$»s
['mws_mod–'],
u¾
 => 'dashbßrd.php?asš='.$»s['´oduù_sku'].'&»giÚ=us', 
rg‘
 => "FrameContent");

14 
$¬r_ÿn
[] = 
	`¬¿y
(
id
 => 220, 
Çme
 => 
$»s
['mws_mod–'],
u¾
 => 'dashbßrd.php?asš='.$»s['´oduù_sku'].'&»giÚ=ÿ', 
rg‘
 => "FrameContent");

15 
$¬r_uk
[] = 
	`¬¿y
(
id
 => 320, 
Çme
 => 
$»s
['mws_mod–'],
u¾
 => 'dashbßrd.php?asš='.$»s['´oduù_sku'].'&»giÚ=uk', 
rg‘
 => "FrameContent");

16 
	}
}

17 
	g$jsÚ_¬r
 = 
jsÚ_’code
(
$¬r_us
);

18 
	g$jsÚ_ÿn_¬r
 = 
jsÚ_’code
(
$¬r_ÿn
);

19 
	g$jsÚ_uk_¬r
 = 
jsÚ_’code
(
$¬r_uk
);

21 
mysqli_şo£
(
$mysqli
);

23 <
	gdiv
>

24 <
ul
 
	gid
="Œ“" 
şass
="zŒ“" 
¡yË
="width:260px; overflow:auto;"></ul>

25 </
div
>

26 <
lšk
 
»l
="¡yËsh“t" 
h»f
="css/zT»eStyË/zT»eStyË.css" 
ty³
="text/css">

27 <
süt
 
¤c
="https://code.jquery.com/jquery-1.9.1.min.js"></script>

28 <
süt
 
ty³
="‹xt/javasüt" 
¤c
="js/jquery.ztree.core.min.js"></script>

29 <
süt
 
ty³
="text/javascript">

30 
v¬
 
zT»e
;

31 
v¬
 
	gdemoIäame
;

33 
v¬
 
	g£‰šg
 = {

34 
v›w
: {

35 
dblClickEx·nd
: 
çl£
,

36 
showLše
: 
Œue
,

37 
£ËùedMuÉi
: 
çl£


39 
d©a
: {

40 
sim¶eD©a
: {

41 
’abË
: 
Œue
,

42 
idKey
: "id",

43 
pIdKey
: "pId",

44 
roÙPId
: ""

47 
ÿÎback
: {

48 
befÜeClick
: 
funùiÚ
 (
Œ“Id
, 
Œ“Node
) {

49 
v¬
 
zT»e
 = 
$
.
â
.zT»e.
g‘ZT»eObj
("tree");

50 ià(
	gŒ“Node
.
	gisP¬’t
) {

51 
	gzT»e
.
ex·ndNode
(
Œ“Node
);

52  
	gçl£
;

55  
	gŒue
;

61 
v¬
 
	gzNodes
 = [

62 {
id
: 1, 
pId
: 0, 
Çme
: "AmazÚ.COM KPI", 
İ’
: 
çl£
},

63 {
id
: 101, 
pId
: 1, 
Çme
: "US BSRÑİ 30)", 
u¾
: "dashbßrd.php?li¡ñİ30&»giÚ=us", 
rg‘
:"FrameContent"},

64 {
id
: 102, 
pId
: 1, 
Çme
: "SKU by OwÃr",
chd»n
: [{id: 103,‚ame: "C¬Şe", 
u¾
: "dashbßrd.php?owÃr=C¬Şe&»giÚ=us", 
rg‘
:"FrameContent"},{id: 104,‚ame: "Eric", url: "dashboard.php?owner=Eric&region=us",arget:"FrameContent"},{id: 105,‚ame: "Joy", url: "dashboard.php?owner=Joy&region=us",arget:"FrameContent"},{id: 106,‚ame: "Sonny", url: "dashboard.php?owner=Sonny&region=us",arget:"FrameContent"}]},

65 {
	gid
: 119, 
	gpId
: 1, 
	gÇme
: "SKU by Group",
	gchd»n
: <?
php
 
echo
 
$jsÚ_¬r
; ?>},

66 {
	gid
: 107, 
	gpId
: 1, 
	gÇme
: "US BSR(w“kly)", 
	gu¾
: "dashbßrd.php?d©a=w“kly&»giÚ=us", 
	grg‘
:"FrameContent"},

67 {
	gid
: 108, 
	gpId
: 1, 
	gÇme
: "US BSR Groups", 
	gu¾
: "ed™Ü.php?fe÷mazÚ.us_asš_sku_com³t™Üs.txt", 
	grg‘
:"FrameContent"},

84 {
	gid
: 2, 
	gpId
: 0, 
	gÇme
: "AmazÚ.CAN KPI", 
	gİ’
: 
çl£
},

85 {
	gid
: 201, 
	gpId
: 2, 
	gÇme
: "CAN BSRÑİ 30)", 
	gu¾
: "dashbßrd.php?li¡ñİ30&»giÚ=ÿ", 
	grg‘
:"FrameContent"},

86 {
	gid
: 202, 
	gpId
: 2, 
	gÇme
: "SKU by OwÃr",
	gchd»n
: [{
id
: 203, 
Çme
: "C¬Şe", 
u¾
: "dashbßrd.php?owÃr=C¬Şe&»giÚ=ÿ", 
rg‘
:"FrameContent"},{id: 204,‚ame: "Eric", url: "dashboard.php?owner=Eric&region=ca",arget:"FrameContent"},{id: 205,‚ame: "Joy", url: "dashboard.php?owner=Joy&region=ca",arget:"FrameContent"},{id: 206,‚ame: "Sonny", url: "dashboard.php?owner=Sonny&region=ca",arget:"FrameContent"}]},

87 {
	gid
: 219, 
	gpId
: 2, 
	gÇme
: "SKU by Group",
	gchd»n
: <?
php
 
echo
 
$jsÚ_ÿn_¬r
; ?>},

88 {
	gid
: 207, 
	gpId
: 2, 
	gÇme
: "CAN BSR(w“kly)", 
	gu¾
: "dashbßrd.php?d©a=w“kly&»giÚ=ÿ", 
	grg‘
:"FrameContent"},

89 {
	gid
: 208, 
	gpId
: 2, 
	gÇme
: "CAN BSR Groups", 
	gu¾
: "ed™Ü.php?fe÷mazÚ.ÿn_asš_sku_com³t™Üs.txt", 
	grg‘
:"FrameContent"},

94 {
	gid
: 3, 
	gpId
: 0, 
	gÇme
: "AmazÚ.UK KPI", 
	gİ’
: 
çl£
},

95 {
	gid
: 301, 
	gpId
: 3, 
	gÇme
: "UK BSRÑİ 30)", 
	gu¾
: "dashbßrd.php?li¡ñİ30&»giÚ=uk", 
	grg‘
:"FrameContent"},

96 {
	gid
: 302, 
	gpId
: 3, 
	gÇme
: "SKU by OwÃr",
	gchd»n
: [{
id
: 303, 
Çme
: "C¬Şe", 
u¾
: "dashbßrd.php?owÃr=C¬Şe&»giÚ=uk", 
rg‘
:"FrameContent"},{id: 304,‚ame: "Eric", url: "dashboard.php?owner=Eric&region=uk",arget:"FrameContent"},{id: 305,‚ame: "Joy", url: "dashboard.php?owner=Joy&region=uk",arget:"FrameContent"},{id: 306,‚ame: "Sonny", url: "dashboard.php?owner=Sonny&region=uk",arget:"FrameContent"}]},

97 {
	gid
: 319, 
	gpId
: 3, 
	gÇme
: "SKU by Group",
	gchd»n
: <?
php
 
echo
 
$jsÚ_uk_¬r
; ?>},

98 {
	gid
: 307, 
	gpId
: 3, 
	gÇme
: "UK BSR(w“kly)", 
	gu¾
: "dashbßrd.php?d©a=w“kly&»giÚ=uk", 
	grg‘
:"FrameContent"},

99 {
	gid
: 308, 
	gpId
: 3, 
	gÇme
: "UK BSR Groups", 
	gu¾
: "ed™Ü.php?fe÷mazÚ.uk_asš_sku_com³t™Üs.txt", 
	grg‘
:"FrameContent"},

106 
$
(
docum’t
).
»ady
(
	$funùiÚ
 () {

107 
v¬
 
t
 = 
	`$
("#tree");

108 
t
 = 
$
.
â
.
zT»e
.
	`š™
Ñ, 
£‰šg
, 
zNodes
);

109 
v¬
 
zT»e
 = 
$
.
â
.zT»e.
	`g‘ZT»eObj
("tree");

110 
zT»e
.
	`£ËùNode
(zT»e.
	`g‘NodeByP¬am
("id", 101));

112 
	}
});

115 </
	gsüt
>

	@kapil/dashboard.php

1 <?
php
 
	g»quœe_Úû
 '../db.php';

3 
	g$mysqli
 = 
Ãw
 
mysqli
(
$dbHo¡
, 
$dbU£r
, 
$dbPwd
, 
$dbName
);

5 ià(!
	g$mysqli
) {

6 
d›
("CÚÃùiÚ faed: " . 
mysqli_cÚÃù_”rÜ
());

8 ià(
	$mysqli_cÚÃù_”ºo
()) {

9 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

10 
	`ex™
();

11 
	}
}

13 <
	gh—d
>

14 <
lšk
 
	g»l
="shÜtcuˆicÚ" 
h»f
="mt.ico" 
ty³
="image/x-icon" />

15 <
lšk
 
h»f
="lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

16 <
süt
 
¤c
="https://code.jquery.com/jquery-3.1.1.min.js"></script>

17 <
süt
 
¤c
="http://code.highcharts.com/stock/highstock.js"></script>

18 <
süt
 
¤c
="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.1/moment.js"></script>

19 <
¡yË
>

20 
a
.
i¥ršg
:
lšk
, 
	ga
.
	gi¥ršg
:
vis™ed
 {

21 
background
-
cŞÜ
: 
blue
;

22 
	gcŞÜ
: 
wh™e
;

23 
	g·ddšg
: 4
px
 25px;

24 
	g‹xt
-
	g®ign
: 
ûÁ”
;

25 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

26 
	gdi¥Ïy
: 
šlše
-
block
;

28 
	ga
.
	gi¥ršg
:
hov”
,‡.i¥ršg:
aùive
 {

29 
cŞÜ
: 
blue
;

30 
	gbackground
-
	gcŞÜ
: 
wh™e
;

32 
	ga
.
	gcom³
:
lšk
,‡.com³:
vis™ed
 {

33 
background
-
cŞÜ
: 
g»’
;

34 
	gcŞÜ
: 
wh™e
;

35 
	g·ddšg
: 4
px
 25px;

36 
	g‹xt
-
	g®ign
: 
ûÁ”
;

37 
	g‹xt
-
	gdecÜ©iÚ
: 
nÚe
;

38 
	gdi¥Ïy
: 
šlše
-
block
;

40 
	ga
.
	gcom³
:
hov”
,‡.com³:
aùive
 {

41 
cŞÜ
: 
g»’
;

42 
	gbackground
-
	gcŞÜ
: 
wh™e
;

44 .
	gdÙ
 {

45 
	gheight
: 12
px
;

46 
	gwidth
: 12
px
;

47 
	gbackground
-
	gcŞÜ
: #bbb;

48 
	gbÜd”
-
	g¿dius
: 50%;

49 
	gdi¥Ïy
: 
šlše
-
block
;

51 
	gbË
 {

52 
	gwidth
: 10
px
;

53 
	gbÜd”
: 1
px
 
sŞid
 
bÏck
;

54 
	gem±y
-
	gûÎs
: 
hide
;

57 
bË
 
	gth
 > 
	gdiv
,abË 
	gtd
 > div {

58 
	gov”æow
: 
hidd’
;

59 
	gheight
: 15
px
;

60 
	gfÚt
-
	gsize
: 0.875e
m
;

61 
	g·ddšg
: 0
px
;

62 
	gbÜd”
-
	gbÙtom
: 1
px
 
sŞid
 #ddd;

63 
	gv”tiÿl
-
	g®ign
: 
tİ
;

64 
	g‹xt
-
	g®ign
: 
ûÁ”
;

66 
	gŒ
.
	ghov”
:
hov”
 {

67 
background
-
cŞÜ
:#f5f5f5;

69 .
	gnÙy_theme__m‘roui
.
	gnÙy_b¬
 .
	gnÙy_body
{

70 
	gov”æow
: 
ov”Ïy
;

72 .
	gg¿ph
{

73 
	gmš
-
	gwidth
: 310
px
;

74 
	gheight
:‡uto;

75 
	gm¬gš
: 0‡uto;

76 
	gbÜd”
:1
px
 
sŞid
 
g»y
;

77 
	gm¬gš
-
	gbÙtom
: 50
px
;

79 </
	g¡yË
>

80 </
	gh—d
>

81 <?
php


82 
	g$»giÚ
 = 
$_GET
['region'];

83 if(
em±y
(
$_GET
è|| 
is£t
($_GET['list']) || isset($_GET['data'])){

84 
	g$csvFe
 = 
fe
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=0&single=true&output=csv');

85 
	g$d©a
 = [];

86 
	g$csv_d©a
 = [];

87 
fÜ—ch
 (
$csvFe
 
as
 
$lše
) {

88 
	g$csv_check_d©a
 = 
¡r_g‘csv
(
$lše
);

89 
	g$d©a
[] = 
$csv_check_d©a
;

91 
	g$i
 = 1;

92 
fÜ—ch
(
$d©a
 
as
 
$csv_¬¿y_d©a
){

93 
	g$csv_´oduù_asš
 = 
sub¡r
(
$csv_¬¿y_d©a
[0], 
¡¼pos
($csv_array_data[0], '/') + 1);

94 
	g$csv_´oduù_Ën
 = 
¡¾’
(
$csv_´oduù_asš
);

95 if(
	g$csv_´oduù_Ën
 =ğ10 && !
´eg_m©ch
('/[^A-Za-z0-9]/', 
$csv_´oduù_asš
)){

96 
	g$csv_¬¿y_d©a
[5] = 
$csv_´oduù_asš
;

97 
	g$csv_d©a
[] = 
$csv_´oduù_asš
;

98 ià(
	g$i
 == 30) {

101 
	g$i
++;

105 ià(
is£t
(
$_GET
['owner'])) {

106 
	g$owÃr
 = 
$_GET
['owner'];

107 
	g$owÃr_asš
 = 
¬¿y
();

108 
	g$owÃr_qu”y
 = 
$mysqli
->
qu”y
("SELECT DISTINCT×sš),csv_id FROM mws_$»giÚ WHERE owÃ¸ğ(SELECT ID FROM mws_owÃ¸WHERE Nam='".
$owÃr
."') ANDype = 1");

109 
fÜ—ch
 (
$owÃr_qu”y
 
as
 
$owÃr_d©a
) {

110 
	g$owÃr_asš
[] = 
$owÃr_d©a
['asin'];

115 <
	gbody
>

116 <!-- <
div
 
	gid
="container"></div> -->

117 <
süt
 
ty³
="text/javascript">

118 
v¬
 
tİ30
 = '<?ph°echØ$_GET['
li¡
']; ?>';

119 
v¬
 
	g»giÚ
 = '<?ph°echØ$_GET['
»giÚ
']; ?>';

120 ià(
	gtİ30
) {

121 
$
(
docum’t
).
»ady
(
funùiÚ
(){

122 
v¬
 
x
 = 1;

123 
v¬
 
js_¬¿y
 = [<?
php
 
echo
 '"'.
im¶ode
('","', 
$csv_d©a
).'"' ?>];

125 
js_¬¿y
.
fÜEach
(
funùiÚ
(
’Œy
) {

126 
$
.
ajax
({

127 
ty³
: 'get',

128 
u¾
: 'select_graph_data.php',

129 
d©aTy³
: "json",

130 
d©a
: {"asš": 
’Œy
,"»giÚ": 
»giÚ
},

131 
sucûss
: 
funùiÚ
 (
d©a
) {

132 
x
++;

134 
v¬
 
$div
 = 
$
("<div>", {
id
: "cÚš”"+
x
, "şass": "g¿ph", 
’Œy
});

136 
$
("body").
­³nd
(
$div
);

137 
v¬
 
‹xt
 = 'Product Rank & Price Chart';

138 
v¬
 
£Ëù
 = 0;

140 
ch¬tD¿w
(
d©a
, "cÚš”"+
x
,
’Œy
,
‹xt
,
£Ëù
);

142 
”rÜ
: 
funùiÚ
 (
d©a
) {

143 
cÚsŞe
.
log
('Anƒrror occurred.');

149 
v¬
 
	gowÃr
 = '<?ph°echØ$_GET['
owÃr
']; ?>';

150 ià(
	gowÃr
) {

151 
$
(
docum’t
).
»ady
(
funùiÚ
(){

152 
v¬
 
x
 = 1;

153 
v¬
 
js_¬¿y
 = [<?
php
 
echo
 '"'.
im¶ode
('","', 
$owÃr_asš
).'"' ?>];

155 
js_¬¿y
.
fÜEach
(
funùiÚ
(
’Œy
) {

156 
$
.
ajax
({

157 
ty³
: 'get',

158 
u¾
: 'select_graph_data.php',

159 
d©aTy³
: "json",

160 
d©a
: {"asš": 
’Œy
,"»giÚ": 
»giÚ
},

161 
sucûss
: 
funùiÚ
 (
d©a
) {

162 
x
++;

163 
v¬
 
$div
 = 
$
("<div>", {
id
: "cÚš”"+
x
, "şass": "g¿ph", 
’Œy
});

165 
$
("body").
­³nd
(
$div
);

166 
v¬
 
‹xt
 = 'Produù Rªk & Priû Ch¬ˆBy '+
owÃr
;

167 
v¬
 
£Ëù
 = 0;

168 
v¬
 
¿nge
 = 604800000;

169 
ch¬tD¿w
(
d©a
, "cÚš”"+
x
,
’Œy
,
‹xt
,
£Ëù
,
¿nge
);

171 
”rÜ
: 
funùiÚ
 (
d©a
) {

172 
cÚsŞe
.
log
('Anƒrror occurred.');

178 
v¬
 
	gasš
 = '<?ph°echØ$_GET['
asš
']; ?>';

179 ià(
	gasš
) {

180 
$
(
docum’t
).
»ady
(
funùiÚ
(){

181 
$
.
ajax
({

182 
ty³
: 'get',

183 
u¾
: 'select_graph_data.php',

184 
d©aTy³
: "json",

185 
d©a
: {"asš": 
asš
,"»giÚ": 
»giÚ
},

186 
sucûss
: 
funùiÚ
 (
d©a
) {

188 
v¬
 
$div
 = 
$
("<div>", {
id
: "cÚš”1", "şass": "g¿ph", 
asš
});

190 
$
("body").
­³nd
(
$div
);

191 
v¬
 
‹xt
 = 'Produù Rªk & Priû Ch¬ˆOà'+ 
asš
;

192 
v¬
 
£Ëù
 = 0;

193 
v¬
 
¿nge
 = 604800000;

194 
ch¬tD¿w
(
d©a
, "cÚš”1",
asš
,
‹xt
,
£Ëù
,
¿nge
);

196 
”rÜ
: 
funùiÚ
 (
d©a
) {

197 
cÚsŞe
.
log
('Anƒrror occurred.');

203 
v¬
 
	gw“kly
 = '<?ph°echØ$_GET['
d©a
']; ?>';

204 ià(
	gw“kly
) {

205 
$
(
docum’t
).
»ady
(
funùiÚ
(){

206 
v¬
 
x
 = 1;

207 
v¬
 
js_¬¿y
 = [<?
php
 
echo
 '"'.
im¶ode
('","', 
$csv_d©a
).'"' ?>];

209 
js_¬¿y
.
fÜEach
(
funùiÚ
(
’Œy
) {

210 
$
.
ajax
({

211 
ty³
: 'get',

212 
u¾
: 'select_graph_data.php',

213 
d©aTy³
: "json",

214 
d©a
: {"asš": 
’Œy
,"»giÚ": 
»giÚ
,"date_range": 604800000},

215 
sucûss
: 
funùiÚ
 (
d©a
) {

216 
x
++;

218 
v¬
 
$div
 = 
$
("<div>", {
id
: "cÚš”"+
x
, "şass": "g¿ph", 
’Œy
});

220 
$
("body").
­³nd
(
$div
);

221 
v¬
 
‹xt
 = 'Product Rank & Price Chart';

222 
v¬
 
£Ëù
 = 0;

223 
v¬
 
¿nge
 = 604800000;

224 
ch¬tD¿w
(
d©a
, "cÚš”"+
x
,
’Œy
,
‹xt
,
£Ëù
,
¿nge
);

226 
”rÜ
: 
funùiÚ
 (
d©a
) {

227 
cÚsŞe
.
log
('Anƒrror occurred.');

234 
funùiÚ
 
	$ch¬tD¿w
(
d©a
,
div
,
asš
,
t™Ë
,
£Ëù
,
¿nge
){

235 
v¬
 
bŠ_šdex
 = 
£Ëù
;

236 
v¬
 
jsÚA¼ay
 = 
d©a
;

237 
cÚsŞe
.
	`log
(
jsÚA¼ay
);

238 
v¬
 
ch¬t
 = 
	`$
('#'+
div
).
	`highch¬ts
();

240 
Highch¬ts
.
	`ch¬t
(
div
, {

241 
t™Ë
: {

242 
‹xt
: 
t™Ë


244 
¿ngeS–eùÜ
: {

245 
v”tiÿlAlign
: 'right',

246 
bu‰ÚS·cšg
: 10,

247 
bu‰ÚTheme
: {

248 
width
: 50,

250 
bu‰ÚPos™iÚ
: {

251 
x
: -20,

252 
y
: 28

254 
®lBu‰ÚsEÇbËd
: 
Œue
,

255 
’abËd
:
Œue
,

256 
šputEÇbËd
:
çl£
,

257 
bu‰Ús
: [{

258 
ty³
: 'day',

259 
couÁ
: 1,

260 
‹xt
: '1 Day'

262 
ty³
: 'week',

263 
couÁ
: 1,

264 
‹xt
: '1 Week'

266 
ty³
: 'month',

267 
couÁ
: 1,

268 
‹xt
: '1 Month'

270 
ty³
: 'year',

271 
couÁ
: 1,

272 
‹xt
: '1 Year'

274 
£Ëùed
: 
bŠ_šdex
,

275 
»ÏtiveTo
: 'chart',

277 
toŞt
: {

278 
backgroundCŞÜ
: 
nuÎ
,

279 
bÜd”Width
: 0,

280 
shadow
: 
Œue
,

281 
u£HTML
: 
Œue
,

282 
¡yË
: {

283 
·ddšg
: 0

285 
fÜm©‹r
: 
	`funùiÚ
 () {

286 
v¬
 
pošts
 = 
this
.points;

287 
v¬
 
sh¬edPošts
 = '';

288 
v¬
 
¿nk1
 = '';

289 
v¬
 
¿nk2
 = '';

290 
v¬
 
asš2
 = '';

291 
v¬
 
´iû
 = '';

292 
v¬
 
d©e
 = '';

293 
v¬
 
i
 = 0; i < 
pošts
.
Ëngth
/2; i++) {

294 
¿nk1
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.rank1 +'</td>';

295 
asš2
 +ğ'<td><b>'+ 
this
.
pošts
[
i
].
pošt
.asin2 +'</b></td>';

296 
¿nk2
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.rank2 +'</td>';

297 
´iû
 +ğ'<td>'+ 
this
.
pošts
[
i
].
pošt
.price +'</td>';

298 
d©e
 = 
Ãw
 
	`D©e
(
	`·r£IÁ
(
this
.
pošts
[
i
].
pošt
.date));

300 
v¬
 
fÜm©
 = 
d©e
.
	`g‘FuÎY—r
(è+ '/' + (((d©e.
	`g‘MÚth
(è+ 1è< 10è? '0' : ''è+ (d©e.g‘MÚth(è+ 1è+ '/' + ((d©e.
	`g‘D©e
() < 10) ? '0' : '') + date.getDate();

301 
v¬
 
hours
 = 
d©e
.
	`g‘Hours
();

302 
v¬
 
mšu‹s
 = 
d©e
.
	`g‘Mšu‹s
();

303 
v¬
 
ampm
 = 
hours
 >= 12 ? 'pm' : 'am';

308 
v¬
 
¡rTime
 = 
hours
 + ' ' + 
ampm
;

309 
v¬
 
fš®D©e
 = 
fÜm©
 + ' ' + 
¡rTime
;

311 
sh¬edPošts
 +ğ'<div styË="‹xt-®ign:ûÁ”;…addšg-bÙtom:5px;cŞÜ:bÏck "><b>D©e: '+ 
fš®D©e
 +'<br></b></div><bË bÜd”="1" c–Íaddšg="3" c–l¥acšg="0" styË="fÚt-size:10px;"><Œ><td>Sku</td> <b>'+ 
asš2
 + '</b></Œ><Œ><td>Rªk 1</td> <b>' + 
¿nk1
 + '</b></Œ><Œ><td>Rªk2</td> <b>'+ 
¿nk2
 +'</b></Œ><Œ><td>Priû</td> <b>'+ 
´iû
 +'</b></tr></table>';

312  
sh¬edPošts
;

314 
pos™iÚ”
: 
	`funùiÚ
(
Ïb–Width
, 
Ïb–Height
, 
pošt
) {

315 
v¬
 
ËáH®f
 = 
pošt
.
¶ÙX
 < (
this
.
ch¬t
.
¶ÙWidth
 / 2);

316 
v¬
 
tİH®f
 = 
pošt
.
¶ÙY
 < (
this
.
ch¬t
.
¶ÙHeight
 / 2);

318 
x
: 
ËáH®f
 ? 
this
.
ch¬t
.
¶ÙLeá
 +his.ch¬t.
¶ÙWidth
 - 
Ïb–Width
 :his.chart.plotLeft,

319 
y
: 
tİH®f
 ? 
this
.
ch¬t
.
¶ÙTİ
 +his.ch¬t.
¶ÙHeight
 - 
Ïb–Height
 :his.chart.plotTop

322 
shadow
: 
çl£
,

323 
bÜd”Width
: 0,

324 
bÜd”CŞÜ
: "#d4d4d4",

325 
backgroundCŞÜ
: '#f3f3f3',

326 
fŞlowPoš‹r
: 
çl£
,

327 
sh¬ed
: 
Œue
,

328 
üosshaœs
: {

329 
width
: 1,

330 
cŞÜ
: 'gray',

331 
dashStyË
: 'shortdot'

334 
¶ÙO±iÚs
: {

335 
£r›s
: {

336 
®lowPoštS–eù
: 
Œue
,

337 
m¬k”
: {

338 
’abËd
: 
Œue


342 
ch¬t
: {

343 
height
: 300,

344 
¶ÙBackgroundCŞÜ
: "rgba(10,0,0,0)",

345 
ev’ts
: {

346 
lßd
: 
	`funùiÚ
(){

347 if(
this
.
¶ÙBackground
) {

348 
this
.
¶ÙBackground
.
	`toFrÚt
().
	`css
({

349 
cursÜ
: "crosshair"

355 
xAxis
: {

356 
ty³
: 'datetime',

357 
showEm±y
: 
çl£
,

358 
Ïb–s
: {

359 
fÜm©‹r
: 
	`funùiÚ
 () {

360 
v¬
 
d©e
 = 
Ãw
 
	`D©e
(
	`·r£IÁ
(
this
.
v®ue
));

361 
cÚsŞe
.
	`log
(
¿nge
);

362 ià(
¿nge
 == 31536000000) {

363 
v¬
 
fÜm©
 = 
d©e
.
	`g‘FuÎY—r
(è+ '/' + (((d©e.
	`g‘MÚth
() + 1) < 10) ? '0' : '') + (date.getMonth() + 1);

364  
fÜm©
;

365 }if(
¿nge
 =ğ86400000 || 
ty³of
„ange === "undefined"){

366 
v¬
 
fÜm©
 = ((
d©e
.
	`g‘D©e
(è< 10è? '0' : ''è+ d©e.g‘D©e(è+ '/' + (((d©e.
	`g‘MÚth
(è+ 1è< 10è? '0' : ''è+ (d©e.g‘MÚth(è+ 1è+ '/' + d©e.
	`g‘FuÎY—r
();

367 
v¬
 
hours
 = 
d©e
.
	`g‘Hours
();

368 
v¬
 
mšu‹s
 = 
d©e
.
	`g‘Mšu‹s
();

369 
v¬
 
ampm
 = 
hours
 >= 12 ? 'pm' : 'am';

370 
hours
 = hours % 12;

371 
hours
 = hours ? hours : 12;

372 
mšu‹s
 = minutes < 10 ? '0'+minutes : minutes;

373 
v¬
 
¡rTime
 = 
hours
 + ':' + 
mšu‹s
 + ' ' + 
ampm
;

374  
¡rTime
;

376 
v¬
 
fÜm©
 = 
d©e
.
	`g‘FuÎY—r
(è+ '/' + (((d©e.
	`g‘MÚth
(è+ 1è< 10è? '0' : ''è+ (d©e.g‘MÚth(è+ 1è+ '/' + ((d©e.
	`g‘D©e
() < 10) ? '0' : '') + date.getDate();

377  
fÜm©
;

381 
ev’ts
 : {

382 
aá”S‘ExŒemes
: 
	`funùiÚ
(
e
) {

383 
	`aá”S‘ExŒemes
(
e
, 
asš
,
div
,
t™Ë
)

388 
yAxis
: [{

389 
t™Ë
: {

390 
‹xt
: 'Rank1'

392 
height
: '70%'

394 
t™Ë
: {

395 
‹xt
: 'Price'

397 
height
: '30%',

398 
tİ
: '70%',

399 
İpos™e
: 
Œue
,

402 
£r›s
: 
jsÚA¼ay
,

403 
Ëg’d
: {

404 
®ign
: 'right',

405 
v”tiÿlAlign
: 'top',

406 
æßtšg
: 
Œue
,

407 
backgroundCŞÜ
: '#FFFFFF',

408 
y
: 25,

409 
x
: -20,

412 
	}
}

414 
funùiÚ
 
	$aá”S‘ExŒemes
(
e
,
asš
,
cÚš”
,
t™Ë
) {

415 
v¬
 
ch¬t
 = 
	`$
('#'+
cÚš”
).
	`highch¬ts
();

416 if(
	`ty³of
 (
e
.
¿ngeS–eùÜBu‰Ú
) == 'undefined'){

417  
çl£
;

419 if(
e
.
¿ngeS–eùÜBu‰Ú
.
_¿nge
 != ''){

420 
ch¬t
.
	`showLßdšg
('Loading data from server...');

421 
v¬
 
¿nge
 = 
e
.
¿ngeS–eùÜBu‰Ú
.
_¿nge
;

422 ià(
¿nge
 == 86400000){

423 
v¬
 
£Ëù
 = 0;

424 }if(
¿nge
 == 604800000){

425 
v¬
 
£Ëù
 = 1;

426 }if(
¿nge
 == 2592000000){

427 
v¬
 
£Ëù
 = 2;

428 }if(
¿nge
 == 31536000000){

429 
v¬
 
£Ëù
 = 3;

432 
$
.
	`ajax
({

433 
ty³
: 'get',

434 
d©a
: {"d©e_¿nge": 
¿nge
,"asš":
asš
 ,"»giÚ": 
»giÚ
},

435 
u¾
: 'select_graph_data.php',

436 
d©aTy³
: "json",

437 
sucûss
: 
	`funùiÚ
 (
d©a
) {

438 
ch¬t
.
	`hideLßdšg
();

439 
	`ch¬tD¿w
(
d©a
,
cÚš”
,
asš
,
t™Ë
,
£Ëù
,
¿nge
);

441 
”rÜ
: 
	`funùiÚ
 (
d©a
) {

442 
cÚsŞe
.
	`log
('Anƒrror occurred.');

446 
	}
}

447 </
	gsüt
>

448 </
	gbody
>

	@kapil/db.php

1 <?
php


2 
	g$z
 = 
Ãw
 
ZArchive
;

3 
	g$»s
 = 
$z
->
İ’
('MWSProducts.zip');

4 ià(
	g$»s
 ==ğ
TRUE
) {

5 
$z
->
exŒaùTo
('/mwsproducts/');

6 
	g$z
->
şo£
();

9 
	g$dbName
 = "mws";

10 
	g$dbHo¡
 = "localhost";

11 
	g$dbU£r
 = "mws";

12 
	g$dbPwd
 = "mws9lBl88G2uvVtcHw$";

	@kapil/index.php

1 <!-- 
§ved
 
äom
 
	gu¾
=(0055)
h‰p
:

2 <
html
><
h—d
><
m‘a
 
h‰p
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

3 <
lšk
 
»l
="shÜtcuˆicÚ" 
h»f
="mt.ico" 
ty³
="image/x-icon">

4 <
t™Ë
>
M¬k‘
 
T¿ck”
</title>

5 <
süt
>

6 
funùiÚ
 
	$İ
() {

7 
	}
}

8 </
süt
>

9 </
h—d
>

12 (
PËa£
 
k“p
 
®l
 
cİyright
 
nÙiûs
.)

13 
This
 
äame£t
 
docum’t
 
šşudes
 
the
 
T»ev›w
 
süt
.

14 
Süt
 
found
 
š
: 
h‰p
:

15 
AuthÜ
: 
M¬ûlšo
 
Alves
 
M¬tšs


17 
You
 
may
 
make
 
Ùh”
 
chªges
, 
£e
 
Úlše
 
	gš¡ruùiÚs
,

18 
but
 dØ
nÙ
 
chªge
 
the
 
Çmes
 
of
h
äames
 (
Œ“äame
 
ªd
 
ba£äm
)

21 <?
php


22 
fÜ—ch
 (
glob
('u¶ßds/*.HomeD•ÙOrd”s.csv'è
as
 
$f
) {

24 
	g$nf
 = 
¡r_»¶aû
('u¶ßds/','u¶ßds/HomeD•ÙOrd”sCsv/',
$f
);

25 ià(
»Çme
(
$f
, 
$nf
)è
echo
 
	g$f
 .' -> '. 
	g$nf
 ."<br>";

29 <!-- <
äame£t
 
	gcŞs
="225,*" 
Ú»size
="if (navigator.family == &#39;nn4&#39;) window.location.reload()">

30 <
äame
 
¤c
="F¿meT»e.php" 
Çme
="FrameTree">

31 <
äame
 
¤c
="dashbßrd.php?li¡ñİ30" 
Çme
="tİright" 
id
="FrameContent">

32 <
äame
 
¤c
="nÙifiÿtiÚ.php" 
Çme
="bottomright">

33 </
äame£t
> -->

36 <
FRAMESET
 
COLS
="225,*" 
Ú»size
="if (navigator.family == &#39;nn4&#39;) window.location.reload()">

37 <
FRAME
 
SRC
="F¿meT»e.php" 
NAME
="left">

38 <
FRAMESET
 
ROWS
="100%">

39 <
FRAME
 
SRC
="dashbßrd.php?li¡ñİ30&»giÚ=us" 
NAME
="F¿meCÚ‹Á" 
äamebÜd”
="0" 
süŞlšg
="yes" 
id
="FrameContent">

40 <!-- <
FRAME
 
SRC
="nÙifiÿtiÚ.php" 
NAME
="bÙtomright" 
äamebÜd”
="0"> -->

41 </
FRAMESET
>

42 </
FRAMESET
>

45 </
html
>

	@kapil/query.php

1 
SELECT
 
	gmws_id
,
	gmws_mod–
, 
	g´iû
, 
¿nk
 
	gFROM
 `
	gmws
` 
m
 
JOIN
 
ÿ‹gÜy
 
c
 
ON
 
	gc
.mws_id = m.
id
 
WHERE
 m.
upd©ed_Ú
 > 
DATE_SUB
(
NOW
(), 
INTERVAL
 1 
HOUR
è
ORDER
 
BY
 mws_mod–, 
	gm
.updated_on DESC

	@lib/css/LongDropdowns/index.php

1 <!
DOCTYPE
 
html
 
	gPUBLIC
 "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

2 <
html
 
	gxmÊs
="http://www.w3.org/1999/xhtml">

4 <
h—d
>

5 <
m‘a
 
h‰p
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

7 <
t™Ë
>
SŞutiÚ
 
LÚg
 
Drİdowns
</title>

9 <
lšk
 
»l
="¡yËsh“t" 
h»f
="css/¡yË.css" 
ty³
="‹xt/css" 
medŸ
="screen,…rojection"/>

11 <
süt
 
ty³
='‹xt/javasüt' 
¤c
='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js?ver=1.3.2'></script>

12 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="js/jquery.dropdown.js"></script>

13 </
h—d
>

15 <
body
>

17 <?
php
 
šşude
("../header.php"); ?>

19 <
div
 
	gid
="page-wrap">

21 <
h1
>
LÚg
 
Drİdowns
</h1>

23 <
p
>
If
 
your
 
drİdowns
 
¬e
 
this
 , 
you
 
might
 
wªÇ
 
ke
 
a
 
	g»
-
look
 
©
 you¸
Çvig©iÚ®
 
	g¡¿‹gy
. 
	gBut
, 
™
 
makes
 
	g£n£
,‡

24 
‹chnique
 
like
 
this
 
may
 
be
 
	gb’eficŸl
.</
	gp
>

26 <
	gp
>
	gPROBLEM
: 
Drİdown
 
m’u
 
gÛs
 
down
 
b–ow
 
the
 
fŞd
 
wh’
 
İ’ed
, 
makšg
 
low”
 
™ems
 
	gšacûsibË
.</p>

27 <
	gp
>
	gSOLUTION
? 
Make
 
m’u
 
süŞl
 
up
 
ªd
 
down
 
as
 
you
 
mou£
 
through
 
	g™
.</p>

29 <
ul
 
	gşass
="dropdown">

30 <
li
><
a
 
h»f
="#">
R—Îy
 
T®l
 
M’u
</a>

31 <
ul
 
şass
="sub_menu">

32 <
li
><
a
 
h»f
="#">
A¹ificŸl
 
Turf
</a></li>

33 <
li
><
a
 
h»f
="#">
B’ches
 &
amp
; 
	gBËach”s
</
	ga
></
	gli
>

34 <
	gli
><
a
 
	gh»f
="#">
CommuniÿtiÚ
 
Deviûs
</a></
li
>

35 <
li
><
a
 
h»f
="#">
Dugouts
</a></li>

36 <
li
><
a
 
h»f
="#">
F’cšg
 &
amp
; 
	gWšdsü“n
</
	ga
></
	gli
>

37 <
	gli
><
a
 
	gh»f
="#">
FloÜ
 
PrÙeùÜs
</a></
li
>

38 <
li
><
a
 
h»f
="#">
Foul
 
PŞes
</a></li>

39 <
li
><
a
 
h»f
="#">
N‘tšg
</a></li>

40 <
li
><
a
 
h»f
="#">
OutdoÜ
 
Fuº™u»
 &
amp
; 
	gStÜage
</
	ga
></
	gli
>

41 <
	gli
><
a
 
	gh»f
="#">
OutdoÜ
 
Signs
</a></
li
>

42 <
li
><
a
 
h»f
="#">
Paddšg
</a></li>

43 <
li
><
a
 
h»f
="#">
ScÜebßrds
</a></li>

44 <
li
><
a
 
h»f
="#">
Shade
 
SŒuùu»s
</a></li>

45 <
li
><
a
 
h»f
="#">
A¹ificŸl
 
Turf
</a></li>

46 <
li
><
a
 
h»f
="#">
B’ches
 &
amp
; 
	gBËach”s
</
	ga
></
	gli
>

47 <
	gli
><
a
 
	gh»f
="#">
CommuniÿtiÚ
 
Deviûs
</a></
li
>

48 <
li
><
a
 
h»f
="#">
Dugouts
</a></li>

49 <
li
><
a
 
h»f
="#">
F’cšg
 &
amp
; 
	gWšdsü“n
</
	ga
></
	gli
>

50 <
	gli
><
a
 
	gh»f
="#">
FloÜ
 
PrÙeùÜs
</a></
li
>

51 <
li
><
a
 
h»f
="#">
Foul
 
PŞes
</a></li>

52 <
li
><
a
 
h»f
="#">
N‘tšg
</a></li>

53 <
li
><
a
 
h»f
="#">
OutdoÜ
 
Fuº™u»
 &
amp
; 
	gStÜage
</
	ga
></
	gli
>

54 <
	gli
><
a
 
	gh»f
="#">
OutdoÜ
 
Signs
</a></
li
>

55 <
li
><
a
 
h»f
="#">
Paddšg
</a></li>

56 <
li
><
a
 
h»f
="#">
ScÜebßrds
</a></li>

57 <
li
><
a
 
h»f
="#">
Shade
 
SŒuùu»s
</a></li>

58 <
li
><
a
 
h»f
="#">
A¹ificŸl
 
Turf
</a></li>

59 <
li
><
a
 
h»f
="#">
B’ches
 &
amp
; 
	gBËach”s
</
	ga
></
	gli
>

60 <
	gli
><
a
 
	gh»f
="#">
CommuniÿtiÚ
 
Deviûs
</a></
li
>

61 <
li
><
a
 
h»f
="#">
Dugouts
</a></li>

62 <
li
><
a
 
h»f
="#">
F’cšg
 &
amp
; 
	gWšdsü“n
</
	ga
></
	gli
>

63 <
	gli
><
a
 
	gh»f
="#">
FloÜ
 
PrÙeùÜs
</a></
li
>

64 <
li
><
a
 
h»f
="#">
Foul
 
PŞes
</a></li>

65 <
li
><
a
 
h»f
="#">
N‘tšg
</a></li>

66 <
li
><
a
 
h»f
="#">
OutdoÜ
 
Fuº™u»
 &
amp
; 
	gStÜage
</
	ga
></
	gli
>

67 <
	gli
><
a
 
	gh»f
="#">
OutdoÜ
 
Signs
</a></
li
>

68 <
li
><
a
 
h»f
="#">
Paddšg
</a></li>

69 <
li
><
a
 
h»f
="#">
ScÜebßrds
</a></li>

70 <
li
><
a
 
h»f
="#">
Shade
 
SŒuùu»s
</a></li>

71 </
ul
>

72 </
li
>

73 <
li
><
a
 
h»f
="#">
Kšda
 
T®l
 
M’u
</a>

74 <
ul
 
şass
="sub_menu">

75 <
li
><
a
 
h»f
="#">
A¹ificŸl
 
Turf
</a></li>

76 <
li
><
a
 
h»f
="#">
B’ches
 &
amp
; 
	gBËach”s
</
	ga
></
	gli
>

77 <
	gli
><
a
 
	gh»f
="#">
CommuniÿtiÚ
 
Deviûs
</a></
li
>

78 <
li
><
a
 
h»f
="#">
Dugouts
</a></li>

79 <
li
><
a
 
h»f
="#">
F’cšg
 &
amp
; 
	gWšdsü“n
</
	ga
></
	gli
>

80 <
	gli
><
a
 
	gh»f
="#">
FloÜ
 
PrÙeùÜs
</a></
li
>

81 <
li
><
a
 
h»f
="#">
Foul
 
PŞes
</a></li>

82 <
li
><
a
 
h»f
="#">
N‘tšg
</a></li>

83 <
li
><
a
 
h»f
="#">
OutdoÜ
 
Fuº™u»
 &
amp
; 
	gStÜage
</
	ga
></
	gli
>

84 <
	gli
><
a
 
	gh»f
="#">
OutdoÜ
 
Signs
</a></
li
>

85 <
li
><
a
 
h»f
="#">
Paddšg
</a></li>

86 <
li
><
a
 
h»f
="#">
ScÜebßrds
</a></li>

87 </
ul
>

88 </
li
>

89 <
li
><
a
 
h»f
="#">
Av”age
 
M’u
</a>

90 <
ul
 
şass
="sub_menu">

91 <
li
><
a
 
h»f
="#">
A¹ificŸl
 
Turf
</a></li>

92 <
li
><
a
 
h»f
="#">
B’ches
 &
amp
; 
	gBËach”s
</
	ga
></
	gli
>

93 <
	gli
><
a
 
	gh»f
="#">
CommuniÿtiÚ
 
Deviûs
</a></
li
>

94 <
li
><
a
 
h»f
="#">
Dugouts
</a></li>

95 <
li
><
a
 
h»f
="#">
F’cšg
 &
amp
; 
	gWšdsü“n
</
	ga
></
	gli
>

96 </
	gul
>

97 </
	gli
>

98 <
	gli
><
a
 
	gh»f
="#">
No
 
M’u
</a>

99 </
li
>

100 </
ul
>

102 </
div
>

104 <?
php
 
šşude
("../footer.php"); ?>

106 </
	gbody
>

108 </
	ghtml
>

	@lib/db.php

1 <?
php


3 şas 
	cdb
 {

5 
´iv©e
 
	m$š¡ªû
 = 
NULL
;

7 
public
 
funùiÚ
 
	$g‘In¡ªû
() {

8 if(!
£lf
::
$š¡ªû
) {

9 
£lf
::
$š¡ªû
 = 
Ãw
 
	`PDO
('mysql:dbname=mt;host=localhost', 'mws', 'mws9lBl88G2uvVtcHw$');

10 
£lf
::
$š¡ªû
->
	`£tA‰ribu‹
(
PDO
::
ATTR_ERRMODE
, PDO::
ERRMODE_EXCEPTION
);

12  
£lf
::
$š¡ªû
;

14 
	}
}

	@lib/functions.php

1 <?
php


2 
ši_£t
('default_charset', 'UTF-8');

3 
ši_£t
("memory_limit","512M");

4 
ši_£t
('max_execution_time', 300);

5 
d©e_deçuÉ_timezÚe_£t
('America/New_York');

6 
šşude_Úû
('simple_html_dom.php');

7 
šşude_Úû
('db.php');

8 
»quœe_Úû
('phplot.6.1.0.php');

9 
	g$db
 = 
db
::
g‘In¡ªû
();

12 
defše
('ROOTDIR','/var/www/html/uat');

13 
	g$aCŞÜs
=
¬¿y
('red', 'blue', 'DarkGreen', 'orange','cyan', 'SkyBlue', 'green', 'SlateBlue', 'DimGrey', 'gold', 'grey', 'ivory', 'PeachPuff' );

15 
funùiÚ
 
	$dowÆßd_´oûs£d
(
$fe
) {

16 
$fe_u¾
 = "$file";

19 
	`h—d”
('Content-Type:‡pplication/octet-stream');

20 
	`h—d”
("Content-Transfer-Encoding: Binary");

21 
	`h—d”
("CÚ‹Á-di¥os™iÚ:‡‰achm’t; f’ame=\"" . 
	`ba£Çme
(
$fe_u¾
) . "\"");

22 
	`»adfe
(
$fe_u¾
);

23 
	}
}

25 
funùiÚ
 
g‘Html
(
$¦
,
$u£Proxy
=1,
$html_fe_Çme
='html/gethtml.html'){

26 
glob®
 
$cmd
;

27 
»Çme
(
$html_fe_Çme
,$html_file_name .'.old');

28 ià(
	g$u£Proxy
==0è 
g‘_html_cu¾
(
$¦
,
$html_fe_Çme
);

30 ià(
	g$u£Proxy
) {

31 
	g$sProx›sFe
=
fe_g‘_cÚ‹Ás
(
ROOTDIR
 .'/mt/lib/proxybonanza.csv');

32 
	g$aLšes
 = 
ex¶ode
("\n", 
$sProx›sFe
);

33 
	g$lše
 = 
Œim
(
$aLšes
[
¿nd
(0,
couÁ
($aLines)-1)]);

34 ià(
´eg_m©ch
("/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\t\d{2,6}/",
$lše
)) {

36 
	g$a
=
ex¶ode
("\t",
$lše
);

37 
	g$´oxy
 = " -h‰p-´oxy=". 
$a
[0] .':'. $a[1] ." https-proxy=". $a[0] .':'. $a[1] ." --proxy-user=". $a[2] ." --proxy-password=". $a[3];

39 
	g$aU£rAg’ts
=
ex¶ode
("\n",
fe_g‘_cÚ‹Ás
(
ROOTDIR
 .'/mt/lib/user_agent_strings.txt'));

40 
	g$aLšes
 = 
ex¶ode
("\n", 
$sProx›sFe
);

41 
	g$ua
 = 
Œim
(
$aU£rAg’ts
[
¿nd
(0,
couÁ
($aUserAgents)-1)]);

43 
	g$cmd
 = "wget '$sl' -O '$html_file_name' $proxy --tries=3 --timeout=9 --random-wait --wait=1 -U '$ua' ";

45 
	g$»v
=
sy¡em
(
$cmd
);

47 ià(!
fe_exi¡s
(
$html_fe_Çme
è
Ü
 
fesize
($html_file_name)<123456) {

48 
fe_put_cÚ‹Ás
(
ba£Çme
(
__FILE__
, 'php'è. '”rÜ.log', 
d©e
('Y-m-d H:i:s'è."\t". 
$cmd
 ."\n", 
FILE_APPEND
);

50  
g‘_html_cu¾
(
$¦
,'html/amazon.html');

52 
	g$html
=
fe_g‘_html
(
$html_fe_Çme
);

53 ià(
¡ros
(
$html
,'robÙ')<>
	gFALSE
) {

54 
fe_put_cÚ‹Ás
(
ba£Çme
(
__FILE__
, 'php'è. '”rÜ.log', 
d©e
('Y-m-d H:i:s'è."\tRobÙ, cmd=". 
$cmd
 ."\n", 
FILE_APPEND
);

57 
fe_put_cÚ‹Ás
('goodProx›s.log',
$´oxy
 ."\n", 
FILE_APPEND
);

58  
	g$html
;

64 
funùiÚ
 
g‘_html_cu¾
(
$u¾
,
$u£Proxy
=0,
$html_fe_Çme
='webpage.html') {

66 
$ch
 = 
cu¾_š™
(
$u¾
);

67 
	g$å
 = 
fİ’
(
$html_fe_Çme
, "w+");

68 ià((
time
(è- 
femtime
('../lib/user_agent_strings.txt'))>3600*24*7) {

69 
	g$fUa
=
fe_g‘_cÚ‹Ás
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=10357669&single=true&output=tsv');

70 
fe_put_cÚ‹Ás
(
ROOTDIR
 .'/mt/lib/u£r_ag’t_¡ršgs.txt',
$fUa
);

72 
	g$aU£rAg’ts
=
ex¶ode
("\n",
fe_g‘_cÚ‹Ás
(
ROOTDIR
 .'/mt/lib/user_agent_strings.txt'));

73 
	g$sUa
 = 
Œim
(
$aU£rAg’ts
[
¿nd
(0,
couÁ
($aUserAgents)-1)]);

74 ià(
¡¾’
(
$sUa
)<10è
	g$sUa
 = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML,†ike Gecko) Chrome/63.0.3239.132 Safari/537.36';

77 ià(
	g$u£Proxy
) {

78 ià((
time
(è- 
femtime
('../lib/proxybonanza.csv'))>3600*24) {

79 
	g$fProxy
=
fe_g‘_cÚ‹Ás
('https://docs.google.com/spreadsheets/d/e/2PACX-1vR2gY22xgcaR4JUr3naK5nXbFzw3pL_Ogn4msFRDGfVA8nILfEs-BOdxDRt2Jvhx9Yz31eAF8IfpjBn/pub?gid=308001853&single=true&output=tsv');

80 
fe_put_cÚ‹Ás
('../lib/´oxybÚªza.csv',
$fProxy
);

82 
	g$sProx›sFe
=
fe_g‘_cÚ‹Ás
(
ROOTDIR
 .'/mt/lib/proxybonanza.csv');

83 
	g$aLšes
 = 
ex¶ode
("\n", 
$sProx›sFe
);

84 
	g$i
=1;$i<10;$i++) {

85 
	g$lše
 = 
Œim
(
$aLšes
[
¿nd
(0,
couÁ
($aLines)-1)]);

86 ià(
´eg_m©ch
("/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\t\d{2,6}/",
$lše
)) {

87 
	g$a
=
ex¶ode
("\t",
$lše
);

88 
	g$´oxy
=
Œim
(
$a
[0]) .':'.rim($a[1]);

89 
	g$´oxyauth
=
Œim
(
$a
[2]) .':'.rim($a[3]);

91 
cu¾_£tİt
(
$ch
, 
CURLOPT_PROXY
, 
$´oxy
);

92 
cu¾_£tİt
(
$ch
, 
CURLOPT_PROXYUSERPWD
, 
$´oxyauth
);

99 
cu¾_£tİt
(
$ch
, 
CURLOPT_FOLLOWLOCATION
, 1);

100 
cu¾_£tİt
(
$ch
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

101 
cu¾_£tİt
(
$ch
, 
CURLOPT_FILE
, 
$å
);

102 
cu¾_£tİt
(
$ch
, 
CURLOPT_RETURNTRANSFER
, 1);

103 
cu¾_£tİt
(
$ch
, 
CURLOPT_HEADER
, 1);

106 
cu¾_£tİt
(
$ch
, 
CURLOPT_USERAGENT
, 
$sUa
);

107 
cu¾_£tİt
(
$ch
, 
CURLOPT_TIMEOUT
, 10);

108 
	g$html
 = 
cu¾_exec
(
$ch
);

110 
cu¾_şo£
(
$ch
);

111 
fşo£
(
$å
);

112 ià(
¡¾’
(
$html
)>12345) {

113 
fe_put_cÚ‹Ás
(
$html_fe_Çme
,
$html
);

114  
¡r_g‘_html
(
$html
);

119 
funùiÚ
 
fšd_Ï‹¡_fe
(
$wdÿrd
='.', 
$·th
=
__DIR__
) {

122 
$Ï‹¡_ùime
 = 0;

123 
	g$d
 = 
dœ
(
$·th
);

124 
	gçl£
 !=ğ(
$’Œy
 = 
$d
->
»ad
())) {

125 
$f•©h
 = "{$path}/{$entry}";

127 ià(
is_fe
(
$f•©h
è&& 
¡½os
($f•©h,
$wdÿrd
è> 0 && 
feùime
($f•©hè> 
	g$Ï‹¡_ùime
) {

128 
	g$Ï‹¡_ùime
 = 
feùime
(
$f•©h
);

129 
	g$Ï‹¡_f’ame
 = 
$’Œy
;

132  
	g$·th
 .'/'. 
	g$Ï‹¡_f’ame
;

135 
funùiÚ
 
fšd_Ï‹¡_dœ
(
$wdÿrd
='.', 
$·th
=
__DIR__
) {

138 
$Ï‹¡_ùime
 = 0;

140 
	g$d
 = 
dœ
(
$·th
);

141 
	gçl£
 !=ğ(
$’Œy
 = 
$d
->
»ad
())) {

142 
$f•©h
 = "{$path}/{$entry}";

144 ià(
is_dœ
(
$f•©h
è&& 
¡½os
($f•©h,
$wdÿrd
è> 0 && 
feùime
($f•©hè> 
	g$Ï‹¡_ùime
) {

145 
	g$Ï‹¡_ùime
 = 
feùime
(
$f•©h
);

146 
	g$Ï‹¡_dœ
 = 
$’Œy
;

149  
	g$Ï‹¡_dœ
;

152 
funùiÚ
 
unz
(
$zfe
,
$·th_exŒaùed_to
='.') {

153 ià(!
fe_exi¡s
(
$zfe
)è{
echo
 "Zip file $zipfile‚ot found";  -1;}

154 ià(!
fe_exi¡s
(
$·th_exŒaùed_to
)è
mkdœ
($path_extracted_to);

155 
	g$obj_z
 = 
Ãw
 
ZArchive
;

156 ià(
	g$obj_z
->
İ’
(
$zfe
è==ğ
TRUE
) {

157 
$obj_z
->
exŒaùTo
(
$·th_exŒaùed_to
);

158 
	g$obj_z
->
şo£
();

159  
	g$·th_exŒaùed_to
;

166 
funùiÚ
 
	$wÜked_log
(
$¡ršg
,
$wÜked
=0) {

167 
$now
 = 
	`time
();

168 
$¡ršg
 = 
	`mysql_esÿ³_¡ršg
($string);

169 ià(
$wÜked
 = 1) {

170 
	`sqlqu”y
("insert into worked_log (time,string, success) values ($now,'$string',1) ");

171  
Œue
;

173 
$qr
 = 
	`sqlqu”y
("selectime from worked_log where success = 1‡nd string = '$string'");

174 
$time
 = 
$qr
[0]['time'];

175 ià(
$time
 < 
$now
) {

176  
$now
 - 
$time
;

178  
çl£
;

180 
	}
}

182 
funùiÚ
 
	$my_´št_r
(
$v®
) {

183 
echo
 
	`´eg_»¶aû
("/\n|\r/","<br>\n",
	`´št_r
(
$v®
,
Œue
));

184 
	}
}

186 
funùiÚ
 
	$echoE¼Ü
(
$msg
) {

187 
echo
 "<p><font color=red> $msg </font></p>";

188 
	}
}

189 
funùiÚ
 
	$tsv2ToA¼ay
(
$f’ame
) {

190 
$fe
 = 
	`fe_g‘_cÚ‹Ás
(
$f’ame
è
Ü
 
	`d›
('cant open file');

191 
$Lšes
 = 
	`ex¶ode
("\n",
$fe
);

192 
$¿
 = 
	`¬¿y
();

193 
	`fÜ—ch
 (
$Lšes
 
as
 
$lše
) {

194 ià(
	`¡¾’
(
$lše
è< 3 
Ü
 
	`¡½os
($line,'--') === 0 ) ;

197 
$tsv
 = 
	`´eg_¥l™
("/[,\t]+/", 
$lše
 );

198 
$ty³
 = 
	`Œim
(
$tsv
[0]);

199 
$v®
 = 
	`Œim
(
$tsv
[1]);

200 
$¿
[
$v®
] = 
$ty³
;

203  
$¿
;

204 
	}
}

206 
funùiÚ
 
OLDtsv2ToA¼ay
(
$f’ame
,
$d–im
="\t") {

207 
$feC©egÜ›s
 = 
fe_g‘_cÚ‹Ás
(
$f’ame
);

208 
	g$tsvLšes
 = 
ex¶ode
("\n",
$feC©egÜ›s
);

209 
	g$ÿ‹gÜ›s
 = 
¬¿y
();

210 
fÜ—ch
 (
$tsvLšes
 
as
 
$tsv
) {

211 
	gecho
 "$tsv <br>";

212 
	g$tsv
 = 
ex¶ode
(
$d–im
,
Œim
(
$tsv
));

213 
	g$ÿ‹gÜy
 = 
Œim
(
$tsv
[0]);

214 
	g$u¾
 = 
Œim
(
$tsv
[1]);

215 
	g$ÿ‹gÜ›s
[
$ÿ‹gÜy
] = 
$u¾
;

217  
	g$ÿ‹gÜ›s
;

220 
funùiÚ
 
	$mysqÉabËtocsv
(
$q
) {

221 ià(!
	`´eg_m©ch
('/£Ëù \b([\w, ]+?)\b from/',
$q
,
$m©ches
)) {

222 
echo
 "Failedo…re_match /select \b([\w, ]+?)\b from/ with $q";

225 
$v®ueNames
 = 
$m©ches
[1];

226 
	`´eg_m©ch
('/äom \b(\w+)\b/',
$q
,
$m©ches
);

227 
$bËÇme
 = 
$m©ches
[1];

228 
$v®ueNamesA¼ay
 = 
	`ex¶ode
(',',
$v®ueNames
);

229 
$cŞ¥ª
 = 
	`sub¡r_couÁ
(
$v®ueNames
,',');

230 
$rows
 = 
	`sqlqu”y
(
$q
);

231 
	`fÜ—ch
(
$rows
 
as
 
$row
) {

232 
	`fÜ—ch
(
$v®ueNamesA¼ay
 
as
 
$vn
) {

233 
$$vn
 = 
$row
[
$vn
];

234 
$csvrow
 .ğ
$$vn
 .',';

236 ià(
	`sub¡r_couÁ
(
$csvrow
,','è=ğ
$cŞ¥ª
+1è
$csv
 .ğ
	`Œim
($csvrow,',') ."\n";

237 
$csvrow
 = '';

240  
	`Œim
(
$csv
);

241 
	}
}

242 
funùiÚ
 
	$is_sqÉabËexi¡
(
$bËÇme
) {

244 
$sql
 = "showabË lik'". 
$bËÇme
 ."';";

245 
$qu”y
 = 
	`sqlqu”y
(
$sql
);

246 ià(!
	`em±y
(
$qu”y
)è 
Œue
;

250 
	}
}

251 
funùiÚ
 
	$sqlqu”y
(
$q
) {

252 
glob®
 
$db
;

253 
$q
 = 
	`Œim
($q);

254 ià(!
	`´eg_m©ch
('/^show +bË |^£Ëù |^upd©|^š£¹ |^d–‘+äom|^ü—‹ +?bË +?|^Œunÿ‹ |^drİ +bË /i',
$q
)è 
çl£
;

255 ià(
	`´eg_m©ch
('/ü—‹\s+?bË\s+/i',
$q
)) {

261 ià(
	`¡ros
(
$q
,'IF NOT EXISTS'è=ğ
çl£
è$q = 
	`´eg_»¶aû
('/create\s+table/i','CREATE TABLE IF NOT EXISTS ',$q);

262  
$db
->
	`qu”y
(
$q
);

264 
Œy
 {
$qu”y
 = 
$db
->
	`qu”y
(
$q
);} 
	`ÿtch
 (
Exû±iÚ
 
$e
) {

265 
echo
 '<BR><fÚˆcŞÜôed>'. 
$q
 .'<br>Caughˆexû±iÚ: ', 
$e
->
	`g‘Mes§ge
(), "</font><br>\n";

266  
çl£
;

269 ià(
	`´eg_m©ch
('/^show |^£Ëù /i',
$q
)) {

270 
$rows
 = 
$qu”y
->
	`ãtchAÎ
(
PDO
::
FETCH_ASSOC
);

271  
$rows
;

273  
$qu”y
;

274 
	}
}

276 
funùiÚ
 
	$asš_sku_cÚv”siÚ
(
$s
) {

277 
$asš
 = 
$sku
 = ''; 
$today
 = 
	`d©e
('Ymd'); 
$tb
 = 'amazon_items';

278 ià(
	`¡¾’
(
$s
è=ğ10 && 
	`¡½os
('01'.$s,'B0') == 2) {

279 
$asš
 = 
$s
;

280 
$q
 = "select * from $tb where‡sin = '$asin'";

282 
$sku
 = 
$s
;

283 
$q
 = "select * from $tb where sku = '$sku'";

285 
$rows
 = 
	`sqlqu”y
(
$q
);

286 ià(
	`couÁ
(
$rows
) == 0) {

287 
$q
 = "insert ignore into $tb (tier,regions,seller,asin,sku,name,dateadded) values (0,'','','$asin','$sku','',$today); ";

288 
	`sqlqu”y
(
$q
);

290 
	`fÜ—ch
 (
$rows
 
as
 
$row
) {

291 ià(
$asš
 =ğ
$s
 
ªd
 
$row
['sku'] !ğ
nuÎ
)  $row['sku'];

292 ià(
$sku
 =ğ
$s
 
ªd
 
$row
['asš'] !ğ
nuÎ
 )  $row['asin'];

294 
	}
}

296 
funùiÚ
 
	$Şd_g‘_asš_sku_¬¿y
() {

297 
$today
 = 
	`d©e
('Ymd');

298 
$q
 = "select‡sin,sku from‡mazon_items";

299 
$rows
 = 
	`sqlqu”y
(
$q
);

300 
$¬¿y_sql_asš_sku
 = 
	`¬¿y
();

301 
	`fÜ—ch
 (
$rows
 
as
 
$row
) {

302 
$¬¿y_sql_asš_sku
[
$row
['asin']] = $row['sku'];

304 
$csv
 = 
	`fe_g‘_cÚ‹Ás
(
ROOTDIR
 . '/mt/amazon_items.csv');

305 
$lšes
 = 
	`ex¶ode
("\n",
	`Œim
(
$csv
));

306 
$sql_add_v®ues
 = '';

307 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

308 
$vs
 = 
	`ex¶ode
("|",
$lše
);

309 ià(
	`couÁ
(
$vs
) < 6) ;

314 
$asš
=
$vs
[0];

315 
$sku
=
$vs
[1];

317 if(
$¬¿y_sql_asš_sku
[
$asš
] !ğ
$sku
){

318 
$sql_add_v®ues
 .= "('$tier','$regions','$seller','$asin','$sku','$name','$today'),";

319 
$¬¿y_sql_asš_sku
[
$asš
]=
$sku
;

322 
$sql_add_v®ues
 = 
	`Œim
($sql_add_values,',');

324 ià(
	`¡¾’
(
$sql_add_v®ues
è> 30è
	`sqlqu”y
("insert ignore into‡mazon_items (tier,regions,seller,asin,sku,name,dateadded) values $sql_add_values ");

325  
$¬¿y_sql_asš_sku
;

326 
	}
}

328 
funùiÚ
 
g‘_asš_sku_¬¿y
(
$»tuºty³
='array') {

330 
$q
 = "SELECT DISTINCT‡sin,sku FROM `asin_us_strings` WHERE‡sin<>'' AND sku<>'' UNION SELECT‡sin,sku FROM‡mazon_items ORDER BY sku";

331 
	g$rows
 = 
sqlqu”y
(
$q
);

332 
	g$¬¿y_asš_sku
 = 
¬¿y
();

333 
fÜ—ch
 (
$rows
 
as
 
$row
) {

334 
	g$¬¿y_asš_sku
[
$row
['asin']] = $row['sku'];

341 
	g$csv
 = 
fe_g‘_cÚ‹Ás
(
ROOTDIR
 .'/mt/amazon_items.csv');

342 
fÜ—ch
 (
ex¶ode
("\n",
Œim
(
$csv
)è
as
 
$lše
) {

343 
	g$vs
=
ex¶ode
(',',
$lše
);

344 
	g$asš
=
$vs
[0];

345 
	g$sku
=
$vs
[1];

346 ià(!
is£t
(
$¬¿y_asš_sku
[
$asš
]è
Ü
 
	g$¬¿y_asš_sku
[$asš] <> 
	g$sku
è$¬¿y_asš_sku[$asš] = 
$sku
;

348 ià(
	g$»tuºty³
=='¬¿y'è 
$¬¿y_asš_sku
;

349 
fÜ—ch
 (
$¬¿y_asš_sku
 
as
 
$asš
=>
$sku
) {

350 ià(
¡¾’
(
$asš
)==10 
ªd
 sŒËn(
$sku
)>2è
$csv
 .= $asin .','. $sku ."\n";

352 
fe_put_cÚ‹Ás
('asš_sku.csv',
$csv
);

353 
dowÆßd_´oûs£d
('asin_sku.csv');

357 
funùiÚ
 
html_fšd
(
$html
, 
$objeù
, 
$©Œibu‹s
='',
$®l
=0){

358 
$v®ue
 = 
$v®ues
 = '';

360 
	g$©Œibu‹_¬¿y
;

361 
	g$fšds
 = 
$html
->
fšd
(
$objeù
);

362 ià(
	g$©Œibu‹s
 <> '') {

363 
fÜ—ch
(
$fšds
 
as
 
$fšd
){

364 
	g$©Œibu‹_¬¿y
 = 
ex¶ode
(',',
$©Œibu‹s
); 
	g$i
 = 0;

365 
fÜ—ch
(
$©Œibu‹_¬¿y
 
as
 
$©Œ
) {

366 
	g$v®ue
 = 
$fšd
->
$©Œ
;

367 if(
	g$v®ue
 =='') ;

368 
	g$v®ues
 .ğ
$v®ue
 . "<li>";

369 if(
	g$®l
==0) {

370 
$v®ues
 = 
$v®ue
;

374 
	g$i
++;

375 ià(
	g$i
 > 24) ;

377  
	g$v®ues
;

379  
	g$fšds
;

383 
funùiÚ
 
	$Ãw_cu¾_g‘_html
(
$u¾
){

384 
$ch
 = 
	`cu¾_š™
();

385 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_URL
, 
$u¾
);

386 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_RETURNTRANSFER
, 
Œue
);

387 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

388 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_USERAGENT
, 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0)');

389 
$html
 = 
	`cu¾_exec
(
$ch
);

392 
$dom
 = 
Ãw
 
	`sim¶e_html_dom
(
nuÎ
, 
$low”ÿ£
, 
$fÜûTagsClo£d
, 
$rg‘_ch¬£t
, 
$¡rRN
, 
$deçuÉBRText
, 
$deçuÉS·nText
);

394 
$cÚ‹Ás
 = 
$html
;

396 ià(
	`em±y
(
$cÚ‹Ás
è|| 
	`¡¾’
($cÚ‹Ásè> 
MAX_FILE_SIZE
)

398  
çl£
;

401 
$dom
->
	`lßd
(
$cÚ‹Ás
, 
$low”ÿ£
, 
$¡rRN
);

402  
$dom
;

404 
	}
}

406 
funùiÚ
 
Şd_html_fšd
(
$html
, 
$objeù
, 
$©Œibu‹s
='',
$®l
=0){

407 
$v®ue
 = 
$v®ues
 = '';

409 
	g$©Œibu‹_¬¿y
;

410 
	g$fšds
 = 
$html
->
fšd
(
$objeù
);

411 ià(
	g$©Œibu‹s
 <> '') {

412 
fÜ—ch
(
$fšds
 
as
 
$fšd
){

413 
	g$©Œibu‹_¬¿y
 = 
ex¶ode
(',',
$©Œibu‹s
);

414 
fÜ—ch
(
$©Œibu‹_¬¿y
 
as
 
$©Œ
) {

415 
	g$v®ue
 = 
$fšd
->
$©Œ
;

416 if(
	g$v®ue
 =='') ;

417 
	g$v®ues
 .ğ
$v®ue
 . "\t";

418 if(
	g$®l
==0) {

419 
$v®ues
 = 
$v®ue
;

424  
	g$v®ues
;

426  
	g$fšds
;

430 
funùiÚ
 
	$g‘_checked
(
$checked_log_dœ
,
$hours
)

432 
$fes
 = 
	`glob
(
$checked_log_dœ
 .'/'. '*.log');

433 
$checked
 = '';

434 
	`fÜ—ch
(
$fes
 
as
 
$fe
)

436 ià(
	`femtime
(
$fe
è> 
	`time
(è- 3600*
$hours
)

438 
$checked
 .ğ
	`fe_g‘_cÚ‹Ás
(
$fe
);

441 
	`uÆšk
(
$fe
);

444  
$checked
;

445 
	}
}

447 
funùiÚ
 
	$add_checked
(
$checked_log_dœ
,
$™em
)

449  
	`fe_put_cÚ‹Ás
(
$checked_log_dœ
 .'/'. 
	`d©e
('H'è. '.log',
$™em
."\n",
FILE_APPEND
);

450 
	}
}

451 
funùiÚ
 
tsvToA¼ay
(
$tsv
,
$d–im™Ü
="\t") {

452 
$»suÉ
 = 
¬¿y
();

453 
	g$å
 = 
fİ’
(
$tsv
,'r');

454 ià((
	g$h—d”s
 = 
fg‘csv
(
$å
, 0, 
$d–im™Ü
)è!=ğ
FALSE
)

455 ià(
$h—d”s
)

456 (
$lše
 = 
fg‘csv
(
$å
, 0, 
$d–im™Ü
)è!=ğ
FALSE
)

457 ià(
$lše
)

458 ià((
$lše
)==(
$h—d”s
))

459 
$»suÉ
[] = 
¬¿y_combše
(
$h—d”s
,
$lše
);

460 
fşo£
(
$å
);

462  
	g$»suÉ
;

464 
funùiÚ
 
	$csvToHtmlTabË
(
$csv
) {

465 ià(
	`sub¡r_couÁ
(
$csv
,','è> 2è
$d–im™
 = ',';

466 ià(
	`sub¡r_couÁ
(
$csv
,"\t"è> 2è
$d–im™
 = "\t";

467 
$csv
 = 
	`Œim
($csv,
$d–im™
);

468 
$lšeA¼ay
 = 
	`ex¶ode
("\n",
$csv
);

469 
	`fÜ—ch
 (
$lšeA¼ay
 
as
 
$lše
) {

470 
$html
 .= "<tr>";

471 
$ûÎs
 = 
	`ex¶ode
(
$d–im™
,
$lše
);

472 
	`fÜ—ch
 (
$ûÎs
 
as
 
$ûÎ
) {

473 
$html
 .ğ"<td>" . 
	`html¥ecŸlch¬s
(
$ûÎ
) . "</td>";

475 
$html
 .= "</tr>";

477  
$html
;

478 
	}
}

480 #C®lback 'd©a_pošts': 
G’”©e
 1 <
¬—
> 
lše
 
š
 
the
 
image
 
m­
:

482 
funùiÚ
 
my¡Üe_m­
(
$img
, 
$·s¡hru
, 
$sh­e
='dÙ', 
$row
, 
$cŞumn
, 
$x
, 
$y
) {

483 
glob®
 
	g$image_m­
,
	g$aToŞtD©a
;

485 #Lšk 
URL
, 
demÚ¡¿tiÚ
 
Úly
:

486 
	g$h»f
 = "javascript:alert('($row, $col)')";

487 #CÚv”ˆ
coÜdš©es
 
to
 
š‹g”s
:

489 #Aµ’d 
the
 
»cÜd
 
this
 
d©a
 
pošt
 
sh­e
 
to
h
image
 
m­
 
¡ršg
:

493 
	g$coÜds
 = 
¥rštf
("%d,%d,%d", 
$x
, 
$y
, 5);

499 
	g$toŞt
=
$aToŞtD©a
['h—d”'] ."\n". 
´eg_»¶aû
("/\n\t/","\n",
im¶ode
("\t",$aToŞtD©a[
$row
]));

500 #Requœed 
®t
-
‹xt
:

501 
	g$®t
 = 
$aToŞtD©a
['header'];

502 
	g$image_m­
 .= " <area shape=\"circle\" coords=\"$coords\"itle=\"$tooltip\">\n";

506 
funùiÚ
 
d¿wch¬t
(
$¬¿y2d
,
$t™Ë_c
='',
$t™Ë_x
='',
$yLeg’ts
='',
$width
=1600,
$height
=120){

508 
glob®
 
$aCŞÜs
, 
$image_m­
;

509 ià(
couÁ
(
$¬¿y2d
) > 48) {

510 
	g$¬¿ys
 = 
¬¿y_chunk
(
$¬¿y2d
,48);

511 
fÜ—ch
(
$¬¿ys
 
as
 
$¬¿y
) {

512 
	g$width
=
couÁ
(
$¬¿y
)*32;

513 ià(
	g$width
<640) $width=640;

514 
d¿wch¬t
(
$¬¿y
,
$t™Ë_c
,
$t™Ë_x
,
$yLeg’ts
,
$width
,
$height
);

518 #Thi 
glob®
 
¡ršg
 
accumuÏ‹s
 
the
 
image
 
m­
 
AREA
 
gs
.

521 
	g$¶Ù
 = 
Ãw
 
PHPlÙ
(
$width
,
$height
);

522 #Di§bË 
”rÜ
 
images
, 
sšû
 
this
 
süt
 
´oduûs
 
HTML
:

523 
	g$¶Ù
->
S‘Fau»Image
(
F®£
);

525 
	g$¶Ù
->
S‘PrštImage
(
F®£
);

528 
	g$¶Ù
->
S‘FÚtTTF
('x_label', '/home/czyusa1973/public_html/mt/lib/arial.ttf', 9);

529 
	g$¶Ù
->
S‘FÚtTTF
('y_label', '/home/czyusa1973/public_html/mt/lib/arial.ttf', 7);

530 ià(
couÁ
(
$¬¿y2d
è>ğ21è{
$¶Ù
->
S‘XLab–AngË
(45);}

531 
	g$¶Ù
->
S‘YD©aLab–AngË
(90);

548 
	g$¶Ù
->
S‘D©aV®ues
(
$¬¿y2d
);

551 
	g$¶Ù
->
S‘T™Ë
(
$t™Ë_c
);

558 
	g$¶Ù
->
S‘XTickInüem’t
(1);

559 
	g$¶Ù
->
S‘D¿wXGrid
(
True
);

560 
	g$¶Ù
->
S‘D¿wYGrid
(
F®£
);

561 
	g$¶Ù
->
S‘XTickAnchÜ
(0.5);

562 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

563 
	g$¶Ù
->
S‘XD©aLab–Pos
('plotdown');

564 
	g$¶Ù
->
TuÃYAutoRªge
(1, 'R', 0);

565 
	g$¶Ù
->
S‘YD©aLab–Pos
('plotin');

567 
	g$¶Ù
->
S‘YD©aLab–AngË
(0);

568 
	g$¶Ù
->
S‘PlÙTy³
('linepoints');

569 
	g$¶Ù
->
S‘YTickLab–Pos
('none');

570 
	g$¶Ù
->
S‘D©aCŞÜs
(
$aCŞÜs
);

571 
	g$¶Ù
->
S‘LšeStyËs
('solid');

572 
	g$¶Ù
->
S‘LšeWidths
(1);

575 ià(
¡½os
(
$yLeg’ts
,',') > 2) {

577 
	g$Ëg’d
 = 
ex¶ode
(',',
$yLeg’ts
);

578 
	g$¶Ù
->
S‘Leg’d
(
$Ëg’d
);

583 
	g$¶Ù
->
S‘Leg’dPix–s
(250, 1);

586 ià(
¡¾’
(
$yLeg’ts
)>1è
	g$¶Ù
->
S‘Leg’d
($yLegents);

587 
	g$¶Ù
->
S‘Leg’dPos™iÚ
(1, 0, 'plot', 0.5, 0);

591 #S‘ 
the
 
d©a_pošts
 
ÿÎback
 
which
 
wl
 
g’”©e
h
image
 
m­
.

593 
	g$¶Ù
->
D¿wG¿ph
();

594 
	gecho
 "<img src=\"" . 
	g$¶Ù
->
EncodeImage
() . "\">\n";

597 
	g$image_m­
='';

600 
funùiÚ
 
	$¡ršgToCŞÜCode
(
$¡r
) {

601 
$code
 = 
	`dechex
(
	`üc32
(
$¡r
));

602 
$code
 = 
	`sub¡r
($code, 0, 6);

603  
$code
;

604 
	}
}

606 
funùiÚ
 
	$cŞÜ_šv”£
(
$cŞÜ
){

607 
$cŞÜ
 = 
	`¡r_»¶aû
('#', '', $color);

608 ià(
	`¡¾’
(
$cŞÜ
) != 6){  '000000'; }

609 
$rgb
 = '';

610 
$x
=0;$x<3;$x++){

611 
$c
 = 255 - 
	`hexdec
(
	`sub¡r
(
$cŞÜ
,(2*
$x
),2));

612 
$c
 = ($ø< 0è? 0 : 
	`dechex
($c);

613 
$rgb
 .ğ(
	`¡¾’
(
$c
) < 2) ? '0'.$c : $c;

615  '#'.
$rgb
;

616 
	}
}

618 
funùiÚ
 
£ndma
(
$subjeù
,
$mes§ge
,
$äom
='MarketTracker <john@ispringfilter.com>'){

619 
$£nd_ma_log
 = 
fe_g‘_cÚ‹Ás
('sendmail.log');

620 if(
¡½os
(
$£nd_ma_log
,
$subjeù
)è{
	gecho
 "<BR> $subject was‡lready sent inƒmail.";  -1;}

621 
	g$mes§ge
 = "<html><head><style>.h1, .h3color {color: #E47911;}</style><title>$subject</title></head>$message</html>\n";

623 
	g$h—d”s
 = 'MIME-Version: 1.0' . "\r\n";

624 
	g$h—d”s
 .= 'Content-type:ext/html; charset=iso-8859-1' . "\r\n";

625 
	g$h—d”s
 .= "From: $from" . "\r\n";

627 if(
ma
(
EMAIL_RECEPIENTS
,
$subjeù
,
$mes§ge
,
$h—d”s
)) {

628 
	gecho
 "<BR><B>Email sent:</B> $subject";

629 
fe_put_cÚ‹Ás
('£ndma.log',
d©e
('Y-m-d H:m'è.','. 
$subjeù
);

633 
funùiÚ
 
phpma”
(
$subjeù
='',
$mes§ge
,
$©chm’t
=''){

634 
$mes§ge
 = '<html><h—d><t™Ë>Rev›w T¬g‘ R•Üt</t™Ë></h—d><b>' .
d©e
('l, Y-m-d h:m:s') .'</b><br>'. $message . "</html>\n\n";

636 
	g$ema
 = 
Ãw
 
PHPMa”
();

637 
	g$ema
->
	gFrom
 = 
EMAIL_RECEPIENTS
;

638 
	g$ema
->
	gFromName
 = 'John Chen';

639 
	g$ema
->
	gSubjeù
 = 
$subjeù
;

640 
	g$ema
->
	gBody
 = 
$mes§ge
;

641 
	g$ema
->
AddAdd»ss
( 'john@iSpringFilter.com' );

642 ià(
	g$©chm’t
 <> '') {

643 
	g$fe_to_©ch
 = 
$©chm’t
;

644 
	g$ema
->
AddA‰achm’t
Ğ
$fe_to_©ch
 , 'NameOfFile.pdf' );

646  
	g$ema
->
S’d
();

	@lib/functions_dashboard.php

1 <?
php


3 
funùiÚ
 
	$ch¬t
(
$q
, 
$yÏbË
, 
$skuA¼ay
) {

4 
$rows
 = 
	`sqlqu”y
(
$q
);

5 
	`fÜ—ch
(
$rows
 
as
 
$row
) {

6 
$s
 = 
	`d©e
('m/d H',
$row
['time']);

7 
	`fÜ—ch
(
$skuA¼ay
 
as
 
$asš
=>
$sku
) {

8 
$s
 .ğ','. 
	`¡r_»¶aû
(',','',0-
$row
[
$sku
]);

10 
$¬¿y
[] = 
	`ex¶ode
(',',
$s
);

12 
$i
++; if ($i>90) ;

16 
echo
 '<table><tr><td>';

17 
	`fÜ—ch
(
$skuA¼ay
 
as
 
$asš
=>
$sku
) {

18 
$asšs
 .ğ
$asš
 .',';

19 
$şass
 = 
	`¡½os
(
$sku
,'_',1) > 1 ? 'compe' : 'ispring';

20 
echo
 "<a class=\"$class\"arget=_blank href=\"http://www.amazon.com/dp/$asin\">$sku</a>&nbsp; <aarget=_blank href=\"rank/bestsellerrank.comp.php?asin=$asin\">History</a>&nbsp;";

22 ià(
	`couÁ
(
$skuA¼ay
è> 1è
echo
 "&nbsp; <aarget=_blank href=\"rank/bestsellerrank.comp.php?asin=$asins\">More</a>";

24 
echo
 '</td></tr><tr><td>';

25 
	`d¿wch¬t
(
	`¬¿y_»v”£
(
$¬¿y
),'','time',
$yÏbË
,1300,250);

26 
echo
 '</td></tr></table>';

28 
$html_bË_d©a
 = '<table border=1><tr><td>time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>';

29 
	`fÜ—ch
(
$skuA¼ay
 
as
 
$asš
=>
$sku
) {

30 
$html_bË_d©a
 .ğ'<td><¨rg‘=_bÏnk h»f="¿nk/be¡£Î”¿nk.comp.php?asš='. 
$asš
 .'">'. 
$sku
 .'</td>';

32 
$html_bË_d©a
 .= '</tr>';

33 
	`fÜ—ch
(
$¬¿y
 
as
 
$row
) {

34 
$html_bË_d©a
 .= '<tr>';

35 
$r
 = 0; $r<=
	`couÁ
(
$skuA¼ay
); $r++) {

36 
$html_bË_d©a
 .ğ'<td>'. 
$row
[
$r
] .'</td>';

38 
$html_bË_d©a
 .= '</tr>';

40  
$html_bË_d©a
 .'</table>';

41 
	}
}

	@lib/geoipregionvars.php

1 <?
	gphp


2 #Cİyrighˆ2009 
Maxmšd
 
LLC
 
AÎ
 
Rights
 
Re£rved


3 
	g$GEOIP_REGION_NAME
 = 
¬¿y
(

4 "AD" => 
¬¿y
(

12 "AE" => 
¬¿y
(

20 "AF" => 
¬¿y
(

59 "AG" => 
¬¿y
(

67 "AL" => 
¬¿y
(

80 "AM" => 
¬¿y
(

92 "AO" => 
¬¿y
(

112 "AR" => 
¬¿y
(

137 "AT" => 
¬¿y
(

147 "AU" => 
¬¿y
(

156 "AZ" => 
¬¿y
(

228 "BA" => 
¬¿y
(

231 "BB" => 
¬¿y
(

243 "BD" => 
¬¿y
(

314 "BE" => 
¬¿y
(

327 "BF" => 
¬¿y
(

373 "BG" => 
¬¿y
(

403 "BH" => 
¬¿y
(

422 "BI" => 
¬¿y
(

439 "BJ" => 
¬¿y
(

458 "BM" => 
¬¿y
(

470 "BN" => 
¬¿y
(

483 "BO" => 
¬¿y
(

493 "BR" => 
¬¿y
(

521 "BS" => 
¬¿y
(

543 "BT" => 
¬¿y
(

562 "BW" => 
¬¿y
(

572 "BY" => 
¬¿y
(

580 "BZ" => 
¬¿y
(

587 "CA" => 
¬¿y
(

601 "CD" => 
¬¿y
(

614 "CF" => 
¬¿y
(

632 "CG" => 
¬¿y
(

643 "CH" => 
¬¿y
(

670 "CI" => 
¬¿y
(

694 "CL" => 
¬¿y
(

708 "CM" => 
¬¿y
(

719 "CN" => 
¬¿y
(

751 "CO" => 
¬¿y
(

789 "CR" => 
¬¿y
(

797 "CU" => 
¬¿y
(

813 "CV" => 
¬¿y
(

830 "CY" => 
¬¿y
(

837 "CZ" => 
¬¿y
(

867 "DE" => 
¬¿y
(

884 "DJ" => 
¬¿y
(

891 "DK" => 
¬¿y
(

912 "DM" => 
¬¿y
(

923 "DO" => 
¬¿y
(

958 "DZ" => 
¬¿y
(

1007 "EC" => 
¬¿y
(

1030 "EE" => 
¬¿y
(

1052 "EG" => 
¬¿y
(

1079 "ER" => 
¬¿y
(

1086 "ES" => 
¬¿y
(

1104 "ET" => 
¬¿y
(

1124 "FI" => 
¬¿y
(

1131 "FJ" => 
¬¿y
(

1137 "FM" => 
¬¿y
(

1142 "FR" => 
¬¿y
(

1165 "GA" => 
¬¿y
(

1175 "GB" => 
¬¿y
(

1428 "GD" => 
¬¿y
(

1435 "GE" => 
¬¿y
(

1500 "GH" => 
¬¿y
(

1511 "GL" => 
¬¿y
(

1515 "GM" => 
¬¿y
(

1522 "GN" => 
¬¿y
(

1557 "GQ" => 
¬¿y
(

1565 "GR" => 
¬¿y
(

1617 "GT" => 
¬¿y
(

1640 "GW" => 
¬¿y
(

1650 "GY" => 
¬¿y
(

1661 "HN" => 
¬¿y
(

1680 "HR" => 
¬¿y
(

1702 "HT" => 
¬¿y
(

1713 "HU" => 
¬¿y
(

1756 "ID" => 
¬¿y
(

1797 "IE" => 
¬¿y
(

1824 "IL" => 
¬¿y
(

1831 "IN" => 
¬¿y
(

1867 "IQ" => 
¬¿y
(

1886 "IR" => 
¬¿y
(

1927 "IS" => 
¬¿y
(

1954 "IT" => 
¬¿y
(

1975 "JM" => 
¬¿y
(

1990 "JO" => 
¬¿y
(

2000 "JP" => 
¬¿y
(

2048 "KE" => 
¬¿y
(

2057 "KG" => 
¬¿y
(

2067 "KH" => 
¬¿y
(

2090 "KI" => 
¬¿y
(

2094 "KM" => 
¬¿y
(

2098 "KN" => 
¬¿y
(

2113 "KP" => 
¬¿y
(

2127 "KR" => 
¬¿y
(

2144 "KW" => 
¬¿y
(

2151 "KY" => 
¬¿y
(

2160 "KZ" => 
¬¿y
(

2178 "LA" => 
¬¿y
(

2192 "LB" => 
¬¿y
(

2204 "LC" => 
¬¿y
(

2216 "LI" => 
¬¿y
(

2230 "LK" => 
¬¿y
(

2263 "LR" => 
¬¿y
(

2281 "LS" => 
¬¿y
(

2292 "LT" => 
¬¿y
(

2303 "LU" => 
¬¿y
(

2307 "LV" => 
¬¿y
(

2341 "LY" => 
¬¿y
(

2367 "MA" => 
¬¿y
(

2422 "MC" => 
¬¿y
(

2426 "MD" => 
¬¿y
(

2472 "MG" => 
¬¿y
(

2479 "MK" => 
¬¿y
(

2603 "ML" => 
¬¿y
(

2613 "MM" => 
¬¿y
(

2629 "MN" => 
¬¿y
(

2654 "MO" => 
¬¿y
(

2657 "MR" => 
¬¿y
(

2670 "MS" => 
¬¿y
(

2674 "MU" => 
¬¿y
(

2687 "MV" => 
¬¿y
(

2708 "MW" => 
¬¿y
(

2736 "MX" => 
¬¿y
(

2769 "MY" => 
¬¿y
(

2786 "MZ" => 
¬¿y
(

2798 "NA" => 
¬¿y
(

2837 "NE" => 
¬¿y
(

2846 "NG" => 
¬¿y
(

2888 "NI" => 
¬¿y
(

2907 "NL" => 
¬¿y
(

2924 "NO" => 
¬¿y
(

2944 "NP" => 
¬¿y
(

2959 "NR" => 
¬¿y
(

2974 "NZ" => 
¬¿y
(

2992 "OM" => 
¬¿y
(

3001 "PA" => 
¬¿y
(

3012 "PE" => 
¬¿y
(

3038 "PG" => 
¬¿y
(

3059 "PH" => 
¬¿y
(

3195 "PK" => 
¬¿y
(

3204 "PL" => 
¬¿y
(

3270 "PS" => 
¬¿y
(

3273 "PT" => 
¬¿y
(

3294 "PY" => 
¬¿y
(

3314 "QA" => 
¬¿y
(

3326 "RO" => 
¬¿y
(

3369 "RS" => 
¬¿y
(

3372 "RU" => 
¬¿y
(

3465 "RW" => 
¬¿y
(

3475 "SA" => 
¬¿y
(

3490 "SB" => 
¬¿y
(

3500 "SC" => 
¬¿y
(

3524 "SD" => 
¬¿y
(

3536 "SE" => 
¬¿y
(

3563 "SH" => 
¬¿y
(

3567 "SI" => 
¬¿y
(

3709 "SK" => 
¬¿y
(

3718 "SL" => 
¬¿y
(

3723 "SM" => 
¬¿y
(

3733 "SN" => 
¬¿y
(

3747 "SO" => 
¬¿y
(

3768 "SR" => 
¬¿y
(

3779 "ST" => 
¬¿y
(

3782 "SV" => 
¬¿y
(

3797 "SY" => 
¬¿y
(

3812 "SZ" => 
¬¿y
(

3818 "TD" => 
¬¿y
(

3833 "TG" => 
¬¿y
(

3841 "TH" => 
¬¿y
(

3920 "TJ" => 
¬¿y
(

3924 "TM" => 
¬¿y
(

3930 "TN" => 
¬¿y
(

3954 "TO" => 
¬¿y
(

3958 "TR" => 
¬¿y
(

4040 "TT" => 
¬¿y
(

4053 "TW" => 
¬¿y
(

4058 "TZ" => 
¬¿y
(

4085 "UA" => 
¬¿y
(

4113 "UG" => 
¬¿y
(

4158 "US" => 
¬¿y
(

4221 "UY" => 
¬¿y
(

4241 "UZ" => 
¬¿y
(

4256 "VC" => 
¬¿y
(

4263 "VE" => 
¬¿y
(

4289 "VN" => 
¬¿y
(

4378 "VU" => 
¬¿y
(

4393 "WS" => 
¬¿y
(

4404 "YE" => 
¬¿y
(

4423 "ZA" => 
¬¿y
(

4434 "ZM" => 
¬¿y
(

4444 "ZW" => 
¬¿y
(

	@lib/img/review_rating_target_report.php

1 <!
DOCTYPE
 
html
 
	gPUBLIC
 "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

2 <
html
 
	gxmÊs
="http://www.w3.org/1999/xhtml">

3 <
h—d
>

4 <
m‘a
 
h‰p
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

5 <
lšk
 
»l
="shÜtcuˆicÚ" 
h»f
="../lib/images/target_animated.ico" >

6 <
lšk
 
»l
="icÚ" 
ty³
="image/gif" 
h»f
="../lib/images/target_animated.gif" >

7 <
t™Ë
>
iS´šg
 
AmazÚ
 
Rev›ws
 
T¬g‘
 
R•Üt
</title>

8 <
lšk
 
h»f
="../lib/css/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/js/sorttable.js"></script>

10 <
lšk
 
h»f
="../lib/js/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

11 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/js/TableFilter/tablefilter.js"></script>

12 </
h—d
><
body
>

13 <?
php


15 
šşude_Úû
('../lib/db.php');

16 
šşude_Úû
('../lib/functions.php');

17 
	g$db
 = 
db
::
g‘In¡ªû
();

18 
ši_£t
('max_execution_time', 130);

19 
ši_£t
('memory_limit', '25M');

20 
ši_£t
('default_charset', 'UTF-8');

21 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

22 
d©e_deçuÉ_timezÚe_£t
('America/New_York');

24 
defše
("EMAIL_RECEPIENTS","john@ispringfilter.com");

27 if(
is£t
(
$_GET
['download'])){

28 
	g$»giÚ
 = 'com';

29 
	g$»pÜt_fe_Çme
 = 
ba£Çme
(
__FILE__
,'php'è.'.'. 
	g$»giÚ
 .'.'. 
d©e
('Ymd-H') .'.TSV';

30 
	gex™
;

33 
	g$v®ueNames
 = 'date,asin,sku,total,five,four,three,two,one';

34 
	g$v®ueNamesA¼ay
 = 
ex¶ode
(',',
$v®ueNames
);

36 
	g$q
 = 'select * from ispring_reviewstars_propcount LEFT JOIN ispring_asin_sku ON (ispring_reviewstars_propcount.asin = ispring_asin_sku.asin)';

37 
	gŒy
 {
	g$qu”y
 = 
$db
->
qu”y
(
$q
);} 
	$ÿtch
 (
Exû±iÚ
 
$e
) {

38 
echo
 '<BR><fÚˆcŞÜôed>'. 
$q
 .'<br>Caughˆexû±iÚ: ', 
$e
->
	`g‘Mes§ge
(), "</font><br>\n";

39 
ex™
;

40 
	}
}

41 
	g$rows
 = 
$qu”y
->
ãtchAÎ
(
PDO
::
FETCH_ASSOC
);

42 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

43 
	`fÜ—ch
(
$v®ueNamesA¼ay
 
as
 
$vn
) {

44 
$$vn
 = 
$row
[
$vn
];

45 
$csv
 .ğ
$$vn
 .',';

47 
$tÙ®Srs
 = 
$five
 * 5 + 
$four
 * 4 + 
$th»e
 * 3 + 
$two
 * 2 + 
$Úe
;

48 
$avg
 = 
	`round
(
$tÙ®Srs
/
$tÙ®
,3);

49 
$FiveN“ded
 = (4.75-
$avg
è* 
$tÙ®
 * 4;

50 
$csv
 .ğ
$avg
 .','. 
$FiveN“ded
 ."\n";

51 
	}
}

56 
	gecho
 '<bË id="bË1" bÜd”=1 width="100%" cÏss="sÜbË f‹¿bË"><th—d><Œ><th>'. 
¡r_œ•Ïû
(',','</th><th>',
$v®ueNames
è. '</th><th>Av”age</th><th>FiveN“ded</th></Œ></th—d><tbody>'. 
´eg_»¶aû
('-<td>(B0\w+)</td>-','<td><¨rg‘=_bÏnk h»f="h‰p://www.amazÚ.com/´oduù-»v›ws/$1">$1</a></td>',
csvToHtmlTabË
(
$csv
)) .'</tbody></table>';

57 
šşude_Úû
('../lib/js/TableFilter/TableFilterConfig.txt');

59 </
	gbody
>

60 </
	ghtml
>

	@lib/phplot.6.1.0.php

1 <?
php


36 şas 
	cPHPlÙ


38 cÚ¡ 
	mv”siÚ
 = '6.1.0';

39 cÚ¡ 
	mv”siÚ_id
 = 60100;

46 
´Ùeùed
 
	m$aùu®_b¬_width
;

47 
´Ùeùed
 
	m$b¬_adju¡_g­
;

48 
public
 
	m$b¬_exŒa_¥aû
 = 0.5;

49 
public
 
	m$b¬_width_adju¡
 = 1;

50 
´Ùeùed
 
	m$bg_cŞÜ
;

51 
´Ùeùed
 
	m$bgimg
;

52 
´Ùeùed
 
	m$bgmode
;

53 
public
 
	m$boxes_äac_width
 = 0.3;

54 
public
 
	m$boxes_t_width
 = 0.6;

55 
public
 
	m$boxes_max_width
 = 8;

56 
public
 
	m$boxes_mš_width
 = 2;

57 
´Ùeùed
 
	m$brow£r_ÿche
 = 
FALSE
;

58 
public
 
	m$bubbËs_max_size
;

59 
public
 
	m$bubbËs_mš_size
 = 6;

60 
´Ùeùed
 
	m$ÿÎbacks
 = 
¬¿y
(

61 'd©a_pošts' => 
NULL
,

62 'd¿w_£tup' => 
NULL
,

63 'd¿w_image_background' => 
NULL
,

64 'd¿w_¶Ù¬—_background' => 
NULL
,

65 'd¿w_t™Ës' => 
NULL
,

66 'd¿w_axes' => 
NULL
,

67 'd¿w_g¿ph' => 
NULL
,

68 'd¿w_bÜd”' => 
NULL
,

69 'd¿w_Ëg’d' => 
NULL
,

70 'd¿w_®l' => 
NULL
,

71 'd©a_cŞÜ' => 
NULL
,

72 'debug_‹xtbox' => 
NULL
,

73 'debug_sÿË' => 
NULL
,

75 
´Ùeùed
 
	m$dashed_grid
 = 
TRUE
;

76 
´Ùeùed
 
	m$dashed_¡yË
 = '2-4';

77 
´Ùeùed
 
	m$d©a
;

78 
´Ùeùed
 
	m$d©a_bÜd”_cŞÜs
;

79 
´Ùeùed
 
	m$d©a_cŞÜs
;

80 
´Ùeùed
 
	m$d©a_cŞumns
;

81 
´Ùeùed
 
	m$d©a_max
;

82 
´Ùeùed
 
	m$d©a_mš
;

83 
´Ùeùed
 
	m$d©a_ty³
 = 'text-data';

84 
public
 
	m$d©a_un™s_‹xt
 = '';

85 
public
 
	m$d©a_v®ue_Ïb–_ªgË
 = 90;

86 
public
 
	m$d©a_v®ue_Ïb–_di¡ªû
 = 5;

87 
´Ùeùed
 
	m$d©®ab–_cŞÜ
;

88 
´Ùeùed
 
	m$d©©y³_”rÜ_b¬s
;

89 
´Ùeùed
 
	m$d©©y³_im¶›d
;

90 
´Ùeùed
 
	m$d©©y³_p›_sšgË
;

91 
´Ùeùed
 
	m$d©©y³_sw­³d_xy
;

92 
´Ùeùed
 
	m$d©©y³_yz
;

93 
´Ùeùed
 
	m$d©©y³s
 = 
¬¿y
(

94 '‹xt-d©a' => 
¬¿y
('im¶›d' => 
TRUE
),

95 '‹xt-d©a-sšgË' => 
¬¿y
('im¶›d' => 
TRUE
, 'pie_single' => TRUE),

96 'd©a-d©a' => 
¬¿y
(),

97 'd©a-d©a-”rÜ' => 
¬¿y
('”rÜ_b¬s' => 
TRUE
),

98 'd©a-d©a-yx' => 
¬¿y
('sw­³d_xy' => 
TRUE
),

99 '‹xt-d©a-yx' => 
¬¿y
('im¶›d' => 
TRUE
, 'swapped_xy' => TRUE),

100 'd©a-d©a-xyz' => 
¬¿y
('yz' => 
TRUE
),

101 'd©a-d©a-yx-”rÜ' => 
¬¿y
('sw­³d_xy' => 
TRUE
, 'error_bars' => TRUE),

103 
´Ùeùed
 
	m$d©©y³s_m­
 = 
¬¿y
(

110 
´Ùeùed
 
	m$decim®_pošt
;

111 
´Ùeùed
 
	m$deçuÉ_cŞÜs
 = 
¬¿y
(

115 
´Ùeùed
 
	m$deçuÉ_dashed_¡yË
;

116 
´Ùeùed
 
	m$deçuÉ_‰fÚt
;

117 
´Ùeùed
 
	m$dÚe
 = 
¬¿y
();

118 
´Ùeùed
 
	m$d¿w_brok’_lšes
 = 
FALSE
;

119 
´Ùeùed
 
	m$d¿w_d©a_bÜd”s
;

120 
´Ùeùed
 
	m$d¿w_p›_bÜd”s
;

121 
´Ùeùed
 
	m$d¿w_¶Ù_¬—_background
 = 
FALSE
;

122 
´Ùeùed
 
	m$d¿w_x_d©a_Ïb–_lšes
 = 
FALSE
;

123 
´Ùeùed
 
	m$d¿w_x_grid
;

124 
´Ùeùed
 
	m$d¿w_y_d©a_Ïb–_lšes
 = 
FALSE
;

125 
´Ùeùed
 
	m$d¿w_y_grid
;

126 
´Ùeùed
 
	m$dvÏb–_cŞÜ
;

127 
´Ùeùed
 
	m$”rÜ_b¬_cŞÜs
;

128 
´Ùeùed
 
	m$”rÜ_b¬_lše_width
 = 1;

129 
´Ùeùed
 
	m$”rÜ_b¬_sh­e
 = 'tee';

130 
´Ùeùed
 
	m$”rÜ_b¬_size
 = 5;

131 
´Ùeùed
 
	m$fe_fÜm©
 = 'png';

132 
public
 
	m$fÚts
;

133 
public
 
	m$grid_©_fÜeground
 = 
FALSE
;

134 
´Ùeùed
 
	m$grid_cŞÜ
;

135 
public
 
	m$group_äac_width
 = 0.7;

136 
´Ùeùed
 
	m$i_bÜd”
;

137 
´Ùeùed
 
	m$image_bÜd”_ty³
 = 'none';

138 
´Ùeùed
 
	m$image_bÜd”_width
;

139 
´Ùeùed
 
	m$image_height
;

140 
´Ùeùed
 
	m$image_width
;

141 
public
 
	m$img
;

142 
´Ùeùed
 
	m$š_”rÜ
;

143 
´Ùeùed
 
	m$is_šlše
 = 
FALSE
;

144 
´Ùeùed
 
	m$Ïb–_fÜm©
 = 
¬¿y
('x' =>‡rray(), 'xd' =>‡rray(), 'y' =>‡rray(), 'yd' =>‡rray());

145 
´Ùeùed
 
	m$Ïb–_sÿË_pos™iÚ
 = 0.5;

146 
´Ùeùed
 
	m$Ëg’d
;

147 
´Ùeùed
 
	m$Ëg’d_bg_cŞÜ
;

148 
´Ùeùed
 
	m$Ëg’d_cŞÜbox_®ign
 = 'right';

149 
public
 
	m$Ëg’d_cŞÜbox_width
 = 1;

150 
´Ùeùed
 
	m$Ëg’d_cŞÜbox_bÜd”s
 = 'textcolor';

151 
´Ùeùed
 
	m$Ëg’d_pos
;

152 
´Ùeùed
 
	m$Ëg’d_»v”£_Üd”
 = 
FALSE
;

153 
´Ùeùed
 
	m$Ëg’d_‹xt_®ign
 = 'right';

154 
´Ùeùed
 
	m$Ëg’d_‹xt_cŞÜ
;

155 
´Ùeùed
 
	m$Ëg’d_u£_sh­es
 = 
FALSE
;

156 
´Ùeùed
 
	m$light_grid_cŞÜ
;

157 
´Ùeùed
 
	m$lše_¥acšg
 = 4;

158 
´Ùeùed
 
	m$lše_¡yËs
 = 
¬¿y
('solid', 'solid', 'dashed');

159 
´Ùeùed
 
	m$lše_widths
 = 1;

160 
public
 
	m$loÿË_ov”ride
 = 
FALSE
;

161 
´Ùeùed
 
	m$max_x
;

162 
´Ùeùed
 
	m$max_y
;

163 
´Ùeùed
 
	m$max_z
;

164 
´Ùeùed
 
	m$mš_x
;

165 
´Ùeùed
 
	m$mš_y
;

166 
´Ùeùed
 
	m$mš_z
;

167 
´Ùeùed
 
	m$ndx_bg_cŞÜ
;

168 
´Ùeùed
 
	m$ndx_d©a_bÜd”_cŞÜs
;

169 
´Ùeùed
 
	m$ndx_d©a_cŞÜs
;

170 
´Ùeùed
 
	m$ndx_d©a_d¬k_cŞÜs
;

171 
´Ùeùed
 
	m$ndx_d©®ab–_cŞÜ
;

172 
´Ùeùed
 
	m$ndx_dvÏb–_cŞÜ
;

173 
´Ùeùed
 
	m$ndx_”rÜ_b¬_cŞÜs
;

174 
´Ùeùed
 
	m$ndx_grid_cŞÜ
;

175 
´Ùeùed
 
	m$ndx_i_bÜd”
;

176 
´Ùeùed
 
	m$ndx_i_bÜd”_d¬k
;

177 
´Ùeùed
 
	m$ndx_Ëg’d_bg_cŞÜ
;

178 
´Ùeùed
 
	m$ndx_Ëg’d_‹xt_cŞÜ
;

179 
´Ùeùed
 
	m$ndx_light_grid_cŞÜ
;

180 
´Ùeùed
 
	m$ndx_p›bÜd”_cŞÜ
;

181 
´Ùeùed
 
	m$ndx_p›Ïb–_cŞÜ
;

182 
´Ùeùed
 
	m$ndx_¶Ù_bg_cŞÜ
;

183 
´Ùeùed
 
	m$ndx_‹xt_cŞÜ
;

184 
´Ùeùed
 
	m$ndx_tick_cŞÜ
;

185 
´Ùeùed
 
	m$ndx_tickÏb–_cŞÜ
;

186 
´Ùeùed
 
	m$ndx_t™Ë_cŞÜ
;

187 
´Ùeùed
 
	m$ndx_x_t™Ë_cŞÜ
;

188 
´Ùeùed
 
	m$ndx_y_t™Ë_cŞÜ
;

189 
´Ùeùed
 
	m$num_d©a_rows
;

190 
´Ùeùed
 
	m$num_»cs
;

191 
´Ùeùed
 
	m$num_x_ticks
 = '';

192 
´Ùeùed
 
	m$num_y_ticks
 = '';

193 
public
 
	m$ohlc_äac_width
 = 0.3;

194 
public
 
	m$ohlc_max_width
 = 8;

195 
public
 
	m$ohlc_mš_width
 = 2;

196 
´Ùeùed
 
	m$ouut_fe
;

197 
public
 
	m$p›_dŸm_çùÜ
 = 0.5;

198 
´Ùeùed
 
	m$p›_dœeùiÚ_cw
 = 
FALSE
;

199 
´Ùeùed
 
	m$p›_fuÎ_size
 = 
FALSE
;

200 
´Ùeùed
 
	m$p›_Ïb–_sourû
;

201 
public
 
	m$p›_mš_size_çùÜ
 = 0.5;

202 
´Ùeùed
 
	m$p›_¡¬t_ªgË
 = 0;

203 
´Ùeùed
 
	m$p›bÜd”_cŞÜ
;

204 
´Ùeùed
 
	m$p›Ïb–_cŞÜ
;

205 
´Ùeùed
 
	m$¶Ù_¬—
;

206 
´Ùeùed
 
	m$¶Ù_¬—_height
;

207 
´Ùeùed
 
	m$¶Ù_¬—_width
;

208 
´Ùeùed
 
	m$¶Ù_bg_cŞÜ
;

209 
´Ùeùed
 
	m$¶Ù_bÜd”_ty³
;

210 
´Ùeùed
 
	m$¶Ù_max_x
;

211 
´Ùeùed
 
	m$¶Ù_max_y
;

212 
´Ùeùed
 
	m$¶Ù_mš_x
;

213 
´Ùeùed
 
	m$¶Ù_mš_y
;

214 
´Ùeùed
 
	m$¶Ù_Üigš_x
;

215 
´Ùeùed
 
	m$¶Ù_Üigš_y
;

216 
´Ùeùed
 
	m$¶Ù_ty³
 = 'linepoints';

217 
´Ùeùed
 
	m$¶Ùbgimg
;

218 
´Ùeùed
 
	m$¶Ùbgmode
;

219 
´Ùeùed
 
	m$¶Ùs
 = 
¬¿y
(

220 '¬—' => 
¬¿y
(

222 'abs_v®s' => 
TRUE
,

224 'b¬s' => 
¬¿y
(

227 'boxes' => 
¬¿y
(

231 'bubbËs' => 
¬¿y
(

235 'ÿndË¡icks' => 
¬¿y
(

237 'd¿w_¬g' => 
¬¿y
(
TRUE
, 
FALSE
),

240 'ÿndË¡icks2' => 
¬¿y
(

242 'd¿w_¬g' => 
¬¿y
(
TRUE
, TRUE),

245 'lš•ošts' => 
¬¿y
(

249 'lšes' => 
¬¿y
(

253 'ohlc' => 
¬¿y
(

255 'd¿w_¬g' => 
¬¿y
(
FALSE
),

258 'p›' => 
¬¿y
(

260 'suµ»ss_axes' => 
TRUE
,

261 'abs_v®s' => 
TRUE
,

263 'pošts' => 
¬¿y
(

267 'squ¬ed' => 
¬¿y
(

271 '¡acked¬—' => 
¬¿y
(

273 'd¿w_¬g' => 
¬¿y
(
TRUE
),

274 'sum_v®s' => 
TRUE
,

275 'abs_v®s' => 
TRUE
,

277 '¡ackedb¬s' => 
¬¿y
(

279 'sum_v®s' => 
TRUE
,

281 'thšb¬lše' => 
¬¿y
(

285 
´Ùeùed
 
	m$pošt_couÁs
;

286 
´Ùeùed
 
	m$pošt_sh­es
 = 
¬¿y
(

289 
´Ùeùed
 
	m$pošt_sizes
 = 
¬¿y
(6);

290 
´Ùeùed
 
	m$´št_image
 = 
TRUE
;

291 
´Ùeùed
 
	m$¿ngeùl
 = 
¬¿y
( 'x' =>‡rray(

293 'adju¡_amouÁ' => 
NULL
,

296 'y' => 
¬¿y
(

298 'adju¡_amouÁ' => 
NULL
,

301 
´Ùeùed
 
	m$»cÜd_b¬_width
;

302 
´Ùeùed
 
	m$»cÜds_³r_group
;

303 
´Ùeùed
 
	m$rgb_¬¿y
;

304 
public
 
	m$§ã_m¬gš
 = 5;

305 
´Ùeùed
 
	m$§ved_v”siÚ
;

306 
´Ùeùed
 
	m$shadšg
 = 5;

307 
´Ùeùed
 
	m$sk_bÙtom_tick
 = 
FALSE
;

308 
´Ùeùed
 
	m$sk_Ëá_tick
 = 
FALSE
;

309 
´Ùeùed
 
	m$sk_right_tick
 = 
FALSE
;

310 
´Ùeùed
 
	m$sk_tİ_tick
 = 
FALSE
;

311 
´Ùeùed
 
	m$¡»am_bound¬y
;

312 
´Ùeùed
 
	m$¡»am_äame_h—d”
;

313 
´Ùeùed
 
	m$¡»am_ouut_f
;

314 
´Ùeùed
 
	m$suµ»ss_”rÜ_image
 = 
FALSE
;

315 
´Ùeùed
 
	m$suµ»ss_x_axis
 = 
FALSE
;

316 
´Ùeùed
 
	m$suµ»ss_y_axis
 = 
FALSE
;

317 
´Ùeùed
 
	m$‹xt_cŞÜ
;

318 
´Ùeùed
 
	m$thou§nds_£p
;

319 
´Ùeùed
 
	m$tick_cŞÜ
;

320 
´Ùeùed
 
	m$tickùl
 = 
¬¿y
( 'x' =>‡rray(

321 'tick_mode' => 
NULL
,

323 'tick_šc_š‹g”' => 
FALSE
,

325 'y' => 
¬¿y
(

326 'tick_mode' => 
NULL
,

328 'tick_šc_š‹g”' => 
FALSE
,

330 
´Ùeùed
 
	m$tickÏb–_cŞÜ
;

331 
´Ùeùed
 
	m$t™Ë_cŞÜ
;

332 
´Ùeùed
 
	m$t™Ë_off£t
;

333 
´Ùeùed
 
	m$t™Ë_txt
 = '';

334 
´Ùeùed
 
	m$tÙ®_»cÜds
;

335 
´Ùeùed
 
	m$Œª¥¬’t_cŞÜ
;

336 
´Ùeùed
 
	m$ŒuecŞÜ
;

337 
´Ùeùed
 
	m$‰f_·th
 = '.';

338 
´Ùeùed
 
	m$u£_‰f
 = 
FALSE
;

339 
´Ùeùed
 
	m$x_axis_pos™iÚ
;

340 
´Ùeùed
 
	m$x_axis_y_pix–s
;

341 
´Ùeùed
 
	m$x_d©a_Ïb–_ªgË
;

342 
´Ùeùed
 
	m$x_d©a_Ïb–_ªgË_u
 = '';

343 
´Ùeùed
 
	m$x_d©a_Ïb–_pos
;

344 
´Ùeùed
 
	m$x_Ïb–_ªgË
 = 0;

345 
´Ùeùed
 
	m$x_Ïb–_axis_off£t
;

346 
´Ùeùed
 
	m$x_Ïb–_bÙ_off£t
;

347 
´Ùeùed
 
	m$x_Ïb–_tİ_off£t
;

348 
´Ùeùed
 
	m$x_Ëá_m¬gš
;

349 
´Ùeùed
 
	m$x_right_m¬gš
;

350 
´Ùeùed
 
	m$x_tick_ªchÜ
;

351 
´Ùeùed
 
	m$x_tick_üoss
 = 3;

352 
´Ùeùed
 
	m$x_tick_šc
;

353 
´Ùeùed
 
	m$x_tick_šc_u
 = '';

354 
´Ùeùed
 
	m$x_tick_Ïb–_pos
;

355 
´Ùeùed
 
	m$x_tick_Ëngth
 = 5;

356 
´Ùeùed
 
	m$x_tick_pos
 = 'plotdown';

357 
´Ùeùed
 
	m$x_t™Ë_bÙ_off£t
;

358 
´Ùeùed
 
	m$x_t™Ë_cŞÜ
;

359 
´Ùeùed
 
	m$x_t™Ë_pos
 = 'none';

360 
´Ùeùed
 
	m$x_t™Ë_tİ_off£t
;

361 
´Ùeùed
 
	m$x_t™Ë_txt
 = '';

362 
´Ùeùed
 
	m$xsÿË
;

363 
´Ùeùed
 
	m$xsÿË_ty³
 = 'linear';

364 
´Ùeùed
 
	m$y_axis_pos™iÚ
;

365 
´Ùeùed
 
	m$y_axis_x_pix–s
;

366 
´Ùeùed
 
	m$y_bÙ_m¬gš
;

367 
´Ùeùed
 
	m$y_d©a_Ïb–_ªgË
 = 0;

368 
´Ùeùed
 
	m$y_d©a_Ïb–_pos
;

369 
´Ùeùed
 
	m$y_Ïb–_ªgË
 = 0;

370 
´Ùeùed
 
	m$y_Ïb–_axis_off£t
;

371 
´Ùeùed
 
	m$y_Ïb–_Ëá_off£t
;

372 
´Ùeùed
 
	m$y_Ïb–_right_off£t
;

373 
´Ùeùed
 
	m$y_tick_ªchÜ
;

374 
´Ùeùed
 
	m$y_tick_üoss
 = 3;

375 
´Ùeùed
 
	m$y_tick_šc
;

376 
´Ùeùed
 
	m$y_tick_šc_u
 = '';

377 
´Ùeùed
 
	m$y_tick_Ïb–_pos
;

378 
´Ùeùed
 
	m$y_tick_Ëngth
 = 5;

379 
´Ùeùed
 
	m$y_tick_pos
 = 'plotleft';

380 
´Ùeùed
 
	m$y_t™Ë_cŞÜ
;

381 
´Ùeùed
 
	m$y_t™Ë_Ëá_off£t
;

382 
´Ùeùed
 
	m$y_t™Ë_pos
 = 'none';

383 
´Ùeùed
 
	m$y_t™Ë_right_off£t
;

384 
´Ùeùed
 
	m$y_t™Ë_txt
 = '';

385 
´Ùeùed
 
	m$y_tİ_m¬gš
;

386 
´Ùeùed
 
	m$ysÿË
;

387 
´Ùeùed
 
	m$ysÿË_ty³
 = 'linear';

400 
funùiÚ
 
	$PHPlÙ
(
$width
=600, 
$height
=400, 
$ouut_fe
=
NULL
, 
$šput_fe
=NULL)

402 
$this
->
	`š™Ÿlize
('imageü—‹', 
$width
, 
$height
, 
$ouut_fe
, 
$šput_fe
);

408 
´Ùeùed
 
funùiÚ
 
	$š™Ÿlize
(
$imageü—‹_funùiÚ
, 
$width
, 
$height
, 
$ouut_fe
, 
$šput_fe
)

410 
$this
->
	`S‘RGBA¼ay
('small');

412 ià(
	`is£t
(
$ouut_fe
) && $output_file !== '')

413 
$this
->
	`S‘OuutFe
(
$ouut_fe
);

415 ià(
	`is£t
(
$šput_fe
) && $input_file !== '') {

416 
$this
->
	`S‘IÅutFe
(
$šput_fe
);

418 
$this
->
image_width
 = 
$width
;

419 
$this
->
image_height
 = 
$height
;

420 
$this
->
img
 = 
	`ÿÎ_u£r_func
(
$imageü—‹_funùiÚ
, 
$width
, 
$height
);

421 ià(!
$this
->
img
)

422  
$this
->
	`PrštE¼Ü
(
	`g‘_şass
($this) . '(): Could‚ot create image„esource.');

424 
$this
->
	`S‘DeçuÉStyËs
();

425 
$this
->
	`S‘DeçuÉFÚts
();

426 
	}
}

435 
funùiÚ
 
	$__¦“p
()

437 
$this
->
ŒuecŞÜ
 = 
	`imagei¡ruecŞÜ
($this->
img
);

438 
$this
->
§ved_v”siÚ
 = 
£lf
::
v”siÚ
;

439  
	`¬¿y_keys
(
	`g‘_objeù_v¬s
(
$this
));

440 
	}
}

445 
funùiÚ
 
	$__wakeup
()

447 ià(
	`¡rcmp
(
$this
->
§ved_v”siÚ
, 
£lf
::
v”siÚ
) != 0)

448 
$this
->
	`PrštE¼Ü
(
	`g‘_şass
($this) . '(): Unserialize version mismatch');

449 
$imageü—‹_funùiÚ
 = 
$this
->
ŒuecŞÜ
 ? 'imagecreatetruecolor' : 'imagecreate';

450 
$this
->
img
 = 
	`ÿÎ_u£r_func
(
$imageü—‹_funùiÚ
, $this->
image_width
, $this->
image_height
);

451 ià(!
$this
->
img
)

452 
$this
->
	`PrštE¼Ü
(
	`g‘_şass
($this) . '(): Could‚ot create image„esource.');

453 
	`un£t
(
$this
->
ŒuecŞÜ
, $this->
§ved_v”siÚ
);

454 
	}
}

461 
´Ùeùed
 
funùiÚ
 
	$G‘Image
(
$image_f’ame
, &
$width
, &
$height
)

463 
$”rÜ
 = '';

464 
$size
 = 
	`g‘imagesize
(
$image_f’ame
);

465 ià(!
$size
) {

466 
$”rÜ
 = "Unableo query image file $image_filename";

468 
$image_ty³
 = 
$size
[2];

469 
$image_ty³
) {

470 
IMAGETYPE_GIF
:

471 
$img
 = @ 
	`ImageC»©eFromGIF
 (
$image_f’ame
);

473 
IMAGETYPE_PNG
:

474 
$img
 = @ 
	`ImageC»©eFromPNG
 (
$image_f’ame
);

476 
IMAGETYPE_JPEG
:

477 
$img
 = @ 
	`ImageC»©eFromJPEG
 (
$image_f’ame
);

480 
$”rÜ
 = "Unknown imageype ($image_type) for image file $image_filename";

484 ià(
	`em±y
(
$”rÜ
è&& !
$img
) {

486 
$”rÜ
 = "Failedo„ead image file $image_filename";

488 ià(!
	`em±y
(
$”rÜ
)) {

489  
$this
->
	`PrštE¼Ü
("GetImage(): $error");

491 
$width
 = 
$size
[0];

492 
$height
 = 
$size
[1];

493  
$img
;

494 
	}
}

501 
funùiÚ
 
	$S‘IÅutFe
(
$which_šput_fe
)

503 
$im
 = 
$this
->
	`G‘Image
(
$which_šput_fe
, $this->
image_width
, $this->
image_height
);

504 ià(!
$im
)

505  
FALSE
;

508 ià(
	`is£t
(
$this
->
img
))

509 
	`imagede¡roy
(
$this
->
img
);

511 
$this
->
img
 = 
$im
;

514 
$this
->
dÚe
['background'] = 
TRUE
;

516  
TRUE
;

517 
	}
}

532 
´Ùeùed
 
funùiÚ
 
	$G‘CŞÜIndex
(&
$cŞÜ
, 
$deçuÉ_cŞÜ_šdex
 = 0)

534 ià(
	`em±y
(
$cŞÜ
)è 
$deçuÉ_cŞÜ_šdex
;

535 
	`li¡
(
$r
, 
$g
, 
$b
, 
$a
èğ
$cŞÜ
;

536  
	`imagecŞÜ»sŞv—Íha
(
$this
->
img
, 
$r
, 
$g
, 
$b
, 
$a
);

537 
	}
}

547 
´Ùeùed
 
funùiÚ
 
	$G‘CŞÜIndexA¼ay
(
$cŞÜ_¬¿y
, 
$max_cŞÜs
)

549 
$n
 = 
	`mš
(
	`couÁ
(
$cŞÜ_¬¿y
), 
$max_cŞÜs
);

550 
$»suÉ
 = 
	`¬¿y
();

551 
$i
 = 0; $˜< 
$n
; $i++)

552 
$»suÉ
[] = 
$this
->
	`G‘CŞÜIndex
(
$cŞÜ_¬¿y
[
$i
]);

553  
$»suÉ
;

554 
	}
}

562 
´Ùeùed
 
funùiÚ
 
	$G‘D¬kCŞÜIndexA¼ay
(
$cŞÜ_¬¿y
, 
$max_cŞÜs
)

564 
$n
 = 
	`mš
(
	`couÁ
(
$cŞÜ_¬¿y
), 
$max_cŞÜs
);

565 
$»suÉ
 = 
	`¬¿y
();

566 
$i
 = 0; $˜< 
$n
; $i++)

567 
$»suÉ
[] = 
$this
->
	`G‘D¬kCŞÜIndex
(
$cŞÜ_¬¿y
[
$i
]);

568  
$»suÉ
;

569 
	}
}

577 
´Ùeùed
 
funùiÚ
 
	$G‘D¬kCŞÜIndex
(
$cŞÜ
)

579 
	`li¡
 (
$r
, 
$g
, 
$b
, 
$a
èğ
$cŞÜ
;

580 
$r
 = 
	`max
(0, $r - 0x30);

581 
$g
 = 
	`max
(0, $g - 0x30);

582 
$b
 = 
	`max
(0, $b - 0x30);

583  
	`imagecŞÜ»sŞv—Íha
(
$this
->
img
, 
$r
, 
$g
, 
$b
, 
$a
);

584 
	}
}

589 
´Ùeùed
 
funùiÚ
 
	$S‘DeçuÉStyËs
()

591 
$this
->
	`S‘DeçuÉDashedStyË
($this->
dashed_¡yË
);

592 
$this
->
	`S‘ImageBÜd”CŞÜ
(
	`¬¿y
(194, 194, 194));

593 
$this
->
	`S‘PlÙBgCŞÜ
('white');

594 
$this
->
	`S‘BackgroundCŞÜ
('white');

595 
$this
->
	`S‘TextCŞÜ
('black');

596 
$this
->
	`S‘GridCŞÜ
('black');

597 
$this
->
	`S‘LightGridCŞÜ
('gray');

598 
$this
->
	`S‘TickCŞÜ
('black');

599 
$this
->
	`S‘T™ËCŞÜ
('black');

601 
$this
->
	`S‘D©aCŞÜs
();

602 
$this
->
	`S‘E¼ÜB¬CŞÜs
();

603 
$this
->
	`S‘D©aBÜd”CŞÜs
();

604  
TRUE
;

605 
	}
}

610 
funùiÚ
 
	$S‘BackgroundCŞÜ
(
$which_cŞÜ
)

612  (
boŞ
)(
$this
->
bg_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

613 
	}
}

618 
funùiÚ
 
	$S‘PlÙBgCŞÜ
(
$which_cŞÜ
)

620  (
boŞ
)(
$this
->
¶Ù_bg_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

621 
	}
}

627 
funùiÚ
 
	$S‘T™ËCŞÜ
(
$which_cŞÜ
)

629  (
boŞ
)(
$this
->
t™Ë_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

630 
	}
}

636 
funùiÚ
 
	$S‘XT™ËCŞÜ
(
$which_cŞÜ
)

638  (
boŞ
)(
$this
->
x_t™Ë_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

639 
	}
}

645 
funùiÚ
 
	$S‘YT™ËCŞÜ
(
$which_cŞÜ
)

647  (
boŞ
)(
$this
->
y_t™Ë_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

648 
	}
}

653 
funùiÚ
 
	$S‘TickCŞÜ
(
$which_cŞÜ
)

655  (
boŞ
)(
$this
->
tick_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

656 
	}
}

661 
funùiÚ
 
	$S‘Lab–CŞÜ
(
$which_cŞÜ
)

663  
$this
->
	`S‘T™ËCŞÜ
(
$which_cŞÜ
);

664 
	}
}

669 
funùiÚ
 
	$S‘TextCŞÜ
(
$which_cŞÜ
)

671  (
boŞ
)(
$this
->
‹xt_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

672 
	}
}

677 
funùiÚ
 
	$S‘D©aLab–CŞÜ
(
$which_cŞÜ
)

679  (
boŞ
)(
$this
->
d©®ab–_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

680 
	}
}

686 
funùiÚ
 
	$S‘D©aV®ueLab–CŞÜ
(
$which_cŞÜ
)

688  (
boŞ
)(
$this
->
dvÏb–_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

689 
	}
}

694 
funùiÚ
 
	$S‘P›Lab–CŞÜ
(
$which_cŞÜ
)

696  (
boŞ
)(
$this
->
p›Ïb–_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

697 
	}
}

702 
funùiÚ
 
	$S‘P›BÜd”CŞÜ
(
$which_cŞÜ
)

704  (
boŞ
)(
$this
->
p›bÜd”_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

705 
	}
}

710 
funùiÚ
 
	$S‘TickLab–CŞÜ
(
$which_cŞÜ
)

712  (
boŞ
)(
$this
->
tickÏb–_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

713 
	}
}

718 
funùiÚ
 
	$S‘LightGridCŞÜ
(
$which_cŞÜ
)

720  (
boŞ
)(
$this
->
light_grid_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

721 
	}
}

727 
funùiÚ
 
	$S‘GridCŞÜ
(
$which_cŞÜ
)

729  (
boŞ
)(
$this
->
grid_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

730 
	}
}

735 
funùiÚ
 
	$S‘ImageBÜd”CŞÜ
(
$which_cŞÜ
)

737  (
boŞ
)(
$this
->
i_bÜd”
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

738 
	}
}

744 
funùiÚ
 
	$S‘T¿n¥¬’tCŞÜ
(
$which_cŞÜ
 = 
NULL
)

746 
$this
->
Œª¥¬’t_cŞÜ
 = 
	`em±y
(
$which_cŞÜ
è? 
NULL
 : $this->
	`S‘RGBCŞÜ
($which_color);

747  (
$this
->
Œª¥¬’t_cŞÜ
 !=ğ
FALSE
);

748 
	}
}

753 
funùiÚ
 
	$S‘Leg’dBgCŞÜ
(
$which_cŞÜ
)

755  (
boŞ
)(
$this
->
Ëg’d_bg_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

756 
	}
}

761 
funùiÚ
 
	$S‘Leg’dTextCŞÜ
(
$which_cŞÜ
)

763  (
boŞ
)(
$this
->
Ëg’d_‹xt_cŞÜ
 = $this->
	`S‘RGBCŞÜ
(
$which_cŞÜ
));

764 
	}
}

772 
funùiÚ
 
	$S‘RGBA¼ay
(
$which_cŞÜ_¬¿y
)

774 ià(
	`is_¬¿y
(
$which_cŞÜ_¬¿y
)) {

775 
$this
->
rgb_¬¿y
 = 
$which_cŞÜ_¬¿y
;

776 } 
	`–£if
 (
$which_cŞÜ_¬¿y
 == 'small') {

777 
$this
->
rgb_¬¿y
 = 
	`¬¿y
(

778 'wh™e' => 
	`¬¿y
(255, 255, 255),

779 '¢ow' => 
	`¬¿y
(255, 250, 250),

780 'P—chPuff' => 
	`¬¿y
(255, 218, 185),

781 'ivÜy' => 
	`¬¿y
(255, 255, 240),

782 'Ïv’d”' => 
	`¬¿y
(230, 230, 250),

783 'bÏck' => 
	`¬¿y
( 0, 0, 0),

784 'DimG»y' => 
	`¬¿y
(105, 105, 105),

785 'g¿y' => 
	`¬¿y
(190, 190, 190),

786 'g»y' => 
	`¬¿y
(190, 190, 190),

787 'Çvy' => 
	`¬¿y
( 0, 0, 128),

788 'SÏ‹Blue' => 
	`¬¿y
(106, 90, 205),

789 'blue' => 
	`¬¿y
( 0, 0, 255),

790 'SkyBlue' => 
	`¬¿y
(135, 206, 235),

791 'cyª' => 
	`¬¿y
( 0, 255, 255),

792 'D¬kG»’' => 
	`¬¿y
( 0, 100, 0),

793 'g»’' => 
	`¬¿y
( 0, 255, 0),

794 'Y–lowG»’' => 
	`¬¿y
(154, 205, 50),

795 'y–low' => 
	`¬¿y
(255, 255, 0),

796 'Üªge' => 
	`¬¿y
(255, 165, 0),

797 'gŞd' => 
	`¬¿y
(255, 215, 0),

798 '³ru' => 
	`¬¿y
(205, 133, 63),

799 'beige' => 
	`¬¿y
(245, 245, 220),

800 'wh—t' => 
	`¬¿y
(245, 222, 179),

801 'n' => 
	`¬¿y
(210, 180, 140),

802 'brown' => 
	`¬¿y
(165, 42, 42),

803 '§lmÚ' => 
	`¬¿y
(250, 128, 114),

804 '»d' => 
	`¬¿y
(255, 0, 0),

805 'pšk' => 
	`¬¿y
(255, 192, 203),

806 'm¬oÚ' => 
	`¬¿y
(176, 48, 96),

807 'mag’' => 
	`¬¿y
(255, 0, 255),

808 'viŞ‘' => 
	`¬¿y
(238, 130, 238),

809 '¶um' => 
	`¬¿y
(221, 160, 221),

810 'Üchid' => 
	`¬¿y
(218, 112, 214),

811 'pu½Ë' => 
	`¬¿y
(160, 32, 240),

812 'azu»1' => 
	`¬¿y
(240, 255, 255),

813 'aquam¬še1' => 
	`¬¿y
(127, 255, 212)

815 } 
	`–£if
 (
$which_cŞÜ_¬¿y
 == 'large') {

816 ià(!@
	`šşude
('rgb.inc.php')) {

817  
$this
->
	`PrštE¼Ü
("SetRGBArray(): Large color map could‚ot be†oaded "

820 
$this
->
rgb_¬¿y
 = 
$CŞÜA¼ay
;

822  
$this
->
	`PrštE¼Ü
("SetRGBArray(): Invalid color map selection");

825  
TRUE
;

826 
	}
}

846 
funùiÚ
 
	$S‘RGBCŞÜ
(
$cŞÜ_asked
, 
$®pha
 = 0)

848 ià(
	`em±y
(
$cŞÜ_asked
)) {

849 
$»t_v®
 = 
	`¬¿y
(0, 0, 0);

851 } 
	`–£if
 (
	`is_¬¿y
(
$cŞÜ_asked
è&& ((
$n
 = 
	`couÁ
($color_asked)) == 3 || $n == 4) ) {

853 
$»t_v®
 = 
$cŞÜ_asked
;

855 } 
	`–£if
 (
	`´eg_m©ch
('/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i',

856 
$cŞÜ_asked
, 
$ss
)) {

858 
$»t_v®
 = 
	`¬¿y
(
	`hexdec
(
$ss
[1]), hexdec($ss[2]), hexdec($ss[3]));

859 ià(
	`is£t
(
$ss
[4])è
$»t_v®
[] = 
	`hexdec
($ss[4]);

861 } 
	`–£if
 (
	`is£t
(
$this
->
rgb_¬¿y
[
$cŞÜ_asked
])) {

863 
$»t_v®
 = 
$this
->
rgb_¬¿y
[
$cŞÜ_asked
];

865 } 
	`–£if
 (
	`´eg_m©ch
('/(.+):([\d]+)$/', 
$cŞÜ_asked
, 
$ss
)

866 && 
	`is£t
(
$this
->
rgb_¬¿y
[
$ss
[1]])) {

868 
$»t_v®
 = 
$this
->
rgb_¬¿y
[
$ss
[1]];

869 
$»t_v®
[3] = ()
$ss
[2];

872  
$this
->
	`PrštE¼Ü
("SetRGBColor(): Color '$color_asked' is‚ot valid.");

876 ià(
	`couÁ
(
$»t_v®
) == 3)

877 
$»t_v®
[] = 
$®pha
;

878  
$»t_v®
;

879 
	}
}

893 
funùiÚ
 
	$S‘D©aCŞÜs
(
$which_d©a
 = 
NULL
, 
$which_bÜd”
 = NULL, 
$®pha
 = NULL)

895 ià(
	`is_¬¿y
(
$which_d©a
)) {

896 
$cŞÜs
 = 
$which_d©a
;

897 } 
	`–£if
 (!
	`em±y
(
$which_d©a
)) {

898 
$cŞÜs
 = 
	`¬¿y
(
$which_d©a
);

899 } 
	`–£if
 (
	`em±y
(
$this
->
d©a_cŞÜs
è|| !
	`is_nuÎ
(
$which_d©a
)) {

900 
$cŞÜs
 = 
$this
->
deçuÉ_cŞÜs
;

906 ià(
	`is£t
(
$®pha
)) {

907 
$n_cŞÜs
 = 
	`couÁ
(
$this
->
d©a_cŞÜs
);

908 
$i
 = 0; $˜< 
$n_cŞÜs
; $i++) {

909 
$this
->
d©a_cŞÜs
[
$i
][3] = 
$®pha
;

913  
TRUE
;

916 ià(!
	`is£t
(
$®pha
))

917 
$®pha
 = 0;

921 
$this
->
d©a_cŞÜs
 = 
	`¬¿y
();

922 
	`fÜ—ch
 (
$cŞÜs
 
as
 
$cŞÜ
) {

923 
$cŞÜ_¬¿y
 = 
$this
->
	`S‘RGBCŞÜ
(
$cŞÜ
, 
$®pha
);

924 ià(!
$cŞÜ_¬¿y
è 
FALSE
;

925 
$this
->
d©a_cŞÜs
[] = 
$cŞÜ_¬¿y
;

929  
$this
->
	`S‘D©aBÜd”CŞÜs
(
$which_bÜd”
);

930 
	}
}

936 
funùiÚ
 
	$S‘D©aBÜd”CŞÜs
(
$which_br
 = 
NULL
)

938 ià(
	`is_¬¿y
(
$which_br
)) {

939 
$cŞÜs
 = 
$which_br
;

940 } 
	`–£if
 (!
	`em±y
(
$which_br
)) {

941 
$cŞÜs
 = 
	`¬¿y
(
$which_br
);

942 } 
	`–£if
 (
	`em±y
(
$this
->
d©a_bÜd”_cŞÜs
è|| !
	`is_nuÎ
(
$which_br
)) {

943 
$cŞÜs
 = 
	`¬¿y
('black');

945  
TRUE
;

949 
$this
->
d©a_bÜd”_cŞÜs
 = 
	`¬¿y
();

950 
	`fÜ—ch
 (
$cŞÜs
 
as
 
$cŞÜ
) {

951 
$cŞÜ_¬¿y
 = 
$this
->
	`S‘RGBCŞÜ
(
$cŞÜ
);

952 ià(!
$cŞÜ_¬¿y
è 
FALSE
;

953 
$this
->
d©a_bÜd”_cŞÜs
[] = 
$cŞÜ_¬¿y
;

955  
TRUE
;

956 
	}
}

962 
funùiÚ
 
	$S‘E¼ÜB¬CŞÜs
(
$which_”r
 = 
NULL
)

964 ià(
	`is_¬¿y
(
$which_”r
)) {

965 
$cŞÜs
 = 
$which_”r
;

966 } 
	`–£if
 (!
	`em±y
(
$which_”r
)) {

967 
$cŞÜs
 = 
	`¬¿y
(
$which_”r
);

968 } 
	`–£if
 (
	`em±y
(
$this
->
”rÜ_b¬_cŞÜs
è|| !
	`is_nuÎ
(
$which_”r
)) {

969 
$cŞÜs
 = 
$this
->
deçuÉ_cŞÜs
;

971  
TRUE
;

975 
$this
->
”rÜ_b¬_cŞÜs
 = 
	`¬¿y
();

976 
	`fÜ—ch
 (
$cŞÜs
 
as
 
$cŞÜ
) {

977 
$cŞÜ_¬¿y
 = 
$this
->
	`S‘RGBCŞÜ
(
$cŞÜ
);

978 ià(!
$cŞÜ_¬¿y
è 
FALSE
;

979 
$this
->
”rÜ_b¬_cŞÜs
[] = 
$cŞÜ_¬¿y
;

981  
TRUE
;

982 
	}
}

993 
funùiÚ
 
	$S‘DeçuÉDashedStyË
(
$which_¡yË
)

996 
$asked
 = 
	`ex¶ode
('-', 
$which_¡yË
);

998 ià(
	`couÁ
(
$asked
) < 2) {

999  
$this
->
	`PrštE¼Ü
("SetDefaultDashedStyle(): Wrong…arameter '$which_style'.");

1003 
$»suÉ
 = '';

1004 
$v®s
 = 
	`¬¿y
('$which_ndxcol,', 'IMG_COLOR_TRANSPARENT,');

1005 
$šdex
 = 0;

1006 
	`fÜ—ch
 (
$asked
 
as
 
$n
) {

1007 
$»suÉ
 .ğ
	`¡r_»³©
(
$v®s
[
$šdex
], 
$n
);

1008 
$šdex
 = 1 - $index;

1010 
$this
->
deçuÉ_dashed_¡yË
 = "array($result)";

1012  
TRUE
;

1013 
	}
}

1021 
´Ùeùed
 
funùiÚ
 
	$S‘DashedStyË
(
$which_ndxcŞ
, 
$u£_¡yË
 = 
TRUE
)

1023 ià(
$u£_¡yË
) {

1024 
	`ev®
 ("\$style = $this->default_dashed_style;");

1025 
	`image£t¡yË
(
$this
->
img
, 
$¡yË
);

1026  
IMG_COLOR_STYLED
;

1028  
$which_ndxcŞ
;

1029 
	}
}

1035 
funùiÚ
 
	$S‘LšeWidths
(
$which_lw
=
NULL
)

1037 ià(
	`is_¬¿y
(
$which_lw
)) {

1038 
$this
->
lše_widths
 = 
$which_lw
;

1039 } 
	`–£if
 (!
	`is_nuÎ
(
$which_lw
)) {

1040 
$this
->
lše_widths
 = 
	`¬¿y
(
$which_lw
);

1042  
TRUE
;

1043 
	}
}

1049 
funùiÚ
 
	$S‘LšeStyËs
(
$which_ls
=
NULL
)

1051 ià(
	`is_¬¿y
(
$which_ls
)) {

1052 
$this
->
lše_¡yËs
 = 
$which_ls
;

1053 } 
	`–£if
 (!
	`is_nuÎ
(
$which_ls
)) {

1054 
$this
->
lše_¡yËs
 = (
$which_ls
è? 
	`¬¿y
($which_ls) :‡rray('solid');

1056  
TRUE
;

1057 
	}
}

1070 
funùiÚ
 
	$S‘LšeS·cšg
(
$which_¥c
)

1072 
$this
->
lše_¥acšg
 = 
$which_¥c
;

1073  
TRUE
;

1074 
	}
}

1081 
funùiÚ
 
	$S‘U£TTF
(
$which_‰f
)

1083 
$this
->
u£_‰f
 = 
$which_‰f
;

1084  
$this
->
	`S‘DeçuÉFÚts
();

1085 
	}
}

1090 
funùiÚ
 
	$S‘TTFP©h
(
$which_·th
)

1092 ià(!
	`is_dœ
(
$which_·th
è|| !
	`is_»adabË
($which_path)) {

1093  
$this
->
	`PrštE¼Ü
("SetTTFPath(): $which_path is‚ot‡ valid…ath.");

1095 
$this
->
‰f_·th
 = 
$which_·th
;

1096  
TRUE
;

1097 
	}
}

1104 
funùiÚ
 
	$S‘DeçuÉTTFÚt
(
$which_fÚt
 = 
NULL
)

1106 
$this
->
deçuÉ_‰fÚt
 = 
$which_fÚt
;

1107  
$this
->
	`S‘U£TTF
(
TRUE
);

1108 
	}
}

1117 
´Ùeùed
 
funùiÚ
 
	$G‘DeçuÉTTFÚt
()

1119 ià(!
	`is£t
(
$this
->
deçuÉ_‰fÚt
)) {

1121 
$fÚts
 = 
	`¬¿y
('LiberationSans-Regular.ttf',

1127 
	`fÜ—ch
 (
$fÚts
 
as
 
$fÚt
) {

1129 ià(@
	`imag‘tfbbox
(10, 0, 
$fÚt
, "1"è!=ğ
F®£
)

1132 
$fÚt_w™h_·th
 = 
$this
->
‰f_·th
 . 
DIRECTORY_SEPARATOR
 . 
$fÚt
;

1133 ià(@
	`imag‘tfbbox
(10, 0, 
$fÚt_w™h_·th
, "1"è!=ğ
F®£
) {

1134 
$fÚt
 = 
$fÚt_w™h_·th
;

1139 
$this
->
deçuÉ_‰fÚt
 = 
$fÚt
;

1141  
$this
->
deçuÉ_‰fÚt
;

1142 
	}
}

1147 
´Ùeùed
 
funùiÚ
 
	$S‘DeçuÉFÚts
()

1149 ià(
$this
->
u£_‰f
) {

1151  
$this
->
	`S‘FÚtTTF
('generic', '', 8)

1152 && 
$this
->
	`S‘FÚtTTF
('title', '', 14)

1153 && 
$this
->
	`S‘FÚtTTF
('legend', '', 8)

1154 && 
$this
->
	`S‘FÚtTTF
('x_label', '', 6)

1155 && 
$this
->
	`S‘FÚtTTF
('y_label', '', 6)

1156 && 
$this
->
	`S‘FÚtTTF
('x_title', '', 10)

1157 && 
$this
->
	`S‘FÚtTTF
('y_title', '', 10);

1160  
$this
->
	`S‘FÚtGD
('generic', 2)

1161 && 
$this
->
	`S‘FÚtGD
('title', 5)

1162 && 
$this
->
	`S‘FÚtGD
('legend', 2)

1163 && 
$this
->
	`S‘FÚtGD
('x_label', 1)

1164 && 
$this
->
	`S‘FÚtGD
('y_label', 1)

1165 && 
$this
->
	`S‘FÚtGD
('x_title', 3)

1166 && 
$this
->
	`S‘FÚtGD
('y_title', 3);

1167 
	}
}

1177 
funùiÚ
 
	$S‘FÚtGD
(
$which_–em
, 
$which_fÚt
, 
$which_¥acšg
 = 
NULL
)

1179 ià(
$which_fÚt
 < 1 || 5 < $which_font) {

1180  
$this
->
	`PrštE¼Ü
(
__FUNCTION__
 . ': Font size must be 1, 2, 3, 4 or 5');

1182 ià(!
$this
->
	`CheckO±iÚ
(
$which_–em
,

1184 
__FUNCTION__
)) {

1185  
FALSE
;

1189 
$this
->
fÚts
[
$which_–em
] = 
	`¬¿y
('‰f' => 
FALSE
,

1190 'fÚt' => 
$which_fÚt
,

1191 'height' => 
	`ImageFÚtHeight
(
$which_fÚt
),

1192 'width' => 
	`ImageFÚtWidth
(
$which_fÚt
),

1193 'lše_¥acšg' => 
$which_¥acšg
);

1194  
TRUE
;

1195 
	}
}

1206 
funùiÚ
 
	$S‘FÚtTTF
(
$which_–em
, 
$which_fÚt
, 
$which_size
 = 12, 
$which_¥acšg
 = 
NULL
)

1208 ià(!
$this
->
	`CheckO±iÚ
(
$which_–em
,

1210 
__FUNCTION__
)) {

1211  
FALSE
;

1215 ià(
	`em±y
(
$which_fÚt
))

1216 
$which_fÚt
 = 
$this
->
	`G‘DeçuÉTTFÚt
();

1217 
$·th
 = 
$which_fÚt
;

1222 ià((
$bbox
 = @
	`imag‘tfbbox
(
$which_size
, 0, 
$·th
, "E")è==ğ
F®£
) {

1223 
$·th
 = 
$this
->
‰f_·th
 . 
DIRECTORY_SEPARATOR
 . 
$which_fÚt
;

1224 ià((
$bbox
 = @
	`imag‘tfbbox
(
$which_size
, 0, 
$·th
, "E")è==ğ
F®£
) {

1225  
$this
->
	`PrštE¼Ü
(
__FUNCTION__
 . ": Can't find TrueType font $which_font");

1236 
$height
 = 
$bbox
[1] - $bbox[5];

1237 
$width
 = 
$bbox
[2] - $bbox[0];

1238 
$bbox
 = 
	`ImageTTFBBox
(
$which_size
, 0, 
$·th
, "E\nE");

1239 
$¥acšg
 = 
$bbox
[1] - $bbox[5] - 2 * 
$height
;

1242 
$this
->
fÚts
[
$which_–em
] = 
	`¬¿y
('‰f' => 
TRUE
,

1243 'fÚt' => 
$·th
,

1244 'size' => 
$which_size
,

1245 'height' => 
$height
,

1246 'width' => 
$width
,

1247 '¥acšg' => 
$¥acšg
,

1248 'lše_¥acšg' => 
$which_¥acšg
);

1249  
TRUE
;

1250 
	}
}

1264 
funùiÚ
 
	$S‘FÚt
(
$which_–em
, 
$which_fÚt
, 
$which_size
 = 12, 
$lše_¥acšg
 = 
NULL
)

1266 ià(
$this
->
u£_‰f
)

1267  
$this
->
	`S‘FÚtTTF
(
$which_–em
, 
$which_fÚt
, 
$which_size
, 
$lše_¥acšg
);

1268  
$this
->
	`S‘FÚtGD
(
$which_–em
, 
$which_fÚt
, 
$lše_¥acšg
);

1269 
	}
}

1277 
´Ùeùed
 
funùiÚ
 
	$G‘LšeS·cšg
(
$fÚt
)

1280 ià(
	`is£t
(
$fÚt
['line_spacing']))

1281 
$lše_¥acšg
 = 
$fÚt
['line_spacing'];

1283 
$lše_¥acšg
 = 
$this
->
lše_¥acšg
;

1287 ià(
$fÚt
['ttf']) {

1288 
$lše_¥acšg
 = ()($lše_¥acšg * 
$fÚt
['spacing'] / 6.0);

1290  
$lše_¥acšg
;

1291 
	}
}

1370 
´Ùeùed
 
funùiÚ
 
	$ProûssTextGD
(
$d¿w_™
, 
$fÚt
, 
$ªgË
, 
$x
, 
$y
, 
$cŞÜ
, 
$‹xt
, 
$h_çùÜ
, 
$v_çùÜ
)

1373 
$fÚt_numb”
 = 
$fÚt
['font'];

1374 
$fÚt_width
 = 
$fÚt
['width'];

1375 
$fÚt_height
 = 
$fÚt
['height'];

1376 
$lše_¥acšg
 = 
$this
->
	`G‘LšeS·cšg
(
$fÚt
);

1380 
$lÚge¡
 = 0;

1381 
	`fÜ—ch
 (
	`ex¶ode
("\n", 
$‹xt
è
as
 
$—ch_lše
) {

1382 
$lšes
[] = 
$lše
 = 
	`Œim
(
$—ch_lše
);

1383 
$lše_Ëns
[] = 
$lše_Ën
 = 
	`¡¾’
(
$lše
);

1384 ià(
$lše_Ën
 > 
$lÚge¡
) $longest = $line_len;

1386 
$n_lšes
 = 
	`couÁ
(
$lšes
);

1390 
$tÙ®_width
 = 
$lÚge¡
 * 
$fÚt_width
;

1391 
$tÙ®_height
 = 
$n_lšes
 * 
$fÚt_height
 + ($n_lše - 1è* 
$lše_¥acšg
;

1393 ià(!
$d¿w_™
) {

1394 ià(
$ªgË
 < 45è 
	`¬¿y
(
$tÙ®_width
, 
$tÙ®_height
);

1395  
	`¬¿y
(
$tÙ®_height
, 
$tÙ®_width
);

1398 
$š‹¾še_¡•
 = 
$fÚt_height
 + 
$lše_¥acšg
;

1400 ià(
$ªgË
 >= 45) {

1404 
$‹mp
 = 
$v_çùÜ
;

1405 
$v_çùÜ
 = 
$h_çùÜ
;

1406 
$h_çùÜ
 = 1 - 
$‹mp
;

1408 
$d¿w_func
 = 'ImageStringUp';

1411 
$r00
 = 0; 
$r01
 = 1;

1412 
$r10
 = -1; 
$r11
 = 0;

1416 
$d¿w_func
 = 'ImageString';

1419 
$r00
 = 1; 
$r01
 = 0;

1420 
$r10
 = 0; 
$r11
 = 1;

1424 
$çùÜ
 = ()(
$tÙ®_height
 * 
$v_çùÜ
);

1425 
$xpos
 = 
$x
 - 
$r01
 * 
$çùÜ
;

1426 
$ypos
 = 
$y
 - 
$r11
 * 
$çùÜ
;

1429 ià(
$this
->
	`G‘C®lback
('debug_textbox')) {

1430 ià(
$ªgË
 >= 45) {

1431 
$bbox_width
 = 
$tÙ®_height
;

1432 
$bbox_height
 = 
$tÙ®_width
;

1433 
$px
 = 
$xpos
;

1434 
$py
 = 
$ypos
 - (1 - 
$h_çùÜ
è* 
$tÙ®_width
;

1436 
$bbox_width
 = 
$tÙ®_width
;

1437 
$bbox_height
 = 
$tÙ®_height
;

1438 
$px
 = 
$xpos
 - 
$h_çùÜ
 * 
$tÙ®_width
;

1439 
$py
 = 
$ypos
;

1441 
$this
->
	`DoC®lback
('debug_‹xtbox', 
$px
, 
$py
, 
$bbox_width
, 
$bbox_height
);

1444 
$i
 = 0; $˜< 
$n_lšes
; $i++) {

1447 
$çùÜ
 = ()(
$lše_Ëns
[
$i
] * 
$fÚt_width
 * 
$h_çùÜ
);

1448 
$x
 = 
$xpos
 - 
$r00
 * 
$çùÜ
;

1449 
$y
 = 
$ypos
 - 
$r10
 * 
$çùÜ
;

1452 
	`$d¿w_func
(
$this
->
img
, 
$fÚt_numb”
, 
$x
, 
$y
, 
$lšes
[
$i
], 
$cŞÜ
);

1455 
$xpos
 +ğ
$r01
 * 
$š‹¾še_¡•
;

1456 
$ypos
 +ğ
$r11
 * 
$š‹¾še_¡•
;

1458  
TRUE
;

1459 
	}
}

1474 
´Ùeùed
 
funùiÚ
 
	$ProûssTextTTF
(
$d¿w_™
, 
$fÚt
, 
$ªgË
, 
$x
, 
$y
, 
$cŞÜ
, 
$‹xt
, 
$h_çùÜ
, 
$v_çùÜ
)

1477 
$fÚt_fe
 = 
$fÚt
['font'];

1478 
$fÚt_size
 = 
$fÚt
['size'];

1479 
$fÚt_height
 = 
$fÚt
['height'];

1480 
$lše_¥acšg
 = 
$this
->
	`G‘LšeS·cšg
(
$fÚt
);

1491 
$tÙ®_width
 = 0;

1492 
$Ï¡lše_desûÁ
 = 0;

1493 
	`fÜ—ch
 (
	`ex¶ode
("\n", 
$‹xt
è
as
 
$—ch_lše
) {

1494 
$lšes
[] = 
$lše
 = 
	`Œim
(
$—ch_lše
);

1495 
$bbox
 = 
	`ImageTTFBBox
(
$fÚt_size
, 0, 
$fÚt_fe
, 
$lše
);

1496 
$lše_widths
[] = 
$width
 = 
$bbox
[2] - $bbox[0];

1497 ià(
$width
 > 
$tÙ®_width
) $total_width = $width;

1498 
$Ï¡lše_desûÁ
 = 1 + 
$bbox
[1];

1500 
$n_lšes
 = 
	`couÁ
(
$lšes
);

1501 
$tÙ®_height
 = 
$n_lšes
 * 
$fÚt_height
 + ($n_lše - 1è* 
$lše_¥acšg
;

1505 
$th‘a
 = 
	`deg2¿d
(
$ªgË
);

1506 
$cos_t
 = 
	`cos
(
$th‘a
);

1507 
$sš_t
 = 
	`sš
(
$th‘a
);

1508 
$r00
 = 
$cos_t
; 
$r01
 = 
$sš_t
;

1509 
$r10
 = -
$sš_t
; 
$r11
 = 
$cos_t
;

1518 
$b
[0] = 0;

1519 ià(
$d¿w_™
) {

1520 
$b
[1] = 
$tÙ®_height
;

1522 
$b
[1] = 
$tÙ®_height
 + 
$Ï¡lše_desûÁ
;

1524 
$b
[2] = 
$tÙ®_width
; $b[3] = $b[1];

1525 
$b
[4] = 
$tÙ®_width
; $b[5] = 0;

1526 
$b
[6] = 0; $b[7] = 0;

1529 
$i
 = 0; $i < 8; $i += 2) {

1530 
$x_b
 = 
$b
[
$i
];

1531 
$y_b
 = 
$b
[
$i
+1];

1532 
$c
[
$i
] = 
$x
 + 
$r00
 * 
$x_b
 + 
$r01
 * 
$y_b
;

1533 
$c
[
$i
+1] = 
$y
 + 
$r10
 * 
$x_b
 + 
$r11
 * 
$y_b
;

1538 
$bbox_»f_x
 = 
$bbox_max_x
 = 
$c
[0];

1539 
$bbox_»f_y
 = 
$bbox_max_y
 = 
$c
[1];

1540 
$i
 = 2; $i < 8; $i += 2) {

1541 
$x_b
 = 
$c
[
$i
];

1542 ià(
$x_b
 < 
$bbox_»f_x
) $bbox_ref_x = $x_b;

1543 
	`–£if
 (
$bbox_max_x
 < 
$x_b
) $bbox_max_x = $x_b;

1544 
$y_b
 = 
$c
[
$i
+1];

1545 ià(
$y_b
 < 
$bbox_»f_y
) $bbox_ref_y = $y_b;

1546 
	`–£if
 (
$bbox_max_y
 < 
$y_b
) $bbox_max_y = $y_b;

1548 
$bbox_width
 = 
$bbox_max_x
 - 
$bbox_»f_x
;

1549 
$bbox_height
 = 
$bbox_max_y
 - 
$bbox_»f_y
;

1551 ià(!
$d¿w_™
) {

1553  
	`¬¿y
(()
	`û
(
$bbox_width
), ()û(
$bbox_height
));

1556 
$š‹¾še_¡•
 = 
$fÚt_height
 + 
$lše_¥acšg
;

1570 
$qx
 = 2 * 
$x
 - 
$bbox_»f_x
 - 
$bbox_width
 * 
$h_çùÜ
;

1571 
$qy
 = 2 * 
$y
 - 
$bbox_»f_y
 - 
$bbox_height
 * 
$v_çùÜ
;

1574 ià(
$this
->
	`G‘C®lback
('debug_textbox')) {

1580 ià(
$sš_t
 > 0) {

1581 ià(
$cos_t
 > 0) {

1583 
$px
 = 
$qx
; 
$py
 = 
$qy
 - 
$tÙ®_width
 * 
$sš_t
;

1586 
$px
 = 
$qx
 + 
$tÙ®_width
 * 
$cos_t
; 
$py
 = 
$qy
 - 
$bbox_height
;

1589 ià(
$cos_t
 < 0) {

1591 
$px
 = 
$qx
 - 
$bbox_width
; 
$py
 = 
$qy
 + 
$tÙ®_height
 * 
$cos_t
;

1594 
$px
 = 
$qx
 + 
$tÙ®_height
 * 
$sš_t
; 
$py
 = 
$qy
;

1597 
$this
->
	`DoC®lback
('debug_‹xtbox', 
$px
, 
$py
, 
$bbox_width
, 
$bbox_height
);

1608 ià(
$cos_t
 >ğ
$sš_t
) {

1609 ià(
$cos_t
 >ğ-
$sš_t
è
$lše_®ign_çùÜ
 = 
$h_çùÜ
;

1610 
$lše_®ign_çùÜ
 = 
$v_çùÜ
;

1612 ià(
$cos_t
 >ğ-
$sš_t
è
$lše_®ign_çùÜ
 = 1-
$v_çùÜ
;

1613 
$lše_®ign_çùÜ
 = 1-
$h_çùÜ
;

1618 
$i
 = 0; $˜< 
$n_lšes
; $i++) {

1627 
$width_çùÜ
 = (
$tÙ®_width
 - 
$lše_widths
[
$i
]è* 
$lše_®ign_çùÜ
;

1628 
$rx
 = 
$qx
 + 
$r00
 * 
$width_çùÜ
 + 
$r01
 * 
$fÚt_height
;

1629 
$ry
 = 
$qy
 + 
$r10
 * 
$width_çùÜ
 + 
$r11
 * 
$fÚt_height
;

1632 
	`ImageTTFText
(
$this
->
img
, 
$fÚt_size
, 
$ªgË
, 
$rx
, 
$ry
, 
$cŞÜ
, 
$fÚt_fe
, 
$lšes
[
$i
]);

1636 
$qx
 +ğ
$r01
 * 
$š‹¾še_¡•
;

1637 
$qy
 +ğ
$r11
 * 
$š‹¾še_¡•
;

1639  
TRUE
;

1640 
	}
}

1657 
´Ùeùed
 
funùiÚ
 
	$ProûssText
(
$d¿w_™
, 
$fÚt_id
, 
$ªgË
, 
$x
, 
$y
, 
$cŞÜ
, 
$‹xt
, 
$h®ign
, 
$v®ign
)

1660 ià(
$‹xt
 === '') {

1661 ià(
$d¿w_™
è 
TRUE
;

1662  
	`¬¿y
(0, 0);

1666 ià(
$v®ign
 =ğ'tİ'è
$v_çùÜ
 = 0;

1667 
	`–£if
 (
$v®ign
 =ğ'ûÁ”'è
$v_çùÜ
 = 0.5;

1668 
$v_çùÜ
 = 1.0;

1669 ià(
$h®ign
 =ğ'Ëá'è
$h_çùÜ
 = 0;

1670 
	`–£if
 (
$h®ign
 =ğ'ûÁ”'è
$h_çùÜ
 = 0.5;

1671 
$h_çùÜ
 = 1.0;

1675 ià(
	`is_¬¿y
(
$fÚt_id
)è
$fÚt
 = $font_id;

1676 
	`–£if
 (!
	`em±y
(
$fÚt_id
è&& 
	`is£t
(
$this
->
fÚts
[$fÚt_id])è
$fÚt
 = $this->fonts[$font_id];

1677 
$fÚt
 = 
$this
->
fÚts
['generic'];

1679 ià(
$fÚt
['ttf']) {

1680  
$this
->
	`ProûssTextTTF
(
$d¿w_™
, 
$fÚt
, 
$ªgË
, 
$x
, 
$y
, 
$cŞÜ
, 
$‹xt
,

1681 
$h_çùÜ
, 
$v_çùÜ
);

1683  
$this
->
	`ProûssTextGD
(
$d¿w_™
, 
$fÚt
, 
$ªgË
, 
$x
, 
$y
, 
$cŞÜ
, 
$‹xt
, 
$h_çùÜ
, 
$v_çùÜ
);

1684 
	}
}

1697 
funùiÚ
 
D¿wText
(
$which_fÚt
, 
$which_ªgË
, 
$which_xpos
, 
$which_ypos
, 
$which_cŞÜ
, 
$which_‹xt
,

1698 
$which_h®ign
 = 'Ëá', 
$which_v®ign
 = 'bottom')

1700  
$this
->
ProûssText
(
TRUE
,

1701 
$which_fÚt
, 
$which_ªgË
, 
$which_xpos
, 
$which_ypos
,

1702 
$which_cŞÜ
, 
$which_‹xt
, 
$which_h®ign
, 
$which_v®ign
);

1717 
funùiÚ
 
	$SizeText
(
$which_fÚt
, 
$which_ªgË
, 
$which_‹xt
)

1720  
$this
->
	`ProûssText
(
FALSE
,

1721 
$which_fÚt
, 
$which_ªgË
, 0, 0, 1, 
$which_‹xt
, '', '');

1722 
	}
}

1731 
funùiÚ
 
	$S‘FeFÜm©
(
$fÜm©
)

1733 
$asked
 = 
$this
->
	`CheckO±iÚ
(
$fÜm©
, 'jpg,…ng, gif, wbmp', 
__FUNCTION__
);

1734 ià(!
$asked
è 
FALSE
;

1735 
$asked
) {

1737 
$fÜm©_‹¡
 = 
IMG_JPG
;

1740 
$fÜm©_‹¡
 = 
IMG_PNG
;

1743 
$fÜm©_‹¡
 = 
IMG_GIF
;

1746 
$fÜm©_‹¡
 = 
IMG_WBMP
;

1749 ià(!(
	`imag‘y³s
(è& 
$fÜm©_‹¡
)) {

1750  
$this
->
	`PrštE¼Ü
("SetFileFormat(): File format '$format'‚ot supported");

1752 
$this
->
fe_fÜm©
 = 
$asked
;

1753  
TRUE
;

1754 
	}
}

1762 
funùiÚ
 
S‘BgImage
(
$šput_fe
, 
$mode
='centeredtile')

1764 
$this
->
bgmode
 = $this->
CheckO±iÚ
(
$mode
, 'te, c’‹»dte, sÿË', 
__FUNCTION__
);

1765 
	g$this
->
	gbgimg
 = 
$šput_fe
;

1766  (
	gboŞ—n
)
	g$this
->
	gbgmode
;

1775 
funùiÚ
 
S‘PlÙA»aBgImage
(
$šput_fe
, 
$mode
='tile')

1777 
$this
->
¶Ùbgmode
 = $this->
CheckO±iÚ
(
$mode
, 'te, c’‹»dte, sÿË', 
__FUNCTION__
);

1778 
	g$this
->
	g¶Ùbgimg
 = 
$šput_fe
;

1779  (
	gboŞ—n
)
	g$this
->
	g¶Ùbgmode
;

1785 
funùiÚ
 
	$S‘OuutFe
(
$which_ouut_fe
)

1787 ià(
	`is£t
(
$which_ouut_fe
) && $which_output_file !== '')

1788 
$this
->
ouut_fe
 = 
$which_ouut_fe
;

1790 
$this
->
ouut_fe
 = 
NULL
;

1791  
TRUE
;

1792 
	}
}

1798 
funùiÚ
 
	$S‘IsIÆše
(
$which_ii
)

1800 
$this
->
is_šlše
 = (
boŞ
)
$which_ii
;

1801  
TRUE
;

1802 
	}
}

1807 
´Ùeùed
 
funùiÚ
 
	$G‘ImageTy³
(&
$mime_ty³
, &
$ouut_f
)

1809 
$this
->
fe_fÜm©
) {

1811 
$mime_ty³
 = 'image/png';

1812 
$ouut_f
 = 'imagepng';

1815 
$mime_ty³
 = 'image/jpeg';

1816 
$ouut_f
 = 'imagejpeg';

1819 
$mime_ty³
 = 'image/gif';

1820 
$ouut_f
 = 'imagegif';

1823 
$mime_ty³
 = 'image/wbmp';

1824 
$ouut_f
 = 'imagewbmp';

1828  
$this
->
	`PrštE¼Ü
('PrintImage(): Please select‡n imageype!');

1830  
TRUE
;

1831 
	}
}

1837 
´Ùeùed
 
funùiÚ
 
	$Di§bËCachšg
()

1839 
	`h—d”
('Expires: Mon, 26 Jul 1997 05:00:00 GMT');

1840 
	`h—d”
('La¡-Modif›d: ' . 
	`gmd©e
('D, d M Y H:i:s') . 'GMT');

1841 
	`h—d”
('Cache-Control:‚o-store,‚o-cache, must-revalidate,…re-check=0,…ost-check=0, max-age=0');

1842 
	`h—d”
('Pragma:‚o-cache');

1843  
TRUE
;

1844 
	}
}

1849 
funùiÚ
 
	$PrštImage
()

1851 ià(!
$this
->
brow£r_ÿche
 && !$this->
is_šlše
)

1852 
$this
->
	`Di§bËCachšg
();

1855 ià(!
$this
->
	`G‘ImageTy³
(
$mime_ty³
, 
$ouut_f
)è 
FALSE
;

1857 ià(!
$this
->
is_šlše
) {

1858 
	`H—d”
("Content-type: $mime_type");

1860 ià(
$this
->
is_šlše
 && 
	`is£t
($this->
ouut_fe
)) {

1861 
	`$ouut_f
(
$this
->
img
, $this->
ouut_fe
);

1863 
	`$ouut_f
(
$this
->
img
);

1865  
TRUE
;

1866 
	}
}

1871 
funùiÚ
 
EncodeImage
(
$’codšg
 = 'dataurl')

1873 
$’c
 = 
$this
->
CheckO±iÚ
(
$’codšg
, 'd©au¾,„aw, ba£64', 
__FUNCTION__
);

1874 ià(!
	g$’c
 || !
	g$this
->
G‘ImageTy³
(
$mime_ty³
, 
$ouut_f
)è 
	gFALSE
;

1875 
ob_¡¬t
();

1876 
$ouut_f
(
$this
->
img
);

1877 
	g$’c
) {

1879  
ob_g‘_ş—n
();

1881  
ba£64_’code
(
ob_g‘_ş—n
());

1883  "d©a:$mime_ty³;ba£64,\n" . 
chunk_¥l™
(
ba£64_’code
(
ob_g‘_ş—n
()));

1894 
funùiÚ
 
	$D¿wMes§ge
(
$‹xt
, 
$İtiÚs
 = 
NULL
)

1897 
	`exŒaù
Ğ
	`¬¿y_m”ge
Ğ
	`¬¿y
(

1898 'd¿w_background' => 
FALSE
,

1899 'd¿w_bÜd”' => 
FALSE
,

1900 'fÜû_´št' => 
TRUE
,

1901 '»£t_fÚt' => 
TRUE
,

1903 '‹xt_w¿p' => 
TRUE
,

1905 ), (
¬¿y
)
$İtiÚs
));

1908 ià(
$d¿w_bÜd”
 && !
	`is£t
(
$this
->
ndx_i_bÜd”
è|| 
$d¿w_background
 && !is£t($this->
ndx_bg_cŞÜ
))

1909 
$this
->
	`S‘BgCŞÜIndexes
();

1910 ià(
$d¿w_background
) {

1911 
$this
->
	`D¿wBackground
(
TRUE
);

1913 
$bgcŞÜ
 = 
	`imagecŞÜ»sŞve
(
$this
->
img
, 255, 255, 255);

1914 
	`ImageFËdReùªgË
(
$this
->
img
, 0, 0, $this->
image_width
, $this->
image_height
, 
$bgcŞÜ
);

1916 ià(
$d¿w_bÜd”
è
$this
->
	`D¿wImageBÜd”
(
TRUE
);

1917 ià(
	`em±y
(
$‹xt_cŞÜ
)è
$rgb
 = 
	`¬¿y
(0, 0, 0);

1918 
$rgb
 = 
$this
->
	`S‘RGBCŞÜ
(
$‹xt_cŞÜ
);

1919 
$ndx_‹xt_cŞÜ
 = 
	`imagecŞÜ»sŞve
(
$this
->
img
, 
$rgb
[0], $rgb[1], $rgb[2]);

1922 ià(
$»£t_fÚt
è
$this
->
	`S‘U£TTF
(
FALSE
);

1925 ià(
$‹xt_w¿p
è
$‹xt
 = 
	`wÜdw¿p
($‹xt, 
$w¿p_width
);

1926 
	`li¡
(
$‹xt_width
, 
$‹xt_height
èğ
$this
->
	`SizeText
('g’”ic', 0, 
$‹xt
);

1927 
$x
 = 
	`max
(
$this
->
§ã_m¬gš
, ($this->
image_width
 - 
$‹xt_width
) / 2);

1928 
$y
 = 
	`max
(
$this
->
§ã_m¬gš
, ($this->
image_height
 - 
$‹xt_height
) / 2);

1929 
$this
->
	`D¿wText
('g’”ic', 0, 
$x
, 
$y
, 
$ndx_‹xt_cŞÜ
, 
$‹xt
, 'left', 'top');

1930 ià(
$fÜû_´št
 || 
$this
->
´št_image
è$this->
	`PrštImage
();

1931  
TRUE
;

1932 
	}
}

1942 
´Ùeùed
 
funùiÚ
 
	$PrštE¼Ü
(
$”rÜ_mes§ge
)

1945 ià(
	`is£t
(
$this
->
š_”rÜ
)è 
FALSE
;

1946 
$this
->
š_”rÜ
 = 
TRUE
;

1949 ià(!
$this
->
suµ»ss_”rÜ_image
) {

1951 ià(!
	`em±y
(
$this
->
img
)) {

1952 
$this
->
	`D¿wMes§ge
(
$”rÜ_mes§ge
);

1953 } 
	`–£if
 (!
$this
->
is_šlše
) {

1954 
	`H—d”
('HTTP/1.0 500 Internal Server Error');

1957 
	`Œigg”_”rÜ
(
$”rÜ_mes§ge
, 
E_USER_ERROR
);

1958 
	`un£t
(
$this
->
š_”rÜ
);

1959  
FALSE
;

1960 
	}
}

1965 
funùiÚ
 
	$S‘Fau»Image
(
$”rÜ_image
)

1967 
$this
->
suµ»ss_”rÜ_image
 = !
$”rÜ_image
;

1968  
TRUE
;

1969 
	}
}

1974 
funùiÚ
 
	$S¹SŒ—m
()

1976 
$this
->
	`G‘ImageTy³
(
$mime_ty³
, $this->
¡»am_ouut_f
);

1977 
$this
->
¡»am_bound¬y
 = "PHPlot-Streaming-Frame";

1978 
$this
->
¡»am_äame_h—d”
 = "\r\n--$this->stream_boundary\r\nContent-Type: $mime_type\r\n";

1979 
$this
->
	`Di§bËCachšg
();

1980 
	`h—d”
("Content-type: multipart/x-mixed-replace; boundary=\"$this->stream_boundary\"");

1981  
TRUE
;

1982 
	}
}

1987 
funùiÚ
 
	$EndSŒ—m
()

1989 
echo
 "\r\n--$this->stream_boundary--\r\n";

1990 
	`æush
();

1991  
TRUE
;

1992 
	}
}

1997 
funùiÚ
 
	$PrštImageF¿me
()

1999 
	`ob_¡¬t
();

2000 
	`ÿÎ_u£r_func
(
$this
->
¡»am_ouut_f
, $this->
img
);

2001 
$size
 = 
	`ob_g‘_Ëngth
();

2002 
$äame
 = 
	`ob_g‘_ş—n
();

2003 
echo
 
$this
->
¡»am_äame_h—d”
, "CÚ‹Á-L’gth: $size\r\n\r\n", 
$äame
, "\r\n";

2004 
	`æush
();

2006 
$this
->
dÚe
 = 
	`¬¿y
();

2007  
TRUE
;

2008 
	}
}

2021 
funùiÚ
 
	$S‘XD©aLab–Pos
(
$which_xdÍ
)

2023 
$which_xdÍ
 = 
$this
->
	`CheckO±iÚ
($which_xdlp, 'plotdown,…lotup, both,‚one,…lotin,…lotstack',

2024 
__FUNCTION__
);

2025 ià(!
$which_xdÍ
è 
FALSE
;

2026 
$this
->
x_d©a_Ïb–_pos
 = 
$which_xdÍ
;

2028  
TRUE
;

2029 
	}
}

2038 
funùiÚ
 
	$S‘YD©aLab–Pos
(
$which_ydÍ
)

2040 
$which_ydÍ
 = 
$this
->
	`CheckO±iÚ
($which_ydlp, 'plotleft,…lotright, both,‚one,…lotin,…lotstack',

2041 
__FUNCTION__
);

2042 ià(!
$which_ydÍ
è 
FALSE
;

2043 
$this
->
y_d©a_Ïb–_pos
 = 
$which_ydÍ
;

2045  
TRUE
;

2046 
	}
}

2051 
funùiÚ
 
	$S‘XTickLab–Pos
(
$which_xp
)

2053 
$which_xp
 = 
$this
->
	`CheckO±iÚ
($which_xtlp, 'plotdown,…lotup, both, xaxis,‚one',

2054 
__FUNCTION__
);

2055 ià(!
$which_xp
è 
FALSE
;

2056 
$this
->
x_tick_Ïb–_pos
 = 
$which_xp
;

2058  
TRUE
;

2059 
	}
}

2064 
funùiÚ
 
	$S‘YTickLab–Pos
(
$which_yp
)

2066 
$which_yp
 = 
$this
->
	`CheckO±iÚ
($which_ytlp, 'plotleft,…lotright, both, yaxis,‚one',

2067 
__FUNCTION__
);

2068 ià(!
$which_yp
è 
FALSE
;

2069 
$this
->
y_tick_Ïb–_pos
 = 
$which_yp
;

2071  
TRUE
;

2072 
	}
}

2096 
´Ùeùed
 
funùiÚ
 
	$S‘Lab–Ty³
(
$mode
, 
$¬gs
)

2098 ià(!
$this
->
	`CheckO±iÚ
(
$mode
, 'x, y, xd, yd,…', 
__FUNCTION__
))

2099  
FALSE
;

2101 
$ty³
 = 
	`is£t
(
$¬gs
[0]) ? $args[0] : '';

2102 
$fÜm©
 = &
$this
->
Ïb–_fÜm©
[
$mode
];

2103 
$ty³
) {

2105 ià(
	`is£t
(
$¬gs
[1]))

2106 
$fÜm©
['´ecisiÚ'] = 
$¬gs
[1];

2107 
	`–£if
 (!
	`is£t
(
$fÜm©
['precision']))

2108 
$fÜm©
['precision'] = 1;

2109 
$fÜm©
['´efix'] = 
	`is£t
(
$¬gs
[2]) ? $args[2] : '';

2110 
$fÜm©
['suffix'] = 
	`is£t
(
$¬gs
[3]) ? $args[3] : '';

2114 ià(
	`is£t
(
$¬gs
[1]))

2115 
$fÜm©
['time_fÜm©'] = 
$¬gs
[1];

2116 
	`–£if
 (!
	`is£t
(
$fÜm©
['time_format']))

2117 
$fÜm©
['time_format'] = '%H:%M:%S';

2121 ià(
	`is£t
(
$¬gs
[1]))

2122 
$fÜm©
['´štf_fÜm©'] = 
$¬gs
[1];

2123 
	`–£if
 (!
	`is£t
(
$fÜm©
['printf_format']))

2124 
$fÜm©
['printf_format'] = '%e';

2128 ià(
	`is£t
(
$¬gs
[1])) {

2129 
$fÜm©
['cu¡om_ÿÎback'] = 
$¬gs
[1];

2130 
$fÜm©
['cu¡om_¬g'] = 
	`is£t
(
$¬gs
[2]è? $¬gs[2] : 
NULL
;

2132 
$ty³
 = '';

2141 
$this
->
	`CheckO±iÚ
(
$ty³
, 'd©a,ime,…rštf, cu¡om', 
__FUNCTION__
);

2142 
$ty³
 = '';

2144 
$fÜm©
['ty³'] = 
$ty³
;

2145  (
boŞ—n
)
$ty³
;

2146 
	}
}

2153 
funùiÚ
 
	$S‘XLab–Ty³
()

2155 
$¬gs
 = 
	`func_g‘_¬gs
();

2156  
$this
->
	`S‘Lab–Ty³
('x', 
$¬gs
);

2157 
	}
}

2162 
funùiÚ
 
	$S‘XD©aLab–Ty³
()

2164 
$¬gs
 = 
	`func_g‘_¬gs
();

2165  
$this
->
	`S‘Lab–Ty³
('xd', 
$¬gs
);

2166 
	}
}

2173 
funùiÚ
 
	$S‘YLab–Ty³
()

2175 
$¬gs
 = 
	`func_g‘_¬gs
();

2176  
$this
->
	`S‘Lab–Ty³
('y', 
$¬gs
);

2177 
	}
}

2182 
funùiÚ
 
	$S‘YD©aLab–Ty³
()

2184 
$¬gs
 = 
	`func_g‘_¬gs
();

2185  
$this
->
	`S‘Lab–Ty³
('yd', 
$¬gs
);

2186 
	}
}

2194 
funùiÚ
 
	$S‘P›Lab–Ty³
()

2196 
$¬gs
 = 
	`func_g‘_¬gs
();

2197 
$sourû
 = 
	`¬¿y_shiá
(
$¬gs
);

2198 ià(
	`em±y
(
$sourû
)) {

2199 
$this
->
p›_Ïb–_sourû
 = 
NULL
;

2200 
$¬gs
 = 
	`¬¿y
('');

2202 
$this
->
p›_Ïb–_sourû
 = $this->
	`CheckO±iÚA¼ay
(
$sourû
, 'percent, value,†abel, index',

2203 
__FUNCTION__
);

2204 ià(
	`em±y
(
$this
->
p›_Ïb–_sourû
)è 
FALSE
;

2206  
$this
->
	`S‘Lab–Ty³
('p', 
$¬gs
);

2207 
	}
}

2214 
funùiÚ
 
	$S‘XTimeFÜm©
(
$which_xtf
)

2216 
$this
->
Ïb–_fÜm©
['x']['time_fÜm©'] = 
$which_xtf
;

2217  
TRUE
;

2218 
	}
}

2225 
funùiÚ
 
	$S‘YTimeFÜm©
(
$which_ytf
)

2227 
$this
->
Ïb–_fÜm©
['y']['time_fÜm©'] = 
$which_ytf
;

2228  
TRUE
;

2229 
	}
}

2235 
funùiÚ
 
	$S‘Numb”FÜm©
(
$decim®_pošt
, 
$thou§nds_£p
)

2237 
$this
->
decim®_pošt
 = 
$decim®_pošt
;

2238 
$this
->
thou§nds_£p
 = 
$thou§nds_£p
;

2239  
TRUE
;

2240 
	}
}

2245 
funùiÚ
 
	$S‘XLab–AngË
(
$which_xÏ
)

2247 
$this
->
x_Ïb–_ªgË
 = 
$which_xÏ
;

2248  
TRUE
;

2249 
	}
}

2254 
funùiÚ
 
	$S‘YLab–AngË
(
$which_yÏ
)

2256 
$this
->
y_Ïb–_ªgË
 = 
$which_yÏ
;

2257  
TRUE
;

2258 
	}
}

2266 
funùiÚ
 
	$S‘XD©aLab–AngË
(
$which_xdÏ
)

2268 
$this
->
x_d©a_Ïb–_ªgË_u
 = 
$which_xdÏ
;

2269  
TRUE
;

2270 
	}
}

2276 
funùiÚ
 
	$S‘YD©aLab–AngË
(
$which_ydÏ
)

2278 
$this
->
y_d©a_Ïb–_ªgË
 = 
$which_ydÏ
;

2279  
TRUE
;

2280 
	}
}

2295 
´Ùeùed
 
funùiÚ
 
	$CheckO±iÚ
(
$which_İt
, 
$which_acc
, 
$which_func
)

2297 
$asked
 = 
	`¡¹Şow”
(
	`Œim
(
$which_İt
));

2300 ià(
	`¡½os
(", $which_acc,", ", $asked,"è!=ğ
FALSE
)

2301  
$asked
;

2303 
$this
->
	`PrštE¼Ü
("$which_func(): '$which_opt'‚ot in‡vailable choices: '$which_acc'.");

2304  
NULL
;

2305 
	}
}

2316 
´Ùeùed
 
funùiÚ
 
	$CheckO±iÚA¼ay
(
$İt
, 
$acc
, 
$func
)

2318 
$İt_¬¿y
 = (
¬¿y
)
$İt
;

2319 
$»suÉ
 = 
	`¬¿y
();

2320 
	`fÜ—ch
 (
$İt_¬¿y
 
as
 
$İtiÚ
) {

2321 
$choiû
 = 
$this
->
	`CheckO±iÚ
(
$İtiÚ
, 
$acc
, 
$func
);

2322 ià(
	`is_nuÎ
(
$choiû
)è 
NULL
;

2323 
$»suÉ
[] = 
$choiû
;

2325  
$»suÉ
;

2326 
	}
}

2337 
´Ùeùed
 
funùiÚ
 
	$CheckD©aTy³
(
$v®id_ty³s
)

2339 ià(
	`¡½os
(", $v®id_ty³s,", ", $this->d©a_ty³,"è!=ğ
FALSE
)

2340  
TRUE
;

2342 
$this
->
	`PrštE¼Ü
("Dataype '$this->data_type' is‚ot valid for '$this->plot_type'…lots."

2344  
FALSE
;

2345 
	}
}

2351 
´Ùeùed
 
funùiÚ
 
	$DecodeD©aTy³
()

2353 
$v
 = &
£lf
::
$d©©y³s
[
$this
->
d©a_ty³
];

2354 
$this
->
d©©y³_im¶›d
 = !
	`em±y
(
$v
['implied']);

2355 
$this
->
d©©y³_”rÜ_b¬s
 = !
	`em±y
(
$v
['error_bars']);

2356 
$this
->
d©©y³_p›_sšgË
 = !
	`em±y
(
$v
['pie_single']);

2357 
$this
->
d©©y³_sw­³d_xy
 = !
	`em±y
(
$v
['swapped_xy']);

2358 
$this
->
d©©y³_yz
 = !
	`em±y
(
$v
['yz']);

2359 
	}
}

2371 
´Ùeùed
 
funùiÚ
 
	$CheckD©aA¼ay
()

2374 ià(!
$this
->
img
) {

2375  
$this
->
	`PrštE¼Ü
('DrawGraph(): No image„esource‡llocated');

2379 ià(
	`em±y
(
$this
->
d©a
è|| !
	`is_¬¿y
($this->data)) {

2380  
$this
->
	`PrštE¼Ü
("DrawGraph(): No data‡rray");

2382 ià(
$this
->
tÙ®_»cÜds
 == 0) {

2383  
$this
->
	`PrštE¼Ü
('DrawGraph(): Empty data set');

2387 
$this
->
	`DecodeD©aTy³
();

2391 
$sk
 = 
$this
->
d©©y³_im¶›d
 ? 1 : 2;

2392 ià(
$this
->
d©©y³_”rÜ_b¬s
) {

2393 
$this
->
d©a_cŞumns
 = ()(($this->
»cÜds_³r_group
 - 
$sk
) / 3);

2395 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++) {

2396 ià(
$this
->
num_»cs
[
$i
] < 
$sk
 || ($this->num_recs[$i] - $skip) % 3 != 0)

2397  
$this
->
	`PrštE¼Ü
("DrawGraph(): Invalid $this->data_type data‡rray (row $i)");

2399 } 
	`–£if
 (
$this
->
d©©y³_p›_sšgË
) {

2400 
$this
->
d©a_cŞumns
 = $this->
num_d©a_rows
;

2402 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++) {

2403 ià(
$this
->
num_»cs
[
$i
] != 2)

2404  
$this
->
	`PrštE¼Ü
("DrawGraph(): Invalid $this->data_type data‡rray (row $i)");

2406 } 
	`–£if
 (
$this
->
d©©y³_yz
) {

2407 
$this
->
d©a_cŞumns
 = ()(($this->
»cÜds_³r_group
 - 
$sk
) / 2);

2409 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++) {

2410 ià(
$this
->
num_»cs
[
$i
] < 
$sk
 || ($this->num_recs[$i] - $skip) % 2 != 0)

2411  
$this
->
	`PrštE¼Ü
("DrawGraph(): Invalid $this->data_type data‡rray (row $i)");

2414 
$this
->
d©a_cŞumns
 = $this->
»cÜds_³r_group
 - 
$sk
;

2416 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++) {

2417 ià(
$this
->
num_»cs
[
$i
] < 
$sk
)

2418  
$this
->
	`PrštE¼Ü
("DrawGraph(): Invalid $this->data_type data‡rray (row $i)");

2421  
TRUE
;

2422 
	}
}

2428 
funùiÚ
 
	$S‘Brow£rCache
(
$which_brow£r_ÿche
)

2430 
$this
->
brow£r_ÿche
 = 
$which_brow£r_ÿche
;

2431  
TRUE
;

2432 
	}
}

2438 
funùiÚ
 
	$S‘PrštImage
(
$which_pi
)

2440 
$this
->
´št_image
 = 
$which_pi
;

2441  
TRUE
;

2442 
	}
}

2448 
funùiÚ
 
	$S‘PlÙBÜd”Ty³
(
$pbt
)

2450 
$this
->
¶Ù_bÜd”_ty³
 = $this->
	`CheckO±iÚA¼ay
(
$pbt
, 'left,„ight,op, bottom, sides,‚one, full',

2451 
__FUNCTION__
);

2452  !
	`em±y
(
$this
->
¶Ù_bÜd”_ty³
);

2453 
	}
}

2460 
funùiÚ
 
	$S‘ImageBÜd”Ty³
(
$sibt
)

2462 
$this
->
image_bÜd”_ty³
 = $this->
	`CheckO±iÚ
(
$sibt
, '¿i£d,…Ïš, sŞid,‚Úe', 
__FUNCTION__
);

2463  (
boŞ—n
)
$this
->
image_bÜd”_ty³
;

2464 
	}
}

2469 
funùiÚ
 
	$S‘ImageBÜd”Width
(
$width
)

2471 
$this
->
image_bÜd”_width
 = 
$width
;

2472  
TRUE
;

2473 
	}
}

2478 
funùiÚ
 
	$S‘D¿wPlÙA»aBackground
(
$d·b
)

2480 
$this
->
d¿w_¶Ù_¬—_background
 = (
boŞ
)
$d·b
;

2481  
TRUE
;

2482 
	}
}

2487 
funùiÚ
 
	$S‘D¿wXGrid
(
$dxg
 = 
NULL
)

2489 
$this
->
d¿w_x_grid
 = 
$dxg
;

2490  
TRUE
;

2491 
	}
}

2496 
funùiÚ
 
	$S‘D¿wYGrid
(
$dyg
 = 
NULL
)

2498 
$this
->
d¿w_y_grid
 = 
$dyg
;

2499  
TRUE
;

2500 
	}
}

2506 
funùiÚ
 
	$S‘D¿wDashedGrid
(
$ddg
)

2508 
$this
->
dashed_grid
 = (
boŞ
)
$ddg
;

2509  
TRUE
;

2510 
	}
}

2515 
funùiÚ
 
	$S‘D¿wXD©aLab–Lšes
(
$dxdl
)

2517 
$this
->
d¿w_x_d©a_Ïb–_lšes
 = (
boŞ
)
$dxdl
;

2518  
TRUE
;

2519 
	}
}

2524 
funùiÚ
 
	$S‘D¿wYD©aLab–Lšes
(
$dydl
)

2526 
$this
->
d¿w_y_d©a_Ïb–_lšes
 = (
boŞ
)
$dydl
;

2527  
TRUE
;

2528 
	}
}

2533 
funùiÚ
 
	$S‘D¿wP›BÜd”s
(
$dpb
)

2535 
$this
->
d¿w_p›_bÜd”s
 = (
boŞ
)
$dpb
;

2536  
TRUE
;

2537 
	}
}

2542 
funùiÚ
 
	$S‘D¿wD©aBÜd”s
(
$ddb
)

2544 
$this
->
d¿w_d©a_bÜd”s
 = (
boŞ
)
$ddb
;

2545  
TRUE
;

2546 
	}
}

2551 
funùiÚ
 
	$S‘T™Ë
(
$which_t™Ë
)

2553 
$this
->
t™Ë_txt
 = 
$which_t™Ë
;

2554  
TRUE
;

2555 
	}
}

2560 
funùiÚ
 
S‘XT™Ë
(
$which_xt™Ë
, 
$which_xpos
 = 'plotdown')

2562 ià(!(
$which_xpos
 = 
$this
->
CheckO±iÚ
($which_xpos, '¶Ùdown,…lÙup, bÙh,‚Úe', 
__FUNCTION__
)))

2563  
	gFALSE
;

2564 ià((
	g$this
->
	gx_t™Ë_txt
 = 
$which_xt™Ë
) === '')

2565 
$this
->
x_t™Ë_pos
 = 'none';

2567 
	g$this
->
	gx_t™Ë_pos
 = 
$which_xpos
;

2568  
	gTRUE
;

2574 
funùiÚ
 
S‘YT™Ë
(
$which_yt™Ë
, 
$which_ypos
 = 'plotleft')

2576 ià(!(
$which_ypos
 = 
$this
->
CheckO±iÚ
($which_ypos, '¶ÙËá,…lÙright, bÙh,‚Úe', 
__FUNCTION__
)))

2577  
	gFALSE
;

2578 ià((
	g$this
->
	gy_t™Ë_txt
 = 
$which_yt™Ë
) === '')

2579 
$this
->
y_t™Ë_pos
 = 'none';

2581 
	g$this
->
	gy_t™Ë_pos
 = 
$which_ypos
;

2582  
	gTRUE
;

2589 
funùiÚ
 
	$S‘Shadšg
(
$which_s
)

2591 
$this
->
shadšg
 = ()
$which_s
;

2592  
TRUE
;

2593 
	}
}

2598 
funùiÚ
 
	$S‘PlÙTy³
(
$which_±
)

2600 
$ava_¶Ù_ty³s
 = 
	`im¶ode
(', ', 
	`¬¿y_keys
(
£lf
::
$¶Ùs
));

2601 
$this
->
¶Ù_ty³
 = $this->
	`CheckO±iÚ
(
$which_±
, 
$ava_¶Ù_ty³s
, 
__FUNCTION__
);

2602  (
boŞ—n
)
$this
->
¶Ù_ty³
;

2603 
	}
}

2609 
funùiÚ
 
S‘XAxisPos™iÚ
(
$pos
='')

2611 
$this
->
x_axis_pos™iÚ
 = (
$pos
 ==ğ''è? 
NULL
 : ()$pos;

2612  
	gTRUE
;

2619 
funùiÚ
 
S‘YAxisPos™iÚ
(
$pos
='')

2621 
$this
->
y_axis_pos™iÚ
 = (
$pos
 ==ğ''è? 
NULL
 : ()$pos;

2622  
	gTRUE
;

2630 
funùiÚ
 
	$S‘D¿wXAxis
(
$d¿w
)

2632 
$this
->
suµ»ss_x_axis
 = !
$d¿w
;

2633  
TRUE
;

2634 
	}
}

2641 
funùiÚ
 
	$S‘D¿wYAxis
(
$d¿w
)

2643 
$this
->
suµ»ss_y_axis
 = !
$d¿w
;

2644  
TRUE
;

2645 
	}
}

2650 
funùiÚ
 
	$S‘XSÿËTy³
(
$which_x¡
)

2652 
$this
->
xsÿË_ty³
 = $this->
	`CheckO±iÚ
(
$which_x¡
, 'lš—r,†og', 
__FUNCTION__
);

2653  (
boŞ—n
)
$this
->
xsÿË_ty³
;

2654 
	}
}

2659 
funùiÚ
 
	$S‘YSÿËTy³
(
$which_y¡
)

2661 
$this
->
ysÿË_ty³
 = $this->
	`CheckO±iÚ
(
$which_y¡
, 'lš—r,†og', 
__FUNCTION__
);

2662  (
boŞ—n
)
$this
->
ysÿË_ty³
;

2663 
	}
}

2670 
funùiÚ
 
	$S‘P»cisiÚX
(
$which_´ec
)

2672  
$this
->
	`S‘XLab–Ty³
('d©a', 
$which_´ec
);

2673 
	}
}

2680 
funùiÚ
 
	$S‘P»cisiÚY
(
$which_´ec
)

2682  
$this
->
	`S‘YLab–Ty³
('d©a', 
$which_´ec
);

2683 
	}
}

2688 
funùiÚ
 
	$S‘E¼ÜB¬LšeWidth
(
$which_£blw
)

2690 
$this
->
”rÜ_b¬_lše_width
 = 
$which_£blw
;

2691  
TRUE
;

2692 
	}
}

2700 
funùiÚ
 
	$S‘Lab–SÿËPos™iÚ
(
$which_bÍ
)

2702 
$this
->
Ïb–_sÿË_pos™iÚ
 = 
$which_bÍ
;

2703  
TRUE
;

2704 
	}
}

2709 
funùiÚ
 
	$S‘E¼ÜB¬Size
(
$which_ebs
)

2711 
$this
->
”rÜ_b¬_size
 = 
$which_ebs
;

2712  
TRUE
;

2713 
	}
}

2719 
funùiÚ
 
	$S‘E¼ÜB¬Sh­e
(
$which_ebs
)

2721 
$this
->
”rÜ_b¬_sh­e
 = $this->
	`CheckO±iÚ
(
$which_ebs
, '‹e,†še', 
__FUNCTION__
);

2722  (
boŞ—n
)
$this
->
”rÜ_b¬_sh­e
;

2723 
	}
}

2729 
´Ùeùed
 
funùiÚ
 
	$CheckPoštP¬ams
()

2732 
$ps
 = 
	`couÁ
(
$this
->
pošt_sizes
);

2733 
$±
 = 
	`couÁ
(
$this
->
pošt_sh­es
);

2735 ià(
$ps
 < 
$±
) {

2736 
$this
->
	`·d_¬¿y
($this->
pošt_sizes
, 
$±
);

2737 
$this
->
pošt_couÁs
 = 
$±
;

2738 } 
	`–£if
 (
$ps
 > 
$±
) {

2739 
$this
->
	`·d_¬¿y
($this->
pošt_sh­es
, 
$ps
);

2740 
$this
->
pošt_couÁs
 = 
$ps
;

2742 
$this
->
pošt_couÁs
 = 
$ps
;

2744 
	}
}

2752 
funùiÚ
 
	$S‘PoštSh­es
(
$which_±
)

2754 
$this
->
pošt_sh­es
 = $this->
	`CheckO±iÚA¼ay
(
$which_±
, 'halfline,†ine,…lus, cross,„ect,'

2756 . ' bowt›,¬g‘, box, home, up, down,‚Úe', 
__FUNCTION__
);

2757  !
	`em±y
(
$this
->
pošt_sh­es
);

2758 
	}
}

2766 
funùiÚ
 
	$S‘PoštSizes
(
$which_ps
)

2768 ià(
	`is_¬¿y
(
$which_ps
)) {

2770 
$this
->
pošt_sizes
 = 
$which_ps
;

2771 } 
	`–£if
 (!
	`is_nuÎ
(
$which_ps
)) {

2773 
$this
->
pošt_sizes
 = 
	`¬¿y
(
$which_ps
);

2775  
TRUE
;

2776 
	}
}

2783 
funùiÚ
 
	$S‘D¿wBrok’Lšes
(
$bl
)

2785 
$this
->
d¿w_brok’_lšes
 = (
boŞ
)
$bl
;

2786  
TRUE
;

2787 
	}
}

2792 
funùiÚ
 
	$S‘D©aTy³
(
$which_dt
)

2795 ià(
	`is£t
(
£lf
::
$d©©y³s_m­
[
$which_dt
]))

2796 
$which_dt
 = 
£lf
::
$d©©y³s_m­
[$which_dt];

2798 
$v®id_d©a_ty³s
 = 
	`im¶ode
(', ', 
	`¬¿y_keys
(
£lf
::
$d©©y³s
));

2799 
$this
->
d©a_ty³
 = $this->
	`CheckO±iÚ
(
$which_dt
, 
$v®id_d©a_ty³s
, 
__FUNCTION__
);

2800  (
boŞ—n
)
$this
->
d©a_ty³
;

2801 
	}
}

2808 
funùiÚ
 
	$S‘D©aV®ues
(
$which_dv
)

2810 
$this
->
num_d©a_rows
 = 
	`couÁ
(
$which_dv
);

2811 
$this
->
tÙ®_»cÜds
 = 0;

2812 
$this
->
d©a
 = 
	`¬¿y
();

2813 
$this
->
num_»cs
 = 
	`¬¿y
();

2814 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++) {

2815 ià(!
	`is£t
(
$which_dv
[
$i
]è|| !
	`is_¬¿y
($which_dv[$i])) {

2816  
$this
->
	`PrštE¼Ü
("SetDataValues(): Invalid data‡rray (row $i)");

2818 
$this
->
d©a
[
$i
] = 
	`¬¿y_v®ues
(
$which_dv
[$i]);

2821 
$this
->
tÙ®_»cÜds
 +ğ$this->
num_»cs
[
$i
] = 
	`couÁ
($this->
d©a
[$i]);

2825 
$this
->
»cÜds_³r_group
 = 
	`em±y
($this->
num_»cs
è? 0 : 
	`max
($this->num_recs);

2826  
TRUE
;

2827 
	}
}

2836 
´Ùeùed
 
funùiÚ
 
	$PadA¼ays
()

2838 
$this
->
	`·d_¬¿y
($this->
lše_widths
, $this->
d©a_cŞumns
);

2839 
$this
->
	`·d_¬¿y
($this->
lše_¡yËs
, $this->
d©a_cŞumns
);

2840 
$this
->
	`·d_¬¿y
($this->
ndx_d©a_cŞÜs
, $this->
d©a_cŞumns
);

2841 
$this
->
	`·d_¬¿y
($this->
ndx_d©a_bÜd”_cŞÜs
, $this->
d©a_cŞumns
);

2844  
TRUE
;

2845 
	}
}

2855 
´Ùeùed
 
funùiÚ
 
	$·d_¬¿y
(&
$¬r
, 
$size
)

2857 ià(! 
	`is_¬¿y
(
$¬r
)) {

2858 
$¬r
 = 
	`¬¿y
($arr);

2860 
$n
 = 
	`couÁ
(
$¬r
);

2861 
$ba£
 = 0;

2862 
$n
 < 
$size
è
$¬r
[$n++] = $¬r[
$ba£
++];

2863 
	}
}

2877 
´Ùeùed
 
funùiÚ
 
	$numb”_fÜm©
(
$numb”
, 
$decim®s
=0)

2880 ià(!
	`is£t
(
$this
->
decim®_pošt
, $this->
thou§nds_£p
)) {

2882 ià(!
$this
->
loÿË_ov”ride
) {

2883 
$§ve_loÿË
 = @
	`£oÿË
(
LC_NUMERIC
, '0');

2884 @
	`£oÿË
(
LC_NUMERIC
, '');

2887 
$loÿË
 = @
	`loÿËcÚv
();

2889 ià(!
	`em±y
(
$§ve_loÿË
)è@
	`£oÿË
(
LC_NUMERIC
, $save_locale);

2890 ià(
	`is£t
(
$loÿË
['decimal_point'], $locale['thousands_sep'])) {

2891 
$this
->
decim®_pošt
 = 
$loÿË
['decimal_point'];

2892 
$this
->
thou§nds_£p
 = 
$loÿË
['thousands_sep'];

2895 
$this
->
decim®_pošt
 = '.';

2896 
$this
->
thou§nds_£p
 = ',';

2899  
	`numb”_fÜm©
(
$numb”
, 
$decim®s
, 
$this
->
decim®_pošt
, $this->
thou§nds_£p
);

2900 
	}
}

2911 
funùiÚ
 
	$S‘C®lback
(
$»asÚ
, 
$funùiÚ
, 
$¬g
 = 
NULL
)

2914 ià(!
	`¬¿y_key_exi¡s
(
$»asÚ
, 
$this
->
ÿÎbacks
))

2915  
FALSE
;

2916 
$this
->
ÿÎbacks
[
$»asÚ
] = 
	`¬¿y
(
$funùiÚ
, 
$¬g
);

2917  
TRUE
;

2918 
	}
}

2929 
funùiÚ
 
	$G‘C®lback
(
$»asÚ
)

2931 ià(
	`is£t
(
$this
->
ÿÎbacks
[
$»asÚ
]))

2932  
$this
->
ÿÎbacks
[
$»asÚ
][0];

2933  
FALSE
;

2934 
	}
}

2942 
funùiÚ
 
	$RemoveC®lback
(
$»asÚ
)

2944 ià(!
	`¬¿y_key_exi¡s
(
$»asÚ
, 
$this
->
ÿÎbacks
))

2945  
FALSE
;

2946 
$this
->
ÿÎbacks
[
$»asÚ
] = 
NULL
;

2947  
TRUE
;

2948 
	}
}

2959 
´Ùeùed
 
funùiÚ
 
	$DoC®lback
()

2961 
$¬gs
 = 
	`func_g‘_¬gs
();

2962 
$»asÚ
 = 
$¬gs
[0];

2963 ià(!
	`is£t
(
$this
->
ÿÎbacks
[
$»asÚ
]))

2965 
	`li¡
(
$funùiÚ
, 
$¬gs
[0]èğ
$this
->
ÿÎbacks
[
$»asÚ
];

2966 
	`¬¿y_unshiá
(
$¬gs
, 
$this
->
img
);

2968  
	`ÿÎ_u£r_func_¬¿y
(
$funùiÚ
, 
$¬gs
);

2969 
	}
}

2975 
´Ùeùed
 
funùiÚ
 
	$S‘BgCŞÜIndexes
()

2977 
$this
->
ndx_bg_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
bg_cŞÜ
);

2978 
$this
->
ndx_¶Ù_bg_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
¶Ù_bg_cŞÜ
);

2979 ià(
$this
->
image_bÜd”_ty³
 != 'none') {

2980 
$this
->
ndx_i_bÜd”
 = $this->
	`G‘CŞÜIndex
($this->
i_bÜd”
);

2981 
$this
->
ndx_i_bÜd”_d¬k
 = $this->
	`G‘D¬kCŞÜIndex
($this->
i_bÜd”
);

2983 
	}
}

3002 
´Ùeùed
 
funùiÚ
 
	$S‘CŞÜIndexes
()

3004 
$this
->
	`S‘BgCŞÜIndexes
();

3007 
$this
->
ndx_t™Ë_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
t™Ë_cŞÜ
);

3008 
$this
->
ndx_x_t™Ë_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
x_t™Ë_cŞÜ
, $this->
ndx_t™Ë_cŞÜ
);

3009 
$this
->
ndx_y_t™Ë_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
y_t™Ë_cŞÜ
, $this->
ndx_t™Ë_cŞÜ
);

3012 
$this
->
ndx_‹xt_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
‹xt_cŞÜ
);

3013 
$this
->
ndx_tickÏb–_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
tickÏb–_cŞÜ
, $this->
ndx_‹xt_cŞÜ
);

3014 
$this
->
ndx_d©®ab–_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
d©®ab–_cŞÜ
, $this->
ndx_‹xt_cŞÜ
);

3015 
$this
->
ndx_dvÏb–_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
dvÏb–_cŞÜ
, $this->
ndx_d©®ab–_cŞÜ
);

3017 
$this
->
ndx_grid_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
grid_cŞÜ
);

3018 
$this
->
ndx_light_grid_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
light_grid_cŞÜ
);

3019 
$this
->
ndx_tick_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
tick_cŞÜ
);

3021 
$this
->
ndx_p›Ïb–_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
p›Ïb–_cŞÜ
, $this->
ndx_grid_cŞÜ
);

3022 
$this
->
ndx_p›bÜd”_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
p›bÜd”_cŞÜ
, $this->
ndx_grid_cŞÜ
);

3025 ià(
$this
->
	`G‘C®lback
('data_color')) {

3026 
$n_d©a
 = 
	`couÁ
(
$this
->
d©a_cŞÜs
);

3027 
$n_bÜd”
 = 
	`couÁ
(
$this
->
d©a_bÜd”_cŞÜs
);

3029 
$n_d©a
 = 
	`max
(
$this
->
d©a_cŞumns
, 
	`em±y
($this->
Ëg’d
è? 0 : 
	`couÁ
($this->legend));

3030 
$n_bÜd”
 = 
$n_d©a
;

3034 
$this
->
ndx_d©a_cŞÜs
 = $this->
	`G‘CŞÜIndexA¼ay
($this->
d©a_cŞÜs
, 
$n_d©a
);

3035 
$this
->
ndx_d©a_bÜd”_cŞÜs
 = $this->
	`G‘CŞÜIndexA¼ay
($this->
d©a_bÜd”_cŞÜs
, 
$n_bÜd”
);

3038 
$this
->
ndx_Ëg’d_bg_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
Ëg’d_bg_cŞÜ
, $this->
ndx_bg_cŞÜ
);

3039 
$this
->
ndx_Ëg’d_‹xt_cŞÜ
 = $this->
	`G‘CŞÜIndex
($this->
Ëg’d_‹xt_cŞÜ
, $this->
ndx_‹xt_cŞÜ
);

3042 ià(!
	`em±y
(
$this
->
Œª¥¬’t_cŞÜ
)) {

3043 
	`imagecŞÜŒª¥¬’t
(
$this
->
img
, $this->
	`G‘CŞÜIndex
($this->
Œª¥¬’t_cŞÜ
));

3045 
	}
}

3050 
´Ùeùed
 
funùiÚ
 
	$N“dD©aD¬kCŞÜs
()

3053 ià(
$this
->
	`G‘C®lback
('data_color')) {

3054 
$n_d©a
 = 
	`couÁ
(
$this
->
d©a_cŞÜs
);

3056 
$n_d©a
 = 
	`max
(
$this
->
d©a_cŞumns
, 
	`em±y
($this->
Ëg’d
è? 0 : 
	`couÁ
($this->legend));

3058 
$this
->
ndx_d©a_d¬k_cŞÜs
 = $this->
	`G‘D¬kCŞÜIndexA¼ay
($this->
d©a_cŞÜs
, 
$n_d©a
);

3059 
$this
->
	`·d_¬¿y
($this->
ndx_d©a_d¬k_cŞÜs
, $this->
d©a_cŞumns
);

3060 
	}
}

3065 
´Ùeùed
 
funùiÚ
 
	$N“dE¼ÜB¬CŞÜs
()

3068 ià(
$this
->
	`G‘C®lback
('data_color')) {

3069 
$n_”r
 = 
	`couÁ
(
$this
->
”rÜ_b¬_cŞÜs
);

3071 
$n_”r
 = 
	`max
(
$this
->
d©a_cŞumns
, 
	`em±y
($this->
Ëg’d
è? 0 : 
	`couÁ
($this->legend));

3073 
$this
->
ndx_”rÜ_b¬_cŞÜs
 = $this->
	`G‘CŞÜIndexA¼ay
($this->
”rÜ_b¬_cŞÜs
, 
$n_”r
);

3074 
$this
->
	`·d_¬¿y
($this->
ndx_”rÜ_b¬_cŞÜs
, $this->
d©a_cŞumns
);

3075 
	}
}

3089 
´Ùeùed
 
funùiÚ
 
	$G‘TextAlignm’t
(
$sš_t
, 
$cos_t
, &
$h_®ign
, &
$v_®ign
, 
$»v”£
 = 
FALSE
)

3091 ià(
$»v”£
) {

3092 
$sš_t
 = -$sin_t;

3093 
$cos_t
 = -$cos_t;

3095 ià(
$sš_t
 >ğ0.383è
$v_®ign
 = 'bottom';

3096 
	`–£if
 (
$sš_t
 >ğ-0.383è
$v_®ign
 = 'center';

3097 
$v_®ign
 = 'top';

3098 ià(
$cos_t
 >ğ0.383è
$h_®ign
 = 'left';

3099 
	`–£if
 (
$cos_t
 >ğ-0.383è
$h_®ign
 = 'center';

3100 
$h_®ign
 = 'right';

3101 
	}
}

3113 
´Ùeùed
 
funùiÚ
 
	$CheckD©aV®ueLab–s
(
$Ïb–_cÚŒŞ
, &
$dvl
)

3115 ià(
$Ïb–_cÚŒŞ
 != 'plotin')

3116  
FALSE
;

3117 
$ªgË
 = 
	`deg2¿d
(
$this
->
d©a_v®ue_Ïb–_ªgË
);

3118 
$cos
 = 
	`cos
(
$ªgË
);

3119 
$sš
 = 
	`sš
(
$ªgË
);

3120 
$dvl
['x_off£t'] = ()(
$this
->
d©a_v®ue_Ïb–_di¡ªû
 * 
$cos
);

3121 
$dvl
['y_off£t'] = -()(
$this
->
d©a_v®ue_Ïb–_di¡ªû
 * 
$sš
);

3124 
$this
->
	`G‘TextAlignm’t
(
$sš
, 
$cos
, 
$dvl
['h_align'], $dvl['v_align']);

3125  
TRUE
;

3126 
	}
}

3133 
funùiÚ
 
	$S‘P›AutoSize
(
$’abË
)

3135 
$this
->
p›_fuÎ_size
 = !
$’abË
;

3136  
TRUE
;

3137 
	}
}

3142 
funùiÚ
 
	$S‘P›S¹AngË
(
$ªgË
)

3144 
$this
->
p›_¡¬t_ªgË
 = 
$ªgË
;

3145  
TRUE
;

3146 
	}
}

3152 
funùiÚ
 
	$S‘P›DœeùiÚ
(
$which
)

3154 
$cÚŒŞ
 = 
$this
->
	`CheckO±iÚ
(
$which
, 'şockwi£, cw, couÁ”şockwi£, ccw', 
__FUNCTION__
);

3155 ià(
	`em±y
(
$cÚŒŞ
)è 
FALSE
;

3156 
$this
->
p›_dœeùiÚ_cw
 = (
$cÚŒŞ
 == 'clockwise' || $control == 'cw');

3157  
TRUE
;

3158 
	}
}

3179 
´Ùeùed
 
funùiÚ
 
	$FšdD©aLim™s
()

3182 
$sum_v®s
 = !
	`em±y
(
£lf
::
$¶Ùs
[
$this
->
¶Ù_ty³
]['sum_vals']);

3183 
$abs_v®s
 = !
	`em±y
(
£lf
::
$¶Ùs
[
$this
->
¶Ù_ty³
]['abs_vals']);

3186 
$this
->
d©a_mš
 = 
	`¬¿y
();

3187 
$this
->
d©a_max
 = 
	`¬¿y
();

3190 ià(
$this
->
d©©y³_im¶›d
) {

3192 
$®l_iv
 = 
	`¬¿y
(0, 
$this
->
num_d©a_rows
);

3194 
$®l_iv
 = 
	`¬¿y
();

3197 ià(
$this
->
d©©y³_yz
)

3198 
$this
->
mš_z
 = $this->
max_z
 = 
NULL
;

3201 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++) {

3202 
$n_v®s
 = 
$this
->
num_»cs
[
$i
];

3203 
$j
 = 1;

3205 ià(!
$this
->
d©©y³_im¶›d
) {

3206 
$®l_iv
[] = ()
$this
->
d©a
[
$i
][
$j
++];

3209 ià(
$sum_v®s
) {

3210 
$®l_dv
 = 
	`¬¿y
(0, 0);

3212 
$®l_dv
 = 
	`¬¿y
();

3214 
$j
 < 
$n_v®s
) {

3215 ià(
	`is_num”ic
(
$v®
 = 
$this
->
d©a
[
$i
][
$j
++])) {

3217 ià(
$this
->
d©©y³_”rÜ_b¬s
) {

3218 
$®l_dv
[] = 
$v®
 + ()
$this
->
d©a
[
$i
][
$j
++];

3219 
$®l_dv
[] = 
$v®
 - ()
$this
->
d©a
[
$i
][
$j
++];

3221 ià(
$abs_v®s
) {

3222 
$v®
 = 
	`abs
($val);

3224 ià(
$sum_v®s
) {

3225 
$®l_dv
[1] +ğ
$v®
;

3227 
$®l_dv
[] = 
$v®
;

3229 ià(
$this
->
d©©y³_yz
) {

3230 
$z
 = 
$this
->
d©a
[
$i
][
$j
++];

3231 ià(!
	`is£t
(
$this
->
mš_z
è|| 
$z
 < $this->min_z) $this->min_z = $z;

3232 ià(!
	`is£t
(
$this
->
max_z
è|| 
$z
 > $this->max_z) $this->max_z = $z;

3236 ià(
$this
->
d©©y³_”rÜ_b¬s
è
$j
 += 2;

3237 
	`–£if
 (
$this
->
d©©y³_yz
è
$j
++;

3240 ià(!
	`em±y
(
$®l_dv
)) {

3241 
$this
->
d©a_mš
[
$i
] = 
	`mš
(
$®l_dv
);

3242 
$this
->
d©a_max
[
$i
] = 
	`max
(
$®l_dv
);

3246 ià(
$this
->
d©©y³_sw­³d_xy
) {

3248 
$this
->
mš_y
 = 
	`mš
(
$®l_iv
);

3249 
$this
->
max_y
 = 
	`max
(
$®l_iv
);

3250 ià(
	`em±y
(
$this
->
d©a_mš
)) {

3251 
$this
->
mš_x
 = 0;

3252 
$this
->
max_x
 = 0;

3254 
$this
->
mš_x
 = 
	`mš
($this->
d©a_mš
);

3255 
$this
->
max_x
 = 
	`max
($this->
d©a_max
);

3259 
$this
->
mš_x
 = 
	`mš
(
$®l_iv
);

3260 
$this
->
max_x
 = 
	`max
(
$®l_iv
);

3261 ià(
	`em±y
(
$this
->
d©a_mš
)) {

3262 
$this
->
mš_y
 = 0;

3263 
$this
->
max_y
 = 0;

3265 
$this
->
mš_y
 = 
	`mš
($this->
d©a_mš
);

3266 
$this
->
max_y
 = 
	`max
($this->
d©a_max
);

3271 ià(
$this
->
d©©y³_yz
 && !
	`is£t
($this->
mš_z
)) {

3272 
$this
->
max_z
 = $this->
mš_z
 = 0;

3275 ià(
$this
->
	`G‘C®lback
('debug_scale')) {

3276 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
	`¬¿y
(

3277 'mš_x' => 
$this
->
mš_x
, 'mš_y' => $this->
mš_y
,

3278 'max_x' => 
$this
->
max_x
, 'max_y' => $this->
max_y
,

3279 'mš_z' => 
	`is£t
(
$this
->
mš_z
) ? $this->min_z : '',

3280 'max_z' => 
	`is£t
(
$this
->
max_z
) ? $this->max_z : ''));

3282  
TRUE
;

3283 
	}
}

3322 
´Ùeùed
 
funùiÚ
 
	$C®cM¬gšs
(
$maximize
)

3325 
$g­
 = 
$this
->
§ã_m¬gš
;

3328 
$ba£_m¬gš
 = 
	`max
(
$g­
, 
$this
->
	`G‘ImageBÜd”Width
() + 3);

3329 
$this
->
t™Ë_off£t
 = 
$ba£_m¬gš
;

3334 
$mš_m¬gš
 = 2 * 
$g­
 + 
$ba£_m¬gš
;

3337 
	`li¡
(
$unu£d
, 
$t™Ë_height
èğ
$this
->
	`SizeText
('t™Ë', 0, $this->
t™Ë_txt
);

3340 ià(
$maximize
) {

3341 ià(!
	`is£t
(
$this
->
x_Ëá_m¬gš
))

3342 
$this
->
x_Ëá_m¬gš
 = 
$ba£_m¬gš
;

3343 ià(!
	`is£t
(
$this
->
x_right_m¬gš
))

3344 
$this
->
x_right_m¬gš
 = 
$ba£_m¬gš
;

3345 ià(!
	`is£t
(
$this
->
y_tİ_m¬gš
)) {

3346 
$this
->
y_tİ_m¬gš
 = 
$ba£_m¬gš
;

3347 ià(
$t™Ë_height
 > 0)

3348 
$this
->
y_tİ_m¬gš
 +ğ
$t™Ë_height
 + 
$g­
;

3350 ià(!
	`is£t
(
$this
->
y_bÙ_m¬gš
))

3351 
$this
->
y_bÙ_m¬gš
 = 
$ba£_m¬gš
;

3353  
TRUE
;

3356 
	`li¡
(
$unu£d
, 
$x_t™Ë_height
èğ
$this
->
	`SizeText
('x_t™Ë', 0, $this->
x_t™Ë_txt
);

3357 
	`li¡
(
$y_t™Ë_width
, 
$unu£d
èğ
$this
->
	`SizeText
('y_t™Ë', 90, $this->
y_t™Ë_txt
);

3361 ià(
$this
->
x_axis_pos™iÚ
 <ğ$this->
¶Ù_mš_y
)

3362 
$x_axis_pos
 = 'bottom';

3363 
	`–£if
 (
$this
->
x_axis_pos™iÚ
 >ğ$this->
¶Ù_max_y
)

3364 
$x_axis_pos
 = 'top';

3366 
$x_axis_pos
 = 'none';

3367 ià(
$this
->
y_axis_pos™iÚ
 <ğ$this->
¶Ù_mš_x
)

3368 
$y_axis_pos
 = 'left';

3369 
	`–£if
 (
$this
->
y_axis_pos™iÚ
 >ğ$this->
¶Ù_max_x
)

3370 
$y_axis_pos
 = 'right';

3372 
$y_axis_pos
 = 'none';

3375 
$x_d©a_Ïb–_height
 = (
$this
->
x_d©a_Ïb–_pos
 =ğ'nÚe'è? 0 : $this->
	`C®cMaxD©aLab–Size
('x');

3376 
$x_tick_Ïb–_height
 = (
$this
->
x_tick_Ïb–_pos
 =ğ'nÚe'è? 0 : $this->
	`C®cMaxTickLab–Size
('x');

3377 
$x_max_Ïb–_height
 = 
	`max
(
$x_d©a_Ïb–_height
, 
$x_tick_Ïb–_height
);

3382 
$tick_Ïb–s_above
 = (
$this
->
x_tick_Ïb–_pos
 == 'plotup' || $this->x_tick_label_pos == 'both'

3383 || (
$this
->
x_tick_Ïb–_pos
 =ğ'xaxis' && 
$x_axis_pos
 == 'top'));

3384 
$d©a_Ïb–s_above
 = (
$this
->
x_d©a_Ïb–_pos
 == 'plotup' || $this->x_data_label_pos == 'both');

3385 ià(
$tick_Ïb–s_above
) {

3386 ià(
$d©a_Ïb–s_above
) {

3387 
$Ïb–_height_above
 = 
$x_max_Ïb–_height
;

3389 
$Ïb–_height_above
 = 
$x_tick_Ïb–_height
;

3391 } 
	`–£if
 (
$d©a_Ïb–s_above
) {

3392 
$Ïb–_height_above
 = 
$x_d©a_Ïb–_height
;

3394 
$Ïb–_height_above
 = 0;

3398 
$tick_Ïb–s_b–ow
 = (
$this
->
x_tick_Ïb–_pos
 == 'plotdown' || $this->x_tick_label_pos == 'both'

3399 || (
$this
->
x_tick_Ïb–_pos
 =ğ'xaxis' && 
$x_axis_pos
 == 'bottom'));

3400 
$d©a_Ïb–s_b–ow
 = (
$this
->
x_d©a_Ïb–_pos
 == 'plotdown' || $this->x_data_label_pos == 'both');

3401 ià(
$tick_Ïb–s_b–ow
) {

3402 ià(
$d©a_Ïb–s_b–ow
) {

3403 
$Ïb–_height_b–ow
 = 
$x_max_Ïb–_height
;

3405 
$Ïb–_height_b–ow
 = 
$x_tick_Ïb–_height
;

3407 } 
	`–£if
 (
$d©a_Ïb–s_b–ow
) {

3408 
$Ïb–_height_b–ow
 = 
$x_d©a_Ïb–_height
;

3410 
$Ïb–_height_b–ow
 = 0;

3415 
$y_d©a_Ïb–_width
 = (
$this
->
y_d©a_Ïb–_pos
 =ğ'nÚe'è? 0 : $this->
	`C®cMaxD©aLab–Size
('y');

3416 
$y_tick_Ïb–_width
 = (
$this
->
y_tick_Ïb–_pos
 =ğ'nÚe'è? 0 : $this->
	`C®cMaxTickLab–Size
('y');

3417 
$y_max_Ïb–_width
 = 
	`max
(
$y_d©a_Ïb–_width
, 
$y_tick_Ïb–_width
);

3423 
$tick_Ïb–s_Ëá
 = (
$this
->
y_tick_Ïb–_pos
 == 'plotleft' || $this->y_tick_label_pos == 'both'

3424 || (
$this
->
y_tick_Ïb–_pos
 =ğ'yaxis' && 
$y_axis_pos
 == 'left'));

3425 
$d©a_Ïb–s_Ëá
 = (
$this
->
y_d©a_Ïb–_pos
 == 'plotleft' || $this->y_data_label_pos == 'both');

3426 ià(
$tick_Ïb–s_Ëá
) {

3427 ià(
$d©a_Ïb–s_Ëá
) {

3428 
$Ïb–_width_Ëá
 = 
$y_max_Ïb–_width
;

3430 
$Ïb–_width_Ëá
 = 
$y_tick_Ïb–_width
;

3432 } 
	`–£if
 (
$d©a_Ïb–s_Ëá
) {

3433 
$Ïb–_width_Ëá
 = 
$y_d©a_Ïb–_width
;

3435 
$Ïb–_width_Ëá
 = 0;

3439 
$tick_Ïb–s_right
 = (
$this
->
y_tick_Ïb–_pos
 == 'plotright' || $this->y_tick_label_pos == 'both'

3440 || (
$this
->
y_tick_Ïb–_pos
 =ğ'yaxis' && 
$y_axis_pos
 == 'right'));

3441 
$d©a_Ïb–s_right
 = (
$this
->
y_d©a_Ïb–_pos
 == 'plotright' || $this->y_data_label_pos == 'both');

3442 ià(
$tick_Ïb–s_right
) {

3443 ià(
$d©a_Ïb–s_right
) {

3444 
$Ïb–_width_right
 = 
$y_max_Ïb–_width
;

3446 
$Ïb–_width_right
 = 
$y_tick_Ïb–_width
;

3448 } 
	`–£if
 (
$d©a_Ïb–s_right
) {

3449 
$Ïb–_width_right
 = 
$y_d©a_Ïb–_width
;

3451 
$Ïb–_width_right
 = 0;

3459 
$tİ_m¬gš
 = 
$ba£_m¬gš
;

3460 
$bÙ_m¬gš
 = 
$ba£_m¬gš
;

3461 
$this
->
x_t™Ë_tİ_off£t
 = 
$g­
;

3462 
$this
->
x_t™Ë_bÙ_off£t
 = 
$g­
;

3465 ià(
$t™Ë_height
 > 0)

3466 
$tİ_m¬gš
 +ğ
$t™Ë_height
 + 
$g­
;

3469 ià(
$x_t™Ë_height
 > 0 && (
$pos
 = 
$this
->
x_t™Ë_pos
) != 'none') {

3470 ià(
$pos
 == 'plotup' || $pos == 'both')

3471 
$tİ_m¬gš
 +ğ
$x_t™Ë_height
 + 
$g­
;

3472 ià(
$pos
 == 'plotdown' || $pos == 'both')

3473 
$bÙ_m¬gš
 +ğ
$x_t™Ë_height
 + 
$g­
;

3477 ià(
$Ïb–_height_above
 > 0) {

3478 
$tİ_m¬gš
 +ğ
$Ïb–_height_above
 + 
$g­
;

3479 
$this
->
x_t™Ë_tİ_off£t
 +ğ
$Ïb–_height_above
 + 
$g­
;

3483 ià(
$Ïb–_height_b–ow
 > 0) {

3484 
$bÙ_m¬gš
 +ğ
$Ïb–_height_b–ow
 + 
$g­
;

3485 
$this
->
x_t™Ë_bÙ_off£t
 +ğ
$Ïb–_height_b–ow
 + 
$g­
;

3489 ià(
$this
->
x_tick_pos
 == 'plotup' || $this->x_tick_pos == 'both'

3490 || (
$this
->
x_tick_pos
 =ğ'xaxis' && 
$x_axis_pos
 == 'top')) {

3491 
$tİ_m¬gš
 +ğ
$this
->
x_tick_Ëngth
;

3492 
$this
->
x_Ïb–_tİ_off£t
 = $this->
x_tick_Ëngth
 + 
$g­
;

3493 
$this
->
x_t™Ë_tİ_off£t
 +ğ$this->
x_tick_Ëngth
;

3496 
$this
->
x_Ïb–_tİ_off£t
 = 
$g­
;

3500 ià(
$this
->
x_tick_pos
 == 'plotdown' || $this->x_tick_pos == 'both'

3501 || (
$this
->
x_tick_pos
 =ğ'xaxis' && 
$x_axis_pos
 == 'bottom')) {

3502 
$bÙ_m¬gš
 +ğ
$this
->
x_tick_Ëngth
;

3503 
$this
->
x_Ïb–_bÙ_off£t
 = $this->
x_tick_Ëngth
 + 
$g­
;

3504 
$this
->
x_t™Ë_bÙ_off£t
 +ğ$this->
x_tick_Ëngth
;

3507 
$this
->
x_Ïb–_bÙ_off£t
 = 
$g­
;

3510 ià(
$this
->
x_tick_pos
 == 'xaxis') {

3511 
$this
->
x_Ïb–_axis_off£t
 = $this->
x_tick_Ëngth
 + 
$g­
;

3513 
$this
->
x_Ïb–_axis_off£t
 = 
$g­
;

3519 
$Ëá_m¬gš
 = 
$ba£_m¬gš
;

3520 
$right_m¬gš
 = 
$ba£_m¬gš
;

3521 
$this
->
y_t™Ë_Ëá_off£t
 = 
$g­
;

3522 
$this
->
y_t™Ë_right_off£t
 = 
$g­
;

3525 ià(
$y_t™Ë_width
 > 0 && (
$pos
 = 
$this
->
y_t™Ë_pos
) != 'none') {

3526 ià(
$pos
 == 'plotleft' || $pos == 'both')

3527 
$Ëá_m¬gš
 +ğ
$y_t™Ë_width
 + 
$g­
;

3528 ià(
$pos
 == 'plotright' || $pos == 'both')

3529 
$right_m¬gš
 +ğ
$y_t™Ë_width
 + 
$g­
;

3533 ià(
$Ïb–_width_Ëá
 > 0) {

3534 
$Ëá_m¬gš
 +ğ
$Ïb–_width_Ëá
 + 
$g­
;

3535 
$this
->
y_t™Ë_Ëá_off£t
 +ğ
$Ïb–_width_Ëá
 + 
$g­
;

3539 ià(
$Ïb–_width_right
 > 0) {

3540 
$right_m¬gš
 +ğ
$Ïb–_width_right
 + 
$g­
;

3541 
$this
->
y_t™Ë_right_off£t
 +ğ
$Ïb–_width_right
 + 
$g­
;

3545 ià(
$this
->
y_tick_pos
 == 'plotleft' || $this->y_tick_pos == 'both'

3546 || (
$this
->
y_tick_pos
 =ğ'yaxis' && 
$y_axis_pos
 == 'left')) {

3547 
$Ëá_m¬gš
 +ğ
$this
->
y_tick_Ëngth
;

3548 
$this
->
y_Ïb–_Ëá_off£t
 = $this->
y_tick_Ëngth
 + 
$g­
;

3549 
$this
->
y_t™Ë_Ëá_off£t
 +ğ$this->
y_tick_Ëngth
;

3552 
$this
->
y_Ïb–_Ëá_off£t
 = 
$g­
;

3556 ià(
$this
->
y_tick_pos
 == 'plotright' || $this->y_tick_pos == 'both'

3557 || (
$this
->
y_tick_pos
 =ğ'yaxis' && 
$y_axis_pos
 == 'right')) {

3558 
$right_m¬gš
 +ğ
$this
->
y_tick_Ëngth
;

3559 
$this
->
y_Ïb–_right_off£t
 = $this->
y_tick_Ëngth
 + 
$g­
;

3560 
$this
->
y_t™Ë_right_off£t
 +ğ$this->
y_tick_Ëngth
;

3563 
$this
->
y_Ïb–_right_off£t
 = 
$g­
;

3567 ià(
$this
->
x_tick_pos
 == 'yaxis') {

3568 
$this
->
y_Ïb–_axis_off£t
 = $this->
y_tick_Ëngth
 + 
$g­
;

3570 
$this
->
y_Ïb–_axis_off£t
 = 
$g­
;

3575 ià(!
	`is£t
(
$this
->
y_tİ_m¬gš
))

3576 
$this
->
y_tİ_m¬gš
 = 
	`max
(
$mš_m¬gš
, 
$tİ_m¬gš
);

3577 ià(!
	`is£t
(
$this
->
y_bÙ_m¬gš
))

3578 
$this
->
y_bÙ_m¬gš
 = 
	`max
(
$mš_m¬gš
, 
$bÙ_m¬gš
);

3579 ià(!
	`is£t
(
$this
->
x_Ëá_m¬gš
))

3580 
$this
->
x_Ëá_m¬gš
 = 
	`max
(
$mš_m¬gš
, 
$Ëá_m¬gš
);

3581 ià(!
	`is£t
(
$this
->
x_right_m¬gš
))

3582 
$this
->
x_right_m¬gš
 = 
	`max
(
$mš_m¬gš
, 
$right_m¬gš
);

3584 ià(
$this
->
	`G‘C®lback
('debug_scale')) {

3586 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
	`¬¿y
(

3587 'Ïb–_height_above' => 
$Ïb–_height_above
,

3588 'Ïb–_height_b–ow' => 
$Ïb–_height_b–ow
,

3589 'Ïb–_width_Ëá' => 
$Ïb–_width_Ëá
,

3590 'Ïb–_width_right' => 
$Ïb–_width_right
,

3591 'x_tick_Ëngth' => 
$this
->
x_tick_Ëngth
,

3592 'y_tick_Ëngth' => 
$this
->
y_tick_Ëngth
,

3593 'x_Ëá_m¬gš' => 
$this
->
x_Ëá_m¬gš
,

3594 'x_right_m¬gš' => 
$this
->
x_right_m¬gš
,

3595 'y_tİ_m¬gš' => 
$this
->
y_tİ_m¬gš
,

3596 'y_bÙ_m¬gš' => 
$this
->
y_bÙ_m¬gš
,

3597 'x_Ïb–_tİ_off£t' => 
$this
->
x_Ïb–_tİ_off£t
,

3598 'x_Ïb–_bÙ_off£t' => 
$this
->
x_Ïb–_bÙ_off£t
,

3599 'y_Ïb–_Ëá_off£t' => 
$this
->
y_Ïb–_Ëá_off£t
,

3600 'y_Ïb–_right_off£t' => 
$this
->
y_Ïb–_right_off£t
,

3601 'x_t™Ë_tİ_off£t' => 
$this
->
x_t™Ë_tİ_off£t
,

3602 'x_t™Ë_bÙ_off£t' => 
$this
->
x_t™Ë_bÙ_off£t
,

3603 'y_t™Ë_Ëá_off£t' => 
$this
->
y_t™Ë_Ëá_off£t
,

3604 'y_t™Ë_right_off£t' => 
$this
->
y_t™Ë_right_off£t
));

3607  
TRUE
;

3608 
	}
}

3616 
´Ùeùed
 
funùiÚ
 
	$C®cPlÙA»aPix–s
()

3618 
$this
->
¶Ù_¬—
 = 
	`¬¿y
($this->
x_Ëá_m¬gš
, $this->
y_tİ_m¬gš
,

3619 
$this
->
image_width
 - $this->
x_right_m¬gš
,

3620 
$this
->
image_height
 - $this->
y_bÙ_m¬gš
);

3621 
$this
->
¶Ù_¬—_width
 = $this->
¶Ù_¬—
[2] - $this->plot_area[0];

3622 
$this
->
¶Ù_¬—_height
 = $this->
¶Ù_¬—
[3] - $this->plot_area[1];

3624 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, $this->
¶Ù_¬—
);

3625  
TRUE
;

3626 
	}
}

3633 
funùiÚ
 
	$S‘M¬gšsPix–s
(
$which_lm
 = 
NULL
, 
$which_rm
 = NULL, 
$which_tm
 = NULL, 
$which_bm
 = NULL)

3635 
$this
->
x_Ëá_m¬gš
 = 
$which_lm
;

3636 
$this
->
x_right_m¬gš
 = 
$which_rm
;

3637 
$this
->
y_tİ_m¬gš
 = 
$which_tm
;

3638 
$this
->
y_bÙ_m¬gš
 = 
$which_bm
;

3640  
TRUE
;

3641 
	}
}

3653 
funùiÚ
 
	$S‘PlÙA»aPix–s
(
$x1
 = 
NULL
, 
$y1
 = NULL, 
$x2
 = NULL, 
$y2
 = NULL)

3655 
$this
->
x_Ëá_m¬gš
 = 
$x1
;

3656 
$this
->
x_right_m¬gš
 = 
	`is£t
(
$x2
è? $this->
image_width
 - $x2 : 
NULL
;

3657 
$this
->
y_tİ_m¬gš
 = 
$y1
;

3658 
$this
->
y_bÙ_m¬gš
 = 
	`is£t
(
$y2
è? $this->
image_height
 - $y2 : 
NULL
;

3659  
TRUE
;

3660 
	}
}

3669 
´Ùeùed
 
funùiÚ
 
	$C®cS‹p125
(
$¿nge
, 
$mš_ticks
)

3671 
$v
 = 
	`log10
(
$¿nge
 / 
$mš_ticks
);

3672 
$vi
 = ()
	`æoÜ
(
$v
);

3673 
$tick_¡•
 = 
	`pow
(10, 
$vi
);

3674 
$f
 = 
$v
 - 
$vi
;

3675 ià(
$f
 > 0.69897è
$tick_¡•
 *= 5;

3676 
	`–£if
 (
$f
 > 0.301è
$tick_¡•
 *= 2;

3677  
$tick_¡•
;

3678 
	}
}

3690 
´Ùeùed
 
funùiÚ
 
	$C®cS‹pD©‘ime
(
$¿nge
, 
$mš_ticks
)

3692 
$d©‘ime_¡•s
 = 
	`¬¿y
(1, 2, 5, 10, 15, 30, 60, 120, 300, 600, 900, 1800, 3600,

3694 
$d©‘ime_lim™
 = 1512000;

3696 ià(
$¿nge
 < 
$mš_ticks
) {

3697 
$tick_¡•
 = 1;

3698 } 
	`–£if
 ((
$tick_lim™
 = 
$¿nge
 / 
$mš_ticks
è<ğ
$d©‘ime_lim™
) {

3701 
	`fÜ—ch
 (
$d©‘ime_¡•s
 
as
 
$v
) {

3702 ià(
$v
 <ğ
$tick_lim™
è
$tick_¡•
 = $v;

3707 
$tick_¡•
 = 
$this
->
	`C®cS‹p125
(
$¿nge
 / 86400, 
$mš_ticks
) * 86400;

3709  
$tick_¡•
;

3710 
	}
}

3723 
´Ùeùed
 
funùiÚ
 
	$C®cS‹pBš¬y
(
$¿nge
, 
$mš_ticks
)

3725 
$log2
 = 
	`log
(
$¿nge
 / 
$mš_ticks
, 2);

3726 ià(
$log2
 > 0) $log2 *= 1.000001;

3727  
	`pow
(2, ()
	`æoÜ
(
$log2
));

3728 
	}
}

3737 
´Ùeùed
 
funùiÚ
 
	$C®cS‹p
(
$which
, 
$¿nge
)

3740 
	`exŒaù
(
$this
->
tickùl
[
$which
]);

3743 ià(!
	`is£t
(
$tick_mode
)) {

3744 ià(
	`is£t
(
$this
->
Ïb–_fÜm©
[
$which
]['type']) && $this->label_format[$which]['type'] == 'time')

3745 
$tick_mode
 = 'date';

3747 
$tick_mode
 = 'decimal';

3751 ià(
$tick_mode
 == 'date') {

3752 
$tick_¡•
 = 
$this
->
	`C®cS‹pD©‘ime
(
$¿nge
, 
$mš_ticks
);

3753 } 
	`–£if
 (
$tick_šc_š‹g”
 && 
$¿nge
 <ğ
$mš_ticks
) {

3754 
$tick_¡•
 = 1;

3755 } 
	`–£if
 (
$tick_mode
 == 'binary') {

3756 
$tick_¡•
 = 
$this
->
	`C®cS‹pBš¬y
(
$¿nge
, 
$mš_ticks
);

3758 
$tick_¡•
 = 
$this
->
	`C®cS‹p125
(
$¿nge
, 
$mš_ticks
);

3760  
$tick_¡•
;

3761 
	}
}

3770 
´Ùeùed
 
funùiÚ
 
	$C®cRªgeIn™
(&
$¶Ù_lim™
, 
$im¶›d
, 
$d©a_lim™
)

3772 ià(
	`is£t
(
$¶Ù_lim™
) && $plot_limit !== '') {

3774  
	`¬¿y
(
$¶Ù_lim™
, 
FALSE
);

3777  
	`¬¿y
(
$d©a_lim™
, !
$im¶›d
);

3778 
	}
}

3792 
´Ùeùed
 
funùiÚ
 
	$CheckPlÙRªge
(
$which
, &
$¶Ù_mš
, &
$¶Ù_max
, 
$adju¡_mš
, 
$adju¡_max
)

3794 ià(
$¶Ù_mš
 < 
$¶Ù_max
)

3795  
TRUE
;

3798 ià(
$adju¡_max
 && 
$adju¡_mš
) {

3801 ià(
$¶Ù_max
 !ğ
$¶Ù_mš
)

3802  
$this
->
	`PrštE¼Ü
("SetPlotAreaWorld(): Inverse‡uto $which„angeƒrror");

3804 ià(
$¶Ù_max
 == 0.0) {

3806 
$¶Ù_max
 = 10;

3807 } 
	`–£if
 (
$¶Ù_mš
 > 0) {

3809 
$¶Ù_mš
 = 0;

3810 
$¶Ù_max
 = 
	`max
($plot_max, 10);

3813 
$¶Ù_mš
 = 
	`mš
($plot_min, -10);

3814 
$¶Ù_max
 = 0;

3816 } 
	`–£if
 (
$adju¡_max
) {

3818 ià(
$¶Ù_mš
 < 0è
$¶Ù_max
 = 0;

3819 
$¶Ù_max
 = 
$¶Ù_mš
 + 10;

3821 } 
	`–£if
 (
$adju¡_mš
) {

3823 ià(
$¶Ù_max
 > 0è
$¶Ù_mš
 = 0;

3824 
$¶Ù_mš
 = 
$¶Ù_max
 - 10;

3828  
$this
->
	`PrštE¼Ü
("SetPlotAreaWorld(): Inverse $which„angeƒrror");

3830  
TRUE
;

3831 
	}
}

3840 
´Ùeùed
 
funùiÚ
 
	$G‘RªgeEndAdju¡
(
$which
, &
$adju¡
)

3842 ià(
	`is£t
(
$adju¡
)) ;

3845 ià(
	`em±y
(
£lf
::
$¶Ùs
[
$this
->
¶Ù_ty³
]['adjust_type'])) {

3847 
$adju¡
 = (
$which
 =ğ'x' 
XOR
 
$this
->
d©©y³_sw­³d_xy
) ? 0 : 0.03;

3849 
£lf
::
$¶Ùs
[
$this
->
¶Ù_ty³
]['adjust_type']) {

3852 
$adju¡
 = 0.03;

3856 
$adju¡
 = 0;

3860 
	}
}

3869 
´Ùeùed
 
funùiÚ
 
	$C®cPlÙRªge
(
$which
)

3872 
$šd•’d’t_v¬ŸbË
 = (
$this
->
d©©y³_sw­³d_xy
 
XOR
 
$which
 == 'x');

3874 
$im¶›d
 = 
$this
->
d©©y³_im¶›d
 && 
$šd•’d’t_v¬ŸbË
;

3877 
	`li¡
(
$¶Ù_mš
, 
$adju¡_mš
) =

3878 
$this
->
	`C®cRªgeIn™
($this->{"¶Ù_mš_$which"}, 
$im¶›d
, $this->{"min_$which"});

3879 
	`li¡
(
$¶Ù_max
, 
$adju¡_max
) =

3880 
$this
->
	`C®cRªgeIn™
($this->{"¶Ù_max_$which"}, 
$im¶›d
, $this->{"max_$which"});

3883 
	`exŒaù
(
$this
->
¿ngeùl
[
$which
]);

3884 
$this
->
	`G‘RªgeEndAdju¡
(
$which
, 
$adju¡_amouÁ
);

3887 ià(
$which
 == 'x') {

3888 
$num_ticks
 = 
$this
->
num_x_ticks
;

3889 
$tick_šc
 = 
$this
->
x_tick_šc_u
;

3891 
$tick_ªchÜ
 = 
	`is£t
(
$this
->
x_tick_ªchÜ
) ? $this->x_tick_anchor : 0;

3893 
$num_ticks
 = 
$this
->
num_y_ticks
;

3894 
$tick_šc
 = 
$this
->
y_tick_šc_u
;

3895 
$tick_ªchÜ
 = 
	`is£t
(
$this
->
y_tick_ªchÜ
) ? $this->y_tick_anchor : 0;

3899 ià(!
$this
->
	`CheckPlÙRªge
(
$which
, 
$¶Ù_mš
, 
$¶Ù_max
, 
$adju¡_mš
, 
$adju¡_max
))

3900  
FALSE
;

3910 
$¿nge
 = 
$¶Ù_max
 - 
$¶Ù_mš
;

3913 ià(
$adju¡_mš
 && 
$¶Ù_mš
 > 0 && 
$z”o_magÃt
 > 0 && ($zero_magnet == 1.0 ||

3914 
$¶Ù_max
 / 
$¿nge
 < 
$z”o_magÃt
 / (1 - $zero_magnet))) {

3915 
$¶Ù_mš
 = 0;

3916 
$¿nge
 = 
$¶Ù_max
;

3920 ià(
$adju¡_max
 && 
$¶Ù_max
 < 0 && 
$z”o_magÃt
 > 0 && ($zero_magnet == 1.0 ||

3921 -
$¶Ù_mš
 / 
$¿nge
 < 
$z”o_magÃt
 / (1 - $zero_magnet))) {

3922 
$¶Ù_max
 = 0;

3923 
$¿nge
 = 0 - 
$¶Ù_mš
;

3927 
$num_ticks_ov”ride
 = 
FALSE
;

3928 ià(
	`em±y
(
$tick_šc
)) {

3929 ià(
	`em±y
(
$num_ticks
)) {

3931 
$tick_šc
 = 
$this
->
	`C®cS‹p
(
$which
, 
$¿nge
);

3935 
$adju¡_mode
 = 'R';

3936 
$num_ticks_ov”ride
 = 
TRUE
;

3941 ià(
$adju¡_mš
 && 
$¶Ù_mš
 != 0) {

3944 ià(
$¶Ù_mš
 < 0)

3945 
$¶Ù_mš
 -ğ
$adju¡_amouÁ
 * 
$¿nge
;

3947 ià(
$adju¡_mode
 == 'T') {

3949 
$pm
 = 
$tick_ªchÜ
 + 
$tick_šc
 * 
	`æoÜ
((
$¶Ù_mš
 - $tick_anchor) / $tick_inc);

3951 
$¶Ù_mš
 = (($¶Ù_mš >ğ0è==ğ(
$pm
 >= 0)) ? $pm : 0;

3952 } 
	`–£if
 (
$adju¡_mode
 == 'I') {

3954 
$¶Ù_mš
 = 
	`æoÜ
($plot_min);

3959 ià(
$adju¡_max
 && 
$¶Ù_max
 != 0) {

3962 ià(
$¶Ù_max
 > 0)

3963 
$¶Ù_max
 +ğ
$adju¡_amouÁ
 * 
$¿nge
;

3965 ià(
$adju¡_mode
 == 'T') {

3967 
$pm
 = 
$tick_ªchÜ
 + 
$tick_šc
 * 
	`û
((
$¶Ù_max
 - $tick_anchor) / $tick_inc);

3969 
$¶Ù_max
 = (($¶Ù_max >ğ0è==ğ(
$pm
 >= 0)) ? $pm : 0;

3970 } 
	`–£if
 (
$adju¡_mode
 == 'I') {

3972 
$¶Ù_max
 = 
	`û
($plot_max);

3977 ià(
$num_ticks_ov”ride
) {

3978 
$tick_šc
 = (
$¶Ù_max
 - 
$¶Ù_mš
è/ 
$num_ticks
;

3982 ià(
$which
 =ğ'y' && 
$this
->
ysÿË_ty³
 =ğ'log' || $which =ğ'x' && $this->
xsÿË_ty³
 == 'log') {

3983 ià(
$¶Ù_mš
 <= 0) $plot_min = 1;

3984 ià(
$¶Ù_max
 <= 0) {

3986  
$this
->
	`PrštE¼Ü
("SetPlotAreaWorld(): Invalid $which„ange for†og scale");

3990 ià(
$¶Ù_mš
 >ğ
$¶Ù_max
) $plot_max = $plot_min + 1;

3993  
	`¬¿y
(
$tick_šc
, 
$¶Ù_mš
, 
$¶Ù_max
);

3994 
	}
}

4005 
´Ùeùed
 
funùiÚ
 
	$C®cPlÙA»aWÜld
()

4007 
	`li¡
(
$this
->
x_tick_šc
, $this->
¶Ù_mš_x
, $this->
¶Ù_max_x
èğ$this->
	`C®cPlÙRªge
('x');

4008 
	`li¡
(
$this
->
y_tick_šc
, $this->
¶Ù_mš_y
, $this->
¶Ù_max_y
èğ$this->
	`C®cPlÙRªge
('y');

4009 ià(
$this
->
	`G‘C®lback
('debug_scale')) {

4010 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
	`¬¿y
(

4011 '¶Ù_mš_x' => 
$this
->
¶Ù_mš_x
, '¶Ù_mš_y' => $this->
¶Ù_mš_y
,

4012 '¶Ù_max_x' => 
$this
->
¶Ù_max_x
, '¶Ù_max_y' => $this->
¶Ù_max_y
,

4013 'x_tick_šc' => 
$this
->
x_tick_šc
, 'y_tick_šc' => $this->
y_tick_šc
));

4015  
	`is£t
(
$this
->
x_tick_šc
, $this->
y_tick_šc
);

4016 
	}
}

4024 
funùiÚ
 
	$S‘PlÙA»aWÜld
(
$xmš
=
NULL
, 
$ymš
=NULL, 
$xmax
=NULL, 
$ymax
=NULL)

4026 
$this
->
¶Ù_mš_x
 = 
$xmš
;

4027 
$this
->
¶Ù_max_x
 = 
$xmax
;

4028 
$this
->
¶Ù_mš_y
 = 
$ymš
;

4029 
$this
->
¶Ù_max_y
 = 
$ymax
;

4030 ià(
	`is£t
(
$xmš
è&& is£t(
$xmax
è&& $xmš >ğ$xmaxè
$bad
 = 'X';

4031 
	`–£if
 (
	`is£t
(
$ymš
è&& is£t(
$ymax
è&& $ymš >ğ$ymaxè
$bad
 = 'Y';

4032  
TRUE
;

4033  
$this
->
	`PrštE¼Ü
("SetPlotAreaWorld(): $bad„angeƒrror - min >= max");

4034 
	}
}

4048 
´Ùeùed
 
funùiÚ
 
	$C®cB¬Widths
(
$¡acked
, 
$v”tiÿls
)

4051 ià(
$v”tiÿls
) {

4052 
$group_width
 = 
$this
->
¶Ù_¬—_width
 / $this->
num_d©a_rows
;

4054 
$group_width
 = 
$this
->
¶Ù_¬—_height
 / $this->
num_d©a_rows
;

4058 ià(
$¡acked
) {

4059 
$num_¥Ùs
 = 1 + 
$this
->
b¬_exŒa_¥aû
;

4061 
$num_¥Ùs
 = 
$this
->
d©a_cŞumns
 + $this->
b¬_exŒa_¥aû
;

4069 
$this
->
»cÜd_b¬_width
 = $this->
group_äac_width
 * 
$group_width
 / 
$num_¥Ùs
;

4077 
$this
->
aùu®_b¬_width
 = $this->
»cÜd_b¬_width
 * $this->
b¬_width_adju¡
;

4079 
$this
->
b¬_adju¡_g­
 = ($this->
»cÜd_b¬_width
 - $this->
aùu®_b¬_width
) / 2;

4081 ià(
$this
->
	`G‘C®lback
('debug_scale')) {

4082 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
	`¬¿y
(

4083 '»cÜd_b¬_width' => 
$this
->
»cÜd_b¬_width
,

4084 'aùu®_b¬_width' => 
$this
->
aùu®_b¬_width
,

4085 'b¬_adju¡_g­' => 
$this
->
b¬_adju¡_g­
));

4087  
TRUE
;

4088 
	}
}

4106 
´Ùeùed
 
funùiÚ
 
	$C®cAxisPos™iÚs
()

4109 ià(
	`is£t
(
$this
->
x_axis_pos™iÚ
)) {

4111 
$this
->
x_axis_pos™iÚ
 = 
	`mš
(
	`max
($this->
¶Ù_mš_y
, $this->x_axis_pos™iÚ), $this->
¶Ù_max_y
);

4112 } 
	`–£if
 (
$this
->
ysÿË_ty³
 == 'log') {

4114 
$this
->
x_axis_pos™iÚ
 = 1;

4115 } 
	`–£if
 (
$this
->
d©©y³_sw­³d_xy
 || $this->
¶Ù_mš_y
 > 0) {

4117 
$this
->
x_axis_pos™iÚ
 = $this->
¶Ù_mš_y
;

4118 } 
	`–£if
 (
$this
->
¶Ù_max_y
 < 0) {

4120 
$this
->
x_axis_pos™iÚ
 = $this->
¶Ù_max_y
;

4123 
$this
->
x_axis_pos™iÚ
 = 0;

4127 ià(
	`is£t
(
$this
->
y_axis_pos™iÚ
)) {

4129 
$this
->
y_axis_pos™iÚ
 = 
	`mš
(
	`max
($this->
¶Ù_mš_x
, $this->y_axis_pos™iÚ), $this->
¶Ù_max_x
);

4130 } 
	`–£if
 (
$this
->
xsÿË_ty³
 == 'log') {

4132 
$this
->
y_axis_pos™iÚ
 = 1;

4133 } 
	`–£if
 (!
$this
->
d©©y³_sw­³d_xy
 || $this->
¶Ù_mš_x
 > 0) {

4135 
$this
->
y_axis_pos™iÚ
 = $this->
¶Ù_mš_x
;

4136 } 
	`–£if
 (
$this
->
¶Ù_max_x
 < 0) {

4138 
$this
->
y_axis_pos™iÚ
 = $this->
¶Ù_max_x
;

4141 
$this
->
y_axis_pos™iÚ
 = 0;

4144 ià(
$this
->
	`G‘C®lback
('debug_scale')) {

4145 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
	`¬¿y
(

4146 'x_axis_pos™iÚ' => 
$this
->
x_axis_pos™iÚ
,

4147 'y_axis_pos™iÚ' => 
$this
->
y_axis_pos™iÚ
));

4150  
TRUE
;

4151 
	}
}

4156 
´Ùeùed
 
funùiÚ
 
	$C®cT¿n¦©iÚ
()

4158 ià(
$this
->
¶Ù_max_x
 - $this->
¶Ù_mš_x
 == 0) {

4159 
$this
->
xsÿË
 = 0;

4161 ià(
$this
->
xsÿË_ty³
 == 'log') {

4162 
$this
->
xsÿË
 = $this->
¶Ù_¬—_width
 /

4163 (
	`log10
(
$this
->
¶Ù_max_x
è-†og10($this->
¶Ù_mš_x
));

4165 
$this
->
xsÿË
 = $this->
¶Ù_¬—_width
 / ($this->
¶Ù_max_x
 - $this->
¶Ù_mš_x
);

4169 ià(
$this
->
¶Ù_max_y
 - $this->
¶Ù_mš_y
 == 0) {

4170 
$this
->
ysÿË
 = 0;

4172 ià(
$this
->
ysÿË_ty³
 == 'log') {

4173 
$this
->
ysÿË
 = $this->
¶Ù_¬—_height
 /

4174 (
	`log10
(
$this
->
¶Ù_max_y
è-†og10($this->
¶Ù_mš_y
));

4176 
$this
->
ysÿË
 = $this->
¶Ù_¬—_height
 / ($this->
¶Ù_max_y
 - $this->
¶Ù_mš_y
);

4180 ià(
$this
->
xsÿË_ty³
 == 'log') {

4181 
$this
->
¶Ù_Üigš_x
 = $this->
¶Ù_¬—
[0] - ($this->
xsÿË
 * 
	`log10
($this->
¶Ù_mš_x
) );

4183 
$this
->
¶Ù_Üigš_x
 = $this->
¶Ù_¬—
[0] - ($this->
xsÿË
 * $this->
¶Ù_mš_x
);

4185 ià(
$this
->
ysÿË_ty³
 == 'log') {

4186 
$this
->
¶Ù_Üigš_y
 = $this->
¶Ù_¬—
[3] + ($this->
ysÿË
 * 
	`log10
($this->
¶Ù_mš_y
));

4188 
$this
->
¶Ù_Üigš_y
 = $this->
¶Ù_¬—
[3] + ($this->
ysÿË
 * $this->
¶Ù_mš_y
);

4192 
$this
->
y_axis_x_pix–s
 = $this->
	`xŒ
($this->
y_axis_pos™iÚ
);

4193 
$this
->
x_axis_y_pix–s
 = $this->
	`yŒ
($this->
x_axis_pos™iÚ
);

4195 ià(
$this
->
	`G‘C®lback
('debug_scale')) {

4196 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
	`¬¿y
(

4197 'xsÿË' => 
$this
->
xsÿË
, 'ysÿË' => $this->
ysÿË
,

4198 '¶Ù_Üigš_x' => 
$this
->
¶Ù_Üigš_x
, '¶Ù_Üigš_y' => $this->
¶Ù_Üigš_y
,

4199 'y_axis_x_pix–s' => 
$this
->
y_axis_x_pix–s
,

4200 'x_axis_y_pix–s' => 
$this
->
x_axis_y_pix–s
));

4203  
TRUE
;

4204 
	}
}

4212 
funùiÚ
 
	$xŒ
(
$x_wÜld
)

4214 ià(
$this
->
xsÿË_ty³
 == 'log') {

4215 
$x_pix–s
 = 
$this
->
¶Ù_Üigš_x
 + 
	`log10
(
$x_wÜld
è* $this->
xsÿË
 ;

4217 
$x_pix–s
 = 
$this
->
¶Ù_Üigš_x
 + 
$x_wÜld
 * $this->
xsÿË
 ;

4219  
	`round
(
$x_pix–s
);

4220 
	}
}

4228 
funùiÚ
 
	$yŒ
(
$y_wÜld
)

4230 ià(
$this
->
ysÿË_ty³
 == 'log') {

4232 
$y_pix–s
 = 
$this
->
¶Ù_Üigš_y
 - 
	`log10
(
$y_wÜld
è* $this->
ysÿË
 ;

4234 
$y_pix–s
 = 
$this
->
¶Ù_Üigš_y
 - 
$y_wÜld
 * $this->
ysÿË
 ;

4236  
	`round
(
$y_pix–s
);

4237 
	}
}

4243 
funùiÚ
 
	$G‘DeviûXY
(
$x_wÜld
, 
$y_wÜld
)

4245 ià(!
	`is£t
(
$this
->
xsÿË
)) {

4246  
$this
->
	`PrštE¼Ü
("GetDeviceXY() was called beforeranslation factors were calculated");

4248  
	`¬¿y
(
$this
->
	`xŒ
(
$x_wÜld
), $this->
	`yŒ
(
$y_wÜld
));

4249 
	}
}

4258 
´Ùeùed
 
funùiÚ
 
	$C®cTicks
(
$which
)

4260 ià(
$which
 == 'x') {

4261 
$tick_¡•
 = 
$this
->
x_tick_šc
;

4262 
$ªchÜ
 = &
$this
->
x_tick_ªchÜ
;

4263 
$¶Ù_max
 = 
$this
->
¶Ù_max_x
;

4264 
$¶Ù_mš
 = 
$this
->
¶Ù_mš_x
;

4265 
$sk_lo
 = 
$this
->
sk_Ëá_tick
;

4266 
$sk_hi
 = 
$this
->
sk_right_tick
;

4268 
$tick_¡•
 = 
$this
->
y_tick_šc
;

4269 
$ªchÜ
 = &
$this
->
y_tick_ªchÜ
;

4270 
$¶Ù_max
 = 
$this
->
¶Ù_max_y
;

4271 
$¶Ù_mš
 = 
$this
->
¶Ù_mš_y
;

4272 
$sk_lo
 = 
$this
->
sk_bÙtom_tick
;

4273 
$sk_hi
 = 
$this
->
sk_tİ_tick
;

4277 
$tick_¡¬t
 = ()
$¶Ù_mš
;

4278 
$tick_’d
 = ()
$¶Ù_max
 + ($¶Ù_max - 
$¶Ù_mš
) / 10000.0;

4282 ià(
	`is£t
(
$ªchÜ
))

4283 
$tick_¡¬t
 = 
$ªchÜ
 - 
$tick_¡•
 * 
	`æoÜ
(($anchor - $tick_start) / $tick_step);

4286 ià(
$sk_lo
)

4287 
$tick_¡¬t
 +ğ
$tick_¡•
;

4288 ià(
$sk_hi
)

4289 
$tick_’d
 -ğ
$tick_¡•
;

4291 ià(
$this
->
	`G‘C®lback
('debug_scale'))

4292 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
,

4293 
	`com·ù
('which', 'tick_start', 'tick_end', 'tick_step'));

4294  
	`¬¿y
(
$tick_¡¬t
, 
$tick_’d
, 
$tick_¡•
);

4295 
	}
}

4306 
´Ùeùed
 
funùiÚ
 
	$C®cMaxTickLab–Size
(
$which
)

4308 
	`li¡
(
$tick_¡¬t
, 
$tick_’d
, 
$tick_¡•
èğ
$this
->
	`C®cTicks
(
$which
);

4310 
$ªgË
 = (
$which
 =ğ'x'è? 
$this
->
x_Ïb–_ªgË
 : $this->
y_Ïb–_ªgË
;

4311 
$fÚt_id
 = 
$which
 . '_label';

4312 
$max_width
 = 0;

4313 
$max_height
 = 0;

4317 
$n
 = 0;

4318 
$tick_v®
 = 
$tick_¡¬t
;

4319 
$tick_v®
 <ğ
$tick_’d
) {

4320 
$tick_Ïb–
 = 
$this
->
	`FÜm©Lab–
(
$which
, 
$tick_v®
);

4321 
	`li¡
(
$width
, 
$height
èğ
$this
->
	`SizeText
(
$fÚt_id
, 
$ªgË
, 
$tick_Ïb–
);

4322 ià(
$width
 > 
$max_width
) $max_width = $width;

4323 ià(
$height
 > 
$max_height
) $max_height = $height;

4324 
$tick_v®
 = 
$tick_¡¬t
 + ++
$n
 * 
$tick_¡•
;

4326 ià(
$this
->
	`G‘C®lback
('debug_scale')) {

4327 
$this
->
	`DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
	`¬¿y
(

4328 'which' => 
$which
, 'height' => 
$max_height
, 'width' => 
$max_width
));

4331 ià(
$which
 == 'x')

4332  
$max_height
;

4333  
$max_width
;

4334 
	}
}

4347 
´Ùeùed
 
funùiÚ
 
C®cMaxD©aLab–Size
(
$which
 = 'x')

4351 ià(
$which
 =ğ'y' 
XOR
 
$this
->
d©©y³_sw­³d_xy
)

4354 
	g$ªgË
 = (
$which
 =ğ'x'è? 
$this
->
x_d©a_Ïb–_ªgË
 : $this->
y_d©a_Ïb–_ªgË
;

4355 
	g$fÚt_id
 = 
$which
 . '_label';

4356 
	g$fÜm©_code
 = 
$which
 . 'd';

4357 
	g$max_width
 = 0;

4358 
	g$max_height
 = 0;

4361 
	g$i
 = 0; $˜< 
	g$this
->
	gnum_d©a_rows
; $i++) {

4362 
	g$Ïb–
 = 
$this
->
FÜm©Lab–
(
$fÜm©_code
, $this->
d©a
[
$i
][0], $i);

4363 
li¡
(
$width
, 
$height
èğ
$this
->
SizeText
(
$fÚt_id
, 
$ªgË
, 
$Ïb–
);

4364 ià(
	g$width
 > 
	g$max_width
è$max_width = 
$width
;

4365 ià(
	g$height
 > 
	g$max_height
è$max_heighˆğ
$height
;

4367 ià(
	g$this
->
G‘C®lback
('debug_scale')) {

4368 
	g$this
->
DoC®lback
('debug_sÿË', 
__FUNCTION__
, 
¬¿y
(

4369 'height' => 
$max_height
, 'width' => 
$max_width
));

4372 ià(
	g$this
->
	gd©©y³_sw­³d_xy
)

4373  
	g$max_width
;

4374  
	g$max_height
;

4381 
´Ùeùed
 
funùiÚ
 
	$CheckLab–sAÎEm±y
()

4383 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++)

4384 ià(
$this
->
d©a
[
$i
][0] !=ğ''è 
FALSE
;

4385  
TRUE
;

4386 
	}
}

4394 
´Ùeùed
 
funùiÚ
 
	$CheckLab–s
()

4397 ià(
$this
->
x_d©a_Ïb–_ªgË_u
 === '')

4398 
$this
->
x_d©a_Ïb–_ªgË
 = $this->
x_Ïb–_ªgË
;

4400 
$this
->
x_d©a_Ïb–_ªgË
 = $this->
x_d©a_Ïb–_ªgË_u
;

4403 ià(
$this
->
d©©y³_sw­³d_xy
) {

4405 ià(!
	`is£t
(
$this
->
x_tick_Ïb–_pos
))

4406 
$this
->
x_tick_Ïb–_pos
 = 'plotdown';

4407 ià(!
	`is£t
(
$this
->
x_d©a_Ïb–_pos
))

4408 
$this
->
x_d©a_Ïb–_pos
 = 'none';

4411 ià(
	`is£t
(
$this
->
x_d©a_Ïb–_pos
)) {

4412 ià(!
	`is£t
(
$this
->
x_tick_Ïb–_pos
)) {

4414 ià(
$this
->
x_d©a_Ïb–_pos
 == 'none')

4415 
$this
->
x_tick_Ïb–_pos
 = 'plotdown';

4417 
$this
->
x_tick_Ïb–_pos
 = 'none';

4419 } 
	`–£if
 (
	`is£t
(
$this
->
x_tick_Ïb–_pos
)) {

4421 ià(
$this
->
x_tick_Ïb–_pos
 == 'none')

4422 
$this
->
x_d©a_Ïb–_pos
 = 'plotdown';

4424 
$this
->
x_d©a_Ïb–_pos
 = 'none';

4429 ià(
$this
->
	`CheckLab–sAÎEm±y
()) {

4430 
$this
->
x_d©a_Ïb–_pos
 = 'none';

4431 
$this
->
x_tick_Ïb–_pos
 = 'plotdown';

4433 
$this
->
x_d©a_Ïb–_pos
 = 'plotdown';

4434 
$this
->
x_tick_Ïb–_pos
 = 'none';

4440 ià(!
$this
->
d©©y³_sw­³d_xy
) {

4442 ià(!
	`is£t
(
$this
->
y_tick_Ïb–_pos
))

4443 
$this
->
y_tick_Ïb–_pos
 = 'plotleft';

4444 ià(!
	`is£t
(
$this
->
y_d©a_Ïb–_pos
))

4445 
$this
->
y_d©a_Ïb–_pos
 = 'none';

4448 ià(
	`is£t
(
$this
->
y_d©a_Ïb–_pos
)) {

4449 ià(!
	`is£t
(
$this
->
y_tick_Ïb–_pos
)) {

4451 ià(
$this
->
y_d©a_Ïb–_pos
 == 'none')

4452 
$this
->
y_tick_Ïb–_pos
 = 'plotleft';

4454 
$this
->
y_tick_Ïb–_pos
 = 'none';

4456 } 
	`–£if
 (
	`is£t
(
$this
->
y_tick_Ïb–_pos
)) {

4458 ià(
$this
->
y_tick_Ïb–_pos
 == 'none')

4459 
$this
->
y_d©a_Ïb–_pos
 = 'plotleft';

4461 
$this
->
y_d©a_Ïb–_pos
 = 'none';

4465 ià(
$this
->
	`CheckLab–sAÎEm±y
()) {

4466 
$this
->
y_d©a_Ïb–_pos
 = 'none';

4467 
$this
->
y_tick_Ïb–_pos
 = 'plotleft';

4469 
$this
->
y_d©a_Ïb–_pos
 = 'plotleft';

4470 
$this
->
y_tick_Ïb–_pos
 = 'none';

4474  
TRUE
;

4475 
	}
}

4491 
´Ùeùed
 
funùiÚ
 
	$FÜm©Lab–
(
$which_pos
, 
$which_Ïb
)

4494 ià(
$which_pos
 =ğ'xd' && 
	`em±y
(
$this
->
Ïb–_fÜm©
['xd']))

4495 
$which_pos
 = 'x';

4496 
	`–£if
 (
$which_pos
 =ğ'yd' && 
	`em±y
(
$this
->
Ïb–_fÜm©
['yd']))

4497 
$which_pos
 = 'y';

4498 
$fÜm©
 = &
$this
->
Ïb–_fÜm©
[
$which_pos
];

4501 ià(
$which_Ïb
 !=ğ'' && !
	`em±y
(
$fÜm©
['type'])) {

4502 
$fÜm©
['type']) {

4504 
$which_Ïb
 = @ 
$this
->
d©a
[$which_lab][0];

4507 
$which_Ïb
 = 
$fÜm©
['prefix']

4508 . 
$this
->
	`numb”_fÜm©
(
$which_Ïb
, 
$fÜm©
['precision'])

4509 . 
$this
->
d©a_un™s_‹xt


4510 . 
$fÜm©
['suffix'];

4513 
$which_Ïb
 = 
	`¡ráime
(
$fÜm©
['time_format'], $which_lab);

4516 
$which_Ïb
 = 
	`¥rštf
(
$fÜm©
['printf_format'], $which_lab);

4520 
$¬gv
 = 
	`func_g‘_¬gs
();

4521 
$¬gv
[0] = 
$which_Ïb
;

4522 
$¬gv
[1] = 
$fÜm©
['custom_arg'];

4523 
$which_Ïb
 = 
	`ÿÎ_u£r_func_¬¿y
(
$fÜm©
['cu¡om_ÿÎback'], 
$¬gv
);

4527  
$which_Ïb
;

4528 
	}
}

4536 
´Ùeùed
 
funùiÚ
 
	$TuÃAutoRªge
(
$which
, 
$z”o_magÃt
, 
$adju¡_mode
, 
$adju¡_amouÁ
)

4538 ià(
	`is£t
(
$z”o_magÃt
) && $zero_magnet >= 0 && $zero_magnet <= 1.0)

4539 
$this
->
¿ngeùl
[
$which
]['z”o_magÃt'] = 
$z”o_magÃt
;

4540 ià(
	`is£t
(
$adju¡_mode
è&& 
	`¡½os
('TRI', $adju¡_mode[0]è!=ğ
FALSE
)

4541 
$this
->
¿ngeùl
[
$which
]['adju¡_mode'] = 
$adju¡_mode
;

4542 ià(
	`is£t
(
$adju¡_amouÁ
) && $adjust_amount >= 0)

4543 
$this
->
¿ngeùl
[
$which
]['adju¡_amouÁ'] = 
$adju¡_amouÁ
;

4544  
TRUE
;

4545 
	}
}

4550 
funùiÚ
 
	$TuÃXAutoRªge
(
$z”o_magÃt
 = 
NULL
, 
$adju¡_mode
 = NULL, 
$adju¡_amouÁ
 = NULL)

4552  
$this
->
	`TuÃAutoRªge
('x', 
$z”o_magÃt
, 
$adju¡_mode
, 
$adju¡_amouÁ
);

4553 
	}
}

4558 
funùiÚ
 
	$TuÃYAutoRªge
(
$z”o_magÃt
 = 
NULL
, 
$adju¡_mode
 = NULL, 
$adju¡_amouÁ
 = NULL)

4560  
$this
->
	`TuÃAutoRªge
('y', 
$z”o_magÃt
, 
$adju¡_mode
, 
$adju¡_amouÁ
);

4561 
	}
}

4568 
´Ùeùed
 
funùiÚ
 
	$TuÃAutoTicks
(
$which
, 
$mš_ticks
, 
$tick_mode
, 
$tick_šc_š‹g”
)

4570 ià(
	`is£t
(
$mš_ticks
) && $min_ticks > 0)

4571 
$this
->
tickùl
[
$which
]['mš_ticks'] = (
š‹g”
)
$mš_ticks
;

4572 ià(
	`is£t
(
$tick_mode
)) {

4573 
$tick_mode
 = 
$this
->
	`CheckO±iÚ
($tick_mode, 'decimal, binary, date',

4574 'TuÃ' . 
	`¡¹ouµ”
(
$which
) . 'AutoTicks');

4575 ià(!
$tick_mode
)

4576  
FALSE
;

4577 
$this
->
tickùl
[
$which
]['tick_mode'] = 
$tick_mode
;

4579 ià(
	`is£t
(
$tick_šc_š‹g”
))

4580 
$this
->
tickùl
[
$which
]['tick_šc_š‹g”'] = (
boŞ
)
$tick_šc_š‹g”
;

4581  
TRUE
;

4582 
	}
}

4587 
funùiÚ
 
	$TuÃXAutoTicks
(
$mš_ticks
 = 
NULL
, 
$tick_mode
 = NULL, 
$tick_šc_š‹g”
 = NULL)

4589  
$this
->
	`TuÃAutoTicks
('x', 
$mš_ticks
, 
$tick_mode
, 
$tick_šc_š‹g”
);

4590 
	}
}

4595 
funùiÚ
 
	$TuÃYAutoTicks
(
$mš_ticks
 = 
NULL
, 
$tick_mode
 = NULL, 
$tick_šc_š‹g”
 = NULL)

4597  
$this
->
	`TuÃAutoTicks
('y', 
$mš_ticks
, 
$tick_mode
, 
$tick_šc_š‹g”
);

4598 
	}
}

4608 
funùiÚ
 
S‘XTickInüem’t
(
$which_ti
='')

4610 
$this
->
x_tick_šc_u
 = 
$which_ti
;

4611  
	gTRUE
;

4617 
funùiÚ
 
S‘YTickInüem’t
(
$which_ti
='')

4619 
$this
->
y_tick_šc_u
 = 
$which_ti
;

4620  
	gTRUE
;

4626 
funùiÚ
 
S‘NumXTicks
(
$which_Á
='')

4628 
$this
->
num_x_ticks
 = 
$which_Á
;

4629  
	gTRUE
;

4635 
funùiÚ
 
S‘NumYTicks
(
$which_Á
='')

4637 
$this
->
num_y_ticks
 = 
$which_Á
;

4638  
	gTRUE
;

4645 
funùiÚ
 
	$S‘XTickPos
(
$which_
)

4647 
$this
->
x_tick_pos
 = $this->
	`CheckO±iÚ
(
$which_
, 'plotdown,…lotup, both, xaxis,‚one',

4648 
__FUNCTION__
);

4649  (
boŞ—n
)
$this
->
x_tick_pos
;

4650 
	}
}

4656 
funùiÚ
 
	$S‘YTickPos
(
$which_
)

4658 
$this
->
y_tick_pos
 = $this->
	`CheckO±iÚ
(
$which_
, 'plotleft,…lotright, both, yaxis,‚one',

4659 
__FUNCTION__
);

4660  (
boŞ—n
)
$this
->
y_tick_pos
;

4661 
	}
}

4666 
funùiÚ
 
	$S‘SkTİTick
(
$sk
)

4668 
$this
->
sk_tİ_tick
 = (
boŞ
)
$sk
;

4669  
TRUE
;

4670 
	}
}

4675 
funùiÚ
 
	$S‘SkBÙtomTick
(
$sk
)

4677 
$this
->
sk_bÙtom_tick
 = (
boŞ
)
$sk
;

4678  
TRUE
;

4679 
	}
}

4684 
funùiÚ
 
	$S‘SkLeáTick
(
$sk
)

4686 
$this
->
sk_Ëá_tick
 = (
boŞ
)
$sk
;

4687  
TRUE
;

4688 
	}
}

4693 
funùiÚ
 
	$S‘SkRightTick
(
$sk
)

4695 
$this
->
sk_right_tick
 = (
boŞ
)
$sk
;

4696  
TRUE
;

4697 
	}
}

4703 
funùiÚ
 
	$S‘XTickL’gth
(
$which_xÊ
)

4705 
$this
->
x_tick_Ëngth
 = 
$which_xÊ
;

4706  
TRUE
;

4707 
	}
}

4713 
funùiÚ
 
	$S‘YTickL’gth
(
$which_yÊ
)

4715 
$this
->
y_tick_Ëngth
 = 
$which_yÊ
;

4716  
TRUE
;

4717 
	}
}

4723 
funùiÚ
 
	$S‘XTickCrossšg
(
$which_xc
)

4725 
$this
->
x_tick_üoss
 = 
$which_xc
;

4726  
TRUE
;

4727 
	}
}

4733 
funùiÚ
 
	$S‘YTickCrossšg
(
$which_yc
)

4735 
$this
->
y_tick_üoss
 = 
$which_yc
;

4736  
TRUE
;

4737 
	}
}

4743 
funùiÚ
 
	$S‘XTickAnchÜ
(
$x
 = 
NULL
)

4745 
$this
->
x_tick_ªchÜ
 = 
$x
;

4746  
TRUE
;

4747 
	}
}

4753 
funùiÚ
 
	$S‘YTickAnchÜ
(
$y
 = 
NULL
)

4755 
$this
->
y_tick_ªchÜ
 = 
$y
;

4756  
TRUE
;

4757 
	}
}

4767 
´Ùeùed
 
funùiÚ
 
	$D¿wBackground
(
$ov”wr™e
=
FALSE
)

4770 ià(
	`em±y
(
$this
->
dÚe
['background']è|| 
$ov”wr™e
) {

4771 ià(
	`is£t
(
$this
->
bgimg
)) {

4772 
$this
->
	`te_img
($this->
bgimg
, 0, 0, $this->
image_width
, $this->
image_height
, $this->
bgmode
);

4774 
	`ImageFËdReùªgË
(
$this
->
img
, 0, 0, $this->
image_width
, $this->
image_height
,

4775 
$this
->
ndx_bg_cŞÜ
);

4777 
$this
->
dÚe
['background'] = 
TRUE
;

4779  
TRUE
;

4780 
	}
}

4785 
´Ùeùed
 
funùiÚ
 
	$D¿wPlÙA»aBackground
()

4787 ià(
	`is£t
(
$this
->
¶Ùbgimg
)) {

4788 
$this
->
	`te_img
($this->
¶Ùbgimg
, $this->
¶Ù_¬—
[0], $this->plot_area[1],

4789 
$this
->
¶Ù_¬—_width
, $this->
¶Ù_¬—_height
, $this->
¶Ùbgmode
);

4790 } 
	`–£if
 (
$this
->
d¿w_¶Ù_¬—_background
) {

4791 
	`ImageFËdReùªgË
(
$this
->
img
, $this->
¶Ù_¬—
[0], $this->plot_area[1],

4792 
$this
->
¶Ù_¬—
[2], $this->¶Ù_¬—[3], $this->
ndx_¶Ù_bg_cŞÜ
);

4794  
TRUE
;

4795 
	}
}

4806 
´Ùeùed
 
funùiÚ
 
	$te_img
(
$fe
, 
$xÜig
, 
$yÜig
, 
$width
, 
$height
, 
$mode
)

4808 
$im
 = 
$this
->
	`G‘Image
(
$fe
, 
$te_width
, 
$te_height
);

4809 ià(!
$im
)

4810  
FALSE
;

4812 ià(
$mode
 == 'scale') {

4813 
	`imagecİy»§m¶ed
(
$this
->
img
, 
$im
, 
$xÜig
, 
$yÜig
, 0, 0, 
$width
, 
$height
,

4814 
$te_width
, 
$te_height
);

4815  
TRUE
;

4818 ià(
$mode
 == 'centeredtile') {

4819 
$x0
 = - 
	`æoÜ
(
$te_width
/2);

4820 
$y0
 = - 
	`æoÜ
(
$te_height
/2);

4822 
$x0
 = 0;

4823 
$y0
 = 0;

4827 
$tmp
 = 
	`imageü—‹
(
$width
, 
$height
);

4828 ià(! 
$tmp
)

4829  
$this
->
	`PrštE¼Ü
('tile_img(): Could‚ot create image„esource.');

4831 
$x
 = 
$x0
; $x < 
$width
; $x +ğ
$te_width
)

4832 
$y
 = 
$y0
; $y < 
$height
; $y +ğ
$te_height
)

4833 
	`imagecİy
(
$tmp
, 
$im
, 
$x
, 
$y
, 0, 0, 
$te_width
, 
$te_height
);

4836 
	`imagecİy
(
$this
->
img
, 
$tmp
, 
$xÜig
, 
$yÜig
, 0,0, 
$width
, 
$height
);

4839 
	`imagede¡roy
(
$tmp
);

4840 
	`imagede¡roy
(
$im
);

4842  
TRUE
;

4843 
	}
}

4849 
´Ùeùed
 
funùiÚ
 
	$G‘ImageBÜd”Width
()

4851 ià(
$this
->
image_bÜd”_ty³
 == 'none')

4853 ià(!
	`em±y
(
$this
->
image_bÜd”_width
))

4854  
$this
->
image_bÜd”_width
;

4855 ià(
$this
->
image_bÜd”_ty³
 == 'raised')

4858 
	}
}

4868 
´Ùeùed
 
funùiÚ
 
	$D¿wImageBÜd”
(
$ov”wr™e
=
FALSE
)

4871 ià(
$this
->
image_bÜd”_ty³
 =ğ'nÚe' || !(
	`em±y
($this->
dÚe
['bÜd”']è|| 
$ov”wr™e
))

4872  
TRUE
;

4873 
$width
 = 
$this
->
	`G‘ImageBÜd”Width
();

4874 
$cŞÜ1
 = 
$this
->
ndx_i_bÜd”
;

4875 
$cŞÜ2
 = 
$this
->
ndx_i_bÜd”_d¬k
;

4876 
$ex
 = 
$this
->
image_width
 - 1;

4877 
$ey
 = 
$this
->
image_height
 - 1;

4878 
$this
->
image_bÜd”_ty³
) {

4882 
$i
 = 0; $˜< 
$width
; $i++, 
$ex
--, 
$ey
--) {

4883 
	`imag–še
(
$this
->
img
, 
$i
, $i, 
$ex
, $i, 
$cŞÜ1
);

4884 
	`imag–še
(
$this
->
img
, 
$ex
, 
$i
, $ex, 
$ey
, 
$cŞÜ2
);

4885 
	`imag–še
(
$this
->
img
, 
$i
, $i, $i, 
$ey
, 
$cŞÜ1
);

4886 
	`imag–še
(
$this
->
img
, 
$i
, 
$ey
, 
$ex
, $ey, 
$cŞÜ2
);

4890 
$cŞÜ1
 = 
$cŞÜ2
;

4893 
$i
 = 0; $˜< 
$width
; $i++, 
$ex
--, 
$ey
--) {

4894 
	`imag”eùªgË
(
$this
->
img
, 
$i
, $i, 
$ex
, 
$ey
, 
$cŞÜ1
);

4898  
$this
->
	`PrštE¼Ü
(

4901 
$this
->
dÚe
['bÜd”'] = 
TRUE
;

4902  
TRUE
;

4903 
	}
}

4910 
´Ùeùed
 
funùiÚ
 
	$D¿wT™Ë
()

4912 ià(!
	`em±y
(
$this
->
dÚe
['t™Ë']è|| $this->
t™Ë_txt
 === '')

4913  
TRUE
;

4916 
$xpos
 = 
$this
->
image_width
 / 2;

4919 
$ypos
 = 
$this
->
t™Ë_off£t
;

4921 
$this
->
	`D¿wText
('t™Ë', 0, 
$xpos
, 
$ypos
, $this->
ndx_t™Ë_cŞÜ
, $this->
t™Ë_txt
, 'center', 'top');

4923 
$this
->
dÚe
['t™Ë'] = 
TRUE
;

4924  
TRUE
;

4925 
	}
}

4930 
´Ùeùed
 
funùiÚ
 
	$D¿wXT™Ë
()

4932 ià(
$this
->
x_t™Ë_pos
 == 'none')

4933  
TRUE
;

4936 
$xpos
 = (
$this
->
¶Ù_¬—
[2] + $this->plot_area[0]) / 2;

4939 ià(
$this
->
x_t™Ë_pos
 == 'plotup' || $this->x_title_pos == 'both') {

4940 
$ypos
 = 
$this
->
¶Ù_¬—
[1] - $this->
x_t™Ë_tİ_off£t
;

4941 
$this
->
	`D¿wText
('x_t™Ë', 0, 
$xpos
, 
$ypos
, $this->
ndx_x_t™Ë_cŞÜ
,

4942 
$this
->
x_t™Ë_txt
, 'center', 'bottom');

4945 ià(
$this
->
x_t™Ë_pos
 == 'plotdown' || $this->x_title_pos == 'both') {

4946 
$ypos
 = 
$this
->
¶Ù_¬—
[3] + $this->
x_t™Ë_bÙ_off£t
;

4947 
$this
->
	`D¿wText
('x_t™Ë', 0, 
$xpos
, 
$ypos
, $this->
ndx_x_t™Ë_cŞÜ
,

4948 
$this
->
x_t™Ë_txt
, 'center', 'top');

4950  
TRUE
;

4951 
	}
}

4956 
´Ùeùed
 
funùiÚ
 
	$D¿wYT™Ë
()

4958 ià(
$this
->
y_t™Ë_pos
 == 'none')

4959  
TRUE
;

4962 
$ypos
 = (
$this
->
¶Ù_¬—
[3] + $this->plot_area[1]) / 2;

4964 ià(
$this
->
y_t™Ë_pos
 == 'plotleft' || $this->y_title_pos == 'both') {

4965 
$xpos
 = 
$this
->
¶Ù_¬—
[0] - $this->
y_t™Ë_Ëá_off£t
;

4966 
$this
->
	`D¿wText
('y_t™Ë', 90, 
$xpos
, 
$ypos
, $this->
ndx_y_t™Ë_cŞÜ
,

4967 
$this
->
y_t™Ë_txt
, 'right', 'center');

4969 ià(
$this
->
y_t™Ë_pos
 == 'plotright' || $this->y_title_pos == 'both') {

4970 
$xpos
 = 
$this
->
¶Ù_¬—
[2] + $this->
y_t™Ë_right_off£t
;

4971 
$this
->
	`D¿wText
('y_t™Ë', 90, 
$xpos
, 
$ypos
, $this->
ndx_y_t™Ë_cŞÜ
,

4972 
$this
->
y_t™Ë_txt
, 'left', 'center');

4975  
TRUE
;

4976 
	}
}

4981 
´Ùeùed
 
funùiÚ
 
	$D¿wXAxis
()

4984 
$this
->
	`D¿wXTicks
();

4987 ià(!
$this
->
suµ»ss_x_axis
) {

4988 
	`ImageLše
(
$this
->
img
, $this->
¶Ù_¬—
[0]+1, $this->
x_axis_y_pix–s
,

4989 
$this
->
¶Ù_¬—
[2]-1, $this->
x_axis_y_pix–s
, $this->
ndx_grid_cŞÜ
);

4991  
TRUE
;

4992 
	}
}

4998 
´Ùeùed
 
funùiÚ
 
	$D¿wYAxis
()

5001 
$this
->
	`D¿wYTicks
();

5004 ià(!
$this
->
suµ»ss_y_axis
) {

5005 
	`ImageLše
(
$this
->
img
, $this->
y_axis_x_pix–s
, $this->
¶Ù_¬—
[1],

5006 
$this
->
y_axis_x_pix–s
, $this->
¶Ù_¬—
[3], $this->
ndx_grid_cŞÜ
);

5008  
TRUE
;

5009 
	}
}

5016 
´Ùeùed
 
funùiÚ
 
	$D¿wXTick
(
$x
, 
$x_pix–s
)

5019 ià(
$this
->
x_tick_pos
 == 'xaxis') {

5020 
	`ImageLše
(
$this
->
img
, 
$x_pix–s
, $this->
x_axis_y_pix–s
 - $this->
x_tick_üoss
,

5021 
$x_pix–s
, 
$this
->
x_axis_y_pix–s
 + $this->
x_tick_Ëngth
, $this->
ndx_tick_cŞÜ
);

5025 ià(
$this
->
x_tick_pos
 == 'plotup' || $this->x_tick_pos == 'both') {

5026 
	`ImageLše
(
$this
->
img
, 
$x_pix–s
, $this->
¶Ù_¬—
[1] - $this->
x_tick_Ëngth
,

5027 
$x_pix–s
, 
$this
->
¶Ù_¬—
[1] + $this->
x_tick_üoss
, $this->
ndx_tick_cŞÜ
);

5031 ià(
$this
->
x_tick_pos
 == 'plotdown' || $this->x_tick_pos == 'both') {

5032 
	`ImageLše
(
$this
->
img
, 
$x_pix–s
, $this->
¶Ù_¬—
[3] + $this->
x_tick_Ëngth
,

5033 
$x_pix–s
, 
$this
->
¶Ù_¬—
[3] - $this->
x_tick_üoss
, $this->
ndx_tick_cŞÜ
);

5036 ià(
$this
->
x_tick_Ïb–_pos
 != 'none') {

5037 
$x_Ïb–
 = 
$this
->
	`FÜm©Lab–
('x', 
$x
);

5040 ià(
$this
->
x_tick_Ïb–_pos
 == 'xaxis') {

5041 
$this
->
	`D¿wText
('x_Ïb–', $this->
x_Ïb–_ªgË
,

5042 
$x_pix–s
, 
$this
->
x_axis_y_pix–s
 + $this->
x_Ïb–_axis_off£t
,

5043 
$this
->
ndx_tickÏb–_cŞÜ
, 
$x_Ïb–
, 'center', 'top');

5047 ià(
$this
->
x_tick_Ïb–_pos
 == 'plotup' || $this->x_tick_label_pos == 'both') {

5048 
$this
->
	`D¿wText
('x_Ïb–', $this->
x_Ïb–_ªgË
,

5049 
$x_pix–s
, 
$this
->
¶Ù_¬—
[1] - $this->
x_Ïb–_tİ_off£t
,

5050 
$this
->
ndx_tickÏb–_cŞÜ
, 
$x_Ïb–
, 'center', 'bottom');

5054 ià(
$this
->
x_tick_Ïb–_pos
 == 'plotdown' || $this->x_tick_label_pos == 'both') {

5055 
$this
->
	`D¿wText
('x_Ïb–', $this->
x_Ïb–_ªgË
,

5056 
$x_pix–s
, 
$this
->
¶Ù_¬—
[3] + $this->
x_Ïb–_bÙ_off£t
,

5057 
$this
->
ndx_tickÏb–_cŞÜ
, 
$x_Ïb–
, 'center', 'top');

5060  
TRUE
;

5061 
	}
}

5068 
´Ùeùed
 
funùiÚ
 
	$D¿wYTick
(
$y
, 
$y_pix–s
)

5071 ià(
$this
->
y_tick_pos
 == 'yaxis') {

5072 
	`ImageLše
(
$this
->
img
, $this->
y_axis_x_pix–s
 - $this->
y_tick_Ëngth
, 
$y_pix–s
,

5073 
$this
->
y_axis_x_pix–s
 + $this->
y_tick_üoss
, 
$y_pix–s
, $this->
ndx_tick_cŞÜ
);

5077 ià((
$this
->
y_tick_pos
 == 'plotleft') || ($this->y_tick_pos == 'both') ) {

5078 
	`ImageLše
(
$this
->
img
, $this->
¶Ù_¬—
[0] - $this->
y_tick_Ëngth
, 
$y_pix–s
,

5079 
$this
->
¶Ù_¬—
[0] + $this->
y_tick_üoss
, 
$y_pix–s
, $this->
ndx_tick_cŞÜ
);

5083 ià((
$this
->
y_tick_pos
 == 'plotright') || ($this->y_tick_pos == 'both') ) {

5084 
	`ImageLše
(
$this
->
img
, $this->
¶Ù_¬—
[2] + $this->
y_tick_Ëngth
, 
$y_pix–s
,

5085 
$this
->
¶Ù_¬—
[2] - $this->
y_tick_üoss
, 
$y_pix–s
, $this->
ndx_tick_cŞÜ
);

5088 ià(
$this
->
y_tick_Ïb–_pos
 != 'none') {

5089 
$y_Ïb–
 = 
$this
->
	`FÜm©Lab–
('y', 
$y
);

5092 ià(
$this
->
y_tick_Ïb–_pos
 == 'yaxis') {

5093 
$this
->
	`D¿wText
('y_Ïb–', $this->
y_Ïb–_ªgË
,

5094 
$this
->
y_axis_x_pix–s
 - $this->
y_Ïb–_axis_off£t
, 
$y_pix–s
,

5095 
$this
->
ndx_tickÏb–_cŞÜ
, 
$y_Ïb–
, 'right', 'center');

5099 ià(
$this
->
y_tick_Ïb–_pos
 == 'plotleft' || $this->y_tick_label_pos == 'both') {

5100 
$this
->
	`D¿wText
('y_Ïb–', $this->
y_Ïb–_ªgË
,

5101 
$this
->
¶Ù_¬—
[0] - $this->
y_Ïb–_Ëá_off£t
, 
$y_pix–s
,

5102 
$this
->
ndx_tickÏb–_cŞÜ
, 
$y_Ïb–
, 'right', 'center');

5106 ià(
$this
->
y_tick_Ïb–_pos
 == 'plotright' || $this->y_tick_label_pos == 'both') {

5107 
$this
->
	`D¿wText
('y_Ïb–', $this->
y_Ïb–_ªgË
,

5108 
$this
->
¶Ù_¬—
[2] + $this->
y_Ïb–_right_off£t
, 
$y_pix–s
,

5109 
$this
->
ndx_tickÏb–_cŞÜ
, 
$y_Ïb–
, 'left', 'center');

5112  
TRUE
;

5113 
	}
}

5122 
´Ùeùed
 
funùiÚ
 
	$D¿wXTicks
()

5125 
$¡yË
 = 
$this
->
	`S‘DashedStyË
($this->
ndx_light_grid_cŞÜ
, $this->
dashed_grid
);

5128 
$d¿w_grid
 = 
$this
->
	`G‘GridS‘tšg
('x');

5131 
	`li¡
(
$x_¡¬t
, 
$x_’d
, 
$d–_x
èğ
$this
->
	`C®cTicks
('x');

5134 
$n
 = 0; (
$x
 = 
$x_¡¬t
 + $À* 
$d–_x
è<ğ
$x_’d
; $n++) {

5135 
$x_pix–s
 = 
$this
->
	`xŒ
(
$x
);

5138 ià(
$d¿w_grid
) {

5139 
	`ImageLše
(
$this
->
img
, 
$x_pix–s
, $this->
¶Ù_¬—
[1], $x_pix–s, $this->¶Ù_¬—[3], 
$¡yË
);

5143 
$this
->
	`D¿wXTick
(
$x
, 
$x_pix–s
);

5145  
TRUE
;

5146 
	}
}

5153 
´Ùeùed
 
funùiÚ
 
	$D¿wYTicks
()

5156 
$¡yË
 = 
$this
->
	`S‘DashedStyË
($this->
ndx_light_grid_cŞÜ
, $this->
dashed_grid
);

5159 
$d¿w_grid
 = 
$this
->
	`G‘GridS‘tšg
('y');

5162 
	`li¡
(
$y_¡¬t
, 
$y_’d
, 
$d–_y
èğ
$this
->
	`C®cTicks
('y');

5165 
$n
 = 0; (
$y
 = 
$y_¡¬t
 + $À* 
$d–_y
è<ğ
$y_’d
; $n++) {

5166 
$y_pix–s
 = 
$this
->
	`yŒ
(
$y
);

5169 ià(
$d¿w_grid
) {

5170 
	`ImageLše
(
$this
->
img
, $this->
¶Ù_¬—
[0]+1, 
$y_pix–s
, $this->plot_area[2]-1,

5171 
$y_pix–s
, 
$¡yË
);

5175 
$this
->
	`D¿wYTick
(
$y
, 
$y_pix–s
);

5177  
TRUE
;

5178 
	}
}

5185 
´Ùeùed
 
funùiÚ
 
	$D¿wPlÙBÜd”
(
$d¿w_axes
 = 
TRUE
)

5188 ià(
	`is£t
(
$this
->
¶Ù_bÜd”_ty³
)) {

5189 
$pbt
 = (
¬¿y
)
$this
->
¶Ù_bÜd”_ty³
;

5190 } 
	`–£if
 (
$d¿w_axes
è
$pbt
 = 
	`¬¿y
('sides');

5191  
TRUE
;

5193 
$sides
 = 0;

5194 
$m­
 = 
	`¬¿y
('left' => 1, 'plotleft' => 1, 'right' => 4, 'plotright' => 4, 'top' => 2,

5196 
	`fÜ—ch
 (
$pbt
 
as
 
$İtiÚ
è
$sides
 |ğ
$m­
[$option];

5197 ià(
$sides
 == 15) {

5198 
	`imag”eùªgË
(
$this
->
img
, $this->
¶Ù_¬—
[0], $this->plot_area[1],

5199 
$this
->
¶Ù_¬—
[2], $this->¶Ù_¬—[3], $this->
ndx_grid_cŞÜ
);

5201 ià(
$sides
 & 1)

5202 
	`imag–še
(
$this
->
img
, $this->
¶Ù_¬—
[0], $this->plot_area[1],

5203 
$this
->
¶Ù_¬—
[0], $this->¶Ù_¬—[3], $this->
ndx_grid_cŞÜ
);

5204 ià(
$sides
 & 2)

5205 
	`imag–še
(
$this
->
img
, $this->
¶Ù_¬—
[0], $this->plot_area[1],

5206 
$this
->
¶Ù_¬—
[2], $this->¶Ù_¬—[1], $this->
ndx_grid_cŞÜ
);

5207 ià(
$sides
 & 4)

5208 
	`imag–še
(
$this
->
img
, $this->
¶Ù_¬—
[2], $this->plot_area[1],

5209 
$this
->
¶Ù_¬—
[2], $this->¶Ù_¬—[3], $this->
ndx_grid_cŞÜ
);

5210 ià(
$sides
 & 8)

5211 
	`imag–še
(
$this
->
img
, $this->
¶Ù_¬—
[0], $this->plot_area[3],

5212 
$this
->
¶Ù_¬—
[2], $this->¶Ù_¬—[3], $this->
ndx_grid_cŞÜ
);

5214  
TRUE
;

5215 
	}
}

5231 
´Ùeùed
 
funùiÚ
 
	$D¿wD©aV®ueLab–
(
$x_Ü_y
, 
$row
, 
$cŞumn
, 
$x_wÜld
, 
$y_wÜld
, 
$‹xt
, 
$dvl
)

5233 ià(
$x_Ü_y
 == 'x') {

5234 
$ªgË
 = 
$this
->
x_d©a_Ïb–_ªgË
;

5235 
$fÚt_id
 = 'x_label';

5236 
$fÜm©‹d_‹xt
 = 
$this
->
	`FÜm©Lab–
('xd', 
$‹xt
, 
$row
, 
$cŞumn
);

5238 
$ªgË
 = 
$this
->
y_d©a_Ïb–_ªgË
;

5239 
$fÚt_id
 = 'y_label';

5240 
$fÜm©‹d_‹xt
 = 
$this
->
	`FÜm©Lab–
('yd', 
$‹xt
, 
$row
, 
$cŞumn
);

5243 
$x_off£t
 = 
$y_off£t
 = 0;

5244 
$h_®ign
 = 
$v_®ign
 = 'center';

5245 
	`exŒaù
(
$dvl
);

5248 ià(
	`is£t
(
$mš_width
è|| is£t(
$mš_height
)) {

5249 
	`li¡
(
$width
, 
$height
èğ
$this
->
	`SizeText
(
$fÚt_id
, 
$ªgË
, 
$fÜm©‹d_‹xt
);

5250 ià((
	`is£t
(
$mš_width
è&& ($mš_width - 
$width
) < 2)

5251 || (
	`is£t
(
$mš_height
è&& ($mš_heighˆ- 
$height
) < 2))

5252  
FALSE
;

5255 
$this
->
	`D¿wText
(
$fÚt_id
, 
$ªgË
, $this->
	`xŒ
(
$x_wÜld
è+ 
$x_off£t
, $this->
	`yŒ
(
$y_wÜld
è+ 
$y_off£t
,

5256 
$this
->
ndx_dvÏb–_cŞÜ
, 
$fÜm©‹d_‹xt
, 
$h_®ign
, 
$v_®ign
);

5257  
TRUE
;

5258 
	}
}

5267 
´Ùeùed
 
funùiÚ
 
	$D¿wXD©aLab–
(
$xÏb
, 
$xpos
, 
$row
, 
$do_lšes
=
FALSE
)

5269 
$xÏb
 = 
$this
->
	`FÜm©Lab–
('xd', $xÏb, 
$row
);

5272 ià(
$this
->
x_d©a_Ïb–_pos
 == 'plotdown' || $this->x_data_label_pos == 'both')

5273 
$this
->
	`D¿wText
('x_Ïb–', $this->
x_d©a_Ïb–_ªgË
,

5274 
$xpos
, 
$this
->
¶Ù_¬—
[3] + $this->
x_Ïb–_bÙ_off£t
,

5275 
$this
->
ndx_d©®ab–_cŞÜ
, 
$xÏb
, 'center', 'top');

5278 ià(
$this
->
x_d©a_Ïb–_pos
 == 'plotup' || $this->x_data_label_pos == 'both')

5279 
$this
->
	`D¿wText
('x_Ïb–', $this->
x_d©a_Ïb–_ªgË
,

5280 
$xpos
, 
$this
->
¶Ù_¬—
[1] - $this->
x_Ïb–_tİ_off£t
,

5281 
$this
->
ndx_d©®ab–_cŞÜ
, 
$xÏb
, 'center', 'bottom');

5283 ià(
$do_lšes
 && 
$this
->
d¿w_x_d©a_Ïb–_lšes
)

5284 
$this
->
	`D¿wXD©aLše
(
$xpos
, 
$row
);

5285  
TRUE
;

5286 
	}
}

5295 
´Ùeùed
 
funùiÚ
 
	$D¿wYD©aLab–
(
$yÏb
, 
$ypos
, 
$row
, 
$do_lšes
=
FALSE
)

5297 
$yÏb
 = 
$this
->
	`FÜm©Lab–
('yd', $yÏb, 
$row
);

5300 ià(
$this
->
y_d©a_Ïb–_pos
 == 'plotleft' || $this->y_data_label_pos == 'both')

5301 
$this
->
	`D¿wText
('y_Ïb–', $this->
y_d©a_Ïb–_ªgË
,

5302 
$this
->
¶Ù_¬—
[0] - $this->
y_Ïb–_Ëá_off£t
, 
$ypos
,

5303 
$this
->
ndx_d©®ab–_cŞÜ
, 
$yÏb
, 'right', 'center');

5306 ià(
$this
->
y_d©a_Ïb–_pos
 == 'plotright' || $this->y_data_label_pos == 'both')

5307 
$this
->
	`D¿wText
('y_Ïb–', $this->
y_d©a_Ïb–_ªgË
,

5308 
$this
->
¶Ù_¬—
[2] + $this->
y_Ïb–_right_off£t
, 
$ypos
,

5309 
$this
->
ndx_d©®ab–_cŞÜ
, 
$yÏb
, 'left', 'center');

5311 ià(
$do_lšes
 && 
$this
->
d¿w_y_d©a_Ïb–_lšes
)

5312 
$this
->
	`D¿wYD©aLše
(
$ypos
, 
$row
);

5313  
TRUE
;

5314 
	}
}

5324 
´Ùeùed
 
funùiÚ
 
	$D¿wXD©aLše
(
$xpos
, 
$row
)

5327 
$¡yË
 = 
$this
->
	`S‘DashedStyË
($this->
ndx_light_grid_cŞÜ
, $this->
dashed_grid
);

5329 ià(
$this
->
x_d©a_Ïb–_pos
 == 'both') {

5331 
	`ImageLše
(
$this
->
img
, 
$xpos
, $this->
¶Ù_¬—
[3], $xpos, $this->¶Ù_¬—[1], 
$¡yË
);

5332 } 
	`–£if
 (
$this
->
x_d©a_Ïb–_pos
 =ğ'¶Ùdown' && 
	`is£t
($this->
d©a_max
[
$row
])) {

5334 
$ypos
 = 
$this
->
	`yŒ
($this->
d©a_max
[
$row
]);

5335 
	`ImageLše
(
$this
->
img
, 
$xpos
, 
$ypos
, $xpos, $this->
¶Ù_¬—
[3], 
$¡yË
);

5336 } 
	`–£if
 (
$this
->
x_d©a_Ïb–_pos
 =ğ'¶Ùup' && 
	`is£t
($this->
d©a_mš
[
$row
])) {

5338 
$ypos
 = 
$this
->
	`yŒ
($this->
d©a_mš
[
$row
]);

5339 
	`ImageLše
(
$this
->
img
, 
$xpos
, $this->
¶Ù_¬—
[1], $xpos, 
$ypos
, 
$¡yË
);

5341  
TRUE
;

5342 
	}
}

5350 
´Ùeùed
 
funùiÚ
 
	$D¿wYD©aLše
(
$ypos
, 
$row
)

5353 
$¡yË
 = 
$this
->
	`S‘DashedStyË
($this->
ndx_light_grid_cŞÜ
, $this->
dashed_grid
);

5355 ià(
$this
->
y_d©a_Ïb–_pos
 == 'both') {

5357 
	`ImageLše
(
$this
->
img
, $this->
¶Ù_¬—
[0], 
$ypos
, $this->¶Ù_¬—[2], $ypos, 
$¡yË
);

5358 } 
	`–£if
 (
$this
->
y_d©a_Ïb–_pos
 =ğ'¶ÙËá' && 
	`is£t
($this->
d©a_max
[
$row
])) {

5360 
$xpos
 = 
$this
->
	`xŒ
($this->
d©a_max
[
$row
]);

5361 
	`ImageLše
(
$this
->
img
, 
$xpos
, 
$ypos
, $this->
¶Ù_¬—
[0], $ypos, 
$¡yË
);

5362 } 
	`–£if
 (
$this
->
y_d©a_Ïb–_pos
 =ğ'¶Ùright' && 
	`is£t
($this->
d©a_mš
[
$row
])) {

5364 
$xpos
 = 
$this
->
	`xŒ
($this->
d©a_mš
[
$row
]);

5365 
	`ImageLše
(
$this
->
img
, $this->
¶Ù_¬—
[2], 
$ypos
, 
$xpos
, $ypos, 
$¡yË
);

5367  
TRUE
;

5368 
	}
}

5379 
´Ùeùed
 
funùiÚ
 
	$FÜm©P›Lab–
(
$šdex
, 
$p›_Ïb–_sourû
, 
$¬c_ªgË
, 
$¦iû_weight
)

5381 
$v®ues
 = 
	`¬¿y
();

5382 
	`fÜ—ch
 (
$p›_Ïb–_sourû
 
as
 
$wÜd
) {

5383 
$wÜd
) {

5385 
$v®ues
[] = 
$this
->
d©©y³_p›_sšgË
 ? $this->
d©a
[
$šdex
][0] : '';

5388 
$v®ues
[] = 
$¦iû_weight
;

5391 
$v®ues
[] = 
$šdex
;

5394 
$v®ues
[] = 
$¬c_ªgË
 / 3.6;

5399  
$this
->
	`FÜm©Lab–
('p', 
	`couÁ
(
$v®ues
è=ğ1 ? $v®ues[0] : 
	`im¶ode
(' ', $values));

5400 
	}
}

5412 
´Ùeùed
 
funùiÚ
 
	$D¿wP›Lab–
(
$Ïb–_txt
, 
$xc
, 
$yc
, 
$¡¬t_ªgË
, 
$¬c_ªgË
, 
$r
)

5414 
$mid_ªgË
 = 
	`deg2¿d
(
$¡¬t_ªgË
 + 
$¬c_ªgË
 / 2);

5415 
$sš_mid
 = 
	`sš
(
$mid_ªgË
);

5416 
$cos_mid
 = 
	`cos
(
$mid_ªgË
);

5418 
$Ïb–_x
 = 
$xc
 + 
$cos_mid
 * 
$r
['x'];

5419 
$Ïb–_y
 = 
$yc
 - 
$sš_mid
 * 
$r
['y'];

5424 ià(
$this
->
Ïb–_sÿË_pos™iÚ
 >ğ0.5 && $this->
shadšg
 > 0 && 
$sš_mid
 < 0) {

5425 
$yoff
 = 
	`mš
(
$this
->
shadšg
, -
$sš_mid
 * 
$r
['y']);

5426 } 
$yoff
 = 0;

5429 
$this
->
	`G‘TextAlignm’t
(
$sš_mid
, 
$cos_mid
, 
$h_®ign
, 
$v_®ign
, 
$r
['reverse']);

5431 
$this
->
	`D¿wText
('g’”ic', 0, 
$Ïb–_x
, 
$Ïb–_y
 + 
$yoff
, $this->
ndx_p›Ïb–_cŞÜ
,

5432 
$Ïb–_txt
, 
$h_®ign
, 
$v_®ign
);

5433  
TRUE
;

5434 
	}
}

5446 
funùiÚ
 
	$S‘Leg’d
(
$which_Ëg
)

5448 ià(
	`is_¬¿y
(
$which_Ëg
)) {

5449 
$this
->
Ëg’d
 = 
$which_Ëg
;

5450 } 
	`–£if
 (!
	`is_nuÎ
(
$which_Ëg
)) {

5451 ià(!
	`is£t
(
$this
->
Ëg’d
)è$this->Ëg’d = 
	`¬¿y
();

5452 
$this
->
Ëg’d
[] = 
$which_Ëg
;

5454 
$this
->
Ëg’d
 = 
NULL
;

5456  
TRUE
;

5457 
	}
}

5463 
funùiÚ
 
	$S‘Leg’dPix–s
(
$which_x
=
NULL
, 
$which_y
=NULL)

5465  
$this
->
	`S‘Leg’dPos™iÚ
(0, 0, 'image', 0, 0, 
$which_x
, 
$which_y
);

5466 
	}
}

5471 
funùiÚ
 
	$S‘Leg’dWÜld
(
$which_x
, 
$which_y
)

5473  
$this
->
	`S‘Leg’dPos™iÚ
(0, 0, 'wÜld', 
$which_x
, 
$which_y
);

5474 
	}
}

5491 
funùiÚ
 
	$S‘Leg’dPos™iÚ
(
$x
, 
$y
, 
$»Ïtive_to
, 
$x_ba£
, 
$y_ba£
, 
$x_off£t
 = 0, 
$y_off£t
 = 0)

5494 ià(!
	`is£t
(
$x
, 
$y
, 
$x_off£t
, 
$y_off£t
)) {

5495 
$this
->
Ëg’d_pos
 = 
NULL
;

5497 
$mode
 = 
$this
->
	`CheckO±iÚ
(
$»Ïtive_to
, 'image,…lÙ,™Ë, wÜld', 
__FUNCTION__
);

5498 ià(
	`em±y
(
$mode
))

5499  
FALSE
;

5501 
$this
->
Ëg’d_pos
 = 
	`com·ù
('x', 'y', 'mode', 'x_base', 'y_base', 'x_offset', 'y_offset');

5503  
TRUE
;

5504 
	}
}

5512 
funùiÚ
 
S‘Leg’dStyË
(
$‹xt_®ign
, 
$cŞÜbox_®ign
 = '')

5514 
$this
->
Ëg’d_‹xt_®ign
 = $this->
CheckO±iÚ
(
$‹xt_®ign
, 'Ëá,„ight', 
__FUNCTION__
);

5515 ià(
em±y
(
$cŞÜbox_®ign
))

5516 
	g$this
->
	gËg’d_cŞÜbox_®ign
 = 
$this
->
Ëg’d_‹xt_®ign
;

5518 
	g$this
->
	gËg’d_cŞÜbox_®ign
 = 
$this
->
CheckO±iÚ
(
$cŞÜbox_®ign
, 'left,„ight,‚one',

5519 
__FUNCTION__
);

5520  (
	g$this
->
	gËg’d_‹xt_®ign
 && $this->
	gËg’d_cŞÜbox_®ign
);

5528 
funùiÚ
 
	$S‘Leg’dU£Sh­es
(
$u£_sh­es
)

5530 
$this
->
Ëg’d_u£_sh­es
 = (
boŞ
)
$u£_sh­es
;

5531  
TRUE
;

5532 
	}
}

5538 
funùiÚ
 
	$S‘Leg’dRev”£
(
$»v”§l
 = 
F®£
)

5540 
$this
->
Ëg’d_»v”£_Üd”
 = (
boŞ
)
$»v”§l
;

5541  
TRUE
;

5542 
	}
}

5548 
funùiÚ
 
S‘Leg’dCŞÜboxBÜd”s
(
$cbbmode
 = 'textcolor')

5550 
$this
->
Ëg’d_cŞÜbox_bÜd”s
 = $this->
CheckO±iÚ
(
$cbbmode
, 'none,extcolor, databordercolor',

5551 
__FUNCTION__
);

5552  (
	gboŞ—n
)
	g$this
->
	gËg’d_cŞÜbox_bÜd”s
;

5567 
´Ùeùed
 
funùiÚ
 
	$G‘Leg’dSizeP¬ams
()

5569 
$fÚt
 = &
$this
->
fÚts
['legend'];

5572 
$max_width
 = 0;

5573 
	`fÜ—ch
 (
$this
->
Ëg’d
 
as
 
$lše
) {

5574 
	`li¡
(
$width
, 
$unu£d
èğ
$this
->
	`SizeText
('Ëg’d', 0, 
$lše
);

5575 ià(
$width
 > 
$max_width
) $max_width = $width;

5579 
$ch¬_w
 = 
$fÚt
['width'];

5580 
$ch¬_h
 = 
$fÚt
['height'];

5581 
$lše_¥acšg
 = 
$this
->
	`G‘LšeS·cšg
(
$fÚt
);

5585 ià(
$this
->
Ëg’d_cŞÜbox_®ign
 == 'none') {

5586 
$cŞÜbox_mode
 = 
F®£
;

5587 } 
	`–£if
 (!
$this
->
Ëg’d_u£_sh­es
 || 
	`em±y
(
£lf
::
$¶Ùs
[$this->
¶Ù_ty³
]['legend_alt_marker'])) {

5588 
$cŞÜbox_mode
 = 'box';

5590 
$cŞÜbox_mode
 = 
£lf
::
$¶Ùs
[
$this
->
¶Ù_ty³
]['legend_alt_marker'];

5594 
$v_m¬gš
 = 
$ch¬_h
 / 2;

5595 
$dÙ_height
 = 
$ch¬_h
 + 
$lše_¥acšg
;

5596 
$cŞÜbox_width
 = 
$ch¬_w
 * 
$this
->
Ëg’d_cŞÜbox_width
;

5599 ià(
$cŞÜbox_mode
 == 'line')

5600 
$cŞÜbox_width
 *= 4;

5605 ià(
$cŞÜbox_mode
) {

5606 
$width
 = 
$max_width
 + 3 * 
$ch¬_w
 + 
$cŞÜbox_width
;

5608 
$width
 = 
$max_width
 + 2 * 
$ch¬_w
;

5610 
$height
 = 
$dÙ_height
 * 
	`couÁ
(
$this
->
Ëg’d
è+ 2 * 
$v_m¬gš
;

5612  
	`com·ù
('width', 'height', 'char_w', 'char_h', 'v_margin',

5614 
	}
}

5621 
funùiÚ
 
	$G‘Leg’dSize
()

5623 ià(
	`em±y
(
$this
->
Ëg’d
))

5624  
FALSE
;

5625 
$·¿ms
 = 
$this
->
	`G‘Leg’dSizeP¬ams
();

5626  
	`¬¿y
(
$·¿ms
['width'], $params['height']);

5627 
	}
}

5635 
´Ùeùed
 
funùiÚ
 
	$G‘Leg’dPos™iÚ
(
$width
, 
$height
)

5638 ià(
	`is£t
(
$this
->
Ëg’d_pos
['mode']))

5639 
	`exŒaù
(
$this
->
Ëg’d_pos
);

5641 
$mode
 = '';

5643 
$mode
) {

5646  
	`¬¿y
(()(
$x_ba£
 * 
$this
->
¶Ù_¬—_width
 - 
$x
 * 
$width
)

5647 + 
$this
->
¶Ù_¬—
[0] + 
$x_off£t
,

5648 ()(
$y_ba£
 * 
$this
->
¶Ù_¬—_height
 - 
$y
 * 
$height
)

5649 + 
$this
->
¶Ù_¬—
[1] + 
$y_off£t
);

5652  
	`¬¿y
(
$this
->
	`xŒ
(
$x_ba£
è+ 
$x_off£t
 - ()(
$x
 * 
$width
),

5653 
$this
->
	`yŒ
(
$y_ba£
è+ 
$y_off£t
 - ()(
$y
 * 
$height
));

5657  
	`¬¿y
(()(
$x_ba£
 * 
$this
->
image_width
 - 
$x
 * 
$width
è+ 
$x_off£t
,

5658 ()(
$y_ba£
 * 
$this
->
image_height
 - 
$y
 * 
$height
è+ 
$y_off£t
);

5662 
	`li¡
(
$t™Ë_width
, 
$t™Ë_height
èğ
$this
->
	`SizeText
('t™Ë', 0, $this->
t™Ë_txt
);

5663 
$t™Ë_x
 = ()((
$this
->
image_width
 - 
$t™Ë_width
) / 2);

5664  
	`¬¿y
(()(
$x_ba£
 * 
$t™Ë_width
 - 
$x
 * 
$width
è+ 
$t™Ë_x
 + 
$x_off£t
,

5665 ()(
$y_ba£
 * 
$t™Ë_height
 - 
$y
 * 
$height
è+ 
$this
->
t™Ë_off£t
 + 
$y_off£t
);

5668  
	`¬¿y
 (
$this
->
¶Ù_¬—
[2] - 
$width
 - $this->
§ã_m¬gš
,

5669 
$this
->
¶Ù_¬—
[1] + $this->
§ã_m¬gš
);

5671 
	}
}

5678 
´Ùeùed
 
funùiÚ
 
	$D¿wLeg’d
()

5682 
	`exŒaù
(
$this
->
	`G‘Leg’dSizeP¬ams
());

5685 
	`li¡
(
$box_¡¬t_x
, 
$box_¡¬t_y
èğ
$this
->
	`G‘Leg’dPos™iÚ
(
$width
, 
$height
);

5686 
$box_’d_y
 = 
$box_¡¬t_y
 + 
$height
;

5687 
$box_’d_x
 = 
$box_¡¬t_x
 + 
$width
;

5690 
	`ImageFËdReùªgË
(
$this
->
img
, 
$box_¡¬t_x
, 
$box_¡¬t_y
, 
$box_’d_x
, 
$box_’d_y
,

5691 
$this
->
ndx_Ëg’d_bg_cŞÜ
);

5692 
	`ImageReùªgË
(
$this
->
img
, 
$box_¡¬t_x
, 
$box_¡¬t_y
, 
$box_’d_x
, 
$box_’d_y
,

5693 
$this
->
ndx_grid_cŞÜ
);

5696 ià(!
$cŞÜbox_mode
) {

5697 ià(
$this
->
Ëg’d_‹xt_®ign
 == 'left')

5698 
$x_pos
 = 
$box_¡¬t_x
 + 
$ch¬_w
;

5700 
$x_pos
 = 
$box_’d_x
 - 
$ch¬_w
;

5701 
$dÙ_Ëá_x
 = 0;

5702 } 
	`–£if
 (
$this
->
Ëg’d_cŞÜbox_®ign
 == 'left') {

5703 
$dÙ_Ëá_x
 = 
$box_¡¬t_x
 + 
$ch¬_w
;

5704 
$dÙ_right_x
 = 
$dÙ_Ëá_x
 + 
$cŞÜbox_width
;

5705 ià(
$this
->
Ëg’d_‹xt_®ign
 == 'left')

5706 
$x_pos
 = 
$dÙ_right_x
 + 
$ch¬_w
;

5708 
$x_pos
 = 
$box_’d_x
 - 
$ch¬_w
;

5710 
$dÙ_right_x
 = 
$box_’d_x
 - 
$ch¬_w
;

5711 
$dÙ_Ëá_x
 = 
$dÙ_right_x
 - 
$cŞÜbox_width
;

5712 ià(
$this
->
Ëg’d_‹xt_®ign
 == 'left')

5713 
$x_pos
 = 
$box_¡¬t_x
 + 
$ch¬_w
;

5715 
$x_pos
 = 
$dÙ_Ëá_x
 - 
$ch¬_w
;

5721 ià(
$this
->
Ëg’d_»v”£_Üd”
) {

5722 
$y_pos
 = 
$box_’d_y
 - 
$v_m¬gš
;

5723 
$d–_y
 = -
$dÙ_height
;

5725 
$y_pos
 = 
$box_¡¬t_y
 + 
$v_m¬gš
 + 
$dÙ_height
;

5726 
$d–_y
 = 
$dÙ_height
;

5728 
$yc
 = ()(
$y_pos
 - 
$dÙ_height
 / 2);

5729 
$xc
 = ()(
$dÙ_Ëá_x
 + 
$cŞÜbox_width
 / 2);

5735 ià(
$cŞÜbox_mode
) {

5736 
$cŞÜ_šdex
 = 0;

5737 
$max_cŞÜ_šdex
 = 
	`couÁ
(
$this
->
ndx_d©a_cŞÜs
) - 1;

5738 
$lws_šdex
 = 0;

5739 
$sh­e_šdex
 = 0;

5742 
	`fÜ—ch
 (
$this
->
Ëg’d
 
as
 
$Ëg
) {

5744 
$this
->
	`D¿wText
('Ëg’d', 0, 
$x_pos
, 
$yc
, $this->
ndx_Ëg’d_‹xt_cŞÜ
, 
$Ëg
,

5745 
$this
->
Ëg’d_‹xt_®ign
, 'center');

5746 ià(
$cŞÜbox_mode
) {

5747 
$y1
 = 
$y_pos
 - 
$dÙ_height
 + 1;

5748 
$y2
 = 
$y_pos
 - 1;

5751 ià(
$this
->
d¿w_¶Ù_¬—_background
 && 
$cŞÜbox_mode
 != 'box') {

5752 
	`ImageFËdReùªgË
(
$this
->
img
, 
$dÙ_Ëá_x
, 
$y1
, 
$dÙ_right_x
, 
$y2
,

5753 
$this
->
ndx_¶Ù_bg_cŞÜ
);

5756 
$cŞÜbox_mode
) {

5759 
$this
->
	`D¿wSh­e
(
$xc
, 
$yc
, 
$sh­e_šdex
++, $this->
ndx_d©a_cŞÜs
[
$cŞÜ_šdex
], 
FALSE
);

5764 
	`image£‰hickÃss
(
$this
->
img
, $this->
lše_widths
[
$lws_šdex
]);

5765 
$¡yË
 = 
$this
->
	`S‘DashedStyË
($this->
ndx_d©a_cŞÜs
[
$cŞÜ_šdex
],

5766 
$this
->
lše_¡yËs
[
$lws_šdex
] == 'dashed');

5767 
	`imag–še
(
$this
->
img
, 
$dÙ_Ëá_x
, 
$yc
, 
$dÙ_right_x
, $yc, 
$¡yË
);

5768 
	`image£‰hickÃss
(
$this
->
img
, 1);

5769 ià(++
$lws_šdex
 >ğ
$this
->
d©a_cŞumns
) $lws_index = 0;

5774 
	`ImageFËdReùªgË
(
$this
->
img
, 
$dÙ_Ëá_x
, 
$y1
, 
$dÙ_right_x
, 
$y2
,

5775 
$this
->
ndx_d©a_cŞÜs
[
$cŞÜ_šdex
]);

5777 ià(
$this
->
Ëg’d_cŞÜbox_bÜd”s
 != 'none') {

5778 ià(
$this
->
Ëg’d_cŞÜbox_bÜd”s
 == 'databordercolor')

5779 
$cŞÜ
 = 
$this
->
ndx_d©a_bÜd”_cŞÜs
[
$cŞÜ_šdex
];

5781 
$cŞÜ
 = 
$this
->
ndx_‹xt_cŞÜ
;

5782 
	`ImageReùªgË
(
$this
->
img
, 
$dÙ_Ëá_x
, 
$y1
, 
$dÙ_right_x
, 
$y2
, 
$cŞÜ
);

5785 ià(++
$cŞÜ_šdex
 > 
$max_cŞÜ_šdex
) $color_index = 0;

5787 
$y_pos
 +ğ
$d–_y
;

5788 
$yc
 +ğ
$d–_y
;

5790  
TRUE
;

5791 
	}
}

5804 
´Ùeùed
 
funùiÚ
 
	$G‘D©aCŞÜ
(
$row
, 
$idx
, &
$v¬s
, &
$d©a_cŞÜ
, 
$exŒa
 = 0)

5807 ià(
	`em±y
(
$v¬s
)) {

5808 
$cu¡om_cŞÜ
 = (
boŞ
)
$this
->
	`G‘C®lback
('data_color');

5809 
$num_d©a_cŞÜs
 = 
	`couÁ
(
$this
->
ndx_d©a_cŞÜs
);

5810 
$v¬s
 = 
	`com·ù
('custom_color', 'num_data_colors');

5812 
	`exŒaù
(
$v¬s
);

5816 ià(
$cu¡om_cŞÜ
) {

5817 
$idx
 = 
$this
->
	`DoC®lback
('d©a_cŞÜ', 
$row
, $idx, 
$exŒa
è% 
$num_d©a_cŞÜs
;

5819 
$d©a_cŞÜ
 = 
$this
->
ndx_d©a_cŞÜs
[
$idx
];

5820 
	}
}

5830 
´Ùeùed
 
funùiÚ
 
	$G‘D©aE¼ÜCŞÜs
(
$row
, 
$idx
, &
$v¬s
, &
$d©a_cŞÜ
, &
$”rÜ_cŞÜ
, 
$exŒa
 = 0)

5833 ià(
	`em±y
(
$v¬s
)) {

5834 
$this
->
	`N“dE¼ÜB¬CŞÜs
();

5835 
$cu¡om_cŞÜ
 = (
boŞ
)
$this
->
	`G‘C®lback
('data_color');

5836 
$num_d©a_cŞÜs
 = 
	`couÁ
(
$this
->
ndx_d©a_cŞÜs
);

5837 
$num_”rÜ_cŞÜs
 = 
	`couÁ
(
$this
->
ndx_”rÜ_b¬_cŞÜs
);

5838 
$v¬s
 = 
	`com·ù
('custom_color', 'num_data_colors', 'num_error_colors');

5840 
	`exŒaù
(
$v¬s
);

5844 ià(
$cu¡om_cŞÜ
) {

5845 
$cŞ_i
 = 
$this
->
	`DoC®lback
('d©a_cŞÜ', 
$row
, 
$idx
, 
$exŒa
);

5846 
$d©a_cŞÜ
 = 
$this
->
ndx_d©a_cŞÜs
[
$cŞ_i
 % 
$num_d©a_cŞÜs
];

5847 
$”rÜ_cŞÜ
 = 
$this
->
ndx_”rÜ_b¬_cŞÜs
[
$cŞ_i
 % 
$num_”rÜ_cŞÜs
];

5849 
$d©a_cŞÜ
 = 
$this
->
ndx_d©a_cŞÜs
[
$idx
];

5850 
$”rÜ_cŞÜ
 = 
$this
->
ndx_”rÜ_b¬_cŞÜs
[
$idx
];

5852 
	}
}

5864 
´Ùeùed
 
funùiÚ
 
	$G‘B¬CŞÜs
(
$row
, 
$idx
, &
$v¬s
, &
$d©a_cŞÜ
, &
$shade_cŞÜ
, &
$bÜd”_cŞÜ
)

5867 ià(
	`em±y
(
$v¬s
)) {

5868 ià((
$shaded
 = (
$this
->
shadšg
 > 0)))

5869 
$this
->
	`N“dD©aD¬kCŞÜs
();

5870 
$cu¡om_cŞÜ
 = (
boŞ
)
$this
->
	`G‘C®lback
('data_color');

5871 
$num_d©a_cŞÜs
 = 
	`couÁ
(
$this
->
ndx_d©a_cŞÜs
);

5872 
$num_bÜd”_cŞÜs
 = 
	`couÁ
(
$this
->
ndx_d©a_bÜd”_cŞÜs
);

5874 
$bÜd”s
 = 
	`is£t
(
$this
->
d¿w_d©a_bÜd”s
è? $this->d¿w_d©a_bÜd” : !
$shaded
;

5876 
$v¬s
 = 
	`com·ù
('borders', 'custom_color', 'num_data_colors', 'num_border_colors', 'shaded');

5878 
	`exŒaù
(
$v¬s
);

5882 ià(
$cu¡om_cŞÜ
) {

5883 
$cŞ_i
 = 
$this
->
	`DoC®lback
('d©a_cŞÜ', 
$row
, 
$idx
);

5884 
$i_d©a
 = 
$cŞ_i
 % 
$num_d©a_cŞÜs
;

5885 
$i_bÜd”
 = 
$cŞ_i
 % 
$num_bÜd”_cŞÜs
;

5887 
$i_d©a
 = 
$i_bÜd”
 = 
$idx
;

5889 
$d©a_cŞÜ
 = 
$this
->
ndx_d©a_cŞÜs
[
$i_d©a
];

5890 
$shade_cŞÜ
 = 
$shaded
 ? 
$this
->
ndx_d©a_d¬k_cŞÜs
[
$i_d©a
] : 
NULL
;

5891 
$bÜd”_cŞÜ
 = 
$bÜd”s
 ? 
$this
->
ndx_d©a_bÜd”_cŞÜs
[
$i_bÜd”
] : 
NULL
;

5892 
	}
}

5900 
´Ùeùed
 
funùiÚ
 
	$G‘GridS‘tšg
(
$xy
)

5902 ià(
$xy
 == 'x')

5903  
	`is£t
(
$this
->
d¿w_x_grid
è? $this->d¿w_x_grid : $this->
d©©y³_sw­³d_xy
;

5905  
	`is£t
(
$this
->
d¿w_y_grid
è? $this->d¿w_y_grid : !$this->
d©©y³_sw­³d_xy
;

5906 
	}
}

5917 
´Ùeùed
 
funùiÚ
 
	$D¿wSh­e
(
$x
, 
$y
, 
$»cÜd
, 
$cŞÜ
, 
$®low_nÚe
 = 
TRUE
)

5919 
$šdex
 = 
$»cÜd
 % 
$this
->
pošt_couÁs
;

5920 
$pošt_size
 = 
$this
->
pošt_sizes
[
$šdex
];

5921 
$h®f_pošt
 = ()(
$pošt_size
 / 2);

5923 
$x1
 = 
$x
 - 
$h®f_pošt
;

5924 
$x2
 = 
$x
 + 
$h®f_pošt
;

5925 
$y1
 = 
$y
 - 
$h®f_pošt
;

5926 
$y2
 = 
$y
 + 
$h®f_pošt
;

5928 
$this
->
pošt_sh­es
[
$šdex
]) {

5930 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y
, 
$x
, $y, 
$cŞÜ
);

5933 ià(
$®low_nÚe
) ;

5935 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y
, 
$x2
, $y, 
$cŞÜ
);

5938 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y
, 
$x2
, $y, 
$cŞÜ
);

5939 
	`ImageLše
(
$this
->
img
, 
$x
, 
$y1
, $x, 
$y2
, 
$cŞÜ
);

5942 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$cŞÜ
);

5943 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y2
, 
$x2
, 
$y1
, 
$cŞÜ
);

5946 
	`ImageArc
(
$this
->
img
, 
$x
, 
$y
, 
$pošt_size
, $pošt_size, 0, 360, 
$cŞÜ
);

5949 
	`ImageFËdEÎ£
(
$this
->
img
, 
$x
, 
$y
, 
$pošt_size
, $pošt_size, 
$cŞÜ
);

5952 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y
, 
$x
, 
$y1
, 
$x2
, $y, $x, 
$y2
);

5953 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 4, 
$cŞÜ
);

5956 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y
, 
$x2
, $y, 
$x
, 
$y2
);

5957 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 3, 
$cŞÜ
);

5960 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y1
, 
$x2
, $y1, 
$x
, 
$y
);

5961 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 3, 
$cŞÜ
);

5964 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y1
, 
$x2
, $y1, 
$x
, 
$y2
);

5965 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 3, 
$cŞÜ
);

5968 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y2
, 
$x2
, $y2, 
$x
, 
$y1
);

5969 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 3, 
$cŞÜ
);

5972 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y
, 
$x2
, $y, 
$cŞÜ
);

5973 
	`ImageLše
(
$this
->
img
, 
$x
, 
$y1
, $x, 
$y2
, 
$cŞÜ
);

5974 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$cŞÜ
);

5975 
	`ImageLše
(
$this
->
img
, 
$x1
, 
$y2
, 
$x2
, 
$y1
, 
$cŞÜ
);

5978 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y1
, 
$x2
, $y1, $x1, 
$y2
, $x2, $y2);

5979 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 4, 
$cŞÜ
);

5982 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y1
, $x1, 
$y2
, 
$x2
, $y1, $x2, $y2);

5983 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 4, 
$cŞÜ
);

5986 
	`ImageFËdReùªgË
(
$this
->
img
, 
$x1
, 
$y1
, 
$x
, 
$y
, 
$cŞÜ
);

5987 
	`ImageFËdReùªgË
(
$this
->
img
, 
$x
, 
$y
, 
$x2
, 
$y2
, 
$cŞÜ
);

5988 
	`ImageReùªgË
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$cŞÜ
);

5991 
	`ImageReùªgË
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$cŞÜ
);

5994 
$¬½ošts
 = 
	`¬¿y
(
$x1
, 
$y2
, 
$x2
, $y2, $x2, 
$y
, 
$x
, 
$y1
, $x1, $y);

5995 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$¬½ošts
, 5, 
$cŞÜ
);

5998 
	`ImagePŞygÚ
(
$this
->
img
, 
	`¬¿y
(
$x
, 
$y1
, 
$x2
, 
$y2
, 
$x1
, $y2), 3, 
$cŞÜ
);

6001 
	`ImagePŞygÚ
(
$this
->
img
, 
	`¬¿y
(
$x
, 
$y2
, 
$x1
, 
$y1
, 
$x2
, $y1), 3, 
$cŞÜ
);

6004 
	`ImageFËdReùªgË
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$cŞÜ
);

6007  
TRUE
;

6008 
	}
}

6017 
´Ùeùed
 
funùiÚ
 
	$D¿wDÙ
(
$row
, 
$cŞumn
, 
$x_wÜld
, 
$y_wÜld
, 
$cŞÜ
)

6019 
$x
 = 
$this
->
	`xŒ
(
$x_wÜld
);

6020 
$y
 = 
$this
->
	`yŒ
(
$y_wÜld
);

6021 
$»suÉ
 = 
$this
->
	`D¿wSh­e
(
$x
, 
$y
, 
$cŞumn
, 
$cŞÜ
);

6022 
$this
->
	`DoC®lback
('d©a_pošts', 'dÙ', 
$row
, 
$cŞumn
, 
$x
, 
$y
);

6023  
$»suÉ
;

6024 
	}
}

6040 
´Ùeùed
 
funùiÚ
 
	$D¿wB¬
(
$row
, 
$cŞumn
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
,

6041 
$shade_tİ
 = 
TRUE
, 
$shade_side
 = TRUE)

6045 ià(
$x1
 > 
$x2
) {

6046 
$t
 = 
$x1
; $x1 = 
$x2
; $x2 = $t;

6048 ià(
$y1
 > 
$y2
) {

6049 
$t
 = 
$y1
; $y1 = 
$y2
; $y2 = $t;

6053 
	`ImageFËdReùªgË
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$d©a_cŞÜ
);

6056 ià(
	`is£t
(
$shade_cŞÜ
)) {

6057 
$shade
 = 
$this
->
shadšg
;

6058 ià(
$shade_tİ
 && 
$shade_side
) {

6059 
$±s
 = 
	`¬¿y
(
$x1
, 
$y1
, $x1 + 
$shade
, $y1 - $shade, 
$x2
 + $shade, $y1 - $shade,

6060 
$x2
 + 
$shade
, 
$y2
 - $shade, $x2, $y2, $x2, 
$y1
);

6061 } 
	`–£if
 (
$shade_tİ
) {

6062 
$±s
 = 
	`¬¿y
(
$x1
, 
$y1
, $x1 + 
$shade
, $y1 - $shade, 
$x2
 + $shade, $y1 - $shade, $x2, $y1);

6064 
$±s
 = 
	`¬¿y
(
$x2
, 
$y2
, $x2, 
$y1
, $x2 + 
$shade
, $y1 - $shade, $x2 + $shade, $y2 - $shade);

6066 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$±s
, 
	`couÁ
($±sè/ 2, 
$shade_cŞÜ
);

6070 ià(
	`is£t
(
$bÜd”_cŞÜ
)) {

6072 ià(
$y1
 =ğ
$y2
)

6073 
	`imag–še
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$bÜd”_cŞÜ
);

6075 
	`imag”eùªgË
(
$this
->
img
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$bÜd”_cŞÜ
);

6077 
$this
->
	`DoC®lback
('d©a_pošts', '»ù', 
$row
, 
$cŞumn
, 
$x1
, 
$y1
, 
$x2
, 
$y2
);

6078  
TRUE
;

6079 
	}
}

6087 
´Ùeùed
 
funùiÚ
 
	$D¿wXE¼ÜB¬s
(
$x
, 
$y
, 
$”rÜ_¶us
, 
$”rÜ_mšus
, 
$cŞÜ
)

6089 
$x1
 = 
$this
->
	`xŒ
(
$x
);

6090 
$y1
 = 
$this
->
	`yŒ
(
$y
);

6091 
$x2p
 = 
$this
->
	`xŒ
(
$x
 + 
$”rÜ_¶us
);

6092 
$x2m
 = 
$this
->
	`xŒ
(
$x
 - 
$”rÜ_mšus
);

6094 
	`image£‰hickÃss
(
$this
->
img
, $this->
”rÜ_b¬_lše_width
);

6095 
	`imag–še
(
$this
->
img
, 
$x2p
, 
$y1
 , 
$x2m
, $y1, 
$cŞÜ
);

6096 ià(
$this
->
”rÜ_b¬_sh­e
 == 'tee') {

6097 
$e
 = 
$this
->
”rÜ_b¬_size
;

6098 
	`imag–še
(
$this
->
img
, 
$x2p
, 
$y1
 - 
$e
, $x2p, $y1 + $e, 
$cŞÜ
);

6099 
	`imag–še
(
$this
->
img
, 
$x2m
, 
$y1
 - 
$e
, $x2m, $y1 + $e, 
$cŞÜ
);

6101 
	`image£‰hickÃss
(
$this
->
img
, 1);

6102  
TRUE
;

6103 
	}
}

6111 
´Ùeùed
 
funùiÚ
 
	$D¿wYE¼ÜB¬s
(
$x
, 
$y
, 
$”rÜ_¶us
, 
$”rÜ_mšus
, 
$cŞÜ
)

6113 
$x1
 = 
$this
->
	`xŒ
(
$x
);

6114 
$y1
 = 
$this
->
	`yŒ
(
$y
);

6115 
$y2p
 = 
$this
->
	`yŒ
(
$y
 + 
$”rÜ_¶us
);

6116 
$y2m
 = 
$this
->
	`yŒ
(
$y
 - 
$”rÜ_mšus
);

6118 
	`image£‰hickÃss
(
$this
->
img
, $this->
”rÜ_b¬_lše_width
);

6119 
	`imag–še
(
$this
->
img
, 
$x1
, 
$y2p
 , $x1, 
$y2m
, 
$cŞÜ
);

6120 ià(
$this
->
”rÜ_b¬_sh­e
 == 'tee') {

6121 
$e
 = 
$this
->
”rÜ_b¬_size
;

6122 
	`imag–še
(
$this
->
img
, 
$x1
 - 
$e
, 
$y2p
, $x1 + $e, $y2p, 
$cŞÜ
);

6123 
	`imag–še
(
$this
->
img
, 
$x1
 - 
$e
, 
$y2m
, $x1 + $e, $y2m, 
$cŞÜ
);

6125 
	`image£‰hickÃss
(
$this
->
img
, 1);

6126  
TRUE
;

6127 
	}
}

6135 
´Ùeùed
 
funùiÚ
 
	$CheckP›Lab–s
()

6137 ià(
	`em±y
(
$this
->
p›_Ïb–_sourû
)) {

6138 
$´ec
 = 
	`is£t
(
$this
->
Ïb–_fÜm©
['y']['precision']) ? $this->label_format['y']['precision'] : 1;

6139 
$this
->
	`S‘Lab–Ty³
('p', 
	`¬¿y
('d©a', 
$´ec
, '', '%'));

6140  
	`¬¿y
('percent');

6142  
$this
->
p›_Ïb–_sourû
;

6143 
	}
}

6167 
´Ùeùed
 
funùiÚ
 
	$D¿wP›Ch¬t
()

6170 ià(!
$this
->
	`CheckD©aTy³
('text-data,ext-data-single, data-data'))

6171  
FALSE
;

6174 
$do_Ïb–s
 = !
	`em±y
(
$this
->
Ïb–_sÿË_pos™iÚ
);

6175 ià(
$do_Ïb–s
) {

6177 
$p›_Ïb–_sourû
 = 
$this
->
	`CheckP›Lab–s
();

6179 
$Ïb–s_outside
 = 
$this
->
Ïb–_sÿË_pos™iÚ
 >= 0.5;

6183 
$do_bÜd”s
 = 
	`is£t
(
$this
->
d¿w_p›_bÜd”s
è? $this->d¿w_p›_bÜd” : ($this->
shadšg
 == 0);

6185 
$max_d©a_cŞÜs
 = 
	`couÁ
(
$this
->
ndx_d©a_cŞÜs
);

6188 ià(
$this
->
shadšg
 > 0) {

6189 
$dŸm_çùÜ
 = 
$this
->
p›_dŸm_çùÜ
;

6190 
$this
->
	`N“dD©aD¬kCŞÜs
();

6192 
$dŸm_çùÜ
 = 1.0;

6196 
$xpos
 = 
$this
->
¶Ù_¬—
[0] + $this->
¶Ù_¬—_width
/2;

6197 
$ypos
 = 
$this
->
¶Ù_¬—
[1] + $this->
¶Ù_¬—_height
/2;

6200 
$num_¦iûs
 = 
$this
->
d©a_cŞumns
;

6201 ià(
$num_¦iûs
 < 1è 
TRUE
;

6202 
$sum¬r
 = 
	`¬¿y_fl
(0, 
$num_¦iûs
, 0);

6204 ià(
$this
->
d©©y³_p›_sšgË
) {

6206 
$i
 = 0; $˜< 
$num_¦iûs
; $i++) {

6207 ià(
	`is_num”ic
(
$v®
 = 
$this
->
d©a
[
$i
][1]))

6208 
$sum¬r
[
$i
] = 
	`abs
(
$v®
);

6213 
$sk
 = (
$this
->
d©©y³_im¶›d
) ? 1 : 2;

6214 
$i
 = 0; $˜< 
$this
->
num_d©a_rows
; $i++) {

6215 
$j
 = 
$sk
; $j < 
$this
->
num_»cs
[
$i
]; $j++) {

6216 ià(
	`is_num”ic
(
$v®
 = 
$this
->
d©a
[
$i
][
$j
]))

6217 
$sum¬r
[
$j
-
$sk
] +ğ
	`abs
(
$v®
);

6222 
$tÙ®
 = 
	`¬¿y_sum
(
$sum¬r
);

6223 ià(
$tÙ®
 == 0) {

6226  
TRUE
;

6237 
$Ïb–_max_width
 = 0;

6238 
$Ïb–_max_height
 = 0;

6239 ià(
$do_Ïb–s
) {

6240 
$Ïb–s
 = 
	`¬¿y
();

6241 
$’d_ªgË
 = 
$¡¬t_ªgË
 = 
$this
->
p›_¡¬t_ªgË
;

6242 
$j
 = 0; $j < 
$num_¦iûs
; $j++) {

6243 
$¦iû_weight
 = 
$sum¬r
[
$j
];

6244 
$¬c_ªgË
 = 360 * 
$¦iû_weight
 / 
$tÙ®
;

6245 ià(
$this
->
p›_dœeùiÚ_cw
) {

6246 
$’d_ªgË
 = 
$¡¬t_ªgË
;

6247 
$¡¬t_ªgË
 -ğ
$¬c_ªgË
;

6249 
$¡¬t_ªgË
 = 
$’d_ªgË
;

6250 
$’d_ªgË
 +ğ
$¬c_ªgË
;

6252 
$¬c_¡¬t_ªgË
 = ()(360 - 
$¡¬t_ªgË
);

6253 
$¬c_’d_ªgË
 = ()(360 - 
$’d_ªgË
);

6254 ià(
$¬c_¡¬t_ªgË
 > 
$¬c_’d_ªgË
) {

6255 
$Ïb–s
[
$j
] = 
$this
->
	`FÜm©P›Lab–
($j, 
$p›_Ïb–_sourû
, 
$¬c_ªgË
, 
$¦iû_weight
);

6256 ià(
$Ïb–s_outside
) {

6257 
	`li¡
(
$width
, 
$height
èğ
$this
->
	`SizeText
('g’”ic', 0, 
$Ïb–s
[
$j
]);

6258 ià(
$width
 > 
$Ïb–_max_width
) $label_max_width = $width;

6259 ià(
$height
 > 
$Ïb–_max_height
) $label_max_height = $height;

6267 ià(
$do_Ïb–s
 && 
$Ïb–s_outside
 && !
$this
->
p›_fuÎ_size
) {

6281 
$ava_width
 = 
	`mš
(

6282 (
$this
->
¶Ù_¬—_width
 / 2 - 
$Ïb–_max_width
 - $this->
§ã_m¬gš
) /

6283 
$this
->
Ïb–_sÿË_pos™iÚ
,

6284 
$this
->
¶Ù_¬—_width
 - 4 * $this->
§ã_m¬gš
 - 2 * 
$Ïb–_max_width
);

6286 
$ava_height
 = 
	`mš
(

6287 (
$this
->
¶Ù_¬—_height
 / 2 - 
$Ïb–_max_height
 - $this->
§ã_m¬gš
 - $this->
shadšg
) /

6288 
$this
->
Ïb–_sÿË_pos™iÚ
,

6289 
$this
->
¶Ù_¬—_height
 - 4*$this->
§ã_m¬gš
 - 2*(
$Ïb–_max_height
 + $this->
shadšg
));

6292 
$ava_width
 = 
	`max
($ava_width, 
$this
->
p›_mš_size_çùÜ
 * $this->
¶Ù_¬—_width
);

6293 
$ava_height
 = 
	`max
($ava_height, 
$this
->
p›_mš_size_çùÜ
 * $this->
¶Ù_¬—_height
);

6295 
$ava_width
 = 
$this
->
¶Ù_¬—_width
 - 2 * $this->
§ã_m¬gš
;

6297 
$ava_height
 = 
$this
->
¶Ù_¬—_height
 - 2 * ($this->
§ã_m¬gš
 + $this->
shadšg
);

6301 ià(
$ava_height
 / 
$ava_width
 > 
$dŸm_çùÜ
) {

6302 
$p›_width
 = 
$ava_width
;

6303 
$p›_height
 = 
$p›_width
 * 
$dŸm_çùÜ
;

6305 
$p›_height
 = 
$ava_height
;

6306 
$p›_width
 = 
$p›_height
 / 
$dŸm_çùÜ
;

6310 ià(
$do_Ïb–s
) {

6311 
$r
['»v”£'] = 0.25 < 
$this
->
Ïb–_sÿË_pos™iÚ
 && $this->label_scale_position < 0.5;

6312 
$r
['x'] = 
$p›_width
 * 
$this
->
Ïb–_sÿË_pos™iÚ
;

6313 
$r
['y'] = 
$p›_height
 * 
$this
->
Ïb–_sÿË_pos™iÚ
;

6314 ià(
$Ïb–s_outside
) {

6316 
$r
['x'] = 
	`max
($r['x'], 
$p›_width
 / 2 + 
$this
->
§ã_m¬gš
);

6317 
$r
['y'] = 
	`max
($r['y'], 
$p›_height
 / 2 + 
$this
->
§ã_m¬gš
);

6320 
$r
['x'] = 
	`mš
($r['x'], 
$p›_width
 / 2 - 
$this
->
§ã_m¬gš
);

6321 
$r
['y'] = 
	`mš
($r['y'], 
$p›_height
 / 2 - 
$this
->
§ã_m¬gš
);

6326 
$h
 = 
$this
->
shadšg
; $h >= 0; $h--) {

6327 
$cŞÜ_šdex
 = 0;

6331 
$’d_ªgË
 = 
$¡¬t_ªgË
 = 
$this
->
p›_¡¬t_ªgË
;

6334 
$j
 = 0; $j < 
$num_¦iûs
; $j++) {

6335 
$¦iû_weight
 = 
$sum¬r
[
$j
];

6336 
$¬c_ªgË
 = 360 * 
$¦iû_weight
 / 
$tÙ®
;

6339 ià(
$h
 == 0)

6340 
$¦iûcŞ
 = 
$this
->
ndx_d©a_cŞÜs
[
$cŞÜ_šdex
];

6342 
$¦iûcŞ
 = 
$this
->
ndx_d©a_d¬k_cŞÜs
[
$cŞÜ_šdex
];

6346 ià(
$this
->
p›_dœeùiÚ_cw
) {

6347 
$’d_ªgË
 = 
$¡¬t_ªgË
;

6348 
$¡¬t_ªgË
 -ğ
$¬c_ªgË
;

6350 
$¡¬t_ªgË
 = 
$’d_ªgË
;

6351 
$’d_ªgË
 +ğ
$¬c_ªgË
;

6356 
$¬c_¡¬t_ªgË
 = ()(360 - 
$¡¬t_ªgË
);

6357 
$¬c_’d_ªgË
 = ()(360 - 
$’d_ªgË
);

6359 ià(
$¬c_¡¬t_ªgË
 > 
$¬c_’d_ªgË
) {

6361 
	`ImageFËdArc
(
$this
->
img
, 
$xpos
, 
$ypos
+
$h
, 
$p›_width
, 
$p›_height
,

6362 
$¬c_’d_ªgË
, 
$¬c_¡¬t_ªgË
, 
$¦iûcŞ
, 
IMG_ARC_PIE
);

6365 ià(
$h
 == 0) {

6367 ià(
$do_bÜd”s
) {

6368 
	`ImageFËdArc
(
$this
->
img
, 
$xpos
, 
$ypos
, 
$p›_width
, 
$p›_height
,

6369 
$¬c_’d_ªgË
, 
$¬c_¡¬t_ªgË
, 
$this
->
ndx_p›bÜd”_cŞÜ
,

6370 
IMG_ARC_PIE
 | 
IMG_ARC_EDGED
 |
IMG_ARC_NOFILL
);

6374 ià(
$do_Ïb–s
)

6375 
$this
->
	`D¿wP›Lab–
(
$Ïb–s
[
$j
], 
$xpos
, 
$ypos
, 
$¡¬t_ªgË
, 
$¬c_ªgË
, 
$r
);

6377 
$this
->
	`DoC®lback
('d©a_pošts', 'p›', 
$j
, 0, 
$xpos
, 
$ypos
, 
$p›_width
,

6378 
$p›_height
, 
$¬c_¡¬t_ªgË
, 
$¬c_’d_ªgË
);

6381 ià(++
$cŞÜ_šdex
 >ğ
$max_d©a_cŞÜs
)

6382 
$cŞÜ_šdex
 = 0;

6385  
TRUE
;

6386 
	}
}

6394 
´Ùeùed
 
funùiÚ
 
	$D¿wDÙs
(
$·œed
 = 
FALSE
)

6396 ià(!
$this
->
	`CheckD©aTy³
('text-data, data-data,ext-data-yx, data-data-yx, '

6398  
FALSE
;

6401 
$this
->
	`CheckPoštP¬ams
();

6403 
$gcv¬s
 = 
	`¬¿y
();

6405 
$®t_æag
 = 
$·œed
 ? 1 : 0;

6408 ià(
$this
->
d©©y³_sw­³d_xy
) {

6410 
$do_x_axis_Ïb–s
 = 
FALSE
;

6411 
$do_x_v®u_Ïb–s
 = !
$·œed
 && 
$this
->
	`CheckD©aV®ueLab–s
($this->
x_d©a_Ïb–_pos
, 
$dvl
);

6412 
$do_y_axis_Ïb–s
 = !
$·œed
 && 
$this
->
y_d©a_Ïb–_pos
 != 'none';

6413 
$do_y_v®u_Ïb–s
 = 
FALSE
;

6416 
$do_x_axis_Ïb–s
 = !
$·œed
 && 
$this
->
x_d©a_Ïb–_pos
 != 'none';

6417 
$do_x_v®u_Ïb–s
 = 
FALSE
;

6418 
$do_y_axis_Ïb–s
 = 
FALSE
;

6419 
$do_y_v®u_Ïb–s
 = !
$·œed
 && 
$this
->
	`CheckD©aV®ueLab–s
($this->
y_d©a_Ïb–_pos
, 
$dvl
);

6422 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

6423 
$»c
 = 1;

6425 ià(
$this
->
d©©y³_im¶›d
)

6426 
$iv
 = 0.5 + 
$row
;

6428 
$iv
 = 
$this
->
d©a
[
$row
][
$»c
++];

6431 ià(
$do_x_axis_Ïb–s
)

6432 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], $this->
	`xŒ
(
$iv
), $row, 
TRUE
);

6433 
	`–£if
 (
$do_y_axis_Ïb–s
)

6434 
$this
->
	`D¿wYD©aLab–
($this->
d©a
[
$row
][0], $this->
	`yŒ
(
$iv
), $row, 
TRUE
);

6437 
$idx
 = 0; 
$»c
 < 
$this
->
num_»cs
[
$row
]; $idx++) {

6438 ià(
	`is_num”ic
(
$dv
 = 
$this
->
d©a
[
$row
][
$»c
++])) {

6441 ià(
$this
->
d©©y³_”rÜ_b¬s
) {

6442 
$this
->
	`G‘D©aE¼ÜCŞÜs
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
, 
$”rÜ_cŞÜ
, 
$®t_æag
);

6444 
$this
->
	`G‘D©aCŞÜ
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
, 
$®t_æag
);

6448 ià(
$this
->
d©©y³_sw­³d_xy
) {

6449 
$this
->
	`D¿wDÙ
(
$row
, 
$idx
, 
$dv
, 
$iv
, 
$d©a_cŞÜ
);

6450 ià(
$this
->
d©©y³_”rÜ_b¬s
) {

6451 
$this
->
	`D¿wXE¼ÜB¬s
(
$dv
, 
$iv
, $this->
d©a
[
$row
][
$»c
],

6452 
$this
->
d©a
[
$row
][
$»c
+1], 
$”rÜ_cŞÜ
);

6455 
$this
->
	`D¿wDÙ
(
$row
, 
$idx
, 
$iv
, 
$dv
, 
$d©a_cŞÜ
);

6456 ià(
$this
->
d©©y³_”rÜ_b¬s
) {

6457 
$this
->
	`D¿wYE¼ÜB¬s
(
$iv
, 
$dv
, $this->
d©a
[
$row
][
$»c
],

6458 
$this
->
d©a
[
$row
][
$»c
+1], 
$”rÜ_cŞÜ
);

6463 ià(
$do_y_v®u_Ïb–s
) {

6464 
$this
->
	`D¿wD©aV®ueLab–
('y', 
$row
, 
$idx
, 
$iv
, 
$dv
, $dv, 
$dvl
);

6465 } 
	`–£if
 (
$do_x_v®u_Ïb–s
) {

6466 
$this
->
	`D¿wD©aV®ueLab–
('x', 
$row
, 
$idx
, 
$dv
, 
$iv
, $dv, 
$dvl
);

6469 ià(
$this
->
d©©y³_”rÜ_b¬s
) {

6470 
$»c
 += 2;

6474  
TRUE
;

6475 
	}
}

6488 
´Ùeùed
 
funùiÚ
 
	$D¿wThšB¬Lšes
()

6490 ià(!
$this
->
	`CheckD©aTy³
('text-data, data-data,ext-data-yx, data-data-yx'))

6491  
FALSE
;

6493 
$gcv¬s
 = 
	`¬¿y
();

6495 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

6496 
$»c
 = 1;

6498 ià(
$this
->
d©©y³_im¶›d
)

6499 
$iv_now
 = 0.5 + 
$row
;

6501 
$iv_now
 = 
$this
->
d©a
[
$row
][
$»c
++];

6503 ià(
$this
->
d©©y³_sw­³d_xy
) {

6504 
$y_now_pix–s
 = 
$this
->
	`yŒ
(
$iv_now
);

6506 ià(
$this
->
y_d©a_Ïb–_pos
 != 'none')

6507 
$this
->
	`D¿wYD©aLab–
($this->
d©a
[
$row
][0], 
$y_now_pix–s
, $row);

6509 
$x_now_pix–s
 = 
$this
->
	`xŒ
(
$iv_now
);

6511 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

6512 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x_now_pix–s
, $row);

6516 
$idx
 = 0; 
$»c
 < 
$this
->
num_»cs
[
$row
]; $rec++, $idx++) {

6517 ià(
	`is_num”ic
(
$dv
 = 
$this
->
d©a
[
$row
][
$»c
])) {

6518 
	`ImageS‘ThickÃss
(
$this
->
img
, $this->
lše_widths
[
$idx
]);

6521 
$this
->
	`G‘D©aCŞÜ
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
);

6523 ià(
$this
->
d©©y³_sw­³d_xy
) {

6525 
	`ImageLše
(
$this
->
img
, $this->
y_axis_x_pix–s
, 
$y_now_pix–s
,

6526 
$this
->
	`xŒ
(
$dv
), 
$y_now_pix–s
, 
$d©a_cŞÜ
);

6529 
	`ImageLše
(
$this
->
img
, 
$x_now_pix–s
, $this->
x_axis_y_pix–s
,

6530 
$x_now_pix–s
, 
$this
->
	`yŒ
(
$dv
), 
$d©a_cŞÜ
);

6536 
	`ImageS‘ThickÃss
(
$this
->
img
, 1);

6537  
TRUE
;

6538 
	}
}

6552 
´Ùeùed
 
funùiÚ
 
	$D¿wA»a
(
$do_¡acked
 = 
FALSE
)

6554 ià(!
$this
->
	`CheckD©aTy³
('text-data, data-data'))

6555  
FALSE
;

6557 
$n
 = 
$this
->
num_d©a_rows
;

6558 ià(
$n
 < 2è 
TRUE
;

6561 
$xd
 = 
	`¬¿y
();

6562 
$yd
 = 
	`¬¿y
();

6565 ià(
$this
->
»cÜds_³r_group
 !ğ
	`mš
($this->
num_»cs
)) {

6566  
$this
->
	`PrštE¼Ü
("DrawArea(): Data‡rray must containhe same‚umber"

6573 
$row
 = 0; $row < 
$n
; $row++) {

6574 
$»c
 = 1;

6576 ià(
$this
->
d©©y³_im¶›d
)

6577 
$x_now
 = 0.5 + 
$row
;

6579 
$x_now
 = 
$this
->
d©a
[
$row
][
$»c
++];

6581 
$x_now_pix–s
 = 
$this
->
	`xŒ
(
$x_now
);

6583 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

6584 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x_now_pix–s
, $row);

6589 
$xd
[
$row
] = 
$x_now_pix–s
;

6590 
$yd
[
$row
] = 
	`¬¿y
();

6591 ià(
$do_¡acked
)

6592 
$yd
[
$row
][] = 
$this
->
x_axis_y_pix–s
;

6596 
$y
 = 0;

6597 
$»c
 < 
$this
->
»cÜds_³r_group
) {

6598 ià(
	`is_num”ic
(
$y_now
 = 
$this
->
d©a
[
$row
][
$»c
++]))

6599 
$y
 +ğ
	`abs
(
$y_now
);

6600 
$yd
[
$row
][] = 
$this
->
	`yŒ
(
	`max
($this->
x_axis_pos™iÚ
, 
$y
));

6601 ià(!
$do_¡acked
è
$y
 = 0;

6604 ià(!
$do_¡acked
)

6605 
$yd
[
$row
][] = 
$this
->
x_axis_y_pix–s
;

6611 
$´ev_row
 = 0;

6612 
$row
 = 1; $row <ğ
$this
->
d©a_cŞumns
; $row++) {

6613 
$±s
 = 
	`¬¿y
();

6615 
$j
 = 0; $j < 
$n
; $j++) {

6616 
$±s
[] = 
$xd
[
$j
];

6617 
$±s
[] = 
$yd
[
$j
][
$´ev_row
];

6620 
$j
 = 
$n
- 1; $j >= 0; $j--) {

6621 
$±s
[] = 
$xd
[
$j
];

6622 
$±s
[] = 
$yd
[
$j
][
$row
];

6625 
	`ImageFËdPŞygÚ
(
$this
->
img
, 
$±s
, 
$n
 * 2, $this->
ndx_d©a_cŞÜs
[
$´ev_row
]);

6627 
$´ev_row
 = 
$row
;

6629  
TRUE
;

6630 
	}
}

6638 
´Ùeùed
 
funùiÚ
 
	$D¿wLšes
(
$·œed
 = 
FALSE
)

6640 ià(!
$this
->
	`CheckD©aTy³
('text-data, data-data,ext-data-yx, data-data-yx, '

6642  
FALSE
;

6646 ià(
$this
->
d©a_cŞumns
 > 0)

6647 
$¡¬t_lšes
 = 
	`¬¿y_fl
(0, 
$this
->
d©a_cŞumns
, 
FALSE
);

6649 
$gcv¬s
 = 
	`¬¿y
();

6652 ià(
$this
->
d©©y³_sw­³d_xy
) {

6654 
$do_x_axis_Ïb–s
 = 
FALSE
;

6655 
$do_x_v®u_Ïb–s
 = 
$this
->
	`CheckD©aV®ueLab–s
($this->
x_d©a_Ïb–_pos
, 
$dvl
);

6656 
$do_y_axis_Ïb–s
 = 
$this
->
y_d©a_Ïb–_pos
 != 'none';

6657 
$do_y_v®u_Ïb–s
 = 
FALSE
;

6660 
$do_x_axis_Ïb–s
 = 
$this
->
x_d©a_Ïb–_pos
 != 'none';

6661 
$do_x_v®u_Ïb–s
 = 
FALSE
;

6662 
$do_y_axis_Ïb–s
 = 
FALSE
;

6663 
$do_y_v®u_Ïb–s
 = 
$this
->
	`CheckD©aV®ueLab–s
($this->
y_d©a_Ïb–_pos
, 
$dvl
);

6666 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

6667 
$»c
 = 1;

6669 ià(
$this
->
d©©y³_im¶›d
)

6670 
$iv
 = 0.5 + 
$row
;

6672 
$iv
 = 
$this
->
d©a
[
$row
][
$»c
++];

6675 ià(
$this
->
d©©y³_sw­³d_xy
) {

6676 
$y_now_pix–s
 = 
$this
->
	`yŒ
(
$iv
);

6678 
$x_now_pix–s
 = 
$this
->
	`xŒ
(
$iv
);

6682 ià(
$do_x_axis_Ïb–s
)

6683 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x_now_pix–s
, $row, 
TRUE
);

6684 
	`–£if
 (
$do_y_axis_Ïb–s
)

6685 
$this
->
	`D¿wYD©aLab–
($this->
d©a
[
$row
][0], 
$y_now_pix–s
, $row, 
TRUE
);

6688 
$idx
 = 0; 
$»c
 < 
$this
->
num_»cs
[
$row
]; $idx++) {

6689 
$lše_¡yË
 = 
$this
->
lše_¡yËs
[
$idx
];

6693 ià(
	`is_num”ic
(
$dv
 = 
$this
->
d©a
[
$row
][
$»c
++]è&& 
$lše_¡yË
 != 'none') {

6696 ià(
$this
->
d©©y³_sw­³d_xy
) {

6697 
$x_now_pix–s
 = 
$this
->
	`xŒ
(
$dv
);

6699 
$y_now_pix–s
 = 
$this
->
	`yŒ
(
$dv
);

6703 ià(
$this
->
d©©y³_”rÜ_b¬s
) {

6704 
$this
->
	`G‘D©aE¼ÜCŞÜs
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
, 
$”rÜ_cŞÜ
);

6706 
$this
->
	`G‘D©aCŞÜ
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
);

6709 ià(
$¡¬t_lšes
[
$idx
]) {

6711 
	`ImageS‘ThickÃss
(
$this
->
img
, $this->
lše_widths
[
$idx
]);

6714 
$¡yË
 = 
$this
->
	`S‘DashedStyË
(
$d©a_cŞÜ
, 
$lše_¡yË
 == 'dashed');

6717 
	`ImageLše
(
$this
->
img
, 
$x_now_pix–s
, 
$y_now_pix–s
,

6718 
$Ï¡x
[
$idx
], 
$Ï¡y
[$idx], 
$¡yË
);

6722 ià(
$this
->
d©©y³_”rÜ_b¬s
 && !
$·œed
) {

6723 ià(
$this
->
d©©y³_sw­³d_xy
) {

6724 
$this
->
	`D¿wXE¼ÜB¬s
(
$dv
, 
$iv
, $this->
d©a
[
$row
][
$»c
],

6725 
$this
->
d©a
[
$row
][
$»c
+1], 
$”rÜ_cŞÜ
);

6727 
$this
->
	`D¿wYE¼ÜB¬s
(
$iv
, 
$dv
, $this->
d©a
[
$row
][
$»c
],

6728 
$this
->
d©a
[
$row
][
$»c
+1], 
$”rÜ_cŞÜ
);

6733 ià(
$do_y_v®u_Ïb–s
)

6734 
$this
->
	`D¿wD©aV®ueLab–
('y', 
$row
, 
$idx
, 
$iv
, 
$dv
, $dv, 
$dvl
);

6735 
	`–£if
 (
$do_x_v®u_Ïb–s
)

6736 
$this
->
	`D¿wD©aV®ueLab–
('x', 
$row
, 
$idx
, 
$dv
, 
$iv
, $dv, 
$dvl
);

6738 
$Ï¡x
[
$idx
] = 
$x_now_pix–s
;

6739 
$Ï¡y
[
$idx
] = 
$y_now_pix–s
;

6740 
$¡¬t_lšes
[
$idx
] = 
TRUE
;

6741 } 
	`–£if
 (
$this
->
d¿w_brok’_lšes
) {

6742 
$¡¬t_lšes
[
$idx
] = 
FALSE
;

6744 ià(
$this
->
d©©y³_”rÜ_b¬s
)

6745 
$»c
 += 2;

6749 
	`ImageS‘ThickÃss
(
$this
->
img
, 1);

6750  
TRUE
;

6751 
	}
}

6760 
´Ùeùed
 
funùiÚ
 
	$D¿wLšePošts
()

6762  
$this
->
	`D¿wLšes
(
TRUE
è&& $this->
	`D¿wDÙs
(TRUE);

6763 
	}
}

6770 
´Ùeùed
 
funùiÚ
 
	$D¿wSqu¬ed
()

6772 ià(!
$this
->
	`CheckD©aTy³
('text-data, data-data'))

6773  
FALSE
;

6777 ià(
$this
->
d©a_cŞumns
 > 0)

6778 
$¡¬t_lšes
 = 
	`¬¿y_fl
(0, 
$this
->
d©a_cŞumns
, 
FALSE
);

6780 
$gcv¬s
 = 
	`¬¿y
();

6783 
$do_dvls
 = 
$this
->
	`CheckD©aV®ueLab–s
($this->
y_d©a_Ïb–_pos
, 
$dvl
);

6785 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

6786 
$»cÜd
 = 1;

6788 ià(
$this
->
d©©y³_im¶›d
)

6789 
$x_now
 = 0.5 + 
$row
;

6791 
$x_now
 = 
$this
->
d©a
[
$row
][
$»cÜd
++];

6793 
$x_now_pix–s
 = 
$this
->
	`xŒ
(
$x_now
);

6795 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

6796 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x_now_pix–s
, $row);

6799 
$idx
 = 0; 
$»cÜd
 < 
$this
->
num_»cs
[
$row
]; $record++, $idx++) {

6800 ià(
	`is_num”ic
(
$y_now
 = 
$this
->
d©a
[
$row
][
$»cÜd
])) {

6801 
$y_now_pix–s
 = 
$this
->
	`yŒ
(
$y_now
);

6803 ià(
$¡¬t_lšes
[
$idx
]) {

6805 
	`ImageS‘ThickÃss
(
$this
->
img
, $this->
lše_widths
[
$idx
]);

6808 
$this
->
	`G‘D©aCŞÜ
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
);

6811 
$¡yË
 = 
$this
->
	`S‘DashedStyË
(
$d©a_cŞÜ
, $this->
lše_¡yËs
[
$idx
] == 'dashed');

6814 
	`ImageLše
(
$this
->
img
, 
$Ï¡x
[
$idx
], 
$Ï¡y
[$idx],

6815 
$x_now_pix–s
, 
$Ï¡y
[
$idx
], 
$¡yË
);

6816 
	`ImageLše
(
$this
->
img
, 
$x_now_pix–s
, 
$Ï¡y
[
$idx
],

6817 
$x_now_pix–s
, 
$y_now_pix–s
, 
$¡yË
);

6821 ià(
$do_dvls
)

6822 
$this
->
	`D¿wD©aV®ueLab–
('y', 
$row
, 
$idx
, 
$x_now
, 
$y_now
, $y_now, 
$dvl
);

6824 
$Ï¡x
[
$idx
] = 
$x_now_pix–s
;

6825 
$Ï¡y
[
$idx
] = 
$y_now_pix–s
;

6826 
$¡¬t_lšes
[
$idx
] = 
TRUE
;

6827 } 
	`–£if
 (
$this
->
d¿w_brok’_lšes
) {

6828 
$¡¬t_lšes
[
$idx
] = 
FALSE
;

6833 
	`ImageS‘ThickÃss
(
$this
->
img
, 1);

6834  
TRUE
;

6835 
	}
}

6842 
´Ùeùed
 
funùiÚ
 
	$D¿wB¬s
()

6844 ià(!
$this
->
	`CheckD©aTy³
('text-data,ext-data-yx'))

6845  
FALSE
;

6846 ià(
$this
->
d©©y³_sw­³d_xy
)

6847  
$this
->
	`D¿wHÜizB¬s
();

6848 
$this
->
	`C®cB¬Widths
(
FALSE
, 
TRUE
);

6852 
$x_fœ¡_b¬
 = (
$this
->
d©a_cŞumns
 * $this->
»cÜd_b¬_width
è/ 2 - $this->
b¬_adju¡_g­
;

6854 
$gcv¬s
 = 
	`¬¿y
();

6856 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

6857 
$»cÜd
 = 1;

6859 
$x_now_pix–s
 = 
$this
->
	`xŒ
(0.5 + 
$row
);

6861 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

6862 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x_now_pix–s
, $row);

6865 
$x1
 = 
$x_now_pix–s
 - 
$x_fœ¡_b¬
;

6868 
$idx
 = 0; 
$»cÜd
 < 
$this
->
num_»cs
[
$row
]; $record++, $idx++) {

6869 ià(
	`is_num”ic
(
$y
 = 
$this
->
d©a
[
$row
][
$»cÜd
])) {

6870 
$x2
 = 
$x1
 + 
$this
->
aùu®_b¬_width
;

6872 ià((
$upgošg_b¬
 = 
$y
 >ğ
$this
->
x_axis_pos™iÚ
)) {

6873 
$y1
 = 
$this
->
	`yŒ
(
$y
);

6874 
$y2
 = 
$this
->
x_axis_y_pix–s
;

6876 
$y1
 = 
$this
->
x_axis_y_pix–s
;

6877 
$y2
 = 
$this
->
	`yŒ
(
$y
);

6881 
$this
->
	`G‘B¬CŞÜs
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
);

6884 
$this
->
	`D¿wB¬
(
$row
, 
$idx
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
);

6887 ià(
$this
->
y_d©a_Ïb–_pos
 == 'plotin') {

6888 
$dvl
['x_off£t'] = (
$idx
 + 0.5è* 
$this
->
»cÜd_b¬_width
 - 
$x_fœ¡_b¬
;

6889 ià(
$upgošg_b¬
) {

6890 
$dvl
['v_align'] = 'bottom';

6891 
$dvl
['y_off£t'] = -5 - 
$this
->
shadšg
;

6893 
$dvl
['v_align'] = 'top';

6894 
$dvl
['y_offset'] = 2;

6896 
$this
->
	`D¿wD©aV®ueLab–
('y', 
$row
, 
$idx
, $row+0.5, 
$y
, $y, 
$dvl
);

6900 
$x1
 +ğ
$this
->
»cÜd_b¬_width
;

6903  
TRUE
;

6904 
	}
}

6912 
´Ùeùed
 
funùiÚ
 
	$D¿wHÜizB¬s
()

6914 
$this
->
	`C®cB¬Widths
(
FALSE
, FALSE);

6918 
$y_fœ¡_b¬
 = (
$this
->
d©a_cŞumns
 * $this->
»cÜd_b¬_width
è/ 2 - $this->
b¬_adju¡_g­
;

6920 
$gcv¬s
 = 
	`¬¿y
();

6922 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

6923 
$»cÜd
 = 1;

6925 
$y_now_pix–s
 = 
$this
->
	`yŒ
(0.5 + 
$row
);

6927 ià(
$this
->
y_d©a_Ïb–_pos
 != 'none')

6928 
$this
->
	`D¿wYD©aLab–
($this->
d©a
[
$row
][0], 
$y_now_pix–s
, $row);

6931 
$y1
 = 
$y_now_pix–s
 + 
$y_fœ¡_b¬
;

6934 
$idx
 = 0; 
$»cÜd
 < 
$this
->
num_»cs
[
$row
]; $record++, $idx++) {

6935 ià(
	`is_num”ic
(
$x
 = 
$this
->
d©a
[
$row
][
$»cÜd
])) {

6936 
$y2
 = 
$y1
 - 
$this
->
aùu®_b¬_width
;

6938 ià((
$rightw¬ds_b¬
 = 
$x
 >ğ
$this
->
y_axis_pos™iÚ
)) {

6939 
$x1
 = 
$this
->
	`xŒ
(
$x
);

6940 
$x2
 = 
$this
->
y_axis_x_pix–s
;

6942 
$x1
 = 
$this
->
y_axis_x_pix–s
;

6943 
$x2
 = 
$this
->
	`xŒ
(
$x
);

6947 
$this
->
	`G‘B¬CŞÜs
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
);

6950 
$this
->
	`D¿wB¬
(
$row
, 
$idx
, 
$x1
, 
$y1
, 
$x2
, 
$y2
, 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
);

6953 ià(
$this
->
x_d©a_Ïb–_pos
 == 'plotin') {

6954 
$dvl
['y_off£t'] = 
$y_fœ¡_b¬
 - (
$idx
 + 0.5è* 
$this
->
»cÜd_b¬_width
;

6955 ià(
$rightw¬ds_b¬
) {

6956 
$dvl
['h_align'] = 'left';

6957 
$dvl
['x_off£t'] = 5 + 
$this
->
shadšg
;

6959 
$dvl
['h_align'] = 'right';

6960 
$dvl
['x_offset'] = -2;

6962 
$this
->
	`D¿wD©aV®ueLab–
('x', 
$row
, 
$idx
, 
$x
, $row+0.5, $x, 
$dvl
);

6966 
$y1
 -ğ
$this
->
»cÜd_b¬_width
;

6969  
TRUE
;

6970 
	}
}

6978 
´Ùeùed
 
funùiÚ
 
	$D¿wSckedB¬s
()

6980 ià(!
$this
->
	`CheckD©aTy³
('text-data,ext-data-yx'))

6981  
FALSE
;

6982 ià(
$this
->
d©©y³_sw­³d_xy
)

6983  
$this
->
	`D¿wHÜizSckedB¬s
();

6984 
$this
->
	`C®cB¬Widths
(
TRUE
, TRUE);

6987 
$x_fœ¡_b¬
 = 
$this
->
»cÜd_b¬_width
 / 2 - $this->
b¬_adju¡_g­
;

6989 
$gcv¬s
 = 
	`¬¿y
();

6992 
$d©a_Ïb–s_w™hš
 = (
$this
->
y_d©a_Ïb–_pos
 == 'plotstack');

6993 
$d©a_Ïb–s_’d
 = 
$d©a_Ïb–s_w™hš
 || (
$this
->
y_d©a_Ïb–_pos
 == 'plotin');

6994 
$d©a_Ïb–_y_off£t
 = -5 - 
$this
->
shadšg
;

6996 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

6997 
$»cÜd
 = 1;

6999 
$x_now_pix–s
 = 
$this
->
	`xŒ
(0.5 + 
$row
);

7001 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

7002 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x_now_pix–s
, $row);

7006 
$n_»cs
 = 
$this
->
num_»cs
[
$row
];

7007 
$upw¬d
 = 
TRUE
;

7008 
$i
 = 
$»cÜd
; $˜< 
$n_»cs
; $i++) {

7009 ià(
	`is_num”ic
(
$this_y
 = 
$this
->
d©a
[
$row
][
$i
]) && $this_y != 0) {

7010 
$upw¬d
 = (
$this_y
 > 0);

7015 
$x1
 = 
$x_now_pix–s
 - 
$x_fœ¡_b¬
;

7016 
$x2
 = 
$x1
 + 
$this
->
aùu®_b¬_width
;

7017 
$wy1
 = 0;

7018 
$wy2
 = 
$this
->
x_axis_pos™iÚ
;

7021 
$fœ¡
 = 
TRUE
;

7022 
$idx
 = 0; 
$»cÜd
 < 
$n_»cs
; $record++, $idx++) {

7025 ià(
	`is_num”ic
(
$this_y
 = 
$this
->
d©a
[
$row
][
$»cÜd
])) {

7027 
$wy1
 +ğ
$this_y
;

7030 ià((
$upw¬d
 && 
$wy1
 > 
$wy2
) || (!$upward && $wy2 > $wy1)) {

7032 
$y1
 = 
$this
->
	`yŒ
(
$wy1
);

7033 
$y2
 = 
$this
->
	`yŒ
(
$wy2
);

7036 
$this
->
	`G‘B¬CŞÜs
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
);

7039 
$this
->
	`D¿wB¬
(
$row
, 
$idx
, 
$x1
, 
$y1
, 
$x2
, 
$y2
,

7040 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
,

7042 
$upw¬d
 || 
$fœ¡
, 
TRUE
);

7047 ià(
$d©a_Ïb–s_w™hš
) {

7048 
$dvl
['mš_height'] = 
	`abs
(
$y1
 - 
$y2
);

7049 ià(
$upw¬d
) {

7050 
$dvl
['v_align'] = 'top';

7051 
$dvl
['y_offset'] = 3;

7053 
$dvl
['v_align'] = 'bottom';

7054 
$dvl
['y_offset'] = -3;

7056 
$this
->
	`D¿wD©aV®ueLab–
('y', 
$row
, 
$idx
, $row+0.5, 
$wy1
, 
$this_y
, 
$dvl
);

7059 
$wy2
 = 
$wy1
;

7060 
$fœ¡
 = 
FALSE
;

7068 ià(
$d©a_Ïb–s_’d
) {

7069 
$dvl
['mš_height'] = 
NULL
;

7070 ià(
$upw¬d
) {

7071 
$dvl
['v_align'] = 'bottom';

7072 
$dvl
['y_off£t'] = 
$d©a_Ïb–_y_off£t
;

7074 
$dvl
['v_align'] = 'top';

7075 
$dvl
['y_offset'] = 5;

7077 
$this
->
	`D¿wD©aV®ueLab–
('y', 
$row
, 
NULL
, $row+0.5, 
$wy2
, 
$wy1
, 
$dvl
);

7080  
TRUE
;

7081 
	}
}

7089 
´Ùeùed
 
funùiÚ
 
	$D¿wHÜizSckedB¬s
()

7091 
$this
->
	`C®cB¬Widths
(
TRUE
, 
FALSE
);

7094 
$y_fœ¡_b¬
 = 
$this
->
»cÜd_b¬_width
 / 2 - $this->
b¬_adju¡_g­
;

7096 
$gcv¬s
 = 
	`¬¿y
();

7099 
$d©a_Ïb–s_w™hš
 = (
$this
->
x_d©a_Ïb–_pos
 == 'plotstack');

7100 
$d©a_Ïb–s_’d
 = 
$d©a_Ïb–s_w™hš
 || (
$this
->
x_d©a_Ïb–_pos
 == 'plotin');

7101 
$d©a_Ïb–_x_off£t
 = 5 + 
$this
->
shadšg
;

7103 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

7104 
$»cÜd
 = 1;

7106 
$y_now_pix–s
 = 
$this
->
	`yŒ
(0.5 + 
$row
);

7108 ià(
$this
->
y_d©a_Ïb–_pos
 != 'none')

7109 
$this
->
	`D¿wYD©aLab–
($this->
d©a
[
$row
][0], 
$y_now_pix–s
, $row);

7113 
$n_»cs
 = 
$this
->
num_»cs
[
$row
];

7114 
$rightw¬d
 = 
TRUE
;

7115 
$i
 = 
$»cÜd
; $˜< 
$n_»cs
; $i++) {

7116 ià(
	`is_num”ic
(
$this_x
 = 
$this
->
d©a
[
$row
][
$i
]) && $this_x != 0) {

7117 
$rightw¬d
 = (
$this_x
 > 0);

7123 
$y1
 = 
$y_now_pix–s
 + 
$y_fœ¡_b¬
;

7124 
$y2
 = 
$y1
 - 
$this
->
aùu®_b¬_width
;

7125 
$wx1
 = 0;

7126 
$wx2
 = 
$this
->
y_axis_pos™iÚ
;

7129 
$fœ¡
 = 
TRUE
;

7130 
$idx
 = 0; 
$»cÜd
 < 
$this
->
num_»cs
[
$row
]; $record++, $idx++) {

7133 ià(
	`is_num”ic
(
$this_x
 = 
$this
->
d©a
[
$row
][
$»cÜd
])) {

7135 
$wx1
 +ğ
$this_x
;

7138 ià((
$rightw¬d
 && 
$wx1
 > 
$wx2
) || (!$rightward && $wx2 > $wx1)) {

7140 
$x1
 = 
$this
->
	`xŒ
(
$wx1
);

7141 
$x2
 = 
$this
->
	`xŒ
(
$wx2
);

7144 
$this
->
	`G‘B¬CŞÜs
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
);

7147 
$this
->
	`D¿wB¬
(
$row
, 
$idx
, 
$x1
, 
$y1
, 
$x2
, 
$y2
,

7148 
$d©a_cŞÜ
, 
$shade_cŞÜ
, 
$bÜd”_cŞÜ
,

7150 
TRUE
, 
$rightw¬d
 || 
$fœ¡
);

7155 ià(
$d©a_Ïb–s_w™hš
) {

7156 
$dvl
['mš_width'] = 
	`abs
(
$x1
 - 
$x2
);

7157 ià(
$rightw¬d
) {

7158 
$dvl
['h_align'] = 'right';

7159 
$dvl
['x_offset'] = -3;

7161 
$dvl
['h_align'] = 'left';

7162 
$dvl
['x_offset'] = 3;

7164 
$this
->
	`D¿wD©aV®ueLab–
('x', 
$row
, 
$idx
, 
$wx1
, $row+0.5, 
$this_x
, 
$dvl
);

7167 
$wx2
 = 
$wx1
;

7168 
$fœ¡
 = 
FALSE
;

7176 ià(
$d©a_Ïb–s_’d
) {

7177 
$dvl
['mš_width'] = 
NULL
;

7178 ià(
$rightw¬d
) {

7179 
$dvl
['h_align'] = 'left';

7180 
$dvl
['x_off£t'] = 
$d©a_Ïb–_x_off£t
;

7182 
$dvl
['h_align'] = 'right';

7183 
$dvl
['x_offset'] = -5;

7185 
$this
->
	`D¿wD©aV®ueLab–
('x', 
$row
, 
NULL
, 
$wx2
, $row+0.5, 
$wx1
, 
$dvl
);

7188  
TRUE
;

7189 
	}
}

7212 
´Ùeùed
 
funùiÚ
 
	$D¿wOHLC
(
$d¿w_ÿndËs
, 
$®ways_fl
 = 
FALSE
)

7214 ià(!
$this
->
	`CheckD©aTy³
('text-data, data-data'))

7215  
FALSE
;

7216 ià(
$this
->
d©a_cŞumns
 != 4)

7217  
$this
->
	`PrštE¼Ü
("DrawOHLC():„ows must have 4 values.");

7220 
$d¿w_body_şo£_up
 = 
$®ways_fl
 ? 'imagefilledrectangle' : 'imagerectangle';

7224 
$dw
 = 
	`max
(
$this
->
ohlc_mš_width
, 
	`mš
($this->
ohlc_max_width
,

7225 ()(
$this
->
ohlc_äac_width
 * $this->
¶Ù_¬—_width
 / $this->
num_d©a_rows
)));

7228 
	`li¡
(
$body_thickÃss
, 
$wick_thickÃss
èğ
$this
->
lše_widths
;

7230 
$gcv¬s
 = 
	`¬¿y
();

7232 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

7233 
$»cÜd
 = 1;

7235 ià(
$this
->
d©©y³_im¶›d
)

7236 
$x_now
 = 0.5 + 
$row
;

7238 
$x_now
 = 
$this
->
d©a
[
$row
][
$»cÜd
++];

7240 
$x_now_pix–s
 = 
$this
->
	`xŒ
(
$x_now
);

7241 
$x_Ëá
 = 
$x_now_pix–s
 - 
$dw
;

7242 
$x_right
 = 
$x_now_pix–s
 + 
$dw
;

7244 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

7245 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x_now_pix–s
, $row);

7248 ià(
$this
->
num_»cs
[
$row
] - 
$»cÜd
 != 4) {

7249  
$this
->
	`PrštE¼Ü
("DrawOHLC():„ow $row must have 4 values.");

7251 ià(!
	`is_num”ic
(
$yo
 = 
$this
->
d©a
[
$row
][
$»cÜd
++])

7252 || !
	`is_num”ic
(
$yh
 = 
$this
->
d©a
[
$row
][
$»cÜd
++])

7253 || !
	`is_num”ic
(
$yl
 = 
$this
->
d©a
[
$row
][
$»cÜd
++])

7254 || !
	`is_num”ic
(
$yc
 = 
$this
->
d©a
[
$row
][
$»cÜd
++])) {

7259 
$yh_pix–s
 = 
$this
->
	`yŒ
(
$yh
);

7260 
$yl_pix–s
 = 
$this
->
	`yŒ
(
$yl
);

7261 
$yc_pix–s
 = 
$this
->
	`yŒ
(
$yc
);

7262 
$yo_pix–s
 = 
$this
->
	`yŒ
(
$yo
);

7263 
$şo£d_up
 = 
$yc
 >ğ
$yo
;

7266 ià(
$şo£d_up
) {

7267 
$this
->
	`G‘D©aCŞÜ
(
$row
, 1, 
$gcv¬s
, 
$body_cŞÜ
);

7268 
$this
->
	`G‘D©aCŞÜ
(
$row
, 3, 
$gcv¬s
, 
$ext_cŞÜ
);

7270 
$this
->
	`G‘D©aCŞÜ
(
$row
, 0, 
$gcv¬s
, 
$body_cŞÜ
);

7271 
$this
->
	`G‘D©aCŞÜ
(
$row
, 2, 
$gcv¬s
, 
$ext_cŞÜ
);

7273 
	`image£‰hickÃss
(
$this
->
img
, 
$body_thickÃss
);

7275 ià(
$d¿w_ÿndËs
) {

7278 ià(
$şo£d_up
) {

7279 
$yb1_pix–s
 = 
$yc_pix–s
;

7280 
$yb2_pix–s
 = 
$yo_pix–s
;

7281 
$d¿w_body
 = 
$d¿w_body_şo£_up
;

7283 ià(
$yb1_pix–s
 =ğ
$yb2_pix–s
)

7284 
$d¿w_body
 = 'imagefilledrectangle';

7286 
$yb1_pix–s
 = 
$yo_pix–s
;

7287 
$yb2_pix–s
 = 
$yc_pix–s
;

7288 
$d¿w_body
 = 'imagefilledrectangle';

7292 
	`$d¿w_body
(
$this
->
img
, 
$x_Ëá
, 
$yb1_pix–s
, 
$x_right
, 
$yb2_pix–s
, 
$body_cŞÜ
);

7295 
	`image£‰hickÃss
(
$this
->
img
, 
$wick_thickÃss
);

7296 ià(
$yh_pix–s
 < 
$yb1_pix–s
) {

7297 
	`imag–še
(
$this
->
img
, 
$x_now_pix–s
, 
$yb1_pix–s
, $x_now_pix–s, 
$yh_pix–s
, 
$ext_cŞÜ
);

7299 ià(
$yl_pix–s
 > 
$yb2_pix–s
) {

7300 
	`imag–še
(
$this
->
img
, 
$x_now_pix–s
, 
$yb2_pix–s
, $x_now_pix–s, 
$yl_pix–s
, 
$ext_cŞÜ
);

7304 
	`imag–še
(
$this
->
img
, 
$x_now_pix–s
, 
$yl_pix–s
, $x_now_pix–s, 
$yh_pix–s
, 
$body_cŞÜ
);

7305 
	`image£‰hickÃss
(
$this
->
img
, 
$wick_thickÃss
);

7306 
	`imag–še
(
$this
->
img
, 
$x_Ëá
, 
$yo_pix–s
, 
$x_now_pix–s
, $yo_pix–s, 
$ext_cŞÜ
);

7307 
	`imag–še
(
$this
->
img
, 
$x_right
, 
$yc_pix–s
, 
$x_now_pix–s
, $yc_pix–s, 
$ext_cŞÜ
);

7309 
	`image£‰hickÃss
(
$this
->
img
, 1);

7310 
$this
->
	`DoC®lback
('d©a_pošts', '»ù', 
$row
, 0, 
$x_Ëá
, 
$yh_pix–s
, 
$x_right
, 
$yl_pix–s
);

7312  
TRUE
;

7313 
	}
}

7321 
´Ùeùed
 
funùiÚ
 
	$D¿wBubbËs
()

7323 ià(!
$this
->
	`CheckD©aTy³
('data-data-xyz'))

7324  
FALSE
;

7326 
$gcv¬s
 = 
	`¬¿y
();

7329 ià(
	`is£t
(
$this
->
bubbËs_max_size
)) {

7330 
$bubbËs_max_size
 = 
$this
->
bubbËs_max_size
;

7332 
$bubbËs_max_size
 = 
	`mš
(
$this
->
¶Ù_¬—_width
, $this->
¶Ù_¬—_height
) / 12;

7336 ià(
$this
->
max_z
 <ğ$this->
mš_z
) {

7337 
$f_size
 = 0;

7338 
$b_size
 = (
$bubbËs_max_size
 + 
$this
->
bubbËs_mš_size
) / 2;

7340 
$f_size
 = (
$bubbËs_max_size
 - 
$this
->
bubbËs_mš_size
è/ ($this->
max_z
 - $this->
mš_z
);

7341 
$b_size
 = 
$bubbËs_max_size
 - 
$f_size
 * 
$this
->
max_z
;

7344 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

7345 
$»c
 = 1;

7346 
$x
 = 
$this
->
	`xŒ
($this->
d©a
[
$row
][
$»c
++]);

7349 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

7350 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$x
, $row, 
TRUE
);

7353 
$idx
 = 0; 
$»c
 < 
$this
->
num_»cs
[
$row
]; $rec += 2, $idx++) {

7355 ià(
	`is_num”ic
(
$y_now
 = 
$this
->
d©a
[
$row
][
$»c
])) {

7356 
$y
 = 
$this
->
	`yŒ
(
$y_now
);

7357 
$z
 = ()
$this
->
d©a
[
$row
][
$»c
+1];

7358 
$size
 = ()(
$f_size
 * 
$z
 + 
$b_size
);

7361 
$this
->
	`G‘D©aCŞÜ
(
$row
, 
$idx
, 
$gcv¬s
, 
$d©a_cŞÜ
);

7364 
	`ImageFËdEÎ£
(
$this
->
img
, 
$x
, 
$y
, 
$size
, $size, 
$d©a_cŞÜ
);

7365 
$this
->
	`DoC®lback
('d©a_pošts', 'cœşe', 
$row
, 
$idx
, 
$x
, 
$y
, 
$size
);

7369  
TRUE
;

7370 
	}
}

7378 
´Ùeùed
 
funùiÚ
 
	$D¿wBoxes
()

7380 ià(!
$this
->
	`CheckD©aTy³
('text-data, data-data'))

7381  
FALSE
;

7382 ià(
$this
->
d©a_cŞumns
 < 5)

7383  
$this
->
	`PrštE¼Ü
("DrawBoxes():„ows must have 5 or more values.");

7386 
$this
->
	`CheckPoštP¬ams
();

7390 
$width1
 = 
	`max
(
$this
->
boxes_mš_width
, 
	`mš
($this->
boxes_max_width
,

7391 ()(
$this
->
boxes_äac_width
 * $this->
¶Ù_¬—_width
 / $this->
num_d©a_rows
)));

7393 
$width2
 = 
$this
->
boxes_t_width
 * 
$width1
;

7396 
	`li¡
(
$box_thickÃss
, 
$b–t_thickÃss
, 
$whisk”_thickÃss
èğ
$this
->
lše_widths
;

7398 
$gcv¬s
 = 
	`¬¿y
();

7400 
$row
 = 0; $row < 
$this
->
num_d©a_rows
; $row++) {

7401 
$»cÜd
 = 1;

7403 ià(
$this
->
d©©y³_im¶›d
)

7404 
$xw
 = 0.5 + 
$row
;

7406 
$xw
 = 
$this
->
d©a
[
$row
][
$»cÜd
++];

7408 
$xd
 = 
$this
->
	`xŒ
(
$xw
);

7409 
$x_Ëá
 = 
$xd
 - 
$width1
;

7410 
$x_right
 = 
$xd
 + 
$width1
;

7412 ià(
$this
->
x_d©a_Ïb–_pos
 != 'none')

7413 
$this
->
	`D¿wXD©aLab–
($this->
d©a
[
$row
][0], 
$xd
, $row);

7416 
$num_y
 = 
$this
->
num_»cs
[
$row
] - 
$»cÜd
;

7417 ià(
$num_y
 < 5) {

7418  
$this
->
	`PrštE¼Ü
("DrawBoxes():„ow $row must have‡t†east 5 values.");

7422 
$yd
 = 
	`¬¿y
();

7423 
$i
 = 0; $˜< 
$num_y
; $i++) {

7424 
$yd
[
$i
] = 
	`is_num”ic
(
$y
 = 
$this
->
d©a
[
$row
][
$»cÜd
++]è? $this->
	`yŒ
($yè: 
NULL
;

7428 ià(!
	`is£t
(
$yd
[1], $yd[3])) ;

7431 
$this
->
	`G‘D©aCŞÜ
(
$row
, 0, 
$gcv¬s
, 
$box_cŞÜ
);

7432 
$this
->
	`G‘D©aCŞÜ
(
$row
, 1, 
$gcv¬s
, 
$b–t_cŞÜ
);

7433 
$this
->
	`G‘D©aCŞÜ
(
$row
, 2, 
$gcv¬s
, 
$ou›r_cŞÜ
);

7434 
$this
->
	`G‘D©aCŞÜ
(
$row
, 3, 
$gcv¬s
, 
$whisk”_cŞÜ
);

7435 
$whisk”_¡yË
 = 
$this
->
	`S‘DashedStyË
(
$whisk”_cŞÜ
, $this->
lše_¡yËs
[0] == 'dashed');

7438 ià(
	`is£t
(
$yd
[0]) && $yd[0] > $yd[1]) {

7439 
	`image£‰hickÃss
(
$this
->
img
, 
$whisk”_thickÃss
);

7440 
	`imag–še
(
$this
->
img
, 
$xd
, 
$yd
[0], $xd, $yd[1], 
$whisk”_¡yË
);

7441 
	`imag–še
(
$this
->
img
, 
$xd
 - 
$width2
, 
$yd
[0], $xd + $width2, $yd[0], 
$whisk”_cŞÜ
);

7445 ià(
	`is£t
(
$yd
[4]) && $yd[3] > $yd[4]) {

7446 
	`image£‰hickÃss
(
$this
->
img
, 
$whisk”_thickÃss
);

7447 
	`imag–še
(
$this
->
img
, 
$xd
, 
$yd
[3], $xd, $yd[4], 
$whisk”_¡yË
);

7448 
	`imag–še
(
$this
->
img
, 
$xd
 - 
$width2
, 
$yd
[4], $xd + $width2, $yd[4], 
$whisk”_cŞÜ
);

7452 ià(
	`is£t
(
$yd
[2])) {

7453 
	`image£‰hickÃss
(
$this
->
img
, 
$b–t_thickÃss
);

7454 
	`imag–še
(
$this
->
img
, 
$x_Ëá
, 
$yd
[2], 
$x_right
, $yd[2], 
$b–t_cŞÜ
);

7458 
	`image£‰hickÃss
(
$this
->
img
, 
$box_thickÃss
);

7459 
	`imag”eùªgË
(
$this
->
img
, 
$x_Ëá
, 
$yd
[3], 
$x_right
, $yd[1], 
$box_cŞÜ
);

7460 
	`image£‰hickÃss
(
$this
->
img
, 1);

7463 
$i
 = 5; $˜< 
$num_y
; $i++) {

7464 ià(
	`is£t
(
$yd
[
$i
]))

7465 
$this
->
	`D¿wSh­e
(
$xd
, 
$yd
[
$i
], 0, 
$ou›r_cŞÜ
);

7468 
$this
->
	`DoC®lback
('d©a_pošts', '»ù', 
$row
, 0, 
$x_Ëá
, 
$yd
[4], 
$x_right
, $yd[0]);

7470  
TRUE
;

7471 
	}
}

7481 
funùiÚ
 
	$D¿wG¿ph
()

7484 ià(!
$this
->
	`CheckD©aA¼ay
())

7485  
FALSE
;

7488 
$±
 = &
£lf
::
$¶Ùs
[
$this
->
¶Ù_ty³
];

7489 
$d¿w_m‘hod
 = 
$±
['draw_method'];

7490 
$d¿w_¬g
 = 
	`is£t
(
$±
['d¿w_¬g']è? $±['d¿w_¬g'] : 
	`¬¿y
();

7491 
$d¿w_axes
 = 
	`em±y
(
$±
['suppress_axes']);

7494 
$this
->
	`S‘CŞÜIndexes
();

7497 ià(
$d¿w_axes
) {

7500 ià(!
$this
->
	`FšdD©aLim™s
())

7501  
FALSE
;

7504 ià(!
$this
->
	`C®cPlÙA»aWÜld
())

7505  
FALSE
;

7508 
$this
->
	`C®cAxisPos™iÚs
();

7511 
$this
->
	`CheckLab–s
();

7516 
$this
->
	`C®cM¬gšs
(!
$d¿w_axes
);

7519 
$this
->
	`C®cPlÙA»aPix–s
();

7522 ià(
$d¿w_axes
è
$this
->
	`C®cT¿n¦©iÚ
();

7525 
$this
->
	`PadA¼ays
();

7526 
$this
->
	`DoC®lback
('draw_setup');

7528 
$this
->
	`D¿wBackground
();

7529 
$this
->
	`D¿wImageBÜd”
();

7530 
$this
->
	`DoC®lback
('draw_image_background');

7532 
$this
->
	`D¿wPlÙA»aBackground
();

7533 
$this
->
	`DoC®lback
('d¿w_¶Ù¬—_background', $this->
¶Ù_¬—
);

7535 
$this
->
	`D¿wT™Ë
();

7536 ià(
$d¿w_axes
) {

7537 
$this
->
	`D¿wXT™Ë
();

7538 
$this
->
	`D¿wYT™Ë
();

7540 
$this
->
	`DoC®lback
('draw_titles');

7543 ià(
$d¿w_axes
 && !
$this
->
grid_©_fÜeground
) {

7544 
$this
->
	`D¿wYAxis
();

7545 
$this
->
	`D¿wXAxis
();

7546 
$this
->
	`DoC®lback
('draw_axes');

7550 
	`ÿÎ_u£r_func_¬¿y
(
	`¬¿y
(
$this
, 
$d¿w_m‘hod
), 
$d¿w_¬g
);

7551 
$this
->
	`DoC®lback
('d¿w_g¿ph', $this->
¶Ù_¬—
);

7553 ià(
$d¿w_axes
 && 
$this
->
grid_©_fÜeground
) {

7554 
$this
->
	`D¿wYAxis
();

7555 
$this
->
	`D¿wXAxis
();

7556 
$this
->
	`DoC®lback
('draw_axes');

7559 
$this
->
	`D¿wPlÙBÜd”
(
$d¿w_axes
);

7560 
$this
->
	`DoC®lback
('draw_border');

7562 ià(!
	`em±y
(
$this
->
Ëg’d
)) {

7563 
$this
->
	`D¿wLeg’d
();

7564 
$this
->
	`DoC®lback
('draw_legend');

7566 
$this
->
	`DoC®lback
('d¿w_®l', $this->
¶Ù_¬—
);

7568 ià(
$this
->
´št_image
 && !$this->
	`PrštImage
())

7569  
FALSE
;

7571  
TRUE
;

7572 
	}
}

7588 
funùiÚ
 
	$S‘D¿wV”tTicks
(
$which_dvt
)

7590 ià(
$which_dvt
 != 1)

7591 
$this
->
	`S‘YTickPos
('none');

7592  
TRUE
;

7593 
	}
}

7598 
funùiÚ
 
	$S‘D¿wHÜizTicks
(
$which_dht
)

7600 ià(
$which_dht
 != 1)

7601 
$this
->
	`S‘XTickPos
('none');

7602  
TRUE
;

7603 
	}
}

7608 
funùiÚ
 
	$S‘NumHÜizTicks
(
$n
)

7610  
$this
->
	`S‘NumXTicks
(
$n
);

7611 
	}
}

7616 
funùiÚ
 
	$S‘NumV”tTicks
(
$n
)

7618  
$this
->
	`S‘NumYTicks
(
$n
);

7619 
	}
}

7624 
funùiÚ
 
	$S‘HÜizTickInüem’t
(
$šc
)

7626  
$this
->
	`S‘XTickInüem’t
(
$šc
);

7627 
	}
}

7632 
funùiÚ
 
	$S‘V”tTickInüem’t
(
$šc
)

7634  
$this
->
	`S‘YTickInüem’t
(
$šc
);

7635 
	}
}

7640 
funùiÚ
 
	$S‘V”tTickPos™iÚ
(
$which_
)

7642  
$this
->
	`S‘YTickPos
(
$which_
);

7643 
	}
}

7648 
funùiÚ
 
	$S‘HÜizTickPos™iÚ
(
$which_
)

7650  
$this
->
	`S‘XTickPos
(
$which_
);

7651 
	}
}

7656 
funùiÚ
 
	$S‘T™ËFÚtSize
(
$which_size
)

7658  
$this
->
	`S‘FÚt
('t™Ë', 
$which_size
);

7659 
	}
}

7664 
funùiÚ
 
	$S‘AxisFÚtSize
(
$which_size
)

7666 
$this
->
	`S‘FÚt
('x_Ïb–', 
$which_size
);

7667 
$this
->
	`S‘FÚt
('y_Ïb–', 
$which_size
);

7668 
	}
}

7673 
funùiÚ
 
	$S‘Sm®lFÚtSize
(
$which_size
)

7675  
$this
->
	`S‘FÚt
('g’”ic', 
$which_size
);

7676 
	}
}

7681 
funùiÚ
 
	$S‘XLab–FÚtSize
(
$which_size
)

7683  
$this
->
	`S‘FÚt
('x_t™Ë', 
$which_size
);

7684 
	}
}

7689 
funùiÚ
 
	$S‘YLab–FÚtSize
(
$which_size
)

7691  
$this
->
	`S‘FÚt
('y_t™Ë', 
$which_size
);

7692 
	}
}

7697 
funùiÚ
 
	$S‘XLab–
(
$which_xÏb
)

7699  
$this
->
	`S‘XT™Ë
(
$which_xÏb
);

7700 
	}
}

7705 
funùiÚ
 
	$S‘YLab–
(
$which_yÏb
)

7707  
$this
->
	`S‘YT™Ë
(
$which_yÏb
);

7708 
	}
}

7713 
funùiÚ
 
	$S‘TickL’gth
(
$which_
)

7715 
$this
->
	`S‘XTickL’gth
(
$which_
);

7716 
$this
->
	`S‘YTickL’gth
(
$which_
);

7717  
TRUE
;

7718 
	}
}

7723 
funùiÚ
 
	$S‘YGridLab–Ty³
(
$which_ygÉ
)

7725  
$this
->
	`S‘YLab–Ty³
(
$which_ygÉ
);

7726 
	}
}

7731 
funùiÚ
 
	$S‘XGridLab–Ty³
(
$which_xgÉ
)

7733  
$this
->
	`S‘XLab–Ty³
(
$which_xgÉ
);

7734 
	}
}

7738 
funùiÚ
 
	$S‘YGridLab–Pos
(
$which_ygÍ
)

7740  
$this
->
	`S‘YTickLab–Pos
(
$which_ygÍ
);

7741 
	}
}

7745 
funùiÚ
 
	$S‘XGridLab–Pos
(
$which_xgÍ
)

7747  
$this
->
	`S‘XTickLab–Pos
(
$which_xgÍ
);

7748 
	}
}

7753 
funùiÚ
 
	$S‘XT™ËPos
(
$xpos
)

7755 
$this
->
x_t™Ë_pos
 = 
$xpos
;

7756  
TRUE
;

7757 
	}
}

7762 
funùiÚ
 
	$S‘YT™ËPos
(
$xpos
)

7764 
$this
->
y_t™Ë_pos
 = 
$xpos
;

7765  
TRUE
;

7766 
	}
}

7771 
funùiÚ
 
	$S‘D¿wXD©aLab–s
(
$which_dxdl
)

7773 ià(
$which_dxdl
 == '1' )

7774 
$this
->
	`S‘XD©aLab–Pos
('plotdown');

7776 
$this
->
	`S‘XD©aLab–Pos
('none');

7777 
	}
}

7782 
funùiÚ
 
	$S‘NewPlÙA»aPix–s
(
$x1
, 
$y1
, 
$x2
, 
$y2
)

7784  
$this
->
	`S‘PlÙA»aPix–s
(
$x1
, 
$y1
, 
$x2
, 
$y2
);

7785 
	}
}

7790 
funùiÚ
 
	$S‘LšeWidth
(
$which_lw
)

7793 
$this
->
	`S‘LšeWidths
(
$which_lw
);

7795 ià(!
$this
->
”rÜ_b¬_lše_width
) {

7796 
$this
->
	`S‘E¼ÜB¬LšeWidth
(
$which_lw
);

7798  
TRUE
;

7799 
	}
}

7804 
funùiÚ
 
	$S‘PoštSh­e
(
$which_±
)

7806 
$this
->
	`S‘PoštSh­es
(
$which_±
);

7807  
TRUE
;

7808 
	}
}

7813 
funùiÚ
 
	$S‘PoštSize
(
$which_ps
)

7815 
$this
->
	`S‘PoštSizes
(
$which_ps
);

7816  
TRUE
;

7817 
	}
}

7822 
´Ùeùed
 
funùiÚ
 
	$D¿wE¼Ü
(
$”rÜ_mes§ge
, 
$wh”e_x
 = 
NULL
, 
$wh”e_y
 = NULL)

7824  
$this
->
	`PrštE¼Ü
(
$”rÜ_mes§ge
);

7825 
	}
}

7833 şas 
	cPHPlÙ_ŒuecŞÜ
 
ex‹nds
 
	mPHPlÙ


7844 
funùiÚ
 
	$__cÚ¡ruù
(
$width
=600, 
$height
=400, 
$ouut_fe
=
NULL
, 
$šput_fe
=NULL)

7846 
$this
->
	`š™Ÿlize
('imageü—‹ŒuecŞÜ', 
$width
, 
$height
, 
$ouut_fe
, 
$šput_fe
);

7848 
	}
}

	@lib/simple_html_dom.php

1 <?
php


45 
defše
('HDOM_TYPE_ELEMENT', 1);

46 
defše
('HDOM_TYPE_COMMENT', 2);

47 
defše
('HDOM_TYPE_TEXT', 3);

48 
defše
('HDOM_TYPE_ENDTAG', 4);

49 
defše
('HDOM_TYPE_ROOT', 5);

50 
defše
('HDOM_TYPE_UNKNOWN', 6);

51 
defše
('HDOM_QUOTE_DOUBLE', 0);

52 
defše
('HDOM_QUOTE_SINGLE', 1);

53 
defše
('HDOM_QUOTE_NO', 3);

54 
defše
('HDOM_INFO_BEGIN', 0);

55 
defše
('HDOM_INFO_END', 1);

56 
defše
('HDOM_INFO_QUOTE', 2);

57 
defše
('HDOM_INFO_SPACE', 3);

58 
defše
('HDOM_INFO_TEXT', 4);

59 
defše
('HDOM_INFO_INNER', 5);

60 
defše
('HDOM_INFO_OUTER', 6);

61 
defše
('HDOM_INFO_ENDSPACE',7);

62 
defše
('DEFAULT_TARGET_CHARSET', 'UTF-8');

63 
defše
('DEFAULT_BR_TEXT', "\r\n");

64 
defše
('DEFAULT_SPAN_TEXT', " ");

65 
defše
('MAX_FILE_SIZE', 1800000);

70 
funùiÚ
 
fe_g‘_html
(
$u¾
, 
$u£_šşude_·th
 = 
çl£
, 
$cÚ‹xt
=
nuÎ
, 
$off£t
 = -1, 
$maxL’
=-1, 
$low”ÿ£
 = 
Œue
, 
$fÜûTagsClo£d
ñrue, 
$rg‘_ch¬£t
 = 
DEFAULT_TARGET_CHARSET
, 
$¡rRN
ñrue, 
$deçuÉBRText
=
DEFAULT_BR_TEXT
, 
$deçuÉS·nText
=
DEFAULT_SPAN_TEXT
)

73 
$dom
 = 
Ãw
 
sim¶e_html_dom
(
nuÎ
, 
$low”ÿ£
, 
$fÜûTagsClo£d
, 
$rg‘_ch¬£t
, 
$¡rRN
, 
$deçuÉBRText
, 
$deçuÉS·nText
);

75 
	g$cÚ‹Ás
 = 
fe_g‘_cÚ‹Ás
(
$u¾
, 
$u£_šşude_·th
, 
$cÚ‹xt
, 
$off£t
);

78 ià(
em±y
(
$cÚ‹Ás
è|| 
¡¾’
($cÚ‹Ásè> 
	gMAX_FILE_SIZE
)

80  
	gçl£
;

83 
	g$dom
->
lßd
(
$cÚ‹Ás
, 
$low”ÿ£
, 
$¡rRN
);

84  
	g$dom
;

88 
funùiÚ
 
	$¡r_g‘_html
(
$¡r
, 
$low”ÿ£
=
Œue
, 
$fÜûTagsClo£d
ñrue, 
$rg‘_ch¬£t
 = 
DEFAULT_TARGET_CHARSET
, 
$¡rRN
ñrue, 
$deçuÉBRText
=
DEFAULT_BR_TEXT
, 
$deçuÉS·nText
=
DEFAULT_SPAN_TEXT
)

90 
$dom
 = 
Ãw
 
	`sim¶e_html_dom
(
nuÎ
, 
$low”ÿ£
, 
$fÜûTagsClo£d
, 
$rg‘_ch¬£t
, 
$¡rRN
, 
$deçuÉBRText
, 
$deçuÉS·nText
);

91 ià(
	`em±y
(
$¡r
è|| 
	`¡¾’
($¡rè> 
MAX_FILE_SIZE
)

93 
$dom
->
	`ş—r
();

94  
çl£
;

96 
$dom
->
	`lßd
(
$¡r
, 
$low”ÿ£
, 
$¡rRN
);

97  
$dom
;

98 
	}
}

101 
funùiÚ
 
	$dump_html_Œ“
(
$node
, 
$show_©Œ
=
Œue
, 
$d“p
=0)

103 
$node
->
	`dump
($node);

104 
	}
}

114 şas 
	csim¶e_html_dom_node


116 
public
 
	m$nod‘y³
 = 
HDOM_TYPE_TEXT
;

117 
public
 
	m$g
 = 'text';

118 
public
 
	m$©Œ
 = 
¬¿y
();

119 
public
 
	m$chd»n
 = 
¬¿y
();

120 
public
 
	m$nodes
 = 
¬¿y
();

121 
public
 
	m$·»Á
 = 
nuÎ
;

123 
public
 
	m$_
 = 
¬¿y
();

124 
public
 
	m$g_¡¬t
 = 0;

125 
´iv©e
 
	m$dom
 = 
nuÎ
;

127 
funùiÚ
 
	$__cÚ¡ruù
(
$dom
)

129 
$this
->
dom
 = 
$dom
;

130 
$dom
->
nodes
[] = 
$this
;

133 
funùiÚ
 
	$__de¡ruù
()

135 
$this
->
	`ş—r
();

136 
	}
}

138 
funùiÚ
 
	$__toSŒšg
()

140  
$this
->
	`ou‹¹ext
();

141 
	}
}

144 
funùiÚ
 
	$ş—r
()

146 
$this
->
dom
 = 
nuÎ
;

147 
$this
->
nodes
 = 
nuÎ
;

148 
$this
->
·»Á
 = 
nuÎ
;

149 
$this
->
chd»n
 = 
nuÎ
;

150 
	}
}

153 
funùiÚ
 
	$dump
(
$show_©Œ
=
Œue
, 
$d“p
=0)

155 
$Ëad
 = 
	`¡r_»³©
(' ', 
$d“p
);

157 
echo
 
$Ëad
.
$this
->
g
;

158 ià(
$show_©Œ
 && 
	`couÁ
(
$this
->
©Œ
)>0)

160 
echo
 '(';

161 
	`fÜ—ch
 (
$this
->
©Œ
 
as
 
$k
=>
$v
)

162 
echo
 "[$k]=>\"".
$this
->
$k
.'", ';

163 
echo
 ')';

165 
echo
 "\n";

167 ià(
$this
->
nodes
)

169 
	`fÜ—ch
 (
$this
->
nodes
 
as
 
$c
)

171 
$c
->
	`dump
(
$show_©Œ
, 
$d“p
+1);

174 
	}
}

178 
funùiÚ
 
	$dump_node
(
$echo
=
Œue
)

181 
$¡ršg
 = 
$this
->
g
;

182 ià(
	`couÁ
(
$this
->
©Œ
)>0)

184 
$¡ršg
 .= '(';

185 
	`fÜ—ch
 (
$this
->
©Œ
 
as
 
$k
=>
$v
)

187 
$¡ršg
 .ğ"[$k]=>\"".
$this
->
$k
.'", ';

189 
$¡ršg
 .= ')';

191 ià(
	`couÁ
(
$this
->
_
)>0)

193 
$¡ršg
 .= ' $_ (';

194 
	`fÜ—ch
 (
$this
->
_
 
as
 
$k
=>
$v
)

196 ià(
	`is_¬¿y
(
$v
))

198 
$¡ršg
 .= "[$k]=>(";

199 
	`fÜ—ch
 (
$v
 
as
 
$k2
=>
$v2
)

201 
$¡ršg
 .ğ"[$k2]=>\"".
$v2
.'", ';

203 
$¡ršg
 .= ")";

205 
$¡ršg
 .ğ"[$k]=>\"".
$v
.'", ';

208 
$¡ršg
 .= ")";

211 ià(
	`is£t
(
$this
->
‹xt
))

213 
$¡ršg
 .ğ"ext: (" . 
$this
->
‹xt
 . ")";

216 
$¡ršg
 .= " HDOM_INNER_INFO: '";

217 ià(
	`is£t
(
$node
->
_
[
HDOM_INFO_INNER
]))

219 
$¡ršg
 .ğ
$node
->
_
[
HDOM_INFO_INNER
] . "'";

223 
$¡ršg
 .= ' NULL ';

226 
$¡ršg
 .ğ" chd»n: " . 
	`couÁ
(
$this
->
chd»n
);

227 
$¡ršg
 .ğ"‚odes: " . 
	`couÁ
(
$this
->
nodes
);

228 
$¡ršg
 .ğ"ag_¡¬t: " . 
$this
->
g_¡¬t
;

229 
$¡ršg
 .= "\n";

231 ià(
$echo
)

233 
echo
 
$¡ršg
;

238  
$¡ršg
;

240 
	}
}

244 
funùiÚ
 
	$·»Á
(
$·»Á
=
nuÎ
)

248 ià(
$·»Á
 !=ğ
nuÎ
)

250 
$this
->
·»Á
 = 
$·»Á
;

251 
$this
->
·»Á
->
nodes
[] = $this;

252 
$this
->
·»Á
->
chd»n
[] = $this;

255  
$this
->
·»Á
;

256 
	}
}

259 
funùiÚ
 
	$has_chd
()

261  !
	`em±y
(
$this
->
chd»n
);

262 
	}
}

265 
funùiÚ
 
chd»n
(
$idx
=-1)

267 ià(
$idx
===-1)

269  
$this
->
chd»n
;

271 ià(
is£t
(
$this
->
chd»n
[
$idx
])è 
	g$this
->
	gchd»n
[$idx];

272  
	gnuÎ
;

276 
funùiÚ
 
	$fœ¡_chd
()

278 ià(
	`couÁ
(
$this
->
chd»n
)>0)

280  
$this
->
chd»n
[0];

282  
nuÎ
;

283 
	}
}

286 
funùiÚ
 
	$Ï¡_chd
()

288 ià((
$couÁ
=
	`couÁ
(
$this
->
chd»n
))>0)

290  
$this
->
chd»n
[
$couÁ
-1];

292  
nuÎ
;

293 
	}
}

296 
funùiÚ
 
	$Ãxt_siblšg
()

298 ià(
$this
->
·»Á
===
nuÎ
)

300  
nuÎ
;

303 
$idx
 = 0;

304 
$couÁ
 = 
	`couÁ
(
$this
->
·»Á
->
chd»n
);

305 
$idx
<
$couÁ
 && 
$this
!==$this->
·»Á
->
chd»n
[$idx])

307 ++
$idx
;

309 ià(++
$idx
>=
$couÁ
)

311  
nuÎ
;

313  
$this
->
·»Á
->
chd»n
[
$idx
];

314 
	}
}

317 
funùiÚ
 
	$´ev_siblšg
()

319 ià(
$this
->
·»Á
===
nuÎ
) ‚ull;

320 
$idx
 = 0;

321 
$couÁ
 = 
	`couÁ
(
$this
->
·»Á
->
chd»n
);

322 
$idx
<
$couÁ
 && 
$this
!==$this->
·»Á
->
chd»n
[$idx])

323 ++
$idx
;

324 ià(--
$idx
<0è 
nuÎ
;

325  
$this
->
·»Á
->
chd»n
[
$idx
];

326 
	}
}

329 
funùiÚ
 
	$fšd_ªû¡Ü_g
(
$g
)

331 
glob®
 
$debugObjeù
;

332 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLogEÁry
(1); }

335 
$»tuºDom
 = 
$this
;

337 !
	`is_nuÎ
(
$»tuºDom
))

339 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLog
(2, "Cu¼’ˆg is: " . 
$»tuºDom
->
g
); }

341 ià(
$»tuºDom
->
g
 =ğ
$g
)

345 
$»tuºDom
 = $»tuºDom->
·»Á
;

347  
$»tuºDom
;

348 
	}
}

351 
funùiÚ
 
	$šÃ¹ext
()

353 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_INNER
]))  $this->_[HDOM_INFO_INNER];

354 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_TEXT
])è $this->
dom
->
	`»¡Üe_noi£
($this->_[HDOM_INFO_TEXT]);

356 
$»t
 = '';

357 
	`fÜ—ch
 (
$this
->
nodes
 
as
 
$n
)

358 
$»t
 .ğ
$n
->
	`ou‹¹ext
();

359  
$»t
;

360 
	}
}

363 
funùiÚ
 
	$ou‹¹ext
()

365 
glob®
 
$debugObjeù
;

366 ià(
	`is_objeù
(
$debugObjeù
))

368 
$‹xt
 = '';

369 ià(
$this
->
g
 == 'text')

371 ià(!
	`em±y
(
$this
->
‹xt
))

373 
$‹xt
 = " w™hext: " . 
$this
->
‹xt
;

376 
$debugObjeù
->
	`debugLog
(1, 'IÂ”‹xˆoàg: ' . 
$this
->
g
 . 
$‹xt
);

379 ià(
$this
->
g
==='roÙ'è $this->
	`šÃ¹ext
();

382 ià(
$this
->
dom
 && $this->dom->
ÿÎback
!==
nuÎ
)

384 
	`ÿÎ_u£r_func_¬¿y
(
$this
->
dom
->
ÿÎback
, 
	`¬¿y
($this));

387 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_OUTER
]))  $this->_[HDOM_INFO_OUTER];

388 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_TEXT
])è $this->
dom
->
	`»¡Üe_noi£
($this->_[HDOM_INFO_TEXT]);

391 ià(
$this
->
dom
 && $this->dom->
nodes
[$this->
_
[
HDOM_INFO_BEGIN
]])

393 
$»t
 = 
$this
->
dom
->
nodes
[$this->
_
[
HDOM_INFO_BEGIN
]]->
	`makeup
();

395 
$»t
 = "";

399 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_INNER
]))

402 ià(
$this
->
g
 != "br")

404 
$»t
 .ğ
$this
->
_
[
HDOM_INFO_INNER
];

407 ià(
$this
->
nodes
)

409 
	`fÜ—ch
 (
$this
->
nodes
 
as
 
$n
)

411 
$»t
 .ğ
$this
->
	`cÚv”t_‹xt
(
$n
->
	`ou‹¹ext
());

417 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_END
]) && $this->_[HDOM_INFO_END]!=0)

418 
$»t
 .ğ'</'.
$this
->
g
.'>';

419  
$»t
;

420 
	}
}

423 
funùiÚ
 
	$‹xt
()

425 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_INNER
]))  $this->_[HDOM_INFO_INNER];

426 
$this
->
nod‘y³
)

428 
HDOM_TYPE_TEXT
:  
$this
->
dom
->
	`»¡Üe_noi£
($this->
_
[
HDOM_INFO_TEXT
]);

429 
HDOM_TYPE_COMMENT
:  '';

430 
HDOM_TYPE_UNKNOWN
:  '';

432 ià(
	`¡rÿ£cmp
(
$this
->
g
, 'script')===0)  '';

433 ià(
	`¡rÿ£cmp
(
$this
->
g
, 'style')===0)  '';

435 
$»t
 = '';

439 ià(!
	`is_nuÎ
(
$this
->
nodes
))

441 
	`fÜ—ch
 (
$this
->
nodes
 
as
 
$n
)

443 
$»t
 .ğ
$this
->
	`cÚv”t_‹xt
(
$n
->
	`‹xt
());

447 ià(
$this
->
g
 == "span")

449 
$»t
 .ğ
$this
->
dom
->
deçuÉ_¥ª_‹xt
;

454  
$»t
;

455 
	}
}

457 
funùiÚ
 
	$xmÉext
()

459 
$»t
 = 
$this
->
	`šÃ¹ext
();

460 
$»t
 = 
	`¡r_œ•Ïû
('<![CDATA[', '', $ret);

461 
$»t
 = 
	`¡r_»¶aû
(']]>', '', $ret);

462  
$»t
;

463 
	}
}

466 
funùiÚ
 
	$makeup
()

469 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_TEXT
])è $this->
dom
->
	`»¡Üe_noi£
($this->_[HDOM_INFO_TEXT]);

471 
$»t
 = '<'.
$this
->
g
;

472 
$i
 = -1;

474 
	`fÜ—ch
 (
$this
->
©Œ
 
as
 
$key
=>
$v®
)

476 ++
$i
;

479 ià(
$v®
===
nuÎ
 || $v®===
çl£
)

482 
$»t
 .ğ
$this
->
_
[
HDOM_INFO_SPACE
][
$i
][0];

484 ià(
$v®
===
Œue
)

485 
$»t
 .ğ
$key
;

487 
$this
->
_
[
HDOM_INFO_QUOTE
][
$i
])

489 
HDOM_QUOTE_DOUBLE
: 
$quÙe
 = '"'; ;

490 
HDOM_QUOTE_SINGLE
: 
$quÙe
 = '\''; ;

491 : 
$quÙe
 = '';

493 
$»t
 .ğ
$key
.
$this
->
_
[
HDOM_INFO_SPACE
][
$i
][1].'='.$this->_[HDOM_INFO_SPACE][$i][2].
$quÙe
.
$v®
.$quote;

496 
$»t
 = 
$this
->
dom
->
	`»¡Üe_noi£
($ret);

497  
$»t
 . 
$this
->
_
[
HDOM_INFO_ENDSPACE
] . '>';

498 
	}
}

502 
funùiÚ
 
	$fšd
(
$£ËùÜ
, 
$idx
=
nuÎ
, 
$low”ÿ£
=
çl£
)

504 
$£ËùÜs
 = 
$this
->
	`·r£_£ËùÜ
(
$£ËùÜ
);

505 ià((
$couÁ
=
	`couÁ
(
$£ËùÜs
))===0è 
	`¬¿y
();

506 
$found_keys
 = 
	`¬¿y
();

509 
$c
=0; $c<
$couÁ
; ++$c)

513 ià((
$ËvË
=
	`couÁ
(
$£ËùÜs
[
$c
]))===0è 
	`¬¿y
();

514 ià(!
	`is£t
(
$this
->
_
[
HDOM_INFO_BEGIN
])è 
	`¬¿y
();

516 
$h—d
 = 
	`¬¿y
(
$this
->
_
[
HDOM_INFO_BEGIN
]=>1);

519 
$l
=0; $l<
$ËvË
; ++$l)

521 
$»t
 = 
	`¬¿y
();

522 
	`fÜ—ch
 (
$h—d
 
as
 
$k
=>
$v
)

524 
$n
 = (
$k
===-1è? 
$this
->
dom
->
roÙ
 : $this->dom->
nodes
[$k];

526 
$n
->
	`£ek
(
$£ËùÜs
[
$c
][
$l
], 
$»t
, 
$low”ÿ£
);

528 
$h—d
 = 
$»t
;

531 
	`fÜ—ch
 (
$h—d
 
as
 
$k
=>
$v
)

533 ià(!
	`is£t
(
$found_keys
[
$k
]))

534 
$found_keys
[
$k
] = 1;

539 
	`ksÜt
(
$found_keys
);

541 
$found
 = 
	`¬¿y
();

542 
	`fÜ—ch
 (
$found_keys
 
as
 
$k
=>
$v
)

543 
$found
[] = 
$this
->
dom
->
nodes
[
$k
];

546 ià(
	`is_nuÎ
(
$idx
)è 
$found
;

547 ià(
$idx
<0è$idx = 
	`couÁ
(
$found
) + $idx;

548  (
	`is£t
(
$found
[
$idx
])è? $found[$idx] : 
nuÎ
;

549 
	}
}

553 
´Ùeùed
 
funùiÚ
 
	$£ek
(
$£ËùÜ
, &
$»t
, 
$low”ÿ£
=
çl£
)

555 
glob®
 
$debugObjeù
;

556 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLogEÁry
(1); }

558 
	`li¡
(
$g
, 
$key
, 
$v®
, 
$exp
, 
$no_key
èğ
$£ËùÜ
;

561 ià(
$g
 && 
$key
 && 
	`is_num”ic
($key))

563 
$couÁ
 = 0;

564 
	`fÜ—ch
 (
$this
->
chd»n
 
as
 
$c
)

566 ià(
$g
==='*' || $g===
$c
->
g
) {

567 ià(++
$couÁ
==
$key
) {

568 
$»t
[
$c
->
_
[
HDOM_INFO_BEGIN
]] = 1;

576 
$’d
 = (!
	`em±y
(
$this
->
_
[
HDOM_INFO_END
])) ? $this->_[HDOM_INFO_END] : 0;

577 ià(
$’d
==0) {

578 
$·»Á
 = 
$this
->
·»Á
;

579 !
	`is£t
(
$·»Á
->
_
[
HDOM_INFO_END
]è&& $·»Á!==
nuÎ
) {

580 
$’d
 -= 1;

581 
$·»Á
 = $·»Á->
·»Á
;

583 
$’d
 +ğ
$·»Á
->
_
[
HDOM_INFO_END
];

586 
$i
=
$this
->
_
[
HDOM_INFO_BEGIN
]+1; $i<
$’d
; ++$i) {

587 
$node
 = 
$this
->
dom
->
nodes
[
$i
];

589 
$·ss
 = 
Œue
;

591 ià(
$g
==='*' && !
$key
) {

592 ià(
	`š_¬¿y
(
$node
, 
$this
->
chd»n
, 
Œue
))

593 
$»t
[
$i
] = 1;

598 ià(
$g
 && $g!=
$node
->
g
 && $g!=='*'è{
$·ss
=
çl£
;}

600 ià(
$·ss
 && 
$key
) {

601 ià(
$no_key
) {

602 ià(
	`is£t
(
$node
->
©Œ
[
$key
])è
$·ss
=
çl£
;

604 ià((
$key
 !ğ"¶aš‹xt"è&& !
	`is£t
(
$node
->
©Œ
[$key])è
$·ss
=
çl£
;

608 ià(
$·ss
 && 
$key
 && 
$v®
 && $val!=='*') {

610 ià(
$key
 == "plaintext") {

612 
$nodeKeyV®ue
 = 
$node
->
	`‹xt
();

615 
$nodeKeyV®ue
 = 
$node
->
©Œ
[
$key
];

617 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, "‹¡šg‚ode: " . 
$node
->
g
 . " fÜ‡‰ribu‹: " . 
$key
 . 
$exp
 . 
$v®
 . " wh”node v®uis: " . 
$nodeKeyV®ue
);}

620 ià(
$low”ÿ£
) {

621 
$check
 = 
$this
->
	`m©ch
(
$exp
, 
	`¡¹Şow”
(
$v®
), sŒtŞow”(
$nodeKeyV®ue
));

623 
$check
 = 
$this
->
	`m©ch
(
$exp
, 
$v®
, 
$nodeKeyV®ue
);

625 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, "aá” m©ch: " . (
$check
 ? "true" : "false"));}

628 ià(!
$check
 && 
	`¡rÿ£cmp
(
$key
, 'class')===0) {

629 
	`fÜ—ch
 (
	`ex¶ode
(' ',
$node
->
©Œ
[
$key
]è
as
 
$k
) {

631 ià(!
	`em±y
(
$k
)) {

632 ià(
$low”ÿ£
) {

633 
$check
 = 
$this
->
	`m©ch
(
$exp
, 
	`¡¹Şow”
(
$v®
), sŒtŞow”(
$k
));

635 
$check
 = 
$this
->
	`m©ch
(
$exp
, 
$v®
, 
$k
);

637 ià(
$check
) ;

641 ià(!
$check
è
$·ss
 = 
çl£
;

643 ià(
$·ss
è
$»t
[
$i
] = 1;

644 
	`un£t
(
$node
);

647 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(1, "EXIT -„‘: ", 
$»t
);}

648 
	}
}

650 
´Ùeùed
 
funùiÚ
 
	$m©ch
(
$exp
, 
$·‰”n
, 
$v®ue
) {

651 
glob®
 
$debugObjeù
;

652 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLogEÁry
(1);}

654 
$exp
) {

656  (
$v®ue
===
$·‰”n
);

658  (
$v®ue
!==
$·‰”n
);

660  
	`´eg_m©ch
("/^".
	`´eg_quÙe
(
$·‰”n
,'/')."/", 
$v®ue
);

662  
	`´eg_m©ch
("/".
	`´eg_quÙe
(
$·‰”n
,'/')."$/", 
$v®ue
);

664 ià(
$·‰”n
[0]=='/') {

665  
	`´eg_m©ch
(
$·‰”n
, 
$v®ue
);

667  
	`´eg_m©ch
("/".
$·‰”n
."/i", 
$v®ue
);

669  
çl£
;

670 
	}
}

672 
´Ùeùed
 
funùiÚ
 
	$·r£_£ËùÜ
(
$£ËùÜ_¡ršg
) {

673 
glob®
 
$debugObjeù
;

674 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLogEÁry
(1);}

683 
$·‰”n
 = "/([\w-:\*]*)(?:\#([\w-]+)|\.([\w-]+))?(?:\[@?(!?[\w-:]+)(?:([!*^$]?=)[\"']?(.*?)[\"']?)?\])?([\/, ]+)/is";

684 
	`´eg_m©ch_®l
(
$·‰”n
, 
	`Œim
(
$£ËùÜ_¡ršg
).' ', 
$m©ches
, 
PREG_SET_ORDER
);

685 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, "M©che A¼ay: ", 
$m©ches
);}

687 
$£ËùÜs
 = 
	`¬¿y
();

688 
$»suÉ
 = 
	`¬¿y
();

691 
	`fÜ—ch
 (
$m©ches
 
as
 
$m
) {

692 
$m
[0] = 
	`Œim
($m[0]);

693 ià(
$m
[0]==='' || $m[0]==='/' || $m[0]==='//') ;

695 ià(
$m
[1]==='tbody') ;

697 
	`li¡
(
$g
, 
$key
, 
$v®
, 
$exp
, 
$no_key
èğ
	`¬¿y
(
$m
[1], 
nuÎ
,‚uÎ, '=', 
çl£
);

698 ià(!
	`em±y
(
$m
[2])è{
$key
='id'; 
$v®
=$m[2];}

699 ià(!
	`em±y
(
$m
[3])è{
$key
='şass'; 
$v®
=$m[3];}

700 ià(!
	`em±y
(
$m
[4])è{
$key
=$m[4];}

701 ià(!
	`em±y
(
$m
[5])è{
$exp
=$m[5];}

702 ià(!
	`em±y
(
$m
[6])è{
$v®
=$m[6];}

705 ià(
$this
->
dom
->
low”ÿ£
è{
$g
=
	`¡¹Şow”
($g); 
$key
=strtolower($key);}

707 ià(
	`is£t
(
$key
[0]è&& $key[0]==='!'è{$key=
	`sub¡r
($key, 1); 
$no_key
=
Œue
;}

709 
$»suÉ
[] = 
	`¬¿y
(
$g
, 
$key
, 
$v®
, 
$exp
, 
$no_key
);

710 ià(
	`Œim
(
$m
[7])===',') {

711 
$£ËùÜs
[] = 
$»suÉ
;

712 
$»suÉ
 = 
	`¬¿y
();

715 ià(
	`couÁ
(
$»suÉ
)>0)

716 
$£ËùÜs
[] = 
$»suÉ
;

717  
$£ËùÜs
;

718 
	}
}

720 
funùiÚ
 
	$__g‘
(
$Çme
) {

721 ià(
	`is£t
(
$this
->
©Œ
[
$Çme
]))

723  
$this
->
	`cÚv”t_‹xt
($this->
©Œ
[
$Çme
]);

725 
$Çme
) {

726 'ou‹¹ext':  
$this
->
	`ou‹¹ext
();

727 'šÃ¹ext':  
$this
->
	`šÃ¹ext
();

728 '¶aš‹xt':  
$this
->
	`‹xt
();

729 'xmÉext':  
$this
->
	`xmÉext
();

730 :  
	`¬¿y_key_exi¡s
(
$Çme
, 
$this
->
©Œ
);

732 
	}
}

734 
funùiÚ
 
	$__£t
(
$Çme
, 
$v®ue
) {

735 
$Çme
) {

736 'ou‹¹ext':  
$this
->
_
[
HDOM_INFO_OUTER
] = 
$v®ue
;

738 ià(
	`is£t
(
$this
->
_
[
HDOM_INFO_TEXT
])è $this->_[HDOM_INFO_TEXT] = 
$v®ue
;

739  
$this
->
_
[
HDOM_INFO_INNER
] = 
$v®ue
;

741 ià(!
	`is£t
(
$this
->
©Œ
[
$Çme
])) {

742 
$this
->
_
[
HDOM_INFO_SPACE
][] = 
	`¬¿y
(' ', '', '');

743 
$this
->
_
[
HDOM_INFO_QUOTE
][] = 
HDOM_QUOTE_DOUBLE
;

745 
$this
->
©Œ
[
$Çme
] = 
$v®ue
;

746 
	}
}

748 
funùiÚ
 
	$__is£t
(
$Çme
) {

749 
$Çme
) {

750 'ou‹¹ext':  
Œue
;

751 'šÃ¹ext':  
Œue
;

752 '¶aš‹xt':  
Œue
;

755  (
	`¬¿y_key_exi¡s
(
$Çme
, 
$this
->
©Œ
)è? 
Œue
 : 
	`is£t
($this->attr[$name]);

756 
	}
}

758 
funùiÚ
 
	$__un£t
(
$Çme
) {

759 ià(
	`is£t
(
$this
->
©Œ
[
$Çme
]))

760 
	`un£t
(
$this
->
©Œ
[
$Çme
]);

761 
	}
}

764 
funùiÚ
 
	$cÚv”t_‹xt
(
$‹xt
)

766 
glob®
 
$debugObjeù
;

767 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLogEÁry
(1);}

769 
$cÚv”‹d_‹xt
 = 
$‹xt
;

771 
$sourûCh¬£t
 = "";

772 
$rg‘Ch¬£t
 = "";

774 ià(
$this
->
dom
)

776 
$sourûCh¬£t
 = 
	`¡¹ouµ”
(
$this
->
dom
->
_ch¬£t
);

777 
$rg‘Ch¬£t
 = 
	`¡¹ouµ”
(
$this
->
dom
->
_rg‘_ch¬£t
);

779 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(3, "sourû ch¬£t: " . 
$sourûCh¬£t
 . "¬g‘ ch¬a£t: " . 
$rg‘Ch¬£t
);}

781 ià(!
	`em±y
(
$sourûCh¬£t
è&& !em±y(
$rg‘Ch¬£t
è&& (
	`¡rÿ£cmp
($sourceCharset, $targetCharset) != 0))

784 ià((
	`¡rÿ£cmp
(
$rg‘Ch¬£t
, 'UTF-8'è=ğ0è&& (
$this
->
	`is_utf8
(
$‹xt
)))

786 
$cÚv”‹d_‹xt
 = 
$‹xt
;

790 
$cÚv”‹d_‹xt
 = 
	`icÚv
(
$sourûCh¬£t
, 
$rg‘Ch¬£t
, 
$‹xt
);

795 ià(
$rg‘Ch¬£t
 == 'UTF-8')

797 ià(
	`sub¡r
(
$cÚv”‹d_‹xt
, 0, 3) == "\xef\xbb\xbf")

799 
$cÚv”‹d_‹xt
 = 
	`sub¡r
($converted_text, 3);

801 ià(
	`sub¡r
(
$cÚv”‹d_‹xt
, -3) == "\xef\xbb\xbf")

803 
$cÚv”‹d_‹xt
 = 
	`sub¡r
($converted_text, 0, -3);

807  
$cÚv”‹d_‹xt
;

808 
	}
}

816 
funùiÚ
 
	$is_utf8
(
$¡r
)

818 
$c
=0; 
$b
=0;

819 
$b™s
=0;

820 
$Ën
=
	`¡¾’
(
$¡r
);

821 
$i
=0; $i<
$Ën
; $i++)

823 
$c
=
	`Üd
(
$¡r
[
$i
]);

824 if(
$c
 > 128)

826 if((
$c
 >ğ254)è 
çl£
;

827 
	`–£if
(
$c
 >ğ252è
$b™s
=6;

828 
	`–£if
(
$c
 >ğ248è
$b™s
=5;

829 
	`–£if
(
$c
 >ğ240è
$b™s
=4;

830 
	`–£if
(
$c
 >ğ224è
$b™s
=3;

831 
	`–£if
(
$c
 >ğ192è
$b™s
=2;

832  
çl£
;

833 if((
$i
+
$b™s
è> 
$Ën
è 
çl£
;

834 
$b™s
 > 1)

836 
$i
++;

837 
$b
=
	`Üd
(
$¡r
[
$i
]);

838 if(
$b
 < 128 || $b > 191è 
çl£
;

839 
$b™s
--;

843  
Œue
;

844 
	}
}

861 
funùiÚ
 
	$g‘_di¥Ïy_size
()

863 
glob®
 
$debugObjeù
;

865 
$width
 = -1;

866 
$height
 = -1;

868 ià(
$this
->
g
 !== 'img')

870  
çl£
;

874 ià(
	`is£t
(
$this
->
©Œ
['width']))

876 
$width
 = 
$this
->
©Œ
['width'];

879 ià(
	`is£t
(
$this
->
©Œ
['height']))

881 
$height
 = 
$this
->
©Œ
['height'];

885 ià(
	`is£t
(
$this
->
©Œ
['style']))

888 
$©Œibu‹s
 = 
	`¬¿y
();

889 
	`´eg_m©ch_®l
("/([\w-]+)\s*:\s*([^;]+)\s*;?/", 
$this
->
©Œ
['¡yË'], 
$m©ches
, 
PREG_SET_ORDER
);

890 
	`fÜ—ch
 (
$m©ches
 
as
 
$m©ch
) {

891 
$©Œibu‹s
[
$m©ch
[1]] = $match[2];

895 ià(
	`is£t
(
$©Œibu‹s
['width']è&& 
$width
 == -1)

898 ià(
	`¡¹Şow”
(
	`sub¡r
(
$©Œibu‹s
['width'], -2)) == 'px')

900 
$´İo£d_width
 = 
	`sub¡r
(
$©Œibu‹s
['width'], 0, -2);

902 ià(
	`f‹r_v¬
(
$´İo£d_width
, 
FILTER_VALIDATE_INT
))

904 
$width
 = 
$´İo£d_width
;

910 ià(
	`is£t
(
$©Œibu‹s
['height']è&& 
$height
 == -1)

913 ià(
	`¡¹Şow”
(
	`sub¡r
(
$©Œibu‹s
['height'], -2)) == 'px')

915 
$´İo£d_height
 = 
	`sub¡r
(
$©Œibu‹s
['height'], 0, -2);

917 ià(
	`f‹r_v¬
(
$´İo£d_height
, 
FILTER_VALIDATE_INT
))

919 
$height
 = 
$´İo£d_height
;

936 
$»suÉ
 = 
	`¬¿y
('height' => 
$height
,

937 'width' => 
$width
);

938  
$»suÉ
;

939 
	}
}

942 
funùiÚ
 
	$g‘AÎA‰ribu‹s
(è{ 
$this
->
©Œ
;
	}
}

943 
funùiÚ
 
	$g‘A‰ribu‹
(
$Çme
è{ 
$this
->
	`__g‘
($Çme);
	}
}

944 
funùiÚ
 
	$£tA‰ribu‹
(
$Çme
, 
$v®ue
è{
$this
->
	`__£t
($Çme, $v®ue);
	}
}

945 
funùiÚ
 
	$hasA‰ribu‹
(
$Çme
è{ 
$this
->
	`__is£t
($Çme);
	}
}

946 
funùiÚ
 
	$»moveA‰ribu‹
(
$Çme
è{
$this
->
	`__£t
($Çme, 
nuÎ
);
	}
}

947 
funùiÚ
 
	$g‘EËm’tById
(
$id
è{ 
$this
->
	`fšd
("#$id", 0);
	}
}

948 
funùiÚ
 
	$g‘EËm’tsById
(
$id
, 
$idx
=
nuÎ
è{ 
$this
->
	`fšd
("#$id", $idx);
	}
}

949 
funùiÚ
 
	$g‘EËm’tByTagName
(
$Çme
è{ 
$this
->
	`fšd
($Çme, 0);
	}
}

950 
funùiÚ
 
	$g‘EËm’tsByTagName
(
$Çme
, 
$idx
=
nuÎ
è{ 
$this
->
	`fšd
($Çme, $idx);
	}
}

951 
funùiÚ
 
	$·»ÁNode
(è{ 
$this
->
	`·»Á
();
	}
}

952 
funùiÚ
 
chdNodes
(
$idx
=-1è{ 
$this
->
chd»n
($idx);}

953 
funùiÚ
 
	$fœ¡Chd
(è{ 
$this
->
	`fœ¡_chd
();
	}
}

954 
funùiÚ
 
	$Ï¡Chd
(è{ 
$this
->
	`Ï¡_chd
();
	}
}

955 
funùiÚ
 
	$ÃxtSiblšg
(è{ 
$this
->
	`Ãxt_siblšg
();
	}
}

956 
funùiÚ
 
	$´eviousSiblšg
(è{ 
$this
->
	`´ev_siblšg
();
	}
}

957 
funùiÚ
 
	$hasChdNodes
(è{ 
$this
->
	`has_chd
();
	}
}

958 
funùiÚ
 
	$nodeName
(è{ 
$this
->
g
;
	}
}

959 
funùiÚ
 
	$­³ndChd
(
$node
è{$node->
	`·»Á
(
$this
);  $node;
	}
}

971 şas 
	csim¶e_html_dom


973 
public
 
	m$roÙ
 = 
nuÎ
;

974 
public
 
	m$nodes
 = 
¬¿y
();

975 
public
 
	m$ÿÎback
 = 
nuÎ
;

976 
public
 
	m$low”ÿ£
 = 
çl£
;

978 
public
 
	m$Üigš®_size
;

979 
public
 
	m$size
;

980 
´Ùeùed
 
	m$pos
;

981 
´Ùeùed
 
	m$doc
;

982 
´Ùeùed
 
	m$ch¬
;

983 
´Ùeùed
 
	m$cursÜ
;

984 
´Ùeùed
 
	m$·»Á
;

985 
´Ùeùed
 
	m$noi£
 = 
¬¿y
();

986 
´Ùeùed
 
	m$tok’_bÏnk
 = " \t\r\n";

987 
´Ùeùed
 
	m$tok’_equ®
 = ' =/>';

988 
´Ùeùed
 
	m$tok’_¦ash
 = " />\r\n\t";

989 
´Ùeùed
 
	m$tok’_©Œ
 = ' >';

991 
public
 
	m$_ch¬£t
 = '';

992 
public
 
	m$_rg‘_ch¬£t
 = '';

993 
´Ùeùed
 
	m$deçuÉ_br_‹xt
 = "";

994 
public
 
	m$deçuÉ_¥ª_‹xt
 = "";

997 
´Ùeùed
 
	m$£lf_şosšg_gs
 = 
¬¿y
('img'=>1, 'br'=>1, 'input'=>1, 'meta'=>1, 'link'=>1, 'hr'=>1, 'base'=>1, 'embed'=>1, 'spacer'=>1);

998 
´Ùeùed
 
	m$block_gs
 = 
¬¿y
('root'=>1, 'body'=>1, 'form'=>1, 'div'=>1, 'span'=>1, 'table'=>1);

1001 
´Ùeùed
 
	m$İtiÚ®_şosšg_gs
 = 
¬¿y
(

1002 'Œ'=>
¬¿y
('tr'=>1, 'td'=>1, 'th'=>1),

1003 'th'=>
¬¿y
('th'=>1),

1004 'td'=>
¬¿y
('td'=>1),

1005 'li'=>
¬¿y
('li'=>1),

1006 'dt'=>
¬¿y
('dt'=>1, 'dd'=>1),

1007 'dd'=>
¬¿y
('dd'=>1, 'dt'=>1),

1008 'dl'=>
¬¿y
('dd'=>1, 'dt'=>1),

1009 'p'=>
¬¿y
('p'=>1),

1010 'nobr'=>
¬¿y
('nobr'=>1),

1011 'b'=>
¬¿y
('b'=>1),

1012 'İtiÚ'=>
¬¿y
('option'=>1),

1015 
funùiÚ
 
	$__cÚ¡ruù
(
$¡r
=
nuÎ
, 
$low”ÿ£
=
Œue
, 
$fÜûTagsClo£d
ñrue, 
$rg‘_ch¬£t
=
DEFAULT_TARGET_CHARSET
, 
$¡rRN
ñrue, 
$deçuÉBRText
=
DEFAULT_BR_TEXT
, 
$deçuÉS·nText
=
DEFAULT_SPAN_TEXT
)

1017 ià(
$¡r
)

1019 ià(
	`´eg_m©ch
("/^h‰p:\/\//i",
$¡r
è|| 
	`is_fe
($str))

1021 
$this
->
	`lßd_fe
(
$¡r
);

1025 
$this
->
	`lßd
(
$¡r
, 
$low”ÿ£
, 
$¡rRN
, 
$deçuÉBRText
, 
$deçuÉS·nText
);

1029 ià(!
$fÜûTagsClo£d
) {

1030 
$this
->
İtiÚ®_şosšg_¬¿y
=
	`¬¿y
();

1032 
$this
->
_rg‘_ch¬£t
 = 
$rg‘_ch¬£t
;

1035 
funùiÚ
 
	$__de¡ruù
()

1037 
$this
->
	`ş—r
();

1038 
	}
}

1041 
funùiÚ
 
	$lßd
(
$¡r
, 
$low”ÿ£
=
Œue
, 
$¡rRN
ñrue, 
$deçuÉBRText
=
DEFAULT_BR_TEXT
, 
$deçuÉS·nText
=
DEFAULT_SPAN_TEXT
)

1043 
glob®
 
$debugObjeù
;

1046 
$this
->
	`´•¬e
(
$¡r
, 
$low”ÿ£
, 
$¡rRN
, 
$deçuÉBRText
, 
$deçuÉS·nText
);

1048 
$this
->
	`»move_noi£
("'<!--(.*?)-->'is");

1050 
$this
->
	`»move_noi£
("'<!\[CDATA\[(.*?)\]\]>'is", 
Œue
);

1054 
$this
->
	`»move_noi£
("'<\s*script[^>]*[^/]>(.*?)<\s*/\s*script\s*>'is");

1055 
$this
->
	`»move_noi£
("'<\s*script\s*>(.*?)<\s*/\s*script\s*>'is");

1057 
$this
->
	`»move_noi£
("'<\s*style[^>]*[^/]>(.*?)<\s*/\s*style\s*>'is");

1058 
$this
->
	`»move_noi£
("'<\s*style\s*>(.*?)<\s*/\s*style\s*>'is");

1060 
$this
->
	`»move_noi£
("'<\s*(?:code)[^>]*>(.*?)<\s*/\s*(?:code)\s*>'is");

1062 
$this
->
	`»move_noi£
("'(<\?)(.*?)(\?>)'s", 
Œue
);

1064 
$this
->
	`»move_noi£
("'(\{\w)(.*?)(\})'s", 
Œue
);

1067 
$this
->
	`·r£
());

1069 
$this
->
roÙ
->
_
[
HDOM_INFO_END
] = $this->
cursÜ
;

1070 
$this
->
	`·r£_ch¬£t
();

1073  
$this
;

1075 
	}
}

1078 
funùiÚ
 
	$lßd_fe
()

1080 
$¬gs
 = 
	`func_g‘_¬gs
();

1081 
$this
->
	`lßd
(
	`ÿÎ_u£r_func_¬¿y
('fe_g‘_cÚ‹Ás', 
$¬gs
), 
Œue
);

1083 ià((
$”rÜ
=
	`”rÜ_g‘_Ï¡
())!==
nuÎ
) {

1084 
$this
->
	`ş—r
();

1085  
çl£
;

1087 
	}
}

1090 
funùiÚ
 
	$£t_ÿÎback
(
$funùiÚ_Çme
)

1092 
$this
->
ÿÎback
 = 
$funùiÚ_Çme
;

1093 
	}
}

1096 
funùiÚ
 
	$»move_ÿÎback
()

1098 
$this
->
ÿÎback
 = 
nuÎ
;

1099 
	}
}

1102 
funùiÚ
 
§ve
(
$f•©h
='')

1104 
$»t
 = 
$this
->
roÙ
->
šÃ¹ext
();

1105 ià(
	g$f•©h
!==''è
fe_put_cÚ‹Ás
(
$f•©h
, 
$»t
, 
LOCK_EX
);

1106  
	g$»t
;

1111 
funùiÚ
 
	$fšd
(
$£ËùÜ
, 
$idx
=
nuÎ
, 
$low”ÿ£
=
çl£
)

1113  
$this
->
roÙ
->
	`fšd
(
$£ËùÜ
, 
$idx
, 
$low”ÿ£
);

1114 
	}
}

1117 
funùiÚ
 
	$ş—r
()

1119 
	`fÜ—ch
 (
$this
->
nodes
 
as
 
$n
è{$n->
	`ş—r
(); $Àğ
nuÎ
;}

1121 ià(
	`is£t
(
$this
->
chd»n
)è
	`fÜ—ch
 ($this->chd»À
as
 
$n
è{$n->
	`ş—r
(); $Àğ
nuÎ
;}

1122 ià(
	`is£t
(
$this
->
·»Á
)è{$this->·»Á->
	`ş—r
(); 
	`un£t
($this->parent);}

1123 ià(
	`is£t
(
$this
->
roÙ
)è{$this->roÙ->
	`ş—r
(); 
	`un£t
($this->root);}

1124 
	`un£t
(
$this
->
doc
);

1125 
	`un£t
(
$this
->
noi£
);

1126 
	}
}

1128 
funùiÚ
 
	$dump
(
$show_©Œ
=
Œue
)

1130 
$this
->
roÙ
->
	`dump
(
$show_©Œ
);

1131 
	}
}

1134 
´Ùeùed
 
funùiÚ
 
	$´•¬e
(
$¡r
, 
$low”ÿ£
=
Œue
, 
$¡rRN
ñrue, 
$deçuÉBRText
=
DEFAULT_BR_TEXT
, 
$deçuÉS·nText
=
DEFAULT_SPAN_TEXT
)

1136 
$this
->
	`ş—r
();

1139 
$this
->
size
 = 
	`¡¾’
(
$¡r
);

1141 
$this
->
Üigš®_size
 = $this->
size
;

1144 ià(
$¡rRN
) {

1145 
$¡r
 = 
	`¡r_»¶aû
("\r", " ", $str);

1146 
$¡r
 = 
	`¡r_»¶aû
("\n", " ", $str);

1149 
$this
->
size
 = 
	`¡¾’
(
$¡r
);

1152 
$this
->
doc
 = 
$¡r
;

1153 
$this
->
pos
 = 0;

1154 
$this
->
cursÜ
 = 1;

1155 
$this
->
noi£
 = 
	`¬¿y
();

1156 
$this
->
nodes
 = 
	`¬¿y
();

1157 
$this
->
low”ÿ£
 = 
$low”ÿ£
;

1158 
$this
->
deçuÉ_br_‹xt
 = 
$deçuÉBRText
;

1159 
$this
->
deçuÉ_¥ª_‹xt
 = 
$deçuÉS·nText
;

1160 
$this
->
roÙ
 = 
Ãw
 
	`sim¶e_html_dom_node
($this);

1161 
$this
->
roÙ
->
g
 = 'root';

1162 
$this
->
roÙ
->
_
[
HDOM_INFO_BEGIN
] = -1;

1163 
$this
->
roÙ
->
nod‘y³
 = 
HDOM_TYPE_ROOT
;

1164 
$this
->
·»Á
 = $this->
roÙ
;

1165 ià(
$this
->
size
>0è$this->ğ$this->
doc
[0];

1166 
	}
}

1169 
´Ùeùed
 
funùiÚ
 
	$·r£
()

1171 ià((
$s
 = 
$this
->
	`cİy_uÁ_ch¬
('<'))==='')

1173  
$this
->
	`»ad_g
();

1177 
$node
 = 
Ãw
 
	`sim¶e_html_dom_node
(
$this
);

1178 ++
$this
->
cursÜ
;

1179 
$node
->
_
[
HDOM_INFO_TEXT
] = 
$s
;

1180 
$this
->
	`lšk_nodes
(
$node
, 
çl£
);

1181  
Œue
;

1182 
	}
}

1187 
´Ùeùed
 
funùiÚ
 
	$·r£_ch¬£t
()

1189 
glob®
 
$debugObjeù
;

1191 
$ch¬£t
 = 
nuÎ
;

1193 ià(
	`funùiÚ_exi¡s
('get_last_retrieve_url_contents_content_type'))

1195 
$cÚ‹ÁTy³H—d”
 = 
	`g‘_Ï¡_»Œ›ve_u¾_cÚ‹Ás_cÚ‹Á_ty³
();

1196 
$sucûss
 = 
	`´eg_m©ch
('/ch¬£t=(.+)/', 
$cÚ‹ÁTy³H—d”
, 
$m©ches
);

1197 ià(
$sucûss
)

1199 
$ch¬£t
 = 
$m©ches
[1];

1200 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, 'h—d” cÚ‹Á-ty³ found ch¬£ˆof: ' . 
$ch¬£t
);}

1205 ià(
	`em±y
(
$ch¬£t
))

1207 
$–
 = 
$this
->
roÙ
->
	`fšd
('meta[http-equiv=Content-Type]',0);

1208 ià(!
	`em±y
(
$–
))

1210 
$fuÎv®ue
 = 
$–
->
cÚ‹Á
;

1211 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, 'm‘¨cÚ‹Á-ty³ag found' . 
$fuÎv®ue
);}

1213 ià(!
	`em±y
(
$fuÎv®ue
))

1215 
$sucûss
 = 
	`´eg_m©ch
('/ch¬£t=(.+)/', 
$fuÎv®ue
, 
$m©ches
);

1216 ià(
$sucûss
)

1218 
$ch¬£t
 = 
$m©ches
[1];

1223 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, 'meta content-typeag couldn\'t be…arsed. using iso-8859 default.');}

1224 
$ch¬£t
 = 'ISO-8859-1';

1231 ià(
	`em±y
(
$ch¬£t
))

1234 
$ch¬£t
 = 
	`mb_d‘eù_’codšg
(
$this
->
roÙ
->
¶aš‹xt
 . "ascii", 
$’codšg_li¡
 = 
	`¬¿y
( "UTF-8", "CP1252" ) );

1235 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, 'mb_d‘eù found: ' . 
$ch¬£t
);}

1238 ià(
$ch¬£t
 ==ğ
çl£
)

1240 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, 'since mb_detect failed - using default of utf-8');}

1241 
$ch¬£t
 = 'UTF-8';

1246 ià((
	`¡¹Şow”
(
$ch¬£t
) == strtolower('ISO-8859-1')) || (strtolower($charset) == strtolower('Latin1')) || (strtolower($charset) == strtolower('Latin-1')))

1248 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(2, '»¶acšg ' . 
$ch¬£t
 . ' with CP1252‡s its‡ superset');}

1249 
$ch¬£t
 = 'CP1252';

1252 ià(
	`is_objeù
(
$debugObjeù
)è{$debugObjeù->
	`debugLog
(1, 'EXIT - ' . 
$ch¬£t
);}

1254  
$this
->
_ch¬£t
 = 
$ch¬£t
;

1255 
	}
}

1258 
´Ùeùed
 
funùiÚ
 
	$»ad_g
()

1260 ià(
$this
->!=='<')

1262 
$this
->
roÙ
->
_
[
HDOM_INFO_END
] = $this->
cursÜ
;

1263  
çl£
;

1265 
$begš_g_pos
 = 
$this
->
pos
;

1266 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1269 ià(
$this
->==='/')

1271 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1274 
$this
->
	`sk
($this->
tok’_bÏnk
);

1275 
$g
 = 
$this
->
	`cİy_uÁ_ch¬
('>');

1278 ià((
$pos
 = 
	`¡½os
(
$g
, ' '))!==
çl£
)

1279 
$g
 = 
	`sub¡r
($g, 0, 
$pos
);

1281 
$·»Á_low”
 = 
	`¡¹Şow”
(
$this
->
·»Á
->
g
);

1282 
$g_low”
 = 
	`¡¹Şow”
(
$g
);

1284 ià(
$·»Á_low”
!==
$g_low”
)

1286 ià(
	`is£t
(
$this
->
İtiÚ®_şosšg_gs
[
$·»Á_low”
]è&& is£t($this->
block_gs
[
$g_low”
]))

1288 
$this
->
·»Á
->
_
[
HDOM_INFO_END
] = 0;

1289 
$Üg_·»Á
 = 
$this
->
·»Á
;

1291 (
$this
->
·»Á
->·»Áè&& 
	`¡¹Şow”
($this->·»Á->
g
)!==
$g_low”
)

1292 
$this
->
·»Á
 = $this->parent->parent;

1294 ià(
	`¡¹Şow”
(
$this
->
·»Á
->
g
)!==
$g_low”
) {

1295 
$this
->
·»Á
 = 
$Üg_·»Á
;

1296 ià(
$this
->
·»Á
->parent) $this->parent = $this->parent->parent;

1297 
$this
->
·»Á
->
_
[
HDOM_INFO_END
] = $this->
cursÜ
;

1298  
$this
->
	`as_‹xt_node
(
$g
);

1301 ià((
$this
->
·»Á
->·»Áè&& 
	`is£t
($this->
block_gs
[
$g_low”
]))

1303 
$this
->
·»Á
->
_
[
HDOM_INFO_END
] = 0;

1304 
$Üg_·»Á
 = 
$this
->
·»Á
;

1306 (
$this
->
·»Á
->·»Áè&& 
	`¡¹Şow”
($this->·»Á->
g
)!==
$g_low”
)

1307 
$this
->
·»Á
 = $this->parent->parent;

1309 ià(
	`¡¹Şow”
(
$this
->
·»Á
->
g
)!==
$g_low”
)

1311 
$this
->
·»Á
 = 
$Üg_·»Á
;

1312 
$this
->
·»Á
->
_
[
HDOM_INFO_END
] = $this->
cursÜ
;

1313  
$this
->
	`as_‹xt_node
(
$g
);

1316 ià((
$this
->
·»Á
->·»Áè&& 
	`¡¹Şow”
($this->·»Á->·»Á->
g
)===
$g_low”
)

1318 
$this
->
·»Á
->
_
[
HDOM_INFO_END
] = 0;

1319 
$this
->
·»Á
 = $this->parent->parent;

1322  
$this
->
	`as_‹xt_node
(
$g
);

1325 
$this
->
·»Á
->
_
[
HDOM_INFO_END
] = $this->
cursÜ
;

1326 ià(
$this
->
·»Á
->parent) $this->parent = $this->parent->parent;

1328 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1329  
Œue
;

1332 
$node
 = 
Ãw
 
	`sim¶e_html_dom_node
(
$this
);

1333 
$node
->
_
[
HDOM_INFO_BEGIN
] = 
$this
->
cursÜ
;

1334 ++
$this
->
cursÜ
;

1335 
$g
 = 
$this
->
	`cİy_uÁ
($this->
tok’_¦ash
);

1336 
$node
->
g_¡¬t
 = 
$begš_g_pos
;

1339 ià(
	`is£t
(
$g
[0]) && $tag[0]==='!') {

1340 
$node
->
_
[
HDOM_INFO_TEXT
] = '<' . 
$g
 . 
$this
->
	`cİy_uÁ_ch¬
('>');

1342 ià(
	`is£t
(
$g
[2]) && $tag[1]==='-' && $tag[2]==='-') {

1343 
$node
->
nod‘y³
 = 
HDOM_TYPE_COMMENT
;

1344 
$node
->
g
 = 'comment';

1346 
$node
->
nod‘y³
 = 
HDOM_TYPE_UNKNOWN
;

1347 
$node
->
g
 = 'unknown';

1349 ià(
$this
->==='>'è
$node
->
_
[
HDOM_INFO_TEXT
].='>';

1350 
$this
->
	`lšk_nodes
(
$node
, 
Œue
);

1351 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1352  
Œue
;

1356 ià(
$pos
=
	`¡½os
(
$g
, '<')!==
çl£
) {

1357 
$g
 = '<' . 
	`sub¡r
($tag, 0, -1);

1358 
$node
->
_
[
HDOM_INFO_TEXT
] = 
$g
;

1359 
$this
->
	`lšk_nodes
(
$node
, 
çl£
);

1360 
$this
->ğ$this->
doc
[--$this->
pos
];

1361  
Œue
;

1364 ià(!
	`´eg_m©ch
("/^[\w-:]+$/", 
$g
)) {

1365 
$node
->
_
[
HDOM_INFO_TEXT
] = '<' . 
$g
 . 
$this
->
	`cİy_uÁ
('<>');

1366 ià(
$this
->==='<') {

1367 
$this
->
	`lšk_nodes
(
$node
, 
çl£
);

1368  
Œue
;

1371 ià(
$this
->==='>'è
$node
->
_
[
HDOM_INFO_TEXT
].='>';

1372 
$this
->
	`lšk_nodes
(
$node
, 
çl£
);

1373 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1374  
Œue
;

1378 
$node
->
nod‘y³
 = 
HDOM_TYPE_ELEMENT
;

1379 
$g_low”
 = 
	`¡¹Şow”
(
$g
);

1380 
$node
->
g
 = (
$this
->
low”ÿ£
è? 
$g_low”
 : 
$g
;

1383 ià(
	`is£t
(
$this
->
İtiÚ®_şosšg_gs
[
$g_low”
]) )

1385 
	`is£t
(
$this
->
İtiÚ®_şosšg_gs
[
$g_low”
][
	`¡¹Şow”
($this->
·»Á
->
g
)]))

1387 
$this
->
·»Á
->
_
[
HDOM_INFO_END
] = 0;

1388 
$this
->
·»Á
 = $this->parent->parent;

1390 
$node
->
·»Á
 = 
$this
->parent;

1393 
$gu¬d
 = 0;

1394 
$¥aû
 = 
	`¬¿y
(
$this
->
	`cİy_sk
($this->
tok’_bÏnk
), '', '');

1399 ià(
$this
->!==
nuÎ
 && 
$¥aû
[0]==='')

1403 
$Çme
 = 
$this
->
	`cİy_uÁ
($this->
tok’_equ®
);

1404 ià(
$gu¬d
===
$this
->
pos
)

1406 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1409 
$gu¬d
 = 
$this
->
pos
;

1412 ià(
$this
->
pos
>=$this->
size
-1 && $this->!=='>') {

1413 
$node
->
nod‘y³
 = 
HDOM_TYPE_TEXT
;

1414 
$node
->
_
[
HDOM_INFO_END
] = 0;

1415 
$node
->
_
[
HDOM_INFO_TEXT
] = '<'.
$g
 . 
$¥aû
[0] . 
$Çme
;

1416 
$node
->
g
 = 'text';

1417 
$this
->
	`lšk_nodes
(
$node
, 
çl£
);

1418  
Œue
;

1422 ià(
$this
->
doc
[$this->
pos
-1]=='<') {

1423 
$node
->
nod‘y³
 = 
HDOM_TYPE_TEXT
;

1424 
$node
->
g
 = 'text';

1425 
$node
->
©Œ
 = 
	`¬¿y
();

1426 
$node
->
_
[
HDOM_INFO_END
] = 0;

1427 
$node
->
_
[
HDOM_INFO_TEXT
] = 
	`sub¡r
(
$this
->
doc
, 
$begš_g_pos
, $this->
pos
-$begin_tag_pos-1);

1428 
$this
->
pos
 -= 2;

1429 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1430 
$this
->
	`lšk_nodes
(
$node
, 
çl£
);

1431  
Œue
;

1434 ià(
$Çme
!=='/' && $name!=='') {

1435 
$¥aû
[1] = 
$this
->
	`cİy_sk
($this->
tok’_bÏnk
);

1436 
$Çme
 = 
$this
->
	`»¡Üe_noi£
($name);

1437 ià(
$this
->
low”ÿ£
è
$Çme
 = 
	`¡¹Şow”
($name);

1438 ià(
$this
->==='=') {

1439 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1440 
$this
->
	`·r£_©Œ
(
$node
, 
$Çme
, 
$¥aû
);

1444 
$node
->
_
[
HDOM_INFO_QUOTE
][] = 
HDOM_QUOTE_NO
;

1445 
$node
->
©Œ
[
$Çme
] = 
Œue
;

1446 ià(
$this
->!='>'è$this->ğ$this->
doc
[--$this->
pos
];

1448 
$node
->
_
[
HDOM_INFO_SPACE
][] = 
$¥aû
;

1449 
$¥aû
 = 
	`¬¿y
(
$this
->
	`cİy_sk
($this->
tok’_bÏnk
), '', '');

1453 } 
$this
->!=='>' && $this->!=='/');

1455 
$this
->
	`lšk_nodes
(
$node
, 
Œue
);

1456 
$node
->
_
[
HDOM_INFO_ENDSPACE
] = 
$¥aû
[0];

1459 ià(
$this
->
	`cİy_uÁ_ch¬_esÿ³
('>')==='/')

1461 
$node
->
_
[
HDOM_INFO_ENDSPACE
] .= '/';

1462 
$node
->
_
[
HDOM_INFO_END
] = 0;

1467 ià(!
	`is£t
(
$this
->
£lf_şosšg_gs
[
	`¡¹Şow”
(
$node
->
g
)])è$this->
·»Á
 = $node;

1469 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1474 ià(
$node
->
g
 == "br")

1476 
$node
->
_
[
HDOM_INFO_INNER
] = 
$this
->
deçuÉ_br_‹xt
;

1479  
Œue
;

1480 
	}
}

1483 
´Ùeùed
 
funùiÚ
 
	$·r£_©Œ
(
$node
, 
$Çme
, &
$¥aû
)

1487 ià(
	`is£t
(
$node
->
©Œ
[
$Çme
]))

1492 
$¥aû
[2] = 
$this
->
	`cİy_sk
($this->
tok’_bÏnk
);

1493 
$this
->) {

1495 
$node
->
_
[
HDOM_INFO_QUOTE
][] = 
HDOM_QUOTE_DOUBLE
;

1496 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1497 
$node
->
©Œ
[
$Çme
] = 
$this
->
	`»¡Üe_noi£
($this->
	`cİy_uÁ_ch¬_esÿ³
('"'));

1498 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1501 
$node
->
_
[
HDOM_INFO_QUOTE
][] = 
HDOM_QUOTE_SINGLE
;

1502 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1503 
$node
->
©Œ
[
$Çme
] = 
$this
->
	`»¡Üe_noi£
($this->
	`cİy_uÁ_ch¬_esÿ³
('\''));

1504 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1507 
$node
->
_
[
HDOM_INFO_QUOTE
][] = 
HDOM_QUOTE_NO
;

1508 
$node
->
©Œ
[
$Çme
] = 
$this
->
	`»¡Üe_noi£
($this->
	`cİy_uÁ
($this->
tok’_©Œ
));

1511 
$node
->
©Œ
[
$Çme
] = 
	`¡r_»¶aû
("\r", "", $node->attr[$name]);

1512 
$node
->
©Œ
[
$Çme
] = 
	`¡r_»¶aû
("\n", "", $node->attr[$name]);

1514 ià(
$Çme
 == "class") {

1515 
$node
->
©Œ
[
$Çme
] = 
	`Œim
($node->attr[$name]);

1517 
	}
}

1520 
´Ùeùed
 
funùiÚ
 
	$lšk_nodes
(&
$node
, 
$is_chd
)

1522 
$node
->
·»Á
 = 
$this
->parent;

1523 
$this
->
·»Á
->
nodes
[] = 
$node
;

1524 ià(
$is_chd
)

1526 
$this
->
·»Á
->
chd»n
[] = 
$node
;

1528 
	}
}

1531 
´Ùeùed
 
funùiÚ
 
	$as_‹xt_node
(
$g
)

1533 
$node
 = 
Ãw
 
	`sim¶e_html_dom_node
(
$this
);

1534 ++
$this
->
cursÜ
;

1535 
$node
->
_
[
HDOM_INFO_TEXT
] = '</' . 
$g
 . '>';

1536 
$this
->
	`lšk_nodes
(
$node
, 
çl£
);

1537 
$this
->ğ(++$this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1538  
Œue
;

1539 
	}
}

1541 
´Ùeùed
 
funùiÚ
 
	$sk
(
$ch¬s
)

1543 
$this
->
pos
 +ğ
	`¡r¥n
($this->
doc
, 
$ch¬s
, $this->pos);

1544 
$this
->ğ($this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1545 
	}
}

1547 
´Ùeùed
 
funùiÚ
 
	$cİy_sk
(
$ch¬s
)

1549 
$pos
 = 
$this
->
pos
;

1550 
$Ën
 = 
	`¡r¥n
(
$this
->
doc
, 
$ch¬s
, 
$pos
);

1551 
$this
->
pos
 +ğ
$Ën
;

1552 
$this
->ğ($this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1553 ià(
$Ën
===0)  '';

1554  
	`sub¡r
(
$this
->
doc
, 
$pos
, 
$Ën
);

1555 
	}
}

1557 
´Ùeùed
 
funùiÚ
 
	$cİy_uÁ
(
$ch¬s
)

1559 
$pos
 = 
$this
->
pos
;

1560 
$Ën
 = 
	`¡rc¥n
(
$this
->
doc
, 
$ch¬s
, 
$pos
);

1561 
$this
->
pos
 +ğ
$Ën
;

1562 
$this
->ğ($this->
pos
<$this->
size
è? $this->
doc
[$this->pos] : 
nuÎ
;

1563  
	`sub¡r
(
$this
->
doc
, 
$pos
, 
$Ën
);

1564 
	}
}

1566 
´Ùeùed
 
funùiÚ
 
	$cİy_uÁ_ch¬
(
$ch¬
)

1568 ià(
$this
->===
nuÎ
)  '';

1570 ià((
$pos
 = 
	`¡½os
(
$this
->
doc
, 
$ch¬
, $this->
pos
))===
çl£
) {

1571 
$»t
 = 
	`sub¡r
(
$this
->
doc
, $this->
pos
, $this->
size
-$this->pos);

1572 
$this
->ğ
nuÎ
;

1573 
$this
->
pos
 = $this->
size
;

1574  
$»t
;

1577 ià(
$pos
===
$this
->
pos
)  '';

1578 
$pos_Şd
 = 
$this
->
pos
;

1579 
$this
->ğ$this->
doc
[
$pos
];

1580 
$this
->
pos
 = 
$pos
;

1581  
	`sub¡r
(
$this
->
doc
, 
$pos_Şd
, 
$pos
-$pos_old);

1582 
	}
}

1584 
´Ùeùed
 
funùiÚ
 
	$cİy_uÁ_ch¬_esÿ³
(
$ch¬
)

1586 ià(
$this
->===
nuÎ
)  '';

1588 
$¡¬t
 = 
$this
->
pos
;

1591 ià((
$pos
 = 
	`¡½os
(
$this
->
doc
, 
$ch¬
, 
$¡¬t
))===
çl£
)

1593 
$»t
 = 
	`sub¡r
(
$this
->
doc
, $this->
pos
, $this->
size
-$this->pos);

1594 
$this
->ğ
nuÎ
;

1595 
$this
->
pos
 = $this->
size
;

1596  
$»t
;

1599 ià(
$pos
===
$this
->
pos
)  '';

1601 ià(
$this
->
doc
[
$pos
-1]==='\\') {

1602 
$¡¬t
 = 
$pos
+1;

1606 
$pos_Şd
 = 
$this
->
pos
;

1607 
$this
->ğ$this->
doc
[
$pos
];

1608 
$this
->
pos
 = 
$pos
;

1609  
	`sub¡r
(
$this
->
doc
, 
$pos_Şd
, 
$pos
-$pos_old);

1611 
	}
}

1615 
´Ùeùed
 
funùiÚ
 
	$»move_noi£
(
$·‰”n
, 
$»move_g
=
çl£
)

1617 
glob®
 
$debugObjeù
;

1618 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLogEÁry
(1); }

1620 
$couÁ
 = 
	`´eg_m©ch_®l
(
$·‰”n
, 
$this
->
doc
, 
$m©ches
, 
PREG_SET_ORDER
|
PREG_OFFSET_CAPTURE
);

1622 
$i
=
$couÁ
-1; $i>-1; --$i)

1624 
$key
 = '___noi£___'.
	`¥rštf
('% 5d', 
	`couÁ
(
$this
->
noi£
)+1000);

1625 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLog
(2, 'key is: ' . 
$key
); }

1626 
$idx
 = (
$»move_g
) ? 0 : 1;

1627 
$this
->
noi£
[
$key
] = 
$m©ches
[
$i
][
$idx
][0];

1628 
$this
->
doc
 = 
	`sub¡r_»¶aû
($this->doc, 
$key
, 
$m©ches
[
$i
][
$idx
][1], 
	`¡¾’
($matches[$i][$idx][0]));

1632 
$this
->
size
 = 
	`¡¾’
($this->
doc
);

1633 ià(
$this
->
size
>0)

1635 
$this
->ğ$this->
doc
[0];

1637 
	}
}

1640 
funùiÚ
 
	$»¡Üe_noi£
(
$‹xt
)

1642 
glob®
 
$debugObjeù
;

1643 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLogEÁry
(1); }

1645 (
$pos
=
	`¡½os
(
$‹xt
, '___noi£___'))!==
çl£
)

1648 ià(
	`¡¾’
(
$‹xt
è> 
$pos
+15)

1650 
$key
 = '___noi£___'.
$‹xt
[
$pos
+11].$text[$pos+12].$text[$pos+13].$text[$pos+14].$text[$pos+15];

1651 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLog
(2, 'loÿ‹d key of: ' . 
$key
); }

1653 ià(
	`is£t
(
$this
->
noi£
[
$key
]))

1655 
$‹xt
 = 
	`sub¡r
($‹xt, 0, 
$pos
).
$this
->
noi£
[
$key
].substr($text, $pos+16);

1660 
$‹xt
 = 
	`sub¡r
($‹xt, 0, 
$pos
).'UNDEFINED NOISE FOR KEY: '.
$key
 . substr($text, $pos+16);

1666 
$‹xt
 = 
	`sub¡r
($‹xt, 0, 
$pos
).'NO NUMERIC NOISE KEY' . substr($text, $pos+11);

1669  
$‹xt
;

1670 
	}
}

1673 
funùiÚ
 
	$£¬ch_noi£
(
$‹xt
)

1675 
glob®
 
$debugObjeù
;

1676 ià(
	`is_objeù
(
$debugObjeù
)è{ $debugObjeù->
	`debugLogEÁry
(1); }

1678 
	`fÜ—ch
(
$this
->
noi£
 
as
 
$noi£EËm’t
)

1680 ià(
	`¡½os
(
$noi£EËm’t
, 
$‹xt
)!==
çl£
)

1682  
$noi£EËm’t
;

1685 
	}
}

1686 
funùiÚ
 
	$__toSŒšg
()

1688  
$this
->
roÙ
->
	`šÃ¹ext
();

1689 
	}
}

1691 
funùiÚ
 
	$__g‘
(
$Çme
)

1693 
$Çme
)

1696  
$this
->
roÙ
->
	`šÃ¹ext
();

1698  
$this
->
roÙ
->
	`šÃ¹ext
();

1700  
$this
->
roÙ
->
	`‹xt
();

1702  
$this
->
_ch¬£t
;

1704  
$this
->
_rg‘_ch¬£t
;

1706 
	}
}

1709 
funùiÚ
 
chdNodes
(
$idx
=-1è{ 
$this
->
roÙ
->childNodes($idx);}

1710 
funùiÚ
 
	$fœ¡Chd
(è{ 
$this
->
roÙ
->
	`fœ¡_chd
();
	}
}

1711 
funùiÚ
 
	$Ï¡Chd
(è{ 
$this
->
roÙ
->
	`Ï¡_chd
();
	}
}

1712 
funùiÚ
 
	$ü—‹EËm’t
(
$Çme
, 
$v®ue
=
nuÎ
è{ @
	`¡r_g‘_html
("<$Çme>$v®ue</$Çme>")->
	`fœ¡_chd
();
	}
}

1713 
funùiÚ
 
	$ü—‹TextNode
(
$v®ue
è{ @
	`’d
(
	`¡r_g‘_html
($v®ue)->
nodes
);
	}
}

1714 
funùiÚ
 
	$g‘EËm’tById
(
$id
è{ 
$this
->
	`fšd
("#$id", 0);
	}
}

1715 
funùiÚ
 
	$g‘EËm’tsById
(
$id
, 
$idx
=
nuÎ
è{ 
$this
->
	`fšd
("#$id", $idx);
	}
}

1716 
funùiÚ
 
	$g‘EËm’tByTagName
(
$Çme
è{ 
$this
->
	`fšd
($Çme, 0);
	}
}

1717 
funùiÚ
 
g‘EËm’tsByTagName
(
$Çme
, 
$idx
=-1è{ 
$this
->
fšd
($name, $idx);}

1718 
funùiÚ
 
	$lßdFe
(è{
$¬gs
 = 
	`func_g‘_¬gs
();
$this
->
	`lßd_fe
($¬gs);
	}
}

	@mail_test.php

1 <?
php


2 
	g$to
 = 'kapilkasera0801@gmail.com';

3 
	g$subjeù
 = 'Illegal Seller Alert';

4 
	g$h—d”s
 = "MIME-Version: 1.0" . "\r\n";

5 
	g$h—d”s
 .= "Content-type:text/html;charset=iso 8859-1" . "\r\n";

6 
	g$h—d”s
 .= 'From: 123filter' . "\r\n";

7 
	g$mes§ge
 = "<html>

8 <
h—d
>

9 <
t™Ë
>
HTML
 
ema
</title>

10 </
h—d
>

11 <
body
>

12 <
img
 
¤c
='h‰ps://www.123f‹r.com/ac/»sourûs/image/18/73/3.²g' 
®t
='IÎeg® s–Ër' 
¡yË
='width:300px;' />

13 <
bË
>

14 <
Œ
>

15 <
td
>

16 <
¡rÚg
>
This
 
is
 
a
 
IÎeg®
 
S–Ër
</strong>

17 </
td
>

18 <
td
>
S–Ër
 
Name
</td>

19 </
Œ
>

20 </
bË
>

21 </
body
>

22 </
html
>";

23 if(
	$ma
(
$to
,
$subjeù
,
$mes§ge
,
$h—d”s
)){

24 
echo
 "Sent";

25 
	}

	g}–£
{

	@notification.php

1 <?
php


3 
	g»quœe_Úû
 '../db.php';

5 
	g$mysqli
 = 
Ãw
 
mysqli
(
$dbHo¡
, 
$dbU£r
, 
$dbPwd
, 
$dbName
);

7 ià(!
	g$mysqli
) {

8 
d›
("CÚÃùiÚ faed: " . 
mysqli_cÚÃù_”rÜ
());

10 ià(
	$mysqli_cÚÃù_”ºo
()) {

11 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

12 
	`ex™
();

13 
	}
}

14 
	g$£Ëù_®l_asš_qu”y
 = 
$mysqli
->
qu”y
("SELECT DISTINCT(asin) FROM mws_us");

15 
	g$di¡_asš
 = 
¬¿y
();

16 
	g$®l_asš
 = 
¬¿y
();

17 
	$fÜ—ch
 (
$£Ëù_®l_asš_qu”y
 
as
 
$£Ëù_®l_asš
){

18 
$®l_asš
[] = 
$£Ëù_®l_asš
['asin'];

19 
	}
}

20 
	g$£Ëù_group_asš_qu”y
 = 
$mysqli
->
qu”y
("SELECT DISTINCT(asin) FROM mws_us WHEREype = 1");

21 
	$fÜ—ch
 (
$£Ëù_group_asš_qu”y
 
as
 
$£Ëù_di¡_asš
){

22 
$di¡_asš
[] = 
$£Ëù_di¡_asš
['asin'];

23 
	}
}

25 <
süt
 
	g¤c
="https://code.jquery.com/jquery-3.1.1.min.js"></script>

26 <
lšk
 
h»f
="nÙy-lib/nÙy.css" 
»l
="stylesheet">

27 <
lšk
 
h»f
="nÙy-lib/themes/m‘roui.css" 
»l
="stylesheet">

28 <
süt
 
¤c
="nÙy-lib/nÙy.js" 
ty³
="text/javascript"></script>

29 <
süt
 
ty³
="text/javascript">

30 
$
(
docum’t
).
»ady
(
	$funùiÚ
(){

31 <?
php
 
	`fÜ—ch
(
$®l_asš
 
as
 
$asš
){

33 
v¬
 
a
 = <?
php
 
echo
 "'$asin'"; ?>;

34 
$
.
	`ajax
({

35 
ty³
: 'get',

36 
u¾
: 'alert_ajax_call.php',

37 
d©aTy³
: "json",

38 
d©a
: {"asš": 
a
},

39 
sucûss
: 
	`funùiÚ
 (
d©a
) {

40 
cÚsŞe
.
	`log
(
d©a
);

41 ià(
d©a
 !== "") {

42 
v¬
 
i
 = 0; i < 
d©a
.
Ëngth
; i++){

43 
Ãw
 
	`NÙy
({

44 
theme
: 'metroui',

45 
‹xt
: 
d©a
[
i
],

46 
Ïyout
: 'bottomRight',

47 
ty³
: 'error',

48 
şo£W™h
: ['click', 'button'],

49 }).
	`show
();

53 
”rÜ
: 
	`funùiÚ
 (
d©a
) {

54 
cÚsŞe
.
	`log
('Anƒrror occurred.');

57 <?
php


60 
	`fÜ—ch
(
$di¡_asš
 
as
 $dist_asin){

62 
v¬
 
b
 = <?
php
 
echo
 "'$dist_asin'"; ?>;

63 
$
.
	`ajax
({

64 
ty³
: 'get',

65 
u¾
: 'alert_crawl_ajax_call.php',

67 
d©a
: {"asš": 
b
},

68 
sucûss
: 
	`funùiÚ
 (
»suÉ
) {

69 
cÚsŞe
.
	`log
(
»suÉ
);

70 ià(
»suÉ
 !== "") {

71 
Ãw
 
	`NÙy
({

72 
theme
: 'metroui',

73 
‹xt
: 
»suÉ
,

74 
Ïyout
: 'bottomRight',

75 
ty³
: 'error',

76 
şo£W™h
: ['click', 'button'],

77 }).
	`show
();

80 
”rÜ
: 
	`funùiÚ
 (
d©a
) {

81 
cÚsŞe
.
	`log
('Anƒrror occurred.');

84 <?
php


87 
	}
});

88 </
	gsüt
>

	@rank/amazon_kw_rank_index.php

1 <!
DOCTYPE
 
html
 
	gPUBLIC
 "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

2 <
html
 
	gxmÊs
="https://www.w3.org/1999/xhtml">

3 <
h—d
>

4 <
m‘a
 
h‰ps
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

5 <
lšk
 
»l
="shÜtcuˆicÚ" 
h»f
="../lib/images/amazon.png" >

6 <
lšk
 
»l
="icÚ" 
ty³
="image/gif" 
h»f
="../lib/images/amazon.png" >

7 <
t™Ë
><?
php
 
echo
 
$bËÇme
; ?></
	gt™Ë
>

8 <
lšk
 
	gh»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

10 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

11 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

12 <
¡yË
>
td
.
şass
=
hideshowe
 
show
:
hov”
 + 
div
 .
hidd’
 {

13 
di¥Ïy
:
block
;

14 
	gvisib™y
:
visibË
;

15 }</
	g¡yË
>

16 </
	gh—d
><
	gbody
>

17 <?
php


18 
šşude_Úû
('../lib/functions.php');

19 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

20 
defše
("EMAIL_RECEPIENTS","john@ispringfilter.com");

21 
defše
("AMAZON_SEARCH_URL",'https://www.amazon.com/s/ref=sr_pg_1?fst=as%3Aon&rh=n%3A228013%2Cn%3A3754161%2Cn%3A13397631%2Cn%3A13397611%2Ck%3AKEYWORDS&page=1&keywords=KEYWORDS&ie=UTF8&lo=tools

23 
$cŞ¥ª
 = 
sub¡r_couÁ
(
$v®ueNames
,',');

24 if(
is£t
(
$_GET
['kw'])){

25 
$kw
 = 
¡r_œ•Ïû
(' ','_',
$_GET
['kw']);

26 
$»giÚ
 = 'com';

27 
$bËÇme
 = 'akr_'. 
$kw
;

29 
echoE¼Ü
("tablename $tablename EMPTY");

30 
ex™
;

32 ià(
is_sqÉabËexi¡
(
$bËÇme
è=ğ
çl£
) {

33 
echo
 "tablename $tablename NOTƒxist";

34 
ex™
 -2;

36 
$pid_t™Ë_¬¿y
 = 
g‘_pid_t™Ë
(
$bËÇme
);

37 ià(!
em±y
(
$_GET
['pid'])) {

38 
$pid
 = 
$_GET
['pid'];

39 ià(
¡½os
(
$pid
,';')>-1) $pid .= ';';

40 
$aPid
 = 
ex¶ode
(';',
$pid
);

41 
fÜ—ch
(
$aPid
 
as
 
$pid
) {

42 
$q
 = "select date_format(from_unixtime(time),'%Y.%m.%d')‡s dtime,round(avg(rank),1)‡s„ank,pid,title,concat(max(price),' - ',min(price))‡s…rice,rating,reviews from `$tablename` where…id = '$pid' group by dtime order by dtime desc";

43 
echo
 '<b><¨rg‘=_bÏnk h»f='. 
¡r_»¶aû
('_','+',¡r_»¶aû('KEYWORDS',
$kw
,
AMAZON_SEARCH_URL
)) .">$kw</a></b><br>";

44 
$rows
 = 
sqlqu”y
(
$q
);

45 
fÜ—ch
(
$rows
 
as
 
$row
) {

46 
$h—d”s
 = 'dtime,rank,pid,title,price,rating,reviews';

47 
fÜ—ch
(
ex¶ode
(',',
$h—d”s
è
as
 
$vn
è{
$$vn
 = 
$row
[$vn]; }

48 ià(
$t™Ë
 =ğ''è$t™Ë = 
$pid_t™Ë_¬¿y
[
$pid
];

51 
$htmlTabËBody
 .= "<tr><td>$dtime</td><td>$rank</td><td><aarget=_blank href=https://www.amazon.com/dp/$pid>$pid</a></td><td>$title</td><td>\$$price</td><td>$rating</td><td>$reviews</td></tr>";

52 ià(
$»v›ws
>100è{$»v›w ğ$»v›ws/100; 
$y_t™Ë
 = "rank,„eviews/100";}

53 
$¬¿yCh¬t
[] = 
¬¿y
(
$dtime
,0 - 
$¿nk
,
$»v›ws
);

55 
d¿wch¬t
(
$¬¿yCh¬t
,
sub¡r
(
$t™Ë
,0,72),'time',
$y_t™Ë
,1200,350);

56 
echo
 '<bË id="bË1" bÜd”=1 width="100%" cÏss="sÜbË f‹¿bË"><th—d><Œ><th>'. 
¡r_œ•Ïû
(',','</th><th>',
$h—d”s
è.'</th></Œ></th—d><tbody>'. 
$htmlTabËBody
 .'</tbody></table>';

60 
$daysBack
 = 
¡¹Ùime
('today - 5 days');

61 
$q
 = "select max(time)‡sime,„ound(avg(rank),1)‡s„ank,pid,title,title,concat(max(price),' - ',min(price))‡s…rice,rating,reviews from `$tablename` whereime > $daysBack group by…id order by„ank†imit 1000";

62 
$rows
 = 
sqlqu”y
(
$q
);

63 
$h—d”s
 = 'time,rank,pid,title,price,rating,reviews';

64 
fÜ—ch
(
$rows
 
as
 
$row
) {

65 
fÜ—ch
(
ex¶ode
(',',
$h—d”s
è
as
 
$h
è{
$$h
 = 
$row
[$h];};

66 
$time
 = 
d©e
('Y.m.d H:i',
$row
['time']);

74 
$htmlTabËBody
 .= "<tr><td>$time</td><td><aarget=_blank href=amazon_kw_rank_index.php?pid=$pid&kw=$kw>$rank</a></td><td><aarget=_blank href=https://www.amazon.com/dp/$pid>$pid</a></td><td>$title</td><td>\$$price</td><td>$rating</td><td>$reviews</td></tr>";

76 
fÜ—ch
(
ex¶ode
(',',
$h—d”s
è
as
 
$vn
) {

77 
$$vn
 = 
$row
[
$vn
];

78 
$csvrow
 .ğ
$$vn
 .',';

80 ià(
sub¡r_couÁ
(
$csvrow
,','è=ğ
$cŞ¥ª
+1è
$csv
 .ğ
Œim
($csvrow,',') ."\n";

81 
$csvrow
 = '';

83 ià(
´eg_m©ch
('/akr_/',
$bËÇme
) > 0) {

84 
$kw
 = 
¡r_œ•Ïû
('akr_','',
$bËÇme
);

85 
$u¾
 = '<b>AmazÚ KeywÜd S—rch: <¨rg‘=_bÏnk h»f="'. 
¡r_»¶aû
('KEYWORDS',¡r_»¶aû('_','+',
$kw
),
AMAZON_SEARCH_URL
) .'">'. $kw. '</a></b>';

86 } ià(
¡ros
(
$bËÇme
,'cat_') >0) {

87 
$kw
 = 
¡r_»¶aû
('hdÿt_','',
$bËÇme
);

88 
$u¾
 = '<b>AmazÚ Be¡ S–Ër š C©egÜy: <¨rg‘=_bÏnk h»f="h‰ps://www.amazÚ.com/dp/'. 
¡r_œ•Ïû
('_','-',
$kw
è.'/N-5yc1vZ'. 
$ÿtid
 .'?&style=Grid&Nao=0">'. $kw. '</a></b>';

90 
echo
 '<b>'. 
$u¾
 .'</b><br><bË id="bË1" bÜd”=1 width="100%" cÏss="f‹¿bË"><th—d><Œ><th>'. 
¡r_œ•Ïû
(',','</th><th>',
$v®ueNames
è.'</th></Œ></th—d><tbody>'. 
$htmlTabËBody
 .'</tbody></table>';

91 
šşude_Úû
('../lib/TableFilter/TableFilterConfig.js');

94 
funùiÚ
 
	$g‘_pid_t™Ë
(
$bËÇme
) {

95 
$q
 = "select distinct…id,title from `$tablename`";

96 
	`fÜ—ch
 (
	`sqlqu”y
(
$q
è
as
 
$row
) {

97 
$asš_t™Ë_¬¿y
[
$row
['pid']] = $row['title'];

99  
$asš_t™Ë_¬¿y
;

100 
	}
}

103 </
body
>

104 </
html
>

105 </
html
>

	@rank/amz_seoclicks_rankmon.php

1 <
	ghtml
><
	gh—d
>

2 <
	gt™Ë
>
SEO
 
Lšks
 
	gT¿ffic
</title>

3 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

4 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

5 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

6 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

7 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

9 <
¡yË
>

10 
td
 
th
 {

11 
width
: 1
px
;

12 
	gwh™e
-
	g¥aû
: 
now¿p
;

14 </
	g¡yË
>

15 </
	gh—d
><
	gbody
>

16 <?
php


17 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

18 
šşude_Úû
('../lib/functions.php');

19 
šşude_Úû
('../lib/geoipcity.inc');

20 
	g$asš_sku_¬¿y
 = 
g‘_asš_sku_¬¿y
();

22 
	g$s™e
 = 
$_GET
['site'];

23 
	g$kw
 = 
$_GET
['kw'];

24 
	g$asš
 = 
$_GET
['asin'];

26 
	gŒy
 {

27 
hªdË
();

28 } 
	$ÿtch
(
Exû±iÚ
 
$e
) {

29 
echo
 
$e
->
	`g‘Mes§ge
();

30 
	}
}

31 
funùiÚ
 
	$hªdË
() {

32 if(
	`em±y
(
$_GET
['aùiÚ']è
ªd
 !empty($_GET['asin'])) {

34 
$_GET
['action'] = 'details';

36 
$aùiÚ
 = 
$_GET
['action'];

37 
$aùiÚ
) {

39 
$»suÉ
 = 
	`lidsumm¬y
();

42 
$»suÉ
 = 
	`oidsumm¬y
();

45 
$»suÉ
 = 
	`d‘as
();

48 
throw
 
Ãw
 
	`Exû±iÚ
("Undefind‡ction.");

51 
echo
 
$»suÉ
;

52 
	}
}

54 
funùiÚ
 
	$d‘as
() {

55 
glob®
 
$asš_sku_¬¿y
;

56 
$gi
 = 
	`geo_İ’
("../lib/GeoL™eC™y.d©",
GEOIP_STANDARD
);

57 
$s™e
 = 
$_GET
['site'];

58 
$kw
 = 
$_GET
['kw'];

59 
$asš
 = 
$_GET
['asin'];

61 
$h—d”
 = "time,site,kw,asin,sku,sr,oid,clicks";

62 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

63 
$kw
 = 
	`¡r_œ•Ïû
(' ','+',$kw);

65 
$q
 = "select distinct max(time)‡sime, site, kw,‡sin, sr, oid, count(ip)‡s clicks from seoclicks_amz_rankmon where site = '$site'‡nd kw = '$kw'‡nd‡sin = '$asin' group by sr order byime desc";

67 
$qr
 = 
	`sqlqu”y
(
$q
);

68 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

69 
$row
 = '';

70 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

71 ià(
	`´eg_m©ch
('/time/',
$v
)è
$r
[$v] = 
	`d©e
('Y-m-d H:i',$r[$v]);

72 ià(
$v
 =ğ'sku'è
$r
[$v] = 
$asš_sku_¬¿y
[$r['asin']];

82 
$row
 .ğ"<td>". 
$r
[
$v
] ."</td>";

84 
$rows
 .= "<tr>$row</tr>";

86 
echo
 '<B>AmazÚ T¿ffiøD‘a oà¨Lšk</B><bË id="bË1" cÏss="sÜbË f‹¿bË" width="auto"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

87 
	`geo_şo£
(
$gi
);

88 
	}
}

90 
funùiÚ
 
	$lidsumm¬y
() {

91 
glob®
 
$asš_sku_¬¿y
;

92 
$h—d”
 = "start,end,site,kw,asin,sku,sr,clicks";

93 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

94 
$q
 = "select max(time)‡sƒnd, min(time)‡s start, site, kw,‡sin, sr, count(ip)‡s clicks from seoclicks_amz_rankmon group by site,kw,asin having clicks > 100 order byƒnd desc,kw,asin desc";

95 
$qr
 = 
	`sqlqu”y
(
$q
);

96 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

97 
$row
 = '';

100 
$r
['şicks'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
) ."?site=". $r['site'] ."&kw=". $r['kw'] ."&asin=". $r['asin'] .">". $r['clicks'] .'</a>';

101 
$r
['sku'] = 
$asš_sku_¬¿y
[$r['asin']];

102 
$r
['¤'] = 
	`¡r_œ•Ïû
('sr_1_','',$r['sr']);

103 
$r
['kw'] = '<aarget=_blank href="http://'. $r['site'] .'/s/ref=nb_sb_noss_2?url=search-alias%3Daps&field-keywords='. $r['kw'] .'">'. $r['kw'] .'</a>';

104 
$r
['asin'] = '<aarget=_blank href="http://'. $r['site'] .'/dp/'. $r['asin'] .'">'. $r['asin'] .'</a>';

105 
$cŞÜhash
 = 'fff'. 
	`hash
("üc32b",
$r
['kw'] . $r['asin']);

106 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

107 
$$v
 = 
$r
[
	`Œim
(
$v
)];

108 ià(
	`´eg_m©ch
('/¡¬t|’d/',
$v
)è
$$v
 = 
	`d©e
('Y-m-d H:i',
$r
[$v]);

112 
$row
 .ğ"<td>". 
$$v
 ."</td>";

114 
$rows
 .= "<tr bgcolor=$colorhash>$row</tr>";

116 
echo
 '<B>AmazÚ T¿ffiøSumm¬y</B><bË id="bË1" cÏss="sÜbË f‹¿bË" width="auto"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

117 
	}
}

118 
funùiÚ
 
	$oidsumm¬y
() {

119 
glob®
 
$asš_sku_¬¿y
;

120 
$h—d”
 = "start,end,hours,oid,hourly,clicks";

121 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

122 
$q
 = "SELECT from_unixtime(min(time))‡s start, from_unixtime(max(time))‡sƒnd,„ound(((max(time) - min(time)))/3600)‡s hours, oid,round(count(ip)/(max(time) - min(time))*3600)‡s hourly, count(ip)‡s clicks FROM seoclicks_amz_rankmon group by oid having count(ip) > 500 order by hourly desc,clicks desc,end desc";

123 
$qr
 = 
	`sqlqu”y
(
$q
);

124 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

125 
$row
 = '';

126 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

127 
$$v
 = 
$r
[
	`Œim
(
$v
)];

128 ià(
$v
=='hours'è
$$v
 = $$v .' ('. 
	`round
($$v/24,1) .' days)';

129 ià(
$v
=='oid') {

130 
$lšk
 = 
	`sub¡r
(
$$v
,0,
	`¡½os
($$v,'_'));

131 
$$v
 = '<¨rg‘=_bÏnk h»f="h‰ps://www.fiv”r.com/u£rs/ch’zy73/Üd”s/'. 
$lšk
 .'">'. $$v. "</a>";

133 
$row
 .ğ"<td>". 
$$v
 ."</td>";

135 
$rows
 .= "<tr>$row</tr>";

137 
echo
 '<B>AmazÚ T¿ffiøOID P”fÜmªû Summ¬y</B><BR><bË id="bË1" cÏss="sÜbË f‹¿bË" width="auto"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

138 
	}
}

140 </
	gbody
></
	ghtml
>

	@rank/asin_us_numbers_import.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
asš_us_numb”s_impÜt
</title>

3 <?
php


4 
£t_time_lim™
(290);

5 
chdœ
(
dœÇme
(
__FILE__
));

6 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

7 
šşude_Úû
(
__DIR__
 .'/../lib/functions.php');

8 
defše
('EMAIL_RECEPIENTS','John@iSpringFilter.com');

9 
defše
('ASIN_TABLE_HEADERS','asin,buybox,fbt,product_details,purchase_sims,view_to_purchase');

10 
defše
('DATA_FIELDS_SEARS',"time,rank,id,title,price,numreview,rating,soldby");

11 
defše
('DATA_FIELDS_NEWEGG',"time,rank,id,model,title,price,numreview,rating");

12 
defše
('LOGFILE','asin_us_numbers_import.log.html');

13 ià(
fesize
(
LOGFILE
è> 1234567è
»Çme
(LOGFILE,'old.'. LOGFILE);

14 
	g$”rÜMsg
 = '';

15 
	g$‹¡
 = 
is£t
(
$_GET
['test']) ? $_GET['test'] : 0;

16 
	g$aFes
 = 
glob
("*.asin_us_numbers.csv");

17 ià(
	$em±y
(
$aFes
)) {

18 
$”rÜMsg
 = "\n<li>No *.asin_us_numbers.csv inhis hour\r";

19 
	}
} {

20 
fÜ—ch
(
$aFes
 
as
 
$fe
) {

21 
	g$”rÜMsg
 = "\n$file";

22 
	g$á
 = 
fe_exi¡s
(
$fe
è? 
femtime
($feè: 
time
()-999999;

23 
	g$fz
 = 
fe_exi¡s
(
$fe
è? 
round
(
fesize
($file)/1024,1) : 0;

24 ià(
	g$fz
 < 2è{ 
	g$”rÜMsg
 = "\nsize = $fz KB\r"; }

25 ià(
	g$á
 < (
time
() - 3700)) {

26 
	g$”rÜMsg
 .ğ"\n$fŞd”hª 1 hour, ". 
d©e
('H:˜m/d/y',
$á
) . ', fileime: '. date('Ymd H:i',$ft) ."\r";

27 
fe_put_cÚ‹Ás
(
LOGFILE
,"\n<li>$fi Şd”hª 1 hour. Ftime: ". 
d©e
('Ymd H:i',
$á
), 
FILE_APPEND
 );

29 
	g$»suÉ
 = 
ImpÜtNumb”s
(
$fe
);

30 
echo
 
	g$fe
 ."<BR>". 
	g$»suÉ
;

32 ià(
	g$‹¡
 <> 1 && 
¡½os
(
$»suÉ
,'sqÈ”rÜ'è==ğ
çl£
) {

33 
»Çme
(
$fe
,'asin_us_numbers_last.csv');

35 ià(
¡¾’
(
$”rÜMsg
è> 10è
£ndma
('asš_us_numb”s.csvƒ¼Ü',$”rÜMsg . "\n<p><¨h»f=h‰p://czysua.com/mt/u¶ßds/". 
LOGFILE
 .">". LOGFILE ."</a>" );

40 
funùiÚ
 
	$ImpÜtNumb”s
(
$fe
) {

41 
glob®
 
$‹¡
,
$”rÜMsg
;

42 
$af
 = 
	`ex¶ode
(',','time,asin,Price,Lowest,Soldby,Reviews,Rating,FiveNeeded,ReviewsPerStar,qa,Rank1,Rank2,LatestReviews,Brand,Model,Title,featuresPoints,cps');

43 
$qnumb”s
=
$q¡ršg
=
$qıs
=
$qÌs
=
$vnumb”s
=
$v¡ršg
=
$vıs
=
$vÌs
=
$time
=
$asš
=
$Priû
=
$Lowe¡
=
$SŞdby
=
$Rev›ws
=
$R©šg
=
$fiv’“ded
=
$p5
=
$p4
=
$p3
=
$p2
=
$p1
=
$qa
=
$Rªk1
=
$Rªk2
=
$L©e¡Rev›ws
=
$B¿nd
=
$Mod–
=
$T™Ë
=
$ã©u»sPošts
=
$ıs
='';

44 
$asš_us_numb”s
 = 
	`fe_g‘_cÚ‹Ás
(
$fe
);

46 
$lšes
 = 
	`ex¶ode
("\n",
$asš_us_numb”s
);

48 
$q
=
$r
='';

49 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

50 
$a
 = 
	`ex¶ode
("\t",
$lše
);

52 ià(
	`couÁ
(
$a
è< 12è{
$”rÜMsg
 .= "\nNO 12 TABs: $line\n<br>"; ;}

53 ià(
$a
[10] < 1è{
$”rÜMsg
 .= "\nRank1 isƒmpty: $line\n<br>"; ;}

57 
$i
=0;$i<
	`couÁ
(
$a
);$i++) {

58 
$f
 = 
$af
[
$i
];

59 
$$f
 = 
	`¡r_»¶aû
("'",'',
$a
[
$i
]);

61 
$aRp
 = 
	`ex¶ode
('|',
$Rev›wsP”Sr
);

62 
$p5
=
$aRp
[0]; 
$p4
=$aRp[1]; 
$p3
=$aRp[2]; 
$p2
=$aRp[3]; 
$p1
=$aRp[4];

64 
$time
 = 
	`¡¹Ùime
($time);

65 
$vnumb”s
 .= "('$time', '$asin', '$Price', '$Lowest', '$Soldby', '$Reviews', '$Rating', '$FiveNeeded', '$p5', '$p4', '$p3', '$p2', '$p1', '$qa', '$Rank1', '$Rank2'),";

66 ià(
$B¿nd
<>'' && 
$Mod–
<>''è
$v¡ršg
 .= "('$asin', '$Brand', '$Model', '$Title', '$featuresPoints'),";

67 ià(
	`¡ros
(
$ıs
,'/dp/')>1è
$vıs
 .= "('$asin', '$cps'),";

68 ià(
	`¡ros
(
$L©e¡Rev›ws
,'ouˆoà5 srs'è> 1è
$vÌs
 .= "('$asin', '$LatestReviews'),";

70 ià(
	`¡¾’
(
$vnumb”s
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vnumbers)) > 0) {

71 
$qnumb”s
 = 'INSERT IGNORE INTO‡sš_us_numb” Ñime,‡sš,…riû,†owe¡, sŞdby,„ev›ws,‡vg¿tšg, fiv’“ded,…5,…4,…3,…2,…1, qa,„ªk1,„ªk2èVALUES ' . 
	`Œim
(
$vnumb”s
,',');

72 
$r
 = 
	`sqlqu”y
(
$qnumb”s
);

74 ià(
	`¡¾’
(
$v¡ršg
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vstring)) > 0) {

75 
$q¡ršg
 = 'INSERT IGNORE INTO‡sš_us_¡ršg ×sš,b¿nd,sku,t™Ë,ã©u»sPoštsèVALUES ' . 
	`Œim
(
$v¡ršg
,',');

76 
	`sqlqu”y
(
$q¡ršg
);

78 ià(
	`¡¾’
(
$vıs
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vcps)) > 0) {

79 
$qıs
 = 'INSERT IGNORE INTO‡sš_us_ı ×sš,ısèVALUES ' . 
	`Œim
(
$vıs
,',');

80 
	`sqlqu”y
(
$qıs
);

82 ià(
	`¡¾’
(
$vÌs
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vlrs)) > 0) {

83 
$qÌs
 = 'INSERT IGNORE INTO‡sš_us_Ì ×sš,L©e¡Rev›wsèVALUES ' . 
	`Œim
(
$vÌs
,',');

84 
	`sqlqu”y
(
$qÌs
);

86 ià(
$‹¡
==1è 
	`¡r_»¶aû
("'),","<br>\n",
$q
);

87 ià(
$r
 <> 
çl£
) {

88 
$rows
 = 
	`couÁ
(
	`ex¶ode
('),',
$q
));

89 
echo
 
$rows
 ."„ow impÜ‹d iÁØasš_us_numb” äom $fe\n<br>". 
	`¡r_»¶aû
(')',")<br>",
$q
);

90 
	`fe_put_cÚ‹Ás
(
LOGFILE
,
	`d©e
('Y-m-d H:i'). ' - '. 
$rows
 ."„ow impÜ‹d iÁØasš_us_numb” äom $fe\n<br>", 
FILE_APPEND
 );

91  
$rows
;

95 
	}
}

99 </
	ghtml
>

	@rank/asin_us_numbers_isdone.php

1 <?
php


3 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

5 
šşude_Úû
('../lib/functions.php');

9 
	g$h—d”s
 = "dt,price,asin,rank1,rank2";

11 
	g$q
 = "SELECT FROM_UNIXTIME(time)‡s $headers FROM `asin_us_numbers` WHERE FROM_UNIXTIME(time) > DATE_SUB(NOW(),INTERVAL 30 MINUTE) ORDER BYime DESC";

13 
	g$csv
 = ''; 
	g$Ï¡Rªk
=
¬¿y
();

15 
fÜ—ch
 (
	$sqlqu”y
(
$q
è
as
 
$r
) {

19 
$csv
 .ğ
$r
['asin'] .','. $r['rank1'] ."\n";

21 
$Ï¡Rªk
[
$r
['asin']]=$r['rank1'];

23 
	}
}

27 
	g$nÙdÚe
='';

29 
	g$Li¡FeName
 = '../../amazon.us_asin_sku_competitors.txt';

31 
fÜ—ch
(
ex¶ode
("\n",
	$fe_g‘_cÚ‹Ás
(
$Li¡FeName
)è
as
 
$lše
) {

33 ià(
	`¡¾’
(
$lše
) < 10) ;

35 
$a
 = 
	`ex¶ode
(',',
$lše
);

37 
$asš
 = 
$a
[0];

39 
$sku
 = 
$a
[1];

41 ià(!
	`is£t
(
$Ï¡Rªk
[
$asš
]è
Ü
 $Ï¡Rªk[$asš]==0è
$nÙdÚe
 .ğ$asš .','. 
$sku
 ."\n";

43 
	}
}

45 ià(
´eg_m©ch
('/AutoIt/i',
$_SERVER
['HTTP_USER_AGENT']) ) {

46 
echo
 
	g$nÙdÚe
 ."<p><hr><p>". 
	g$_SERVER
['HTTP_USER_AGENT'];

48 
echo
 
¡r_»¶aû
("\n","\n<br>",
$csv
è."\n\n<p><hr><p>". sŒ_»¶aû("\n","\n<br>",
$nÙdÚe
è."\n\n<p><hr><p>". 
	g$_SERVER
['HTTP_USER_AGENT'] ."\n";

	@rank/bestsellerrank.amazon.import.php

1 <?
php


2 
šşude_Úû
(
__DIR__
 . '/../lib/functions.php');

3 
	g$tsvFeName
 = 
__DIR__
. '/amazon.bestsellerrank.categories.tsv';

4 ià(!
	$is_fe
(
$tsvFeName
)è
echo
 "$tsvFileName Not found";

5 
$ÿ‹gÜ›s
 = 
	`tsv2ToA¼ay
(
$tsvFeName
);

6 
$¤cTabËName
 = 'abs_13397631';

7 
echo
 "<ol>";

8 
	`fÜ—ch
(
$ÿ‹gÜ›s
 
as
 
$u¾P©‹º
 => 
$ÿ‹gÜy
) {

9 
echo
 "<br><li># $category : $urlPattern";

10 ià(
	`¡¾’
(
$ÿ‹gÜy
è< 5 
Ü
 sŒËn(
$u¾P©‹º
) < 12)  ;

11 
	`´eg_m©ch
('-/hi/(\d+)/»f-',
$u¾P©‹º
,
$m©ches
);

12 
$idC©egÜy
 = 
$m©ches
[1];

13 
$bËName
 = 'abs_'. 
$idC©egÜy
;

14 ià(
	`is_sqÉabËexi¡
(
$bËName
) == 0 ) {

15 
$sql
 = "create TABLE $tableName†ike $srcTableName";

16 ià(
	`sqlqu”y
(
$sql
)è
echo
 "<br> $sql </li><ol>" ;

18 
echo
 '<ol>';

19 
$·geN
=1;$pageN<=5;$pageN++) {

20 
$u¾
 = '';

21 
$u¾
 = 
	`¡r_œ•Ïû
('·geN',
$·geN
,
$u¾P©‹º
);

22 
echo
 "<li> $url";

23 
	`htmlSü­”
(
$u¾
);

26 
echo
 "</ol>";

27 
	}
}

28 
	gecho
 "</ol>";

30 
funùiÚ
 
	$htmlSü­”
(
$u¾
) {

31 
glob®
 
$bËName
;

32 
$html_·‰”ns
 = 
	`¬¿y
('rankNumber'=>'span.zg_rankNumber', 'href'=>'a[href*=/dp/]', 'reviewNumber'=>'a[href*=showViewpoints]', 'price'=>'strong.price');

33 
$html
 = 
$HtmlI‹ms
 = 
$v®ues
 = 
$sql
 = '';

34 
$html
 = 
	`g‘_html_cu¾
(
$u¾
);

35 ià(
	`em±y
(
$html
è
Ü
 
	`¡ros
($html,'zg_™emImm”siÚ'è< 10è{ 
echo
 "<br><fÚˆcŞÜôed>Em±y $u¾ </fÚt>";  
çl£
; }

36 
$HtmlI‹ms
 = 
	`html_fšd
(
$html
,'div.zg_itemImmersion');

37 
$d©e
 = 
	`d©e
('Ymd');

38 
$hour
 = 
	`d©e
('H');

39 
	`fÜ—ch
(
$HtmlI‹ms
 
as
 
$HtmlI‹m
) {

40 
$¿nkNumb”
 = 
	`html_fšd
(
$HtmlI‹m
,
$html_·‰”ns
['rankNumber'],'innertext');

41 
	`´eg_m©ch
('/(\d+)/',
$¿nkNumb”
,
$m©ches
);

42 
$¿nkNumb”
 = 
$m©ches
[1];

43 
$h»f
 = 
	`html_fšd
(
$HtmlI‹m
,
$html_·‰”ns
['href'],'href');

44 
	`´eg_m©ch
('/(B00\w{7})/',
$h»f
,
$m©ches
);

45 
$asš
 = 
$m©ches
[1];

46 
	`´eg_m©ch
('-/(.+)/dp/-',
$h»f
,
$m©ches
);

47 
$´oduù
 = 
$m©ches
[1];

48 
$»v›wNumb”
 = 
	`html_fšd
(
$HtmlI‹m
,
$html_·‰”ns
['reviewNumber'],'innertext');

49 
$»v›wNumb”
 = 
	`¡r_œ•Ïû
(',','',$reviewNumber);

50 
$´iû
 = 
	`html_fšd
(
$HtmlI‹m
,
$html_·‰”ns
['price'],'innertext');

51 
$v®ues
 = 
$d©e
.', '. 
$hour
. ", $rankNumber, '$asin', '$product', '$reviewNumber', '$price'";

52 
$sql
 = "insert ignore into $tableName (date,hour,rank,asin,product,reviews,price) values ( $values ) ";

53 
echo
 "<BR> $sql ";

54 
	`sqlqu”y
(
$sql
);

58 
	}
}

	@rank/bestsellerrank.amazon.php

1 <!
DOCTYPE
 
html
 
	gPUBLIC
 "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

2 <
html
 
	gxmÊs
="http://www.w3.org/1999/xhtml">

3 <
h—d
>

4 <
t™Ë
>
iS´šg
 
Be¡
 
S–Ër
 
Rªk
 
T¿ck”
 - 
AmazÚ
</title>

5 <
m‘a
 
h‰p
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

6 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-b.ico" >

7 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

8 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

10 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

11 </
h—d
><
body
>

12 <?
php


13 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

14 
šşude_Úû
('../lib/functions.php');

16 
defše
(
EMAIL_RECEPIENTS
,'John@iSpringFilter.com');

19 
funùiÚ
 
	$g‘AmazÚC©Lšk
(
$bËÇme
) {

20 
$tsvFeName
 ='amazon.bestsellerrank.categories.tsv';

21 ià(!
	`is_fe
(
$tsvFeName
)è
echo
 "$tsvFileName Not found";

22 
$ÿ‹gÜ›s
 = 
	`tsv2ToA¼ay
(
$tsvFeName
);

24 
	`fÜ—ch
 (
$ÿ‹gÜ›s
 
as
 
$ÿt
 => 
$u¾P©‹º
) {

25 ià(
	`¡¼os
(
$u¾P©‹º
,
	`¡r_œ•Ïû
('abs_','',
$bËÇme
))) {

26 ià(
$bËÇme
 =ğ'abs_13397631'è
echo
 '<h3> Amazon department: Home Improvement \ Kitchen & Bath Fixtures \ <aarget=_blank href="http://www.amazon.com/Best-Sellers-Home-Improvement-Water-Filtration-Softeners/zgbs/hi/13397631/ref=zg_bs_unv_hi_3_680337011_1">Water Filtration & Softeners</a></h3>';

27 ià(
$bËÇme
 <> 'abs_13397631'è
echo
 '<h3> AmazÚ d•¬tm’t: HomIm´ovem’ˆ\ K™ch’ & B©h Fixtu» \ <¨rg‘=_bÏnk h»f="h‰p://www.amazÚ.com/Be¡-S–Ërs-Home-Im´ovem’t-W©”-FŒ©iÚ-Soá’”s/zgbs/hi/13397631/»f=zg_bs_unv_hi_3_680337011_1">W©” FŒ©iÚ & Soá’”s</a> \ <¨rg‘=_bÏnk h»f="'. 
	`¡r_œ•Ïû
('·geN','1',
$u¾P©‹º
è.'">'. 
$ÿt
 .'</a> </h3>';

31 
	}
}

33 
	g$bËÇme
 = 
is£t
(
$_GET
['tablename']) ? $_GET['tablename'] : '';

34 
	g$ÿ‹gÜy
 = 
is£t
(
$_GET
['category']) ? $_GET['category'] : '';

35 
	g$asš
 = 
is£t
(
$_GET
['asin']) ? $_GET['asin'] : '';

36 
g‘AmazÚC©Lšk
(
$bËÇme
);

37 ià(
¡½os
(
$bËÇme
,'abs_'è==ğ
çl£
) {

38 
echo
 "<br><font color=red> Tablename $tablename NOT valid</font><br>";

39 
	gex™
 -1;

41 ià(
¡½os
(
$asš
,'B00'è==ğ
çl£
) {

42 
echo
 "<br><font color=red> ASIN $asin NOT valid</font><br>";

43 
	gex™
 -1;

45 ià(
¡¾’
(
$asš
) == 10 ) {

46 
showProduù
(
$asš
,
$ÿ‹gÜy
);

48 
li¡Produùs
(
$ÿ‹gÜy
,
$bËÇme
);

52 
funùiÚ
 
	$li¡Produùs
(
$ÿ‹gÜy
,
$bËÇme
) {

53 
glob®
 
$ÿ‹gÜ›s
;

55 
$q
 = "select distinct‡sin,replace(product,'/www.amazon.com/','')‡sitle,„ound(avg(rank),2)‡s‡vgRank from $tablename group by‡sin order by‡vgRank†imit 300";

56 
$™ems
 = 
	`sqlqu”y
(
$q
);

57 
echo
 '<table border=1 id="table1" class="sortable filterable"><tr><th>avgRank</th><th>asin</th><th>product</th></tr>';

58 
	`fÜ—ch
(
$™ems
 
as
 
$™em
) {

59 
$rows
 .ğ'<Œ><td><¨rg‘=_bÏnk h»f="'. 
	`ba£Çme
(
__FILE__
è. '?bËÇme='. 
$bËÇme
 .'&asš='. 
$™em
['asin'] .'">'. $item['avgRank'] .'</a></td><td><aarget=_blank href=http://www.amazon.com/dp/'. $item['asin'] .'>'. $item['asin'] .'</a></td><td>'. $item['title'] .'</td></tr>';

61 
echo
 "$rows </table>";

62 
	`šşude_Úû
('../lib/TableFilter/TableFilterConfig.js');

63 
	}
}

65 
funùiÚ
 
	$showProduù
(
$asš
,
$ÿ‹gÜy
) {

66 
glob®
 
$bËÇme
;

67 
$q
 = "select *,date,STR_TO_DATE(concat(date,'.',hour),'%Y%m%d.%H')‡sime from $tablename where‡sin = '$asin' order byime desc";

68 
$™ems
 = 
	`sqlqu”y
(
$q
);

69 
$h—d”s
 = 'time,rank,asin,product,reviews,price';

70 
$bË_h—d”
 = '<Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”s
).'</th></tr>';

71 
$h—d”s_¬¿y
 = 
	`ex¶ode
(',',
$h—d”s
);

72 
	`fÜ—ch
(
$™ems
 
as
 
$™em
) {

73 
	`fÜ—ch
(
$h—d”s_¬¿y
 
as
 
$h—d”
) {

74 
$row
 .= "<td> $item[$header] </td>";

76 
$t™Ë
 = 
$ÿ‹gÜy
 .' '. 
	`sub¡r
(
$™em
['product'],0,70);

77 
$¬¿y2d¿nk
[] = 
	`¬¿y
(
$™em
['date'], 0-$item['rank']);

78 
$¬¿y2d»v›ws
[] = 
	`¬¿y
(
$™em
['date'], $item['reviews']);

79 
$row
 = 
	`¡r_œ•Ïû
('/www.amazon.com/','',$row);

80 
$row
 = 
	`´eg_»¶aû
('/(B00\w{7})/','<aarget=_blank href=http://www.amazon.com/dp/\1>\1</a>',$row);

81 
$rows
 .= "<tr> $row </tr>";

82 
$row
='';

84 
	`d¿wch¬t
(
	`¬¿y_»v”£
(
$¬¿y2d¿nk
),
$t™Ë
,'DATE','RANK');

85 
	`d¿wch¬t
(
	`¬¿y_»v”£
(
$¬¿y2d»v›ws
),
$t™Ë
,'DATE','REVIEWS');

86 
echo
 '<bË bÜd”=1 id="bË1" cÏss="sÜbË f‹¿bË">' . 
$bË_h—d”
 . 
$rows
 ."</table>";

87 
	`šşude_Úû
('../lib/TableFilter/TableFilterConfig.js');

90 
	}
}

93 </
	gbody
></
	ghtml
>

	@rank/bestsellerrank.comp.import.php

1 <?
php


2 
šşude_Úû
(
__DIR__
 . '/../lib/functions.php');

3 
	g$d©e
 = 
d©e
('Ymd'); 
	g$hour
=date('H');

4 
	g$html_·‰”n
 = '#SalesRank';

6 
	g$q
 = "SELECT‡sin,avg(rank)‡s„ank FROM `keywordrank_com_reverseosmosiswaterfiltrationsystem` where„ank < 12 group by‡sin order by„ank";

7 
	g$rows
 = 
sqlqu”y
(
$q
);

8 
	g$checked_log_dœ
 = 
¡r_œ•Ïû
('.php','_checkedlog/',
__FILE__
);

9 ià(!
	$is_dœ
(
$checked_log_dœ
)) {

10 
echo
 "dir $checked_log_dir NOT found";

12 
	}
}

13 
	g$hours
 = 2;

14 
	g$checked
 = 
g‘_checked
(
$checked_log_dœ
,
$hours
);

15 
	gecho
 "<ol>";

16 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

17 
	`impÜtC©egÜyRªk
(
$row
['asin']);

18 
	}
}

19 
	gecho
 "</ol>";

20 
funùiÚ
 
	$impÜtC©egÜyRªk
(
$asš
) {

21 
glob®
 
$html_·‰”n
,
$checked
,
$hours
,
$d©e
,
$hour
;

22 ià(
	`¡½os
(
$checked
,
$asš
è!=ğ
çl£
) {

23 
echo
 "<li>$asin checked in $hours hours‡go.";

27 
$u¾
 = "https://www.amazon.com/dp/$asin";

28 
echo
 "<li><b>$sku: $url</b></li>" ;

31 
$html
 = 
	`fe_g‘_html
(
$u¾
);

33 ià(
	`em±y
(
$html
)) {

34 
echo
 '<li>Empty: file_get_html("https://www.amazon.$region/db/$asin")';

37 
$‹xt
 = 
	`html_fšd
(
$html
,
$html_·‰”n
,'plaintext');

38 if(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="wrapper USlocale"]','plaintext');

39 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="sectionechD"]','plaintext');

40 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="content…dClearfix"]','plaintext');

41 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div#prodDetails','plaintext');

47 
	`´eg_m©ch_®l
('/#([\d,]+)\s+š\s+([\w\s]*)\s+\(S“/',
$‹xt
,
$m©ches
);

48 
$¿nk1
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

50 
	`´eg_m©ch_®l
('/100\)\s*#(\d+)\s+š.+?([A-Z][\w\s\-&;]+)/',
$‹xt
,
$m©ches
);

52 
$¿nk2
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

53 
$ÿ‹gÜy
 = 
	`¡r_œ•Ïû
(' &gt; ',";",
$m©ches
[2][0]);

54 
$ÿ‹gÜy
 = 
	`´eg_»¶aû
('/\s+/',' ',$category);

56 ià(
	`¡¾’
(
$¿nk1
è> 0 && sŒËn(
$¿nk2
) > 0) {

57 
$q
 = "insert ignore into bestsellerrank_comp (date,hour,asin,rank1,rank2,category) values ( $date, $hour,'$asin',$rank1,$rank2,'$category')";

58 
echo
 "<br>$q";

59 ià(
	`sqlqu”y
(
$q
è<> 
çl£
) {

60 
	`add_checked
(
$checked_log_dœ
,
$asš
);

61 
echo
 "&nbsp;&nbsp;--<b>INSERTED</b>--";

65 
	}
}

	@rank/bestsellerrank.comp.php

1 <!
DOCTYPE
 
html
 
	gPUBLIC
 "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

2 <
html
 
	gxmÊs
="http://www.w3.org/1999/xhtml">

3 <
h—d
>

4 <?
php


5 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

6 
šşude_Úû
('../lib/functions.php');

8 
defše
(
EMAIL_RECEPIENTS
,'John@iSpringFilter.com');

9 
	g$asš_sku_¬¿y
 = 
g‘_asš_sku_¬¿y
();

10 
	g$asš
 = 
is£t
(
$_GET
['asin']) ? $_GET['asin'] : '';

11 
	g$sku
 = 
$asš_sku_¬¿y
[
$asš
];

13 <
	gt™Ë
><?
php
 
echo
 
	g$sku
; ?> 
Be¡
 
S–Ër
 
Rªk
 
	gT¿ck”
 - 
	gAmazÚ
</title>

14 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

15 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

16 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

17 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

18 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

19 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

20 </
h—d
><
body
>

21 <?
php


22 ià(
¡¾’
(
$asš
è=ğ10 ) {
showProduù
($asš); 
	gex™
;}

24 
funùiÚ
 
	$showProduù
(
$asš
) {

25 
glob®
 
$asš_sku_¬¿y
;

28 
$days
 = 0;

29 
$sku
 = 
$asš_sku_¬¿y
[
$asš
];

31 
$q
 = "select date_format(from_unixtime(a.time),'%m.%d.%a_%H')‡s hour from‡sin_us_numbers where‡sin = '$asin'‡ndime > $days order by hour desc†imit 1000";

32 
$rows
 = 
	`sqlqu”y
(
$q
);

33 
$h—d”s
 = 'asin,sku,date,hour,rank1,rank2,category';

34 
$bË_h—d”
 = '<Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”s
).'</th></tr>';

35 
$h—d”s_¬¿y
 = 
	`ex¶ode
(',',
$h—d”s
);

36 
$¬¿ys
=
	`¬¿y
();

37 
$n
 = 0;

38 
	`fÜ—ch
(
$rows
 
as
 
$row
) {

39 
$d©e
 = 
$row
['date'];

40 
$d©e
 = 
	`´eg_»¶aû
('/(\d{4})(\d{2})(\d{2})/','\2-\3',$date);

41 
$hour
 = 
$row
['hour'];

43 
$¿nk1
 = 
$row
['rank1'];

44 
$¿nk2
 = 
$row
['rank2'];

45 ià(
	`em±y
(
$¿nk1
è
Ü
ƒm±y(
$¿nk2
)) ;

46 
$ÿ‹gÜy
 = 
$row
['category'];

47 
$bËbody
 .= "<tr><td><aarget=_blank href=http://www.amazon.com/dp/$asin>$asin</a></td><td>$sku</td><td>$date</td><td>$hour</td><td>$rank1</td><td>$rank2</td><td>$category</td></tr>";

48 
$¬¿y2d¿nk1
[] = 
	`¬¿y
(
$d©e
 .' '. 
$hour
,0 - 
$¿nk1
);

49 
$¬¿y2d¿nk2
[] = 
	`¬¿y
(
$d©e
 .' '. 
$hour
,0 - 
$¿nk2
);

56 
	`d¿wch¬t
(
$¬¿y2d¿nk1
,
$sku
 .' '. 
$ÿ‹gÜy
,'d©e','¿nk1',
	`couÁ
($array2drank1)*16,250);

57 
	`d¿wch¬t
(
$¬¿y2d¿nk2
,
$sku
 .' '. 
$ÿ‹gÜy
,'d©e','¿nk2',
	`couÁ
(
$¬¿y2d¿nk1
)*16,250);

58 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%">' . 
$bË_h—d”
 . 
$bËbody
 . "</table>";

59 
	`šşude_Úû
('../lib/TableFilter/TableFilterConfig_ReviewMonitor.js');

60 
	}
}

62 
	g$h—d”s
 = 'asin,sku,date,rank1,rank2,records,category';

63 
	g$bË_h—d”
 = '<Œ><th>'. 
¡r_œ•Ïû
(',','</th><th>',
$h—d”s
).'</th></tr>';

64 
	gecho
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%">' . 
	g$bË_h—d”
;

65 
	g$h—d”s_¬¿y
 = 
ex¶ode
(',',
$h—d”s
);

66 
	g$q
 = "select‡sin,date,round(avg(rank1),2)‡s„ank1,round(avg(rank2),2)‡s„ank2,count(asin)‡s„ecords,category from bestsellerrank_comp group by‡sin order by„ank1,rank2";

67 
	g$rows
 = 
sqlqu”y
(
$q
);

68 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

69 
$bgcŞÜ
 = '#fff'. 
	`¡ršgToCŞÜCode
(
	`sub¡r
(
$row
['asin'],2,7));

70 
echo
 "<tr bgcolor=$bgcolor>";

81 
$asš
 = 
	`Œim
(
$row
['asin']);

82 
$sku
 = 
$asš_sku_¬¿y
[
$asš
];

84 
$d©e
 = 
$row
['date'];

85 
$¿nk1
 = 
$row
['rank1'];

86 
$¿nk2
 = 
$row
['rank2'];

87 
$ÿ‹gÜy
 = 
$row
['category'];

90 ià(
$¿nk2
 =ğ1è
$bgcŞÜ
 = 'white';

91 
$»cÜds
 = 
$row
['records'];

92 
echo
 "<tr bgcolor=$bgcolor><td><aarget=_blank href=http://www.amazon.com/dp/$asin>$asin</a></td><td><a href=bestsellerrank.comp.php?asin=$asin>$sku</a></td><td>$date</td><td>$rank1</td><td>$rank2</td><td>$records</td><td>$category</td></tr>";

93 
	}
}

94 
	gecho
 "</table>";

95 
šşude_Úû
('../lib/TableFilter/TableFilterConfig_ReviewMonitor.js');

98 </
	gbody
></
	ghtml
>

	@rank/bestsellerrank.ispring.import.php

1 <?
php


2 
šşude_Úû
(
__DIR__
 . '/../lib/functions.php');

5 
	g$html_·‰”n
 = '#SalesRank';

6 
	g$q
 = "select * from ispring_asin_sku whereier < 3";

8 
	g$rows
 = 
sqlqu”y
(
$q
);

9 
	g$checked_log_dœ
 = 
¡r_œ•Ïû
('.php','_checkedlog',
__FILE__
);

15 
	g$hours
 = 2;

16 
	g$checked
 = 
g‘_checked
(
$checked_log_dœ
,
$hours
);

17 
	gecho
 "<ol>";

18 
impÜtRªk
('B00I0ZGOZM','APEC RO-50');

19 
impÜtRªk
('B00NWZ1RCK','APEC PH-75');

20 
impÜtRªk
('B00NWZ1RCK','APEC RO-90');

21 
impÜtRªk
('B00N5D7ZFW','APEC ICEK');

22 
impÜtRªk
('B00J2DGTD8','ExpressWater RO5DX');

23 
impÜtRªk
('B005A3WM6C','HomeMaster TMAFC');

24 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

25 
	`impÜtRªk
(
$row
['asin'],$row['sku']);

26 
	}
}

27 
	gecho
 "</ol>";

28 
funùiÚ
 
	$impÜtRªk
(
$asš
,
$sku
) {

29 
glob®
 
$html_·‰”n
,
$checked
,
$hours
;

30 ià(
	`¡½os
(
$checked
,
$asš
è!=ğ
çl£
) {

31 
echo
 "<li>$asin checked in $hours hours‡go.";

35 
$u¾
 = "http://www.amazon.com/dp/$asin";

36 
echo
 "<li><b>$sku: $url</b></li>" ;

39 
$html
 = 
	`fe_g‘_html
(
$u¾
);

41 ià(
	`em±y
(
$html
)) {

42 
echo
 '<li>Empty: file_get_html("http://www.amazon.$region/db/$asin")';

45 
$‹xt
 = 
	`html_fšd
(
$html
,
$html_·‰”n
,'plaintext');

46 if(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="wrapper USlocale"]','plaintext');

47 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="sectionechD"]','plaintext');

48 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="content…dClearfix"]','plaintext');

49 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div#prodDetails','plaintext');

53 
echo
 "<br>html found: $text";

55 
	`´eg_m©ch_®l
('/#([\d,]+)\s+š\s+([\w\s]*)\s+\(S“/',
$‹xt
,
$m©ches
);

56 
$¿nk1
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

58 
	`´eg_m©ch_®l
('/100\)\s*#(\d+)\s+š.+?([A-Z][\w\s\-&;]+)/',
$‹xt
,
$m©ches
);

60 
$¿nk2
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

61 
$ÿ‹gÜy
 = 
	`¡r_œ•Ïû
(' &gt; ',";",
$m©ches
[2][0]);

62 
$ÿ‹gÜy
 = 
	`´eg_»¶aû
('/\s+/',' ',$category);

63 
echo
 "<br>html found: $rank1, $rank2, $category";

64 ià(
	`¡¾’
(
$¿nk1
è> 0 && sŒËn(
$¿nk2
) > 0) {

65 
$q
 = "š£¹ ignÜštØbe¡£Î”¿nk_i¥ršg (d©e,hour,asš,¿nk1,¿nk2,ÿ‹gÜyèv®ue (". 
	`d©e
('Ymd') .','. date('H') .",'$asin','$rank1','$rank2','$category')";

66 ià(
	`sqlqu”y
(
$q
)è
echo
 "<br>$q";

67 
	`add_checked
(
$checked_log_dœ
,
$asš
);

70 
	}
}

	@rank/bestsellerrank.ispring.php

1 <!
DOCTYPE
 
html
 
	gPUBLIC
 "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

2 <
html
 
	gxmÊs
="http://www.w3.org/1999/xhtml">

3 <
h—d
>

4 <
t™Ë
>
iS´šg
 
Be¡
 
S–Ër
 
Rªk
 
T¿ck”
 - 
AmazÚ
</title>

5 <
m‘a
 
h‰p
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

6 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-b.ico" >

7 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

8 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

9 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

10 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

11 </
h—d
><
body
>

12 <?
php


13 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

14 
šşude_Úû
('../lib/functions.php');

16 
defše
(
EMAIL_RECEPIENTS
,'John@iSpringFilter.com');

18 
	g$h—d”s
 = 'asin,sku,date,hour,rank1,rank2,category';

19 
	g$q
 = "select * from bestsellerrank_ispringric†eft join ispring_asin_skuias on (tric.asin =ias.asin) order byric.date desc,ric.asin";

20 
	g$™ems
 = 
sqlqu”y
(
$q
);

21 
	g$bË_h—d”
 = '<Œ><th>'. 
¡r_œ•Ïû
(',','</th><th>',
$h—d”s
).'</th></tr>';

22 
	gecho
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%">' . 
	g$bË_h—d”
;

23 
	g$h—d”s_¬¿y
 = 
ex¶ode
(',',
$h—d”s
);

24 
	$fÜ—ch
(
$™ems
 
as
 
$™em
) {

25 
$bgcŞÜ
 = '#fff'. 
	`¡ršgToCŞÜCode
(
	`sub¡r
(
$™em
['asin'],2,7));

26 
echo
 "<tr bgcolor=$bgcolor>";

27 
	`fÜ—ch
(
$h—d”s_¬¿y
 
as
 
$h—d”
) {

28 ià(
$h—d”
 == 'asin') {

29 
echo
 "<td><aarget=_blank href=http://www.amazon.com/dp/$item[$header]>$item[$header]</a></td>";

31 
echo
 "<td>$item[$header]</td>";

34 
echo
 "</tr>";

36 
$asš
 = 
$™em
['asin'];

37 
$d©e
 = 
$™em
['date'];

38 
$sku
 = 
$™em
['sku'];

39 
$¿nk1
 = 
$™em
['rank1'];

40 
$¿nk2
 = 
$™em
['rank2'];

41 
$ÿ‹gÜy
 = 
$™em
['category'];

44 ià(
$¿nk2
 =ğ1è
$bgcŞÜ
 = 'lightblue';

45 
echo
 "<tr bgcolor=$bgcolor><td><aarget=_blank href=http://www.amazon.com/dp/$asin>$asin</a></td><td>$sku</td><td>$date</td><td>$rank1</td><td>$rank2</td><td>$category</td></tr>";

46 
	}
}

47 
	gecho
 "</table>";

48 
šşude_Úû
('../lib/TableFilter/TableFilterConfig_ReviewMonitor.js');

51 </
	gbody
></
	ghtml
>

	@rank/bsr_import.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
M¬k‘
 
T¿ck”
 
ImpÜ‹r
 - 
html
 
süab”
</title>

3 <?
php


4 
£t_time_lim™
(290);

5 
chdœ
(
dœÇme
(
__FILE__
));

6 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

7 
šşude_Úû
(
__DIR__
 .'/../lib/functions.php');

8 
defše
('EMAIL_RECEPIENTS','John@iSpringFilter.com');

9 
defše
('ASIN_TABLE_HEADERS','asin,buybox,fbt,product_details,purchase_sims,view_to_purchase');

10 
defše
('DATA_FIELDS_SEARS',"time,rank,id,title,price,numreview,rating,soldby");

11 
defše
('DATA_FIELDS_NEWEGG',"time,rank,id,model,title,price,numreview,rating");

12 
defše
('LOGFILE','import.log.html');

13 ià(
fesize
(
LOGFILE
è> 1234567è
»Çme
(LOGFILE,'old.'. LOGFILE);

14 
	g$”rÜMsg
 = '';

15 
	g$‹¡
 = 
is£t
(
$_GET
['test']) ? $_GET['test'] : 0;

16 
	g$aFes
 = 
glob
("20*.BSR.csv");

17 ià(
	$em±y
(
$aFes
)) {

18 
$”rÜMsg
 = 'No 20*.BSR.csv inhis hour';

19 
	}
} {

20 
fÜ—ch
(
$aFes
 
as
 
$fe
) {

21 
	g$á
 = 
femtime
(
$fe
);

22 
	g$fz
 = 
round
(
fesize
(
$fe
)/1024,1);

23 ià(
	g$fz
 < 2è{ 
	g$”rÜMsg
 .= "$file size = $fz KB\n"; }

24 ià(
	g$á
 < (
time
() - 3700)) {

25 
	g$”rÜMsg
 .ğ"\n$fŞd”hª 1 hour, ". 
d©e
('H:˜m/d/y',
$á
) . ', fileime: '. date('Ymd H:i',$ft) ."\r";

26 
fe_put_cÚ‹Ás
(
LOGFILE
,"<li>$fi Şd”hª 1 hour. Ftime: ". 
d©e
('Ymd H:i',
$á
), 
FILE_APPEND
 );

28 
	g$»suÉ
 = 
ImpÜtBSR
(
$fe
);

29 
echo
 
	g$»suÉ
;

30 iàĞ
	g$»suÉ
 <> 'sqÈ”rÜ'è
»Çme
(
$fe
,'BSR_last.csv');

33 ià(
¡¾’
(
$”rÜMsg
è> 10è
£ndma
('bsr_importƒrror',$errorMsg);

35 
funùiÚ
 
	$ImpÜtBSR
(
$fe
) {

36 
glob®
 
$‹¡
;

37 
$v®ues
=
$time
=
$avg¿tšg
=
$»v›ws
=
$¿nk1
=
$¿nk2
=
$asš
=
$¿nk1ÿt
=
$¿nk2ÿt
=
$buybox
=
$fbt
=
$purcha£_sims
=
$v›w_to_purcha£
=
$rows
='';

38 
$b¤
 = 
	`fe_g‘_cÚ‹Ás
(
$fe
);

40 
$lšes
 = 
	`ex¶ode
("\n",
$b¤
);

42 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

43 
$a
 = 
	`ex¶ode
("\t",
$lše
);

44 ià(
	`¡¾’
(
$lše
è< 10 || 
$a
[0] == '' || $a[1] == '' || $a[2] == '' || $a[5] == 0) ;

45 
$time
 = 
	`¡¹Ùime
(
	`sub¡r
(
$a
[0],0,14) . '00:00');

48 
$asš
 = 
$a
[1];

49 
$´iû
 = 
$a
[2];

50 
$»v›ws
 = 
$a
[3];

51 
$avg¿tšg
 = 
$a
[4];

52 
$¿nk1
 = 
$a
[5];

53 
$¿nk2
 = 
$a
[6];

54 
$v®ues
 .= "('$time','$avgrating','$reviews','$price','$rank1','$rank2','$asin'),";

58 
$q
 = 'š£¹ ignÜasš_us_hash (time,avg¿tšg,»v›ws,´iû,¿nk1,¿nk2,asšèv®ue ' . 
	`Œim
(
$v®ues
,',');

59 ià(
	`sqlqu”y
(
$q
è<> 
çl£
) {

60 
$rows
 = 
	`couÁ
(
	`ex¶ode
('),',
$q
));

61 
echo
 '<li>'. 
$rows
 ."„ow impÜ‹d iÁØasš_us_numb” äom $fe<br>\n". 
	`¡r_»¶aû
(')',")<br>",
$q
);

62 
	`fe_put_cÚ‹Ás
(
LOGFILE
,
	`d©e
('Y-m-d H:i'). ' - '. 
$rows
 ."„ow impÜ‹d from $fe\n", 
FILE_APPEND
 );

63  
$rows
;

67 
	}
}

69 
funùiÚ
 
	$OldImpÜtBSR
(
$fe
) {

70 
$v®ues
=
$time
=
$avg¿tšg
=
$»v›ws
=
$¿nk1
=
$¿nk2
=
$asš
=
$¿nk1ÿt
=
$¿nk2ÿt
=
$buybox
=
$fbt
=
$purcha£_sims
=
$v›w_to_purcha£
=
$rows
='';

71 
$b¤
 = 
	`fe_g‘_cÚ‹Ás
(
$fe
);

73 
$lšes
 = 
	`ex¶ode
("\n",
$b¤
);

75 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

76 
$a
 = 
	`ex¶ode
("\t",
$lše
);

77 ià(
	`¡¾’
(
$lše
è< 10 || 
$a
[0] == '' || $a[1] == '' || $a[2] == '' || $a[5] == 0) ;

78 
$time
 = 
	`¡¹Ùime
(
	`sub¡r
(
$a
[0],0,14) . '00:00');

81 
$asš
 = 
$a
[1];

82 
$´iû
 = 
$a
[2];

83 
$»v›ws
 = 
$a
[3];

84 
$avg¿tšg
 = 
$a
[4];

85 
$¿nk1
 = 
$a
[5];

86 
$¿nk2
 = 
$a
[6];

87 
$v®ues
 .= "('$time','$avgrating','$reviews','$rank1','$rank2','$asin','$rank1cat','$rank2cat','$buybox','$fbt','$purchase_sims','$view_to_purchase'),";

91 
$q
 = 'š£¹ ignÜasš_us_hash (time,avg¿tšg,»v›ws,¿nk1,¿nk2,asš,¿nk1ÿt,¿nk2ÿt,buybox,fbt,purcha£_sims,v›w_to_purcha£èv®ue ' . 
	`Œim
(
$v®ues
,',');

92 ià(
	`sqlqu”y
(
$q
è<> 
çl£
) {

93 
$rows
 = 
	`couÁ
(
	`ex¶ode
('),',
$q
));

94 
echo
 
	`¡r_»¶aû
(')',")<br>",
$q
);

95 
	`fe_put_cÚ‹Ás
(
LOGFILE
,
	`d©e
('Y-m-d H:i'). ' - '. 
$rows
 ."„ow impÜ‹d from $fe\n", 
FILE_APPEND
 );

96  
$rows
;

100 
	}
}

102 </
	ghtml
>

	@rank/bsrmon.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
AmazÚ
 
BSR
 
MÚ™Ü
</title>

3 <?
php


5 
chdœ
(
dœÇme
(
__FILE__
));

6 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

8 
»quœe
('D:\IT\czyusa\MT\lib\simple_html_dom.php');

9 
defše
('EMAIL_RECEPIENTS','John@iSpringFilter.com');

10 
defše
('LOGFILE','bsrmon.log.html');

11 ià(
fesize
(
LOGFILE
è> 1234567è
»Çme
(LOGFILE,'old.'. LOGFILE);

12 
	g$”rÜMsg
 = '';

15 
	g$u¾
='https://www.amazon.com/gp/bestsellers/hi/13397611/ref=pd_zg_hrsr_hi_2_4_last';

16 
	g$html
=
g‘_html_cu¾
(
$u¾
);

19 
	g$b¤_u¾
=
html_fšd
(
$html
,'a[href*=zg_bs_13397611_1\b]','href',1);

20 
echo
 
	g$b¤_u¾
 ."\n";

25 
	g$u¾
='https://www.amazon.com/Best-Sellers-Home-Improvement-Water-Softeners/zgbs/hi/6810592011/ref=zg_bs_nav_hi_4_13397611';

26 
	g$html
=
g‘_html_cu¾
(
$u¾
);

27 
	g$b¤_u¾
=
html_fšd
(
$html
,'a[href*=zg_bs_6810592011_1\b]','href');

28 
echo
 
	g$b¤_u¾
 ."\n";

30 
funùiÚ
 
html_fšd
(
$html
, 
$objeù
, 
$©Œibu‹s
='',
$®l
=0){

31 
$v®ue
 = 
$v®ues
 = '';

33 
	g$©Œibu‹_¬¿y
;

34 
	g$fšds
 = 
$html
->
fšd
(
$objeù
);

35 ià(
	g$©Œibu‹s
 <> '') {

36 
fÜ—ch
(
$fšds
 
as
 
$fšd
){

37 
	g$©Œibu‹_¬¿y
 = 
ex¶ode
(',',
$©Œibu‹s
); 
	g$i
 = 0;

38 
fÜ—ch
(
$©Œibu‹_¬¿y
 
as
 
$©Œ
) {

39 
	g$v®ue
 = 
$fšd
->
$©Œ
;

40 if(
	g$v®ue
 =='') ;

41 
	g$v®ues
 .ğ
$v®ue
 . "<li>";

42 if(
	g$®l
==0) {

43 
$v®ues
 = 
$v®ue
;

47 
	g$i
++;

48 ià(
	g$i
 > 24) ;

50  
	g$v®ues
;

52  
	g$fšds
;

56 
funùiÚ
 
	$g‘_html_cu¾
(
$u¾
) {

62 
$u£r_ag’t_¡ršg
 = 'Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET CLR 2.0.50727; Media Center PC 6.0)';

65 
$ch
 = 
	`cu¾_š™
(
$u¾
);

67 
$å
 = 
	`fİ’
("webpage.html", "w+");

68 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_SSL_VERIFYPEER
, 
çl£
);

69 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_FILE
, 
$å
);

70 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_HEADER
, 0);

73 
	`cu¾_£tİt
(
$ch
, 
CURLOPT_USERAGENT
, 
$u£r_ag’t_¡ršg
);

74 
	`cu¾_exec
(
$ch
);

75 
	`cu¾_şo£
(
$ch
);

76 
	`fşo£
(
$å
);

77 
$html
 = 
	`fe_g‘_cÚ‹Ás
("webpage.html");

78 
$html
 = 
	`¡r_g‘_html
($html);

79  
$html
;

80 
	}
}

84 </
	ghtml
>

	@rank/chart.php

1 <?
php


2 
ši_£t
('max_execution_time', 0);

3 
ši_£t
('memory_limit', '256M');

4 
ši_£t
('default_charset', 'UTF-8');

5 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

6 
šşude_Úû
('../lib/simple_html_dom.php');

7 
šşude_Úû
('../lib/db.php');

8 
»quœe_Úû
('../lib/phplot-6.1.0/phplot.php');

9 
	g$db
 = 
db
::
g‘In¡ªû
();

10 
d©e_deçuÉ_timezÚe_£t
('America/New_York');

12 
defše
(
EMAIL_RECEPIENTS
,'John@iSpringFilter.com');

14 ià(
is£t
(
$_GET
['asin'])) {

15 
	g$asš
 = 
$_GET
['asin'];

16 
	g$bË
 = 
$_GET
['table'];

19 
	g$asš
='B0041HSOSI';

20 
	g$bË
='keywordrank_com_sedimentfilter';

22 
	g$sql
 = "SELECT date,rank,reviews,rating,text FROM $table WHERE‡sin= '$asin' order by date";

23 
	g$qu”y
 = 
$db
->
qu”y
(
$sql
);

24 
	g$™ems
 = 
$qu”y
->
ãtchAÎ
(
PDO
::
FETCH_ASSOC
);

25 
	$fÜ—ch
(
$™ems
 
as
 
$™em
) {

26 
$asš
 = 
$™em
['asin'];

27 
$‹xt
 = 
	`sub¡r
(
$™em
['text'],0,147);

28 
$d©e
 = 
$™em
['date'];

29 
$¿nk
 = 
$™em
['rank'];

33 
$bgcŞÜ
 = '#fff'. 
	`¡ršgToCŞÜCode
(
	`sub¡r
(
$asš
,2,7));

36 
$¬¿y2d
[] = 
	`¬¿y
(
$d©e
,
$¿nk
);

37 
	}
}

38 
d¿wch¬t
(
$¬¿y2d
,
$kw
 .' '. 
$asš
 .' '. 
sub¡r
(
$‹xt
,0,70),'date','rank');

40 
funùiÚ
 
d¿wch¬t
(
$¬¿y2d
,
$t™Ë_c
='',
$t™Ë_x
='',
$t™Ë_y
=''){

44 
$¶Ù
 = 
Ãw
 
PHPlÙ
(1200,600);

60 
	g$¶Ù
->
S‘D©aV®ues
(
$¬¿y2d
);

63 
	g$¶Ù
->
S‘T™Ë
(
$t™Ë_c
);

64 
	g$¶Ù
->
S‘XT™Ë
(
$t™Ë_x
);

65 
	g$¶Ù
->
S‘YT™Ë
(
$t™Ë_y
);

68 
	g$¶Ù
->
S‘XTickLab–Pos
('none');

69 
	g$¶Ù
->
S‘XTickPos
('none');

72 
	g$¶Ù
->
D¿wG¿ph
();

75 
funùiÚ
 
	$¡ršgToCŞÜCode
(
$¡r
) {

76 
$code
 = 
	`dechex
(
	`üc32
(
$¡r
));

77 
$code
 = 
	`sub¡r
($code, 0, 6);

78  
$code
;

79 
	}
}

80 
funùiÚ
 
	$cŞÜ_šv”£
(
$cŞÜ
){

81 
$cŞÜ
 = 
	`¡r_»¶aû
('#', '', $color);

82 ià(
	`¡¾’
(
$cŞÜ
) != 6){  '000000'; }

83 
$rgb
 = '';

84 
$x
=0;$x<3;$x++){

85 
$c
 = 255 - 
	`hexdec
(
	`sub¡r
(
$cŞÜ
,(2*
$x
),2));

86 
$c
 = ($ø< 0è? 0 : 
	`dechex
($c);

87 
$rgb
 .ğ(
	`¡¾’
(
$c
) < 2) ? '0'.$c : $c;

89  '#'.
$rgb
;

90 
	}
}

	@rank/index.ebay.php

1 <!
DOCTYPE
 
html
 
	gPUBLIC
 "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

2 <
html
 
	gxmÊs
="http://www.w3.org/1999/xhtml">

3 <
h—d
>

4 <
m‘a
 
h‰p
-
equiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

5 <
lšk
 
»l
="shÜtcuˆicÚ" 
h»f
="../lib/images/R.ico" >

6 <
lšk
 
»l
="icÚ" 
ty³
="image/gif" 
h»f
="../lib/images/target_animated.gif" >

7 <
t™Ë
>
iS´šg
 
Li¡šg
 
Rªk
 
MÚ™Ü
 - 
AmazÚ
</title>

8 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

9 <
lšk
 
h»f
="../lib/js/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

10 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

11 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

12 </
h—d
><
body
>

13 <?
php


14 
ši_£t
('max_execution_time', 0);

15 
ši_£t
('memory_limit', '256M');

16 
ši_£t
('default_charset', 'UTF-8');

17 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

18 
šşude_Úû
('/lib/simple_html_dom.php');

19 
šşude_Úû
('/lib/db.php');

20 
šşude_Úû
('../lib/functions.php');

21 
	g$db
 = 
db
::
g‘In¡ªû
();

22 
d©e_deçuÉ_timezÚe_£t
('America/New_York');

24 
defše
(
EMAIL_RECEPIENTS
,'John@iSpringFilter.com');

26 
	g$¬¿y_u¾_·‰”ns
 = 
¬¿y
(

30 
	g$b¿nd
 = 
is£t
(
$_GET
['brand']) ? $_GET['brand'] : 'iSpring';

31 
	g$lšes
 = 
fe
('tİb¿nds.txt',
FILE_IGNORE_NEW_LINES
 | 
FILE_SKIP_EMPTY_LINES
);

32 
	gecho
 '<form method="GET"><table><tr><th>BRANDS</th><th>REGION_KEYWORDS</th><th>TOP_RANKS</th></tr><tr><td><select‚ame="brand"><option>ALL</option>';

33 
	$fÜ—ch
(
$lšes
 
as
 
$lše
) {

34 
$wÜds
 = 
	`ex¶ode
('.',
$lše
);

35 
$b¿nd
 = 
$wÜds
[1];

36 
echo
 "<option>$brand</option>";

37 
	}
}

38 
	gecho
 '</select></td><td><select‚ame="region_keyword"><option>ALL</option>';

39 
	g$lšes
 = 
fe
('keywÜds.csv',
FILE_IGNORE_NEW_LINES
 | 
FILE_SKIP_EMPTY_LINES
);

40 
	g$q
 = "select distinct„egion,keyword from keywordrank_kws order by„egion,keyword";

41 
	g$qu”y
 = 
$db
->
qu”y
(
$q
);

42 
	g$rows
 = 
$qu”y
->
ãtchAÎ
(
PDO
::
FETCH_ASSOC
);

43 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

44 
echo
 "<İtiÚ>". 
$row
['region'] ."_". $row['keyword'] ."</option>";

45 
	}
}

46 
	gecho
 '</select></td><td><select‚ame="top_ranks"><option>ALL</option>';

47 
	g$i
=1; $i < 13; $i++) {

48 
	gecho
 "<İtiÚ>". 
	g$i
 ."</option>";

50 
	gecho
 '</select><inputype="submit"></td></tr></table></form>';

52 
	g$wh”e
 = " whereext†ike 'iSpring %' ORext†ike '% iSpring %'";

53 ià(
is£t
(
$_GET
['b¿nd']è&& 
	g$_GET
['brand'] <> 'ALL') {

54 
	g$wh”e1
 = "exˆlik'". 
$_GET
['brand'] ."%' ORext†ike '% ". $_GET['brand'] ." %'" ;

56 ià(
is£t
(
$_GET
['tİ_¿nks']è&& 
	g$_GET
['top_ranks'] <> 'ALL') {

57 
	g$wh”e2
 = "„ªk < ". 
$_GET
['top_ranks'] ;

59 ià(!
em±y
(
$wh”e1
è&&ƒm±y(
$wh”e2
)è
	g$wh”e
 = 'WHERE '. $where1;

60 iàĞ
em±y
(
$wh”e1
è&& !em±y(
$wh”e2
)è
	g$wh”e
 = 'WHERE '. $where2;

61 ià(!
em±y
(
$wh”e1
è&& !em±y(
$wh”e2
)è
	g$wh”e
 = 'WHERE ('. $where1 .') AND ('. $where2 .')';

63 
	g$lšes
 = 
fe
('keywÜds.csv',
FILE_IGNORE_NEW_LINES
 | 
FILE_SKIP_EMPTY_LINES
);

64 ià(
is£t
(
$_GET
['»giÚ_keywÜd']è&& 
	g$_GET
['»giÚ_keywÜd'] <> 'ALL'è
	g$lšes
 = 
¬¿y
(
¡r_»¶aû
('_',':',$_GET['region_keyword']));

65 
	$fÜ—ch
 (
$lšes
 
as
 
$lše
 ) {

66 
$wÜds
 = 
	`ex¶ode
(':',
$lše
);

67 
$»giÚ
 = 
	`Œim
(
$wÜds
[0]);

68 
$kws
 = 
	`ex¶ode
(',',
$wÜds
[1]);

69 
	`fÜ—ch
(
$kws
 
as
 
$kw
) {

70 
$bËÇme
 = 
	`´eg_»¶aû
('/\.| /','','keywÜd¿nk_'. 
$»giÚ
 .'_'. 
$kw
);

73 ià(
	`¡½os
(
$kw
,'_')è
$bËÇme
 = 
	`´eg_»¶aû
('/\.| /','','keywordrank_'. $kw);

74 
$sql
 = "SELECT * FROM $tablename $where order by‡sin, date desc,„ank";

78 
Œy
 {

79 
$qu”y
 = 
$db
->
	`qu”y
(
$sql
);

80 
$™ems
 = 
$qu”y
->
	`ãtchAÎ
(
PDO
::
FETCH_ASSOC
);

81 } 
	`ÿtch
 (
Exû±iÚ
 
$e
) {

82 
echo
 'Caughˆexû±iÚ: ', 
$e
->
	`g‘Mes§ge
(), "\n";

85 
$bËid
++;

86 
echo
 '<script†anguage="javascript"ype="text/javascript"> 

87 
v¬
 
bË
'. $bËid .'
F‹rs
 = {

88 
cŞ_0
: "select",

89 
cŞ_4
: "none",

90 
bŠ
: 
Œue


93 
v¬
 
tf0
'. $bËid .'ğ
Ãw
 
	`TF
("bË'. $bËid .'",2,
bË
'. $bËid .'
F‹rs
);

94 
tf0
'. $bËid .'.
	`AddGrid
();

95 </
süt
>';

97 
echo
 "<h2><¨rg‘=_bÏnk h»f=h‰p://www.amazÚ.". 
$»giÚ
 .'/s/»fòb_sb_ss_c_0_10?u¾=£¬ch-®Ÿs%3D­s&f›ld-keywÜds='. 
	`¡r_»¶aû
($»giÚ.'_','',¡r_»¶aû(' ','+',
$kw
)è. '>amazÚ'. $»giÚ .' '. $kw .'</a></h2><bË bÜd”=1 width=100% cÏss="sÜbË f‹¿bË" id="bË'. 
$bËid
 .'"><thead><tr><th>asin</th><th>text</th><th>date</th><th>price</th><th>review#</th><th>rating</th><th>rank</th></tr></thead>';

98 
	`fÜ—ch
(
$™ems
 
as
 
$™em
) {

99 
$asš
 = 
$™em
['asin'];

100 
$‹xt
 = 
	`´eg_»¶aû
('/S“ |mÜ|choiû |O±iÚ |Siz|Size |SavmÜw™h mÚthly |Subsüib& Sav|d–iv”› |G‘ iˆby[ |\w]+|OÆy \d+†eá iÀ¡ock - ord” soÚ\. |Buyšg /i','',
$™em
['text']);

101 
$‹xt
 = 
	`sub¡r
($text,0,200);

102 
$d©e
 = 
$™em
['date'];

103 
$´iû
 = 
$™em
['price'];

104 
$»v›ws
 = 
$™em
['reviews'];

105 
$¿tšg
 = 
$™em
['rating'];

106 
$¿nk
 = 
$™em
['rank']+1;

108 
$bgcŞÜ
 = '#fff'. 
	`¡ršgToCŞÜCode
(
	`sub¡r
(
$asš
,2,7));

109 ià(
$¿nk
 =ğ1è
$bgcŞÜ
 = 'lightblue';

110 
echo
 "<tr bgcolor=$bgcolor><td><aarget=_blank href=http://www.amazon.$region/dp/$asin>$asin</a></td><td>$text</td><td>$date</td><td>$price</td><td>$reviews</td><td>$rating</td><td><aarget=_blank href=chart.php?asin=$asin&table=$tablename>$rank</a></td></tr>";

112 
echo
 "</table>";

114 
	}
}

	@rank/keywordrank.import.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
M¬k‘
 
T¿ck”
 
HTML
 
süab”
 - 
Rªk
 
MÚ™Ü
</title>

3 <?
php


4 
šşude_Úû
('../lib/functions.php');

6 
defše
(
EMAIL_RECEPIENTS
,'John@iSpringFilter.com');

8 
	g$¬¿y_u¾_·‰”ns
 = 
¬¿y
(

15 ià(
is£t
(
$_GET
['keyword'])) {

17 
	g$keywÜd
 = 
$_GET
['keyword'];

18 
	g$·ges
 = 
is£t
(
$_GET
['pages']) ? $_GET['pages'] : 1;

19 
	g$»giÚ
 = 
is£t
(
$_GET
['region']) ? $_GET['region'] : 'com';

20 
	g$bË_Çme
 = 'keywÜd¿nk_'. 
Œim
(
¡r_»¶aû
('.','',
$»giÚ
)è.'_'.rim(¡r_»¶aû(' ','',
$keywÜd
));

21 
keywÜd¿nkmÚ
(
$bË_Çme
,
$¬¿y_u¾_·‰”ns
[
$»giÚ
],$»giÚ,
$keywÜd
,
$·ges
);

23 
	g$lšes
 = 
fe
('keywÜds.csv',
FILE_IGNORE_NEW_LINES
 | 
FILE_SKIP_EMPTY_LINES
);

24 
fÜ—ch
 (
$lšes
 
as
 
$lše
 ) {

25 
	g$wÜds
 = 
ex¶ode
(':',
$lše
);

26 
	g$»giÚ
 = 
Œim
(
$wÜds
[0]);

27 
	g$keywÜds
 = 
ex¶ode
(',',
$wÜds
[1]);

28 
	gecho
 '<ul>';

29 
fÜ—ch
(
$keywÜds
 
as
 
$keywÜd
) {

30 
	g$db
->
qu”y
("insert ignore into keywordrank_kws (region,keyword) value ('$region','$keyword') ");

31 
	g$bË_Çme
 = 'keywÜd¿nk_'. 
Œim
(
¡r_»¶aû
('.','',
$»giÚ
)è.'_'.rim(¡r_»¶aû(' ','',
$keywÜd
));

32 
	g$check
 = 
$db
->
qu”y
("SHOW TABLES LIKE '$table_name'");

33 
	g$sql
 = "CREATE TABLE $table_name LIKE keywordrankmon_com_reverseosmosis;";

34 ià(
	g$check
->
rowCouÁ
(è=ğ0 && 
$db
->
qu”y
(
$sql
è==ğ
çl£
) {

35 
echo
 "<br><font color=red>Failedo createable: $sql </font><br>\n";

36 
”rÜ_log
("Failedo createable: $sql ");

41 
keywÜd¿nkmÚ
(
$bË_Çme
,
$¬¿y_u¾_·‰”ns
[
$»giÚ
],$»giÚ,
$keywÜd
,6);

43 
	gecho
 '</ul>';

48 
funùiÚ
 
	$keywÜd¿nkmÚ
(
$bË_Çme
,
$u¾_·‰”n
,
$»giÚ
,
$keywÜd
,
$·ges
=2) {

49 
glob®
 
$db
, 
$¬¿y_asš_sku
;

50 
$keywÜd
 = 
	`´eg_»¶aû
('/\W+/','+',$keyword);

53 
$n
 = 1; $À<=
$·ges
; $n++) {

54 
$u¾_n
 = 
	`¡r_»¶aû
("#kw#", 
$keywÜd
, 
$u¾_·‰”n
);

55 
$u¾_n
 = 
	`¡r_»¶aû
("pg#", 
$n
, $url_n);

56 
echo
 '<li><h3>'. 
$u¾_n
 .'</h3></li>';

58 
$html
 = 
	`fe_g‘_html
(
$u¾_n
);

59 ià(
	`em±y
(
$html
)è{
	`g‘_html_cu¾
(
$u¾_n
);}

60 ià(
	`em±y
(
$html
)è{
	`echoE¼Ü
('$html = file_get_html($url_n) IS EMPTY');  -1;}

65 
$»suÉs
 = 
	`html_fšd
(
$html
,'li[id^=result_]');

66 ià(
	`em±y
(
$»suÉs
)è{$»suÉ ğ
	`html_fšd
(
$html
,'ul#s-results-list-atf†i');}

67 ià(
	`em±y
(
$»suÉs
)è{$»suÉ ğ
	`html_fšd
(
$html
,'div#atfResults ul†i');}

68 ià(
	`em±y
(
$»suÉs
)è{$»suÉ ğ
	`html_fšd
(
$html
,'li[class*=s-result-item]');}

69 ià(
	`em±y
(
$»suÉs
)è{$»suÉ ğ
	`html_fšd
(
$html
,'div ul†i');}

70 ià(
	`em±y
(
$»suÉs
)è{$»suÉ ğ
	`html_fšd
(
$html
,'li[data-asin]');}

71 ià(
	`em±y
(
$»suÉs
)è{$»suÉ ğ
	`html_fšd
(
$html
,'ul†i');}

72 ià(
	`em±y
(
$»suÉs
)è{$»suÉ ğ
	`html_fšd
(
$html
,'li');}

73 ià(
	`em±y
(
$»suÉs
)è{
	`echoE¼Ü
("html->find('li[id*=result_]') IS EMPTY");  -2; }

74 
$i
 = 0;

75 
	`fÜ—ch
(
$»suÉs
 
as
 
$»suÉ
) {

76 
$i
++; if ($i > 24) ;

77 
$asš
 = 
$»suÉ
->{'data-asin'};

78 
$¿nk
 = 
$»suÉ
->{'id'};

79 
echo
 "\n<br><b>". 
$¿nk
 .' '. 
$asš
 .'</b>';

80 
$¿nk
 = 
	`¡r_œ•Ïû
('result_','',$rank);

81 
$¿nk
 = 
	`štv®
($rank);

88 
$‹xt
 = 
$»suÉ
->
¶aš‹xt
;

89 
$‹xt
 = 
	`¡r_»¶aû
(',',' ',$text);

90 
$‹xt
 = 
	`´eg_»¶aû
('/See |more |choices |Options |Save more with monthly Subscribe & Save deliveries |Get it by[ |\w]+|Only \d+†eft in stock - order soon\. |Buying /i','',$text);

91 
	`´eg_m©ch
('/\s(\d\.\dèouˆoà5 srs\s+(\d+)/',
$‹xt
,
$m©ch
);

92 ià(
$m©ch
[1]) {

93 
$¿tšg
 = 
	`Œim
(
$m©ch
[1]);

94 
$»v›ws
 = 
	`Œim
(
$m©ch
[2]);

96 
	`´eg_m©ch
('/\s(\S*[\$Â£] *\d+\.\d+è/',
$‹xt
,
$m©ch
);

97 
$´iû
 = 
	`Œim
(
$m©ch
[1]);

98 
$‹xt
 = 
	`mysql_esÿ³_¡ršg
($text);

101 
$sql
 = "š£¹ ignÜštØ$bË_Çm(d©e,asš,¿nk,´iû,¿tšg,»v›ws,‹xtèv®u('". 
	`d©e
('Y-m-d') ."','$asin',$rank,'$price','$rating','$reviews','$text')";

102 
Œy
 {

103 ià(!
	`em±y
(
$asš
è&& !em±y(
$»suÉ
->{'id'}è&& 
$db
->
	`qu”y
(
$sql
)è
echo
 '<br>'. $sql ;

104 } 
	`ÿtch
 (
Exû±iÚ
 
$e
) {

105 
echo
 'Caughˆexû±iÚ: ', 
$e
->
	`g‘Mes§ge
(), "\n";

111 
$html
->
	`ş—r
();

112 
	`un£t
(
$»suÉs
);

113 
	`un£t
(
$html
);

117 
	}
}

119 </
	ghtml
>

	@rank/linkgroupclicks.php

1 <
	ghtml
><
	gh—d
>

2 <
	gt™Ë
>
SEO
 
Lšks
 
	gT¿ffic
</title>

3 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

4 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

5 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

6 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

7 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

9 <
¡yË
>

10 
td
 
th
 {

11 
width
: 1
px
;

12 
	gwh™e
-
	g¥aû
: 
now¿p
;

14 </
	g¡yË
>

15 </
	gh—d
><
	gbody
>

16 <?
php


17 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

18 
šşude_Úû
('../lib/functions.php');

21 
funùiÚ
 
	$g‘_lid_lšk_¬¿y
() {

22 
$¬¿y
 = 
	`¬¿y
();

23 
$h—d”s
 = "gid,lid,link";

24 
$q
 = "select distinct $headers from seolinkgroups";

25 
$qr
 = 
	`sqlqu”y
(
$q
);

26 
	`fÜ—ch
(
$qr
 
as
 
$row
) {

27 
$lid
 = 
$row
['lid'];

28 
$gid
 = 
$row
['gid'];

29 
$lšk
 = 
$row
['link'];

30 
$¬¿y
[
$lid
] = 
	`¬¿y
('gid'=>
$gid
,'lšk'=>
$lšk
);

33  
$¬¿y
;

34 
	}
}

37 
	gŒy
 {

38 
hªdËr
();

39 } 
	$ÿtch
(
Exû±iÚ
 
$e
) {

40 
echo
 
$e
->
	`g‘Mes§ge
();

41 
	}
}

42 
funùiÚ
 
	$hªdËr
() {

43 if(
	`em±y
(
$_GET
['aùiÚ']è
ªd
 !empty($_GET['asin'])) {

45 
$_GET
['action'] = 'details';

47 
$aùiÚ
 = 
$_GET
['action'];

50 
$aùiÚ
) {

52 
$»suÉ
 = 
	`lidsumm¬y
();

55 
$»suÉ
 = 
	`oidsumm¬y
();

58 
$»suÉ
 = 
	`d‘as
(
$_GET
['id']);

61 
throw
 
Ãw
 
	`Exû±iÚ
("Undefind‡ction.");

64 
echo
 
$»suÉ
;

65 
	}
}

68 
funùiÚ
 
	$lidsumm¬y
() {

69 ià(!
	`em±y
(
$_GET
['¡r'])è
$¡r
 = "‡nd†ink†ike '%" . $_GET['str'] . "%' ";

70 
$lid_lšk_¬¿y
 = 
	`g‘_lid_lšk_¬¿y
();

71 
$h—d”
 = "start,last,oid,gid,link,clicks";

72 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

76 
$q
 = "SELECT from_unixtime(max(time) +3600 *3)‡s†ast, from_unixtime(min(time) +3600 *3)‡s start, c.oid, g.lid, count(ip)‡s clicks, g.gid, g.link FROM seoclicks_linkgroups c, seolinkgroups g WHERE c.lid = g.lid $str group by†ink order by†ast desc";

77 
echo
 
$q
;

78 
$qr
 = 
	`sqlqu”y
(
$q
);

79 
echo
 "<B>" . 
$_GET
['¡r'] . " T¿ffiøSumm¬y</B> TÙ®„ows: ". 
	`couÁ
(
$qr
);

80 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

81 
$lid
 = 
$r
['lid'];

82 
$r
['gid'] = 
$lid_lšk_¬¿y
[
$lid
]['gid'];

83 
$r
['lšk'] = 
$lid_lšk_¬¿y
[
$lid
]['link'];

84 
$row
 = '';

86 
$r
['link'] = '<aarget=_blank href="'. $r['link'] .'">'. $r['link'] .'</a>';

87 
$r
['oid'] = '<¨rg‘=_bÏnk h»f='. 
	`ba£Çme
(
__FILE__
è.'?id='. $r['oid'] .'&aùiÚ=d‘as>'. 
	`sub¡r
(substr($r['oid'],0,12),-4) .'</a>&nbsp;<aarget=_blank href=https://www.fiverr.com/users/chenzy73/orders/'. substr($r['oid'],0,12) .'>Fiverr</a>';

88 
$r
['gid'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
è."?id=". $r['gid'] ."&aùiÚ=d‘as>". 
	`sub¡r
($r['gid'],-4) .'</a>';

89 
$r
['şicks'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
) ."?id=". $r['lid'] ."&action=details>". $r['clicks'] .'</a>';

90 
$row
 = '';

91 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

92 
$$v
 = 
$r
[
	`Œim
(
$v
)];

94 
$row
 .ğ"<td>". 
$$v
 ."</td>";

96 
$rows
 .= "<tr>$row</tr>";

98 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="auto"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

99 
	}
}

101 
funùiÚ
 
	$oidsumm¬y
() {

102 
glob®
 
$asš_sku_¬¿y
;

103 
$h—d”
 = "start,end,hours,oid,hourly,clicks";

104 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

105 
$q
 = "SELECT from_unixtime(min(time))‡s start, from_unixtime(max(time))‡sƒnd,„ound(((max(time) - min(time)))/3600)‡s hours, oid,round(count(ip)/(max(time) - min(time))*3600)‡s hourly, count(ip)‡s clicks FROM seoclicks_linkgroups c group by oid having count(ip) > 500 order by hourly desc,clicks desc,end desc";

106 
$qr
 = 
	`sqlqu”y
(
$q
);

107 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

108 
$row
 = '';

109 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

110 
$$v
 = 
$r
[
	`Œim
(
$v
)];

111 ià(
$v
=='hours'è{
$$v
 = $$v .' ('. 
	`round
($$v/24,1) .' days)'; }

112 ià(
$v
=='oid') {

113 
$lšk
 = 
	`sub¡r
(
$$v
,0,
	`¡½os
($$v,'_'));

114 
$$v
 = '<¨rg‘=_bÏnk h»f="h‰ps://www.fiv”r.com/u£rs/ch’zy73/Üd”s/'. 
$lšk
 .'">'. $$v. "</a>";

116 
$row
 .ğ"<td>". 
$$v
 ."</td>";

118 
$rows
 .= "<tr>$row</tr>";

120 
echo
 '<B>New ChªÃl T¿ffiøOID P”fÜmªû Summ¬y</B><bË id="bË1" cÏss="sÜbË f‹¿bË" width="auto"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

121 
	}
}

123 
funùiÚ
 
	$d‘as
(
$id
) {

124 
	`sub¡r
(
$id
,0,1)) {

126 
$q
 = "select from_unixtime(time+3600*3, '%m/%d/%y')‡s date, oid, count(ip)‡s clicks from seoclicks_linkgroups where oid†ike '%$id%' group by date order by date desc";

127 
$h—d”
='date,oid,clicks';

132 
$q
 = "select from_unixtime(time+3600*3, '%m/%d/%y')‡s date, c.oid, g.gid, g.lid,†ink, count(ip)‡s clicks from seoclicks_linkgroups c, seolinkgroups g where c.lid=g.lid‡nd c.lid = '$id' group by date,oid order by date desc,clicks desc";

133 
$h—d”
='date,oid,clicks,gid,lid,link';

136 
$q
 = "select from_unixtime(time+3600*3)‡sime, oid, c.gid,†ink, c.lid, ip, count(distinct ip)‡s clicks from seoclicks_linkgroups c†eft join seolinkgroups g on (c.lid = g.lid) where c.gid in (select gid from seoclicks_linkgroups where gid = '$id') group by c.lid,ip order byime desc,c.gid,link";

137 
$h—d”
='time,oid,clicks,gid,lid,link,ip';

141 
$lid_lšk_¬¿y
 = 
	`g‘_lid_lšk_¬¿y
();

142 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

143 
$kw
 = 
	`¡r_œ•Ïû
(' ','+',$kw);

144 
$qr
 = 
	`sqlqu”y
(
$q
);

145 
echo
 "<B>New ChªÃl T¿ffiøD‘a Oà¨Lšk - TÙ®„ows: </b>". 
	`couÁ
(
$qr
è. "<br>". 
$q
 ."<br>";

146 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

147 
$n
++;

148 
$row
 = "<td>$n</td>";

149 
$r
['lšk'] = '<¨rg‘=_bÏnk h»f='. 
$lid_lšk_¬¿y
[$r['lid']]['link'] .'>'. $lid_link_array[$r['lid']]['link'] .'</a>';

150 
$r
['gid'] = 
$lid_lšk_¬¿y
[$r['lid']]['gid'];

151 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

156 
$row
 .ğ"<td>". 
$r
[
$v
] ."</td>";

158 
$rows
 .= "<tr>$row</tr>";

160 
$rows
 = 
	`´eg_»¶aû
('/(FO\w{10})_*(\w+)*/','<¨rg‘=_bÏnk h»f=h‰ps://www.fiv”r.com/u£rs/ch’zy73/Üd”s/$1>$1</a>&nb¥;<¨rg‘=_bÏnk h»f='. 
	`ba£Çme
(
__FILE__
). '?id=$1_$2&action=details>$2</a>', $rows);

161 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>row#</th><th>'. 
	`¡r_œ•Ïû
('d©e</th>','M/D/Y</th>',¡r_œ•Ïû(',','</th><th>',
$h—d”
)è."</Œ>". 
$rows
 . "</table>";

162 
	}
}

164 </
	gbody
></
	ghtml
>

	@rank/linkgroupclicks_test.php

1 <
	ghtml
><
	gh—d
>

2 <
	gt™Ë
>
SEO
 
Lšks
 
	gT¿ffic
</title>

3 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

4 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

5 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

6 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

7 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

9 </
h—d
><
body
>

10 <?
php


11 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

12 
šşude_Úû
('../lib/functions.php');

13 
	g$‹xt
 = "selectime, gid,†id, oid, ip from seoclicks_linkgroups\n";

14 
	g$‹xt
.= "select weight, gid,†id,†ink from†inkgroups\n";

16 <!-- 
HTML
 
	gfÜm
 -->

17 <
fÜm
 
	gaùiÚ
="" 
m‘hod
="post">

18 <
‹x»a
 
ty³
="‹xt" 
Çme
="‹xt" 
v®ue
="‹xt" 
rows
="2" 
cŞs
="150"/><?
php
 
echo
 
html¥ecŸlch¬s
(
$‹xt
) ?></textarea>

19 <
šput
 
ty³
="subm™" 
Çme
="qu”y" 
v®ue
="Query"/>

20 </
fÜm
>

22 <?
php


26 ià(
is£t
(
$_POST
['query']) && isset($_POST['text'])) {

27 
$q
 = 
$_POST
['text'];

29 
´eg_m©ch_®l
('/\b(?P<h—d”s>\w+),/',
$q
,
$m©ches
);

30 
	g$h—d”s
 = 
$m©ches
['headers'];

31 
´št_r
(
$h—d”s
);

35 
	gex™
;

39 
funùiÚ
 
	$g‘_lid_lšk_¬¿y
() {

40 
$h—d”s
 = "gid,lid,link";

41 
$q
 = "select distinct * from seoclicks_linkgroups";

42 
$qr
 = 
	`sqlqu”y
(
$q
);

43 
	`fÜ—ch
(
$qr
 
as
 
$r
) {

44 
	`fÜ—ch
(
	`ex¶ode
(',',
$h—d”s
è
as
 
$v
) {

45 
$$v
 = 
$r
[
$v
];

48 
	}
}

50 
	g$id
 = 
$_GET
['id'];

51 ià(!
	$em±y
(
$id
)) {

52 
	`d‘as
(
$id
);

54 
	}
} {

55 
sum¬ry
();

58 
funùiÚ
 
	$sum¬ry
() {

59 
$h—d”
 = "start,end,oid,gid,link,clicks";

60 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

63 
$q
 = "SELECT from_unixtime(min(time+3600*3))‡s start, from_unixtime(max(time+3600*3))‡sƒnd, oid, c.gid, c.lid,†ink, count(distinct ip)‡s clicks FROM `seoclicks_linkgroups` c†eft join seolinkgroups g on (c.lid = g.lid) group by†ink order byƒnd desc, gid,†ink";

64 
$qr
 = 
	`sqlqu”y
(
$q
);

65 
echo
 "TÙ®„ows: ". 
	`couÁ
(
$qr
);

66 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

67 
$row
 = '';

69 
$r
['link'] = '<aarget=_blank href="'. $r['link'] .'">'. $r['link'] .'</a>';

70 
$r
['oid'] = '<¨rg‘=_bÏnk h»f='. 
	`ba£Çme
(
__FILE__
è.'?id='. $r['oid'] .'>'. 
	`sub¡r
(substr($r['oid'],0,12),-4) .'</a>&nbsp;<aarget=_blank href=https://www.fiverr.com/users/chenzy73/orders/'. substr($r['oid'],0,12) .'>Fiverr</a>';

71 
$r
['gid'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
è."?id=". $r['gid'] .">". 
	`sub¡r
($r['gid'],-4) .'</a>';

72 
$r
['şicks'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
) ."?id=". $r['lid'] .">". $r['clicks'] .'</a>';

73 
$row
 = '';

74 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

75 
$$v
 = 
$r
[
	`Œim
(
$v
)];

77 
$row
 .ğ"<td>". 
$$v
 ."</td>";

79 
$rows
 .= "<tr>$row</tr>";

81 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

82 
	}
}

84 
funùiÚ
 
	$d‘as
(
$id
) {

85 
	`sub¡r
(
$id
,0,1)) {

87 
$q
 = "select distinct from_unixtime(time+3600*3)‡sime, oid, c.gid,†ink, ip from seoclicks_linkgroups c†eft join seolinkgroups g on (c.lid = g.lid) where oid = '$id' order byime desc,gid,ip";

88 
$h—d”
='time,oid,gid,link,ip';

91 
$q
 = "select distinct from_unixtime(time+3600*3)‡sime, oid, c.gid, c.lid,†ink, ip, count(distinct ip)‡s clicks from seoclicks_linkgroups c†eft join seolinkgroups g on (c.lid = g.lid) where ip in (select ip from seoclicks_linkgroups where†id = '$id') group by c.lid,ip order byime desc,c.gid,link";

92 
$h—d”
='time,oid,gid,lid,link,ip,clicks';

95 
$q
 = "select from_unixtime(time+3600*3)‡sime, oid, c.gid,†ink, c.lid, ip, count(distinct ip)‡s clicks from seoclicks_linkgroups c†eft join seolinkgroups g on (c.lid = g.lid) where c.gid in (select gid from seoclicks_linkgroups where gid = '$id') group by c.lid,ip order byime desc,c.gid,link";

96 
$h—d”
='time,oid,gid,lid,link,ip,clicks';

100 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

101 
$kw
 = 
	`¡r_œ•Ïû
(' ','+',$kw);

102 
$qr
 = 
	`sqlqu”y
(
$q
);

103 
echo
 "$q &nb¥; TÙ®„ows: ". 
	`couÁ
(
$qr
);

104 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

105 
$row
 = '';

106 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

107 
$r
['oid'] = 
	`sub¡r
($r['oid'],0,12);

108 
$r
['gid'] = 
	`sub¡r
($r['gid'],-4);

109 
$r
['lid'] = 
	`sub¡r
($r['lid'],-4);

110 
$row
 .ğ"<td>". 
$r
[
$v
] ."</td>";

112 
$rows
 .= "<tr>$row</tr>";

114 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

115 
	}
}

117 </
	gbody
></
	ghtml
>

	@rank/linkgroups_v2_clicks.php

1 <
	ghtml
><
	gh—d
>

2 <
	gt™Ë
>
SEO
 
Lšks
 
	gT¿ffic
</title>

3 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

4 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

5 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

6 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

7 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

9 <
¡yË
>

10 
td
 
th
 {

11 
width
: 1
px
;

12 
	gwh™e
-
	g¥aû
: 
now¿p
;

14 
	gth
.
	grÙ©e
 {

16 
	gheight
: 140
px
;

17 
	gwh™e
-
	g¥aû
: 
now¿p
;

19 
	gth
.
	grÙ©e
 > 
	gdiv
 {

20 
	gŒªsfÜm
:

22 
Œª¦©e
(25
px
, 51px)

24 
rÙ©e
(315de
g
);

25 
	gwidth
: 30
px
;

27 
	gth
.
	grÙ©e
 > 
	gdiv
 > 
	g¥ª
 {

28 
	gbÜd”
-
	gbÙtom
: 1
px
 
sŞid
 #ccc;

29 
	g·ddšg
: 5
px
 10px;

31 </
	g¡yË
>

32 </
	gh—d
><
	gbody
>

33 <?
php


34 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

35 
d©e_deçuÉ_timezÚe_£t
('America/New_York');

36 
šşude_Úû
('../lib/functions.php');

37 
	g$£låhp
 = 
ba£Çme
(
__FILE__
);

39 
	g$aùiÚs
 = "OidSummary,LidSummary,details,realtime,listkws,special";

40 
	g$³riods
 = 'Monthly,Weekly,Daily,Hourly';

41 
	g$³riod
 = 
$_GET
['period'] ? $_GET['period'] : 'Weekly';

42 
$³riod
){

43 ('Y—¾y'): 
$sD©eFÜm©
 = '%Y'; 
$days
 = 730; ;

44 ('MÚthly'): 
$sD©eFÜm©
 = '%Y-%m'; 
$days
 = 365; ;

45 ('W“kly'): 
$sD©eFÜm©
 = '%Y-%m Wk%u'; 
$days
 = 90; ;

46 ('Day'): 
$sD©eFÜm©
 = '%Y-%m-%d'; 
$days
 = 30; ;

47 ('Hou¾y'): 
$sD©eFÜm©
 = '%Y-%m-%d H%H'; 
$days
 = 1; ;

49 : 
$sD©eFÜm©
 = '%Y-%m-%d'; 
$days
 = 7; ;

50 
	}
}

51 
glob®
 
	g$³riod
, 
	g$aùiÚ
, 
	g$days
, 
	g$sD©eFÜm©
;

52 
	g$aùiÚ
 = 
$_GET
['action'];

53 
$aùiÚ
) {

55 
$q
 = "SELECT date_format(c.date,'%Y-%m-%d')‡sime, gid, str‡s†ink, count(ip)‡s clicks FROM `seolinkgroups_v2_clicks` c inner join seolinkgroups_v2_clicks_hash on (hash=lid) WHERE str LIKE '%$kw%' AND gid in ('overstock bathroom faucet','newegg„everse osmosis system','sears„everse osmosis water system under sink','amazon water softener') group by†id,gid ORDER BY date desc,clicks DESC";

56 
$h—d”s
 = 'time,gid,link,clicks';

57 
	`summ¬y
(
$q
,
$h—d”s
);

60 
$qr
 = 
	`sqlqu”y
("SELECT DISTINCT * FROM seolinkgroups_v2 WHEREype='KW' ORDER BY gid");

61 
$h—d”s
="gid,kws";

62 
	`fÜ—ch
(
$qr
 
as
 
$r
) {

63 
$gid
 = 
$r
['gid'];

64 
$sKws
 .ğ','. 
$r
['data'];

66 
$aKws
 = 
	`ex¶ode
(',',
$sKws
);

67 
$aKws
 = 
	`¬¿y_unique
($aKws);

68 
	`¬¿y_muÉisÜt
(
$aKws
);

69 
$sKws
 = 
	`Œim
(
	`im¶ode
(',',
$aKws
),',');

70 
$sKws
 = 
	`´eg_»¶aû
('/[\+\-_\s+]/',' ',$sKws);

71 
echo
 
	`¡r_»¶aû
(',','<br>',
$sKws
);

74 
$q
 = "SELECT DATE_FORMAT( c.date, '%Y-%m-%d %H:%i' ) ASime, oid, gid,†id, str AS†ink, ip

75 
FROM
 
£Şškgroups_v2_şicks
 
c
 
INNER
 
JOIN
 
£Şškgroups_v2_şicks_hash
 
h
 
	`ON
 ( 
lid
 = 
hash
 )

76 
WHERE
 
c
.
d©e
 >ğ
	`DATE
Ğ
	`NOW
Ğè- 
INTERVAL
 1 
HOUR
 ) 
ORDER
 
BY
 
TIME
 
DESC
, 
lid
 DESC 
LIMIT
 1000;";

77 
$h—d”s
 = 'time,gid,link,oid,ip';

87 
	`summ¬y
(
$q
,
$h—d”s
);

90 
$id
 = 
$_GET
['id'];

91 
$idF‹r
 = 
	`´eg_m©ch
('/FO/',
$id
) ? " AND oid = '$id' " : " AND†id = '$id' ";

92 ià(
$³riod
=='Day' 
Ü
 $period=='Hourly') {

93 
$q
 = "SELECT date_format(c.date,'$sDateFormat')‡sime, oid, str‡s†ink, ip

94 
FROM
 `
£Şškgroups_v2_şicks
` 
c
 
šÃr
 
još
 
£Şškgroups_v2_şicks_hash
 
	`Ú
 (
lid
=
hash
)

95 
WHERE
 
c
.
d©e
 >ğ
	`DATE
(
	`NOW
(è- 
INTERVAL
 
$days
 
DAY
è
$idF‹r


96 
AND
 
¡r
 
like
 '%$¡r%' 
ORDER
 
BY
 
time
 
DESC
;";

97 
$h—d”s
 = 'time,gid,oid,link,ip';

98 
	`Summ¬y
(
$q
, 
$h—d”s
);

102 
$qr
 = 
	`sqlqu”y
("select oid, count(ip)‡s clicks from seolinkgroups_v2_clicks group by oid having clicks > 100 order by substring(oid,14)");

103 
$q
 = "select date_format(date,'$sDateFormat')‡s Time, sum(IF(oid LIKE 'FO%', 1, 0 ) ) AS 'ALL'";

104 
	`fÜ—ch
(
$qr
 
as
 
$r
) {

105 
$oid
 = 
$r
['oid'];

106 
$aOids
[] = 
$oid
;

107 
	`´eg_m©ch
('/(FO\w{10})_/',
$oid
,
$mFo
);

108 
$fo
 = 
$mFo
[1];

109 
$htmlTabËH—d”
 .ğ',<¨rg‘=_bÏnk h»f="h‰ps://www.fiv”r.com/u£rs/ch’zy73/Üd”s/'. 
$fo
 .'">'. 
	`¡r_»¶aû
($fØ.'_','',
$oid
) .'</a>';

110 
$q
 .= ",\nsum(IF(oid='$oid',1,0))‡s '$oid'";

113 
$q
 .= " FROM seolinkgroups_v2_clicks group by Time order byime desc;";

114 
$rows
 = 
	`sqlqu”y
(
$q
);

115 ià(
	`em±y
(
$qr
)) {  "NO RESULT from query<br>$q"; }

116 
$aH—d”s
 = 
	`ex¶ode
(',',
	`´eg_»¶aû
('/\s','',
$h—d”s
));

117 
	`fÜ—ch
(
$rows
 
as
 
$row
) {

123 
$s
 = 
$row
['Time'] .','. $row['ALL'];

124 
	`fÜ—ch
(
$aOids
 
as
 
$oid
è{ 
$s
 .ğ','. 
$row
[$oid];}

127 
$aCh¬t
[] = 
	`ex¶ode
(',',
$s
);

128 
$htmlTabË
 .ğ'<Œ><td>'. 
	`¡r_»¶aû
(',','</td> <td>',
$s
) .'</td></tr>';

131 
	`d¿wch¬t
(
$aCh¬t
, '', 'Time', 'ALL,'. 
	`im¶ode
(',', 
$aOids
), 1300, 250);

132 
$html
 = '<a href="linkgroups_v2_clicks.php?action=OidSummary&period=Monthly">Monthly</a>&nbsp;|&nbsp;<a href="linkgroups_v2_clicks.php?action=OidSummary&Da=Weekly">Weekly</a>&nbsp;|&nbsp;<a href="linkgroups_v2_clicks.php?action=OidSummary&period=daily">Daily</a>&nbsp;|&nbsp;<a href="linkgroups_v2_clicks.php?action=OidSummary&period=Hourly">Hourly</a>';

133 
$html
 .ğ'<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_»¶aû
(',','</th><th>', 'Time,ALL,'. 
	`Œim
(
$htmlTabËH—d”
,',')è.'</th></Œ>'. 
$htmlTabË
 .'</table>';

135 
echo
 
$html
;

143 
$pid
 = 
$_GET
['pid']? 
	`´eg_»¶aû
('/(_|-|\s|\+)+/','%',$_GET['pid']):'http';

144 
$kw
 = 
$_GET
['kw']? 
	`´eg_»¶aû
('/(_|-|\s|\+)+/','+',$_GET['kw']):'';

145 
$¡r
 = 
$_GET
['str'];

146 
$s™e
 = 
$_GET
['site'];

147 
	`If
 (
	`¡¾’
(
$s™e
è> 1è
$lškF‹r
 .= " AND str LIKE '%$site%'";

148 
	`If
 (
	`¡¾’
(
$pid
è> 1è
$lškF‹r
 .= " AND str LIKE '%$pid%'";

149 
	`If
 (
	`¡¾’
(
$kw
è> 1è
$lškF‹r
 .= " AND str LIKE '%=$kw'";

150 
	`If
 (
	`¡¾’
(
$¡r
è> 1 ) 
$lškF‹r
 .= " AND str LIKE '%$str%'";

151 
$q
 = "

152 
SELECT
 
	`d©e_fÜm©
(
c
.
d©e
,'$sD©eFÜm©'è
AS
 
time
, 
oid
, 
¡r
 AS 
lšk
, 
	`couÁ
(

èAS 
şicks


153 
FROM
 `
£Şškgroups_v2_şicks
` 
c
 
INNER
 
JOIN
 
£Şškgroups_v2_şicks_hash
 
	`ON
 (
lid
=
hash
)

154 
WHERE
 
c
.
d©e
 >ğ
	`DATE
(
	`NOW
(è- 
INTERVAL
 
$days
 
DAY
)

155 
$idF‹r


156 
$lškF‹r


157 
GROUP
 
BY
 
time
, 
lid


158 
ORDER
 
BY
 
time
 
DESC
,
lid
,
şicks
 DESC;";

168 
$h—d”s
 = 'time,gid,clicks,link';

169 
	`Summ¬y
(
$q
, 
$h—d”s
);

173 
$gÙo
 = 
	`ba£Çme
(
__FILE__
) ."?action=realtime";

174 
	`h—d”
(
	`¥rštf
('LoÿtiÚ: %s', 
$gÙo
));

176 
	}
}

177 
funùiÚ
 
	$Summ¬y
(
$q
,
$h—d”s
){

178 
glob®
 
$days
, 
$³riod
, 
$aùiÚ
, 
$aùiÚs
;

179 
	`fÜ—ch
(
	`sqlqu”y
(
$q
è
as
 
$r
) {

180 
$lšeNumb”
++;

181 
$htmlTabËRow
 = "<tr><td>$lineNumber</td>";

182 
	`fÜ—ch
(
	`ex¶ode
(',',
$h—d”s
è
as
 
$h
è{
$$h
 = 
$r
[$h];}

184 ià(!
	`´eg_m©ch
('/(B0\d{8}|_nkw|qu|keywÜd|keywÜds|cm_»|£¬ch)=([\w\+\s]+)/i',
$lšk
,
$mKw
)) ;

186 
$kw
 = 
$mKw
[2];

187 
$pha£
 = 
	`¡r_»¶aû
('+',' ',
$kw
);

188 
	`´eg_m©ch
('/:\/\/(.+?)\//',
$lšk
,
$mS™e
);

189 
$s™e
 = 
$mS™e
[1];

190 
$lšk
 = "<aarget=_blank href=\"$link\">$link</a>";

191 
$lid
 = 
$r
['lid'];

192 ià(
	`em±y
(
$idF‹r
)è
$şicks
 = "<aarget=_blank href=\"linkgroups_v2_clicks.php?action=details&period=$period&id=$lid\">$clicks</a>";

193 
$s™e
) {

194 ('www.amazÚ.ÿ'): 
$gid
 = '<¨rg‘=_bÏnk h»f="'. 
	`¡r_»¶aû
('#KWS',
$kw
,'https://www.amazon.ca/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=#KWS') .'">'. $kw .'</a>'; ;

195 ('www.amazÚ.com'): 
$gid
 = '<¨rg‘=_bÏnk h»f="'. 
	`¡r_»¶aû
('#KWS',
$kw
,'https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=#KWS') .'">'. $kw .'</a>'; ;

196 ('www.ebay.com'): 
$gid
 = '<¨rg‘=_bÏnk h»f="h‰p://www.ebay.com/sch/i.html?_äom=R40&_nkw='. 
$kw
 .'">'. 
$pha£
 .'</a>'; ;

197 ('www.ov”¡ock.com'): 
$gid
 = '<¨rg‘=_bÏnk h»f="h‰ps://www.ov”¡ock.com/£¬ch?keywÜds='. 
$kw
 .'">'. 
$pha£
 .'</a>'; ;

198 ('www.homed•Ù.com'): 
$gid
 = '<¨rg‘=_bÏnk h»f="h‰p://www.homed•Ù.com/s/'. 
$kw
 .'?NCNI-5">'. 
$pha£
 .'</a>'; ;

199 ('www.¿ku‹n.com'): 
$gid
 = '<¨rg‘=_bÏnk h»f="h‰p://www.¿ku‹n.com/¤/£¬ch»suÉs#qu='. 
$kw
 .'">'. 
$pha£
 .'</a>'; ;

200 ('www.£¬s.com'): 
$gid
 = '<¨rg‘=_bÏnk h»f="h‰p://www.£¬s.com/£¬ch='. 
$kw
 .'">'. 
$pha£
 .'</a>'; ;

202 
	`´eg_m©ch
('/cm_»=(\w+)-_-/',
$lšk
,
$mKw
);

203 
$kw
 = 
$mKw
[1];

204 
$gid
 = '<¨rg‘=_bÏnk h»f="h‰p://www.Ãwegg.com/Produù/ProduùLi¡.a¥x?Subm™=ENE&DEPA=0&Ord”=BESTMATCH&DesütiÚ='. 
$kw
 .'">'. $kw .'</a>';

209 
	`fÜ—ch
(
	`ex¶ode
(',',
$h—d”s
è
as
 
$h
è{
$htmlTabËRow
 .ğ"<td>". 
$$h
 . '</td>';}

210 
$htmlTabËRows
 .ğ
$htmlTabËRow
 . '</tr>';

212 
	`Li¡AùiÚs
();

213 
echo
 
	`¡r_»³©
('&nbsp;',6). "<a href=\"$selfphp\"itle=\"$q\"><b>sql</b></a>";

214 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>#</th><th>'. 
	`¡r_»¶aû
(',','</th><th>',¡r_»¶aû('gid','Pha£',
$h—d”s
)è. '</th></Œ>'. 
$htmlTabËRows
 . '</table>';

215 
	}
}

216 
funùiÚ
 
	$rÙ©e_bË_h—d”
(
$html
){

217 
$html
 = 
	`¡r_»¶aû
('<th>','<th class="rotate"><div><span>',$html);

218 
$html
 = 
	`¡r_»¶aû
('</th>','</span></div></th>',$html);

219  
$html
;

220 
	}
}

221 
funùiÚ
 
	$Li¡AùiÚs
() {

222 
glob®
 
$aùiÚs
, 
$³riods
, 
$³riod
;

223 
$cu¼’tURL
 = 
$_SERVER
['REQUEST_URI'];

224 
echo
 "<b>Actions:</b> ";

225 
	`fÜ—ch
(
	`ex¶ode
(',',
$aùiÚs
è
as
 
$aùiÚ
è{
echo
 "<a href=$selfphp?action=$action&period=$period>$action</a> | ";}

226 
echo
 
	`¡r_»³©
('&nbsp;',6). "<b>Periods:</b> ";

227 
	`fÜ—ch
(
	`ex¶ode
(',',
$³riods
è
as
 
$p
è{
$Çv
 .ğ$p==
$³riod
 ? "$°| " : '<¨h»f="'. 
	`´eg_»¶aû
('/³riod=\w+/',"³riod=$p",
$cu¼’tURL
) .'">'. $p .'</a> | ' ;}

228 
echo
 
$Çv
;

229 
	}
}

230 
funùiÚ
 
	$ch¬t
(
$q
, 
$yÏbË
, 
$skuA¼ay
) {

231 
$rows
 = 
	`sqlqu”y
(
$q
);

232 
	`fÜ—ch
(
$rows
 
as
 
$row
) {

233 
$s
 = 
	`d©e
('m/d_H',
$row
['time']);

234 
	`fÜ—ch
(
$skuA¼ay
 
as
 
$asš
=>
$sku
) {

235 
$s
 .ğ','. 
	`¡r_»¶aû
(',','',0-
$row
[
$sku
]);

237 
$¬¿y
[] = 
	`ex¶ode
(',',
$s
);

239 
$i
++;

243 
echo
 '<table id="table1" class="sortable filterable" width="100%"><tr><td style="text-align:center; ">';

244 
	`fÜ—ch
(
$skuA¼ay
 
as
 
$asš
=>
$sku
) {

245 
$™ems
 .ğ
$asš
 .',' . 
$sku
 .';';

248 
echo
 "<aarget=_blank href=\"http://www.amazon.com/dp/$asin\">$sku</a>&nbsp;&nbsp;&nbsp;";

250 ià(
$_GET
['™ems'] =ğ'' && 
	`couÁ
(
$skuA¼ay
è> 1è
echo
 "&nbsp;&nbsp;&nbsp;<aarget=_blank href=\"dashboard.php?items=$items\">History</a>";

252 
echo
 '</td></tr><tr><td>';

253 
	`d¿wch¬t
(
$¬¿y
,'','time',
$yÏbË
,1300,250);

254 
echo
 '</td></tr></table>';

256 
$html_bË_d©a
 = '<table id="table1" class="sortable filterable" width="100%"><tr><td>time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>';

257 
	`fÜ—ch
(
$skuA¼ay
 
as
 
$asš
=>
$sku
) {

258 
$html_bË_d©a
 .ğ'<td><¨rg‘=_bÏnk h»f="¿nk/be¡£Î”¿nk.comp.php?asš='. 
$asš
 .'">'. 
$sku
 .'</td>';

260 
$html_bË_d©a
 .= '</tr>';

261 
	`fÜ—ch
(
$¬¿y
 
as
 
$row
) {

262 
$html_bË_d©a
 .= '<tr>';

263 
$r
 = 0; $r<=
	`couÁ
(
$skuA¼ay
); $r++) {

264 
$html_bË_d©a
 .ğ'<td>'. 
	`Œim
(
$row
[
$r
],'-') .'</td>';

266 
$html_bË_d©a
 .= '</tr>';

268  
$html_bË_d©a
 .'</table>';

269 
	}
}

270 
funùiÚ
 
	$g‘_lid_lšk_¬¿y
() {

271 
$¬¿y
 = 
	`¬¿y
();

272 
$q
 = "select distinct str‡s†ink, hash‡s†id from seolinkgroups_v2_clicks_hash";

273 
$qr
 = 
	`sqlqu”y
(
$q
);

274 
	`fÜ—ch
(
$qr
 
as
 
$row
) {

275 
$lid
 = 
$row
['lid'];

276 
$lšk
 = 
$row
['link'];

277 
$¬¿y
[
$lid
] = 
$lšk
;

280  
$¬¿y
;

281 
	}
}

285 </
	gbody
></
	ghtml
>

	@rank/old.editor.php

1 <?
php


2 
	gšşude
 "../lib/functions.php";

3 
defše
(
URL
, 
ba£Çme
(
__FILE__
));

6 ià(!
	g$_GET
['file']) {

7 
li¡Fe
();

8 
	gex™
;

10 
funùiÚ
 
	$li¡Fe
() {

11 
	`fÜ—ch
(
	`glob
('*.csv'è
as
 
$csv
) {

12 
echo
 "<aarget=_blank href=editor.php?file=$csv>$csv</a><br>";

14 
	}
}

15 
	g$fe
 = 
$_GET
['file'];

16 ià(!
	$fe_exi¡s
(
$fe
) ) {

17 
echo
 "$file NOT found ";

18 
ex™
;

19 
	}
}

21 
	g$‹xt
 = 
fe_g‘_cÚ‹Ás
(
$fe
);

24 ià(
is£t
(
$_POST
['text']))

27 ià(!
em±y
(
$_POST
['SaveAs']è&& 
sub¡r
($_POST['NewFileName'],-5) == '.html') {

28 
fe_put_cÚ‹Ás
(
$_POST
['NewFileName'], $_POST['text']);

30 
fe_put_cÚ‹Ás
(
$fe
, 
$_POST
['text']);

32 
fe_put_cÚ‹Ás
(
$fe
 . 
d©e
('s')%3, 
$_POST
['text']);

35 
	g$‹xt
 = 
$_POST
['text'];

36 
	g$lšes
 = 
ex¶ode
(
PHP_EOL
,
$‹xt
);

37 
fÜ—ch
 (
$lšes
 
as
 
$lše
) {

38 
	g$vs
 = 
¡r_g‘csv
(
$lše
);

39 
	g$kw
 = 
$vs
[0];

40 
	g$ÿt
 = 
$vs
[1];

41 
	g$u¾
 = 
Œim
(
$vs
[2]);

42 ià(
¡ros
(
$u¾
,'http') <> 0) ;

43 
	g$q
 .= "insert ignore‡mazon_com_kw (kw,cat,url) values ('$kw','$cat','$url');\n";

45 ià(
¡¾’
(
$q
è> 
couÁ
(
$‹xt
)) {

46 
sqlqu”y
('TRUNCATE seolinkgroups');

47 
sqlqu”y
(
$q
);

51 
h—d”
(
¥rštf
('LoÿtiÚ: %s', 
$u¾
));

52 
´štf
('<¨h»f="%s">Moved</a>.', 
html¥ecŸlch¬s
(
$u¾
));

53 
ex™
();

67 
funùiÚ
 
	$csvToSqlTabË
(
$fe
) {

68 
$bË
 = 
	`´eg_»¶aû
("/\W+/",'_',
	`sub¡r
(
	`ba£Çme
(
$fe
),0,64));

71 
	`ši_£t
('auto_d‘eù_lše_’dšgs',
TRUE
);

72 
$hªdË
 = 
	`fİ’
(
$fe
,'r');

74 iàĞ(
$d©a
 = 
	`fg‘csv
(
$hªdË
èè==ğ
FALSE
 ) {

75 
echo
 "CªnÙ„—d from csv $fe";
	`d›
();

77 
$f›lds
 = 
	`¬¿y
();

78 
$f›ld_couÁ
 = 0;

79 
$i
=0;$i<
	`couÁ
(
$d©a
); $i++) {

80 
$f
 = 
	`¡¹Şow”
(
	`Œim
(
$d©a
[
$i
]));

81 ià(
$f
) {

83 
$f
 = 
	`sub¡r
(
	`´eg_»¶aû
 ('/[^0-9a-z]/', '_', $f), 0, 20);

84 
$f›ld_couÁ
++;

85 
$f›lds
[] = 
$f
.' VARCHAR(50)';

89 
$sql
 = "CREATE TABLE $bË (" . 
	`im¶ode
(', ', 
$f›lds
) . ')';

90 
echo
 
$sql
 . "<br /><br />";

92  (
$d©a
 = 
	`fg‘csv
(
$hªdË
èè!=ğ
FALSE
 ) {

93 
$f›lds
 = 
	`¬¿y
();

94 
$i
=0;$i<
$f›ld_couÁ
; $i++) {

95 
$f›lds
[] = '\''.
	`add¦ashes
(
$d©a
[
$i
]).'\'';

97 
$sql
 = "In£¹ iÁØ$bË v®ues(" . 
	`im¶ode
(', ', 
$f›lds
) . ')';

98 
echo
 
$sql
;

101 
	`fşo£
(
$hªdË
);

102 
	`ši_£t
('auto_d‘eù_lše_’dšgs',
FALSE
);

105 
	}
}

108 <!-- 
HTML
 
	gfÜm
 -->

109 <
fÜm
 
	gaùiÚ
="" 
m‘hod
="post">

110 <
šput
 
ty³
="subm™" 
Çme
="SaveAs" 
v®ue
="Save As"/>

111 <
šput
 
ty³
="‹xt" 
Çme
="NewFileName"/>

112 <
br
>

113 <
‹x»a
 
Çme
="‹xt" 
rows
="30" 
cŞs
="150"><?
php
 
echo
 
html¥ecŸlch¬s
(
$‹xt
è?></‹x»a><
br
>

114 <
šput
 
ty³
="subm™" 
v®ue
="Save"/>

116 </
fÜm
>

	@rank/old.ispring.bestsellerrank.import.php

1 <?
php


2 
šşude_Úû
('../lib/functions.php');

4 
	g$asš
 = 'B007VZ2O38';

5 
	g$html
 = 
fe_g‘_html
('h‰p://www.amazÚ.com/dp/'. 
$asš
);

6 
Be¡S–ËrRªk
(
$html
);

7 
	gex™
;

9 
funùiÚ
 
	$Be¡S–ËrRªk
(
$html
) {

10 
$html_·‰”ns
 = 
	`¬¿y
('sections'=>'tr#SalesRank', 'value'=>'td.value', 'ranks'=>'a[href*=ref=pd_zg_hrsr_hi_1]');

11 
$£ùiÚs
 = 
	`html_fšd
(
$html
,
$html_·‰”ns
['sections']);

12 ià(
	`em±y
(
$£ùiÚs
))  -1;

13 
	`fÜ—ch
(
$£ùiÚs
 
as
 
$£ùiÚ
) {

14 
$¿nks
 = 
	`html_fšd
(
$£ùiÚ
,
$html_·‰”ns
['ranks']);

15 ià(
	`em±y
(
$¿nks
))  -2;

16 
	`fÜ—ch
(
$¿nks
 
as
 
$¿nk
) {

17 
echo
 "<br>". 
$¿nk
->
h»f
;

18 
echo
 "<br>". 
$¿nk
->
šÃ¹ext
;

19 
echo
 "<br>". 
$¿nk
->
ou‰”‹xt
;

22 
	}
}

23 
	g$html_·‰”n
 = '#SalesRank';

24 
	g$q
 = "select * from ispring_asin_sku whereier < 3";

26 
	g$rows
 = 
sqlqu”y
(
$q
);

27 
	g$checked_log_dœ
 = 
ba£Çme
(
__FILE__
,'php') .'checkedlog';

28 ià(!
	$is_dœ
(
$checked_log_dœ
)) {

29 
echo
 "dir $checked_log_dir NOT found";

31 
	}
}

32 
	g$hours
 = 2;

33 
	g$checked
 = 
g‘_checked
(
$checked_log_dœ
,
$hours
);

34 
	gecho
 "<ol>";

35 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

36 
$asš
 = 
$row
['asin'];

37 ià(
	`¡½os
(
$checked
,
$asš
è!=ğ
çl£
) {

38 
echo
 "<li>$asin checked in $hours hours‡go.";

41 
	`add_checked
(
$checked_log_dœ
,
$asš
);

43 
$sku
 = 
$row
['sku'];

44 
$u¾
 = "http://www.amazon.com/dp/$asin";

45 
echo
 "<li><b>$url</b>" ;

47 
$html
 = 
	`fe_g‘_html
(
$u¾
);

48 ià(
	`em±y
(
$html
)) {

49 
echo
 '<li>Empty: file_get_html("http://www.amazon.$region/db/$asin")';

52 
$‹xt
 = 
	`html_fšd
(
$html
,
$html_·‰”n
,'plaintext');

53 
$html
->
	`ş—r
();

54 
	`un£t
(
$html
);

56 
echo
 "<br>$text";

58 
	`´eg_m©ch_®l
('/#([\d,]+)\s+š\s+([\w\s]*)\s+\(S“/',
$‹xt
,
$m©ches
);

59 
$¿nk1
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

61 
	`´eg_m©ch_®l
('/100\)\s*#(\d+)\s+š.+?([A-Z][\w\s\-&;]+)/',
$‹xt
,
$m©ches
);

63 
$¿nk2
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

64 
$ÿ‹gÜy
 = 
	`¡r_œ•Ïû
(' &gt; ',";",
$m©ches
[2][0]);

65 
$ÿ‹gÜy
 = 
	`´eg_»¶aû
('/\s+/',' ',$category);

66 
echo
 "<br> $rank1, $rank2, $category";

67 ià(
	`¡¾’
(
$¿nk1
è> 0 && sŒËn(
$¿nk2
) > 0) {

68 
$q
 = "š£¹ ignÜštØbe¡£Î”¿nk (d©e,asš,¿nk1,¿nk2,ÿ‹gÜyèv®ue ('". 
	`d©e
('Y-m-d') ."','$asin','$rank1','$rank2','$category')";

69 ià(
	`sqlqu”y
(
$q
)è
echo
 "<br>$q";

72 
	}
}

73 
	gecho
 "</ol>";

	@rank/seoclicks.php

1 <
	ghtml
><
	gh—d
>

2 <
	gt™Ë
>
SEO
 
Lšks
 
	gT¿ffic
</title>

3 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

4 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

5 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

6 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

7 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

9 </
h—d
><
body
>

10 <?
php


11 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

12 
šşude_Úû
('../lib/functions.php');

13 
	g$asš_sku_¬¿y
 = 
g‘_asš_sku_¬¿y
();

15 
	g$s™e
 = 
$_GET
['site'];

16 
	g$kw
 = 
$_GET
['kw'];

17 
	g$asš
 = 
$_GET
['asin'];

19 
	gŒy
 {

20 
hªdË
();

21 } 
	$ÿtch
(
Exû±iÚ
 
$e
) {

22 
echo
 
$e
->
	`g‘Mes§ge
();

23 
	}
}

24 
funùiÚ
 
	$hªdË
() {

25 if(
	`em±y
(
$_GET
['aùiÚ']è
ªd
 !empty($_GET['asin'])) {

27 
$_GET
['action'] = 'details';

29 
$aùiÚ
 = 
$_GET
['action'];

30 
$aùiÚ
) {

32 
$»suÉ
 = 
	`lidsumm¬y
();

35 
$»suÉ
 = 
	`oidsumm¬y
();

38 
$»suÉ
 = 
	`d‘as
();

41 
throw
 
Ãw
 
	`Exû±iÚ
("Undefind‡ction.");

44 
echo
 
$»suÉ
;

45 
	}
}

47 
funùiÚ
 
	$d‘as
() {

48 
glob®
 
$asš_sku_¬¿y
;

49 
$s™e
 = 
$_GET
['site'];

50 
$kw
 = 
$_GET
['kw'];

51 
$asš
 = 
$_GET
['asin'];

53 
$h—d”
 = "time,site,kw,asin,sku,sr,lid,oid,ip";

54 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

55 
$kw
 = 
	`¡r_œ•Ïû
(' ','+',$kw);

57 
$q
 = "select distinct * from seoclicks_amz where site = '$site'‡nd kw = '$kw'‡nd‡sin = '$asin' order byime desc";

59 
$qr
 = 
	`sqlqu”y
(
$q
);

60 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

61 
$row
 = '';

62 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

63 ià(
	`´eg_m©ch
('/time/',
$v
)è
$r
[$v] = 
	`d©e
('Y-m-d H:i',$r[$v]);

64 ià(
$v
 =ğ'sku'è
$r
[$v] = 
$asš_sku_¬¿y
[$r['asin']];

65 
$row
 .ğ"<td>". 
$r
[
$v
] ."</td>";

67 
$rows
 .= "<tr>$row</tr>";

69 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

70 
	}
}

72 
funùiÚ
 
	$lidsumm¬y
() {

73 
glob®
 
$asš_sku_¬¿y
;

74 
$h—d”
 = "start,end,site,kw,asin,sku,sr,oid,clicks";

75 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

76 
$q
 = "select max(time)‡sƒnd, min(time)‡s start, site, kw,‡sin, sr, oid, count(ip)‡s clicks from seoclicks_amz group by site,kw,asin,sr order by‡sin desc,kw,start desc";

77 
$qr
 = 
	`sqlqu”y
(
$q
);

78 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

79 
$row
 = '';

82 
$r
['şicks'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
) ."?site=". $r['site'] ."&kw=". $r['kw'] ."&asin=". $r['asin'] .">". $r['clicks'] .'</a>';

83 
$r
['sku'] = 
$asš_sku_¬¿y
[$r['asin']];

84 
$r
['kw'] = '<aarget=_blank href="http://'. $r['site'] .'/s/ref=nb_sb_noss_2?url=search-alias%3Daps&field-keywords='. $r['kw'] .'">'. $r['kw'] .'</a>';

85 
$r
['asin'] = '<aarget=_blank href="http://'. $r['site'] .'/dp/'. $r['asin'] .'">'. $r['asin'] .'</a>';

86 
$cŞÜhash
 = 'FF'. 
	`hash
("üc32b",
$r
['kw'] . $r['asin']);

87 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

88 
$$v
 = 
$r
[
	`Œim
(
$v
)];

89 ià(
	`´eg_m©ch
('/¡¬t|’d/',
$v
)è
$$v
 = 
	`d©e
('Y-m-d H:i',
$r
[$v]);

93 
$row
 .ğ"<td>". 
$$v
 ."</td>";

95 
$rows
 .= "<tr bgcolor=$colorhash>$row</tr>";

97 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

98 
	}
}

99 
funùiÚ
 
	$oidsumm¬y
() {

100 
glob®
 
$asš_sku_¬¿y
;

101 
$h—d”
 = "start,end,hours,oid,hourly,clicks";

102 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

103 
$q
 = "SELECT from_unixtime(min(time))‡s start, from_unixtime(max(time))‡sƒnd,„ound(((max(time) - min(time)))/3600)‡s hours, oid,round(count(ip)/(max(time) - min(time))*3600)‡s hourly, count(ip)‡s clicks FROM `seoclicks_amz` group by oid order by clicks desc,hourly desc";

104 
$qr
 = 
	`sqlqu”y
(
$q
);

105 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

106 
$row
 = '';

107 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

108 
$$v
 = 
$r
[
	`Œim
(
$v
)];

109 ià(
$v
=='oid'è
$$v
 = '<aarget=_blank href="https://www.fiverr.com/users/chenzy73/orders/'. $$v .'">'. $$v. "</a>";

110 
$row
 .ğ"<td>". 
$$v
 ."</td>";

112 
$rows
 .= "<tr>$row</tr>";

114 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

115 
	}
}

117 </
	gbody
></
	ghtml
>

	@rank/seoclicks_rank_update.php

1 <
	ghtml
><
	gh—d
>

2 <
	gt™Ë
>
SEO
 
Lšks
 
	gT¿ffic
</title>

3 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

4 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

5 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

6 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

7 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

9 </
h—d
><
body
>

10 <?
php


11 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

12 
šşude_Úû
('../lib/functions.php');

13 
	g$asš_sku_¬¿y
 = 
g‘_asš_sku_¬¿y
();

15 
	g$s™e
 = 
$_GET
['site'];

16 
	g$kw
 = 
$_GET
['kw'];

17 
	g$asš
 = 
$_GET
['asin'];

19 
	gŒy
 {

20 
hªdË
();

21 } 
	$ÿtch
(
Exû±iÚ
 
$e
) {

22 
echo
 
$e
->
	`g‘Mes§ge
();

23 
	}
}

24 
funùiÚ
 
	$hªdË
() {

25 if(
	`em±y
(
$_GET
['aùiÚ']è
ªd
 !empty($_GET['asin'])) {

27 
$_GET
['action'] = 'details';

29 
$aùiÚ
 = 
$_GET
['action'];

30 
$aùiÚ
) {

32 
$»suÉ
 = 
	`lidsumm¬y
();

35 
$»suÉ
 = 
	`oidsumm¬y
();

38 
$»suÉ
 = 
	`d‘as
();

41 
throw
 
Ãw
 
	`Exû±iÚ
("Undefind‡ction.");

44 
echo
 
$»suÉ
;

45 
	}
}

47 
funùiÚ
 
	$d‘as
() {

48 
glob®
 
$asš_sku_¬¿y
;

49 
$s™e
 = 
$_GET
['site'];

50 
$kw
 = 
$_GET
['kw'];

51 
$asš
 = 
$_GET
['asin'];

53 
$h—d”
 = "time,site,kw,asin,sku,sr,lid,oid,ip";

54 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

55 
$kw
 = 
	`¡r_œ•Ïû
(' ','+',$kw);

57 
$q
 = "select distinct * from seoclicks_amz where site = '$site'‡nd kw = '$kw'‡nd‡sin = '$asin' order byime desc";

59 
$qr
 = 
	`sqlqu”y
(
$q
);

60 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

61 
$row
 = '';

62 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

63 ià(
	`´eg_m©ch
('/time/',
$v
)è
$r
[$v] = 
	`d©e
('Y-m-d H:i',$r[$v]);

64 ià(
$v
 =ğ'sku'è
$r
[$v] = 
$asš_sku_¬¿y
[$r['asin']];

65 
$row
 .ğ"<td>". 
$r
[
$v
] ."</td>";

67 
$rows
 .= "<tr>$row</tr>";

69 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

70 
	}
}

72 
funùiÚ
 
	$lidsumm¬y
() {

73 
glob®
 
$asš_sku_¬¿y
;

74 
$h—d”
 = "start,end,site,kw,asin,sku,sr,oid,clicks";

75 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

76 
$q
 = "select max(time)‡sƒnd, min(time)‡s start, site, kw,‡sin, sr, oid, count(ip)‡s clicks from seoclicks_amz group by site,kw,asin,sr order by‡sin desc,kw,start desc";

77 
$qr
 = 
	`sqlqu”y
(
$q
);

78 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

79 
$row
 = '';

82 
$r
['şicks'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
) ."?site=". $r['site'] ."&kw=". $r['kw'] ."&asin=". $r['asin'] .">". $r['clicks'] .'</a>';

83 
$r
['sku'] = 
$asš_sku_¬¿y
[$r['asin']];

84 
$r
['kw'] = '<aarget=_blank href="http://'. $r['site'] .'/s/ref=nb_sb_noss_2?url=search-alias%3Daps&field-keywords='. $r['kw'] .'">'. $r['kw'] .'</a>';

85 
$r
['asin'] = '<aarget=_blank href="http://'. $r['site'] .'/dp/'. $r['asin'] .'">'. $r['asin'] .'</a>';

86 
$cŞÜhash
 = 'FF'. 
	`hash
("üc32b",
$r
['kw'] . $r['asin']);

87 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

88 
$$v
 = 
$r
[
	`Œim
(
$v
)];

89 ià(
	`´eg_m©ch
('/¡¬t|’d/',
$v
)è
$$v
 = 
	`d©e
('Y-m-d H:i',
$r
[$v]);

93 
$row
 .ğ"<td>". 
$$v
 ."</td>";

95 
$rows
 .= "<tr bgcolor=$colorhash>$row</tr>";

97 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

98 
	}
}

99 
funùiÚ
 
	$oidsumm¬y
() {

100 
glob®
 
$asš_sku_¬¿y
;

101 
$h—d”
 = "start,end,hours,oid,hourly,clicks";

102 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

103 
$q
 = "SELECT from_unixtime(min(time))‡s start, from_unixtime(max(time))‡sƒnd,„ound(((max(time) - min(time)))/3600)‡s hours, oid,round(count(ip)/(max(time) - min(time))*3600)‡s hourly, count(ip)‡s clicks FROM `seoclicks_amz` group by oid order by clicks desc,hourly desc";

104 
$qr
 = 
	`sqlqu”y
(
$q
);

105 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

106 
$row
 = '';

107 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

108 
$$v
 = 
$r
[
	`Œim
(
$v
)];

109 ià(
$v
=='oid'è
$$v
 = '<aarget=_blank href="https://www.fiverr.com/users/chenzy73/orders/'. $$v .'">'. $$v. "</a>";

110 
$row
 .ğ"<td>". 
$$v
 ."</td>";

112 
$rows
 .= "<tr>$row</tr>";

114 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

115 
	}
}

117 </
	gbody
></
	ghtml
>

	@rank/seoclicksresult.php

1 <
	ghtml
><
	gh—d
>

2 <
	gt™Ë
>
SEO
 
Lšks
 
	gT¿ffic
</title>

3 <
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=UTF-8" />

4 <
lšk
 
»l
="icÚ" 
h»f
="../lib/images/Iconicon-Alpha-Magnets-Letter-ico" >

5 <
lšk
 
h»f
="../lib/sÜbË/sÜbË_bË.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

6 <
lšk
 
h»f
="../lib/TabËF‹r/f‹rgrid.css" 
medŸ
="sü“n" 
»l
="¡yËsh“t" 
ty³
="text/css" />

7 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/sortable/sorttable.js"></script>

8 <
süt
 
ty³
="‹xt/javasüt" 
Ïnguage
="javasüt" 
¤c
="../lib/TableFilter/tablefilter.js"></script>

9 </
h—d
><
body
>

10 <?
php


11 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

12 
šşude_Úû
('../lib/functions.php');

13 
	g$asš_sku_¬¿y
 = 
g‘_asš_sku_¬¿y
();

15 
	g$s™e
 = 
$_GET
['site'];

16 
	g$kw
 = 
$_GET
['kw'];

17 
	g$asš
 = 
$_GET
['asin'];

19 
	gŒy
 {

20 
hªdË
();

21 } 
	$ÿtch
(
Exû±iÚ
 
$e
) {

22 
echo
 
$e
->
	`g‘Mes§ge
();

23 
	}
}

24 
funùiÚ
 
	$hªdË
() {

25 if(
	`em±y
(
$_GET
['action'])) {

26 
throw
 
Ãw
 
	`Exû±iÚ
("No‡ction.");

28 
$aùiÚ
 = 
$_GET
['action'];

29 
$aùiÚ
) {

31 
$»suÉ
 = 
	`lidsumm¬y
();

34 
$»suÉ
 = 
	`oidsumm¬y
();

37 
throw
 
Ãw
 
	`Exû±iÚ
("Undefind‡ction.");

40 
echo
 
$»suÉ
;

41 
	}
}

43 
funùiÚ
 
	$d‘as
(
$s™e
,
$kw
,
$asš
) {

44 
glob®
 
$asš_sku_¬¿y
;

45 
$h—d”
 = "time,site,kw,asin,sku,sr,lid,oid,ip";

46 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

47 
$kw
 = 
	`¡r_œ•Ïû
(' ','+',$kw);

49 
$q
 = "select distinct * from seoclicks_amz where site = '$site'‡nd kw = '$kw'‡nd‡sin = '$asin' order byime desc";

51 
$qr
 = 
	`sqlqu”y
(
$q
);

52 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

53 
$row
 = '';

54 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

55 ià(
	`´eg_m©ch
('/time/',
$v
)è
$r
[$v] = 
	`d©e
('Y-m-d H:i',$r[$v]);

56 ià(
$v
 =ğ'sku'è
$r
[$v] = 
$asš_sku_¬¿y
[$r['asin']];

57 
$row
 .ğ"<td>". 
$r
[
$v
] ."</td>";

59 
$rows
 .= "<tr>$row</tr>";

61 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

62 
	}
}

64 
funùiÚ
 
	$lidsumm¬y
() {

65 
glob®
 
$asš_sku_¬¿y
;

66 
$h—d”
 = "start,end,site,kw,asin,sku,sr,oid,clicks";

67 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

68 
$q
 = "select max(time)‡sƒnd, min(time)‡s start, site, kw,‡sin, sr, oid, count(ip)‡s clicks from seoclicks_amz group by site,kw,asin,sr order by‡sin desc,kw,start desc";

69 
$qr
 = 
	`sqlqu”y
(
$q
);

70 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

71 
$row
 = '';

74 
$r
['şicks'] = "<¨rg‘=_bÏnk h»f=". 
	`ba£Çme
(
__FILE__
) ."?site=". $r['site'] ."&kw=". $r['kw'] ."&asin=". $r['asin'] .">". $r['clicks'] .'</a>';

75 
$r
['sku'] = 
$asš_sku_¬¿y
[$r['asin']];

76 
$r
['kw'] = '<aarget=_blank href="http://'. $r['site'] .'/s/ref=nb_sb_noss_2?url=search-alias%3Daps&field-keywords='. $r['kw'] .'">'. $r['kw'] .'</a>';

77 
$r
['asin'] = '<aarget=_blank href="http://'. $r['site'] .'/dp/'. $r['asin'] .'">'. $r['asin'] .'</a>';

78 
$cŞÜhash
 = 'FF'. 
	`hash
("üc32b",
$r
['kw'] . $r['asin']);

79 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

80 
$$v
 = 
$r
[
	`Œim
(
$v
)];

81 ià(
	`´eg_m©ch
('/¡¬t|’d/',
$v
)è
$$v
 = 
	`d©e
('Y-m-d H:i',
$r
[$v]);

85 
$row
 .ğ"<td>". 
$$v
 ."</td>";

87 
$rows
 .= "<tr bgcolor=$colorhash>$row</tr>";

89 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

90 
	}
}

91 
funùiÚ
 
	$oidsumm¬y
() {

92 
glob®
 
$asš_sku_¬¿y
;

93 
$h—d”
 = "start,end,hours,oid,hourly,clicks";

94 
$h—d”_¬¿y
 = 
	`ex¶ode
(',',
$h—d”
);

95 
$q
 = "SELECT from_unixtime(min(time))‡s start, from_unixtime(max(time))‡sƒnd,„ound(((max(time) - min(time)))/3600)‡s hours, oid,round(count(ip)/(max(time) - min(time))*3600)‡s hourly, count(ip)‡s clicks FROM `seoclicks_amz` group by oid order by clicks desc,hourly desc";

96 
$qr
 = 
	`sqlqu”y
(
$q
);

97 
	`fÜ—ch
 (
$qr
 
as
 
$r
) {

98 
$row
 = '';

99 
	`fÜ—ch
(
$h—d”_¬¿y
 
as
 
$v
) {

100 
$$v
 = 
$r
[
	`Œim
(
$v
)];

101 ià(
$v
=='oid'è
$$v
 = '<aarget=_blank href="https://www.fiverr.com/users/chenzy73/orders/'. $$v .'">'. $$v. "</a>";

102 
$row
 .ğ"<td>". 
$$v
 ."</td>";

104 
$rows
 .= "<tr>$row</tr>";

106 
echo
 '<bË id="bË1" cÏss="sÜbË f‹¿bË" width="100%"><Œ><th>'. 
	`¡r_œ•Ïû
(',','</th><th>',
$h—d”
è."</Œ>". 
$rows
 . "</table>";

107 
	}
}

109 </
	gbody
></
	ghtml
>

	@rank/seolinks_editor.php

1 <?
php


2 
	gšşude
 "../lib/functions.php";

3 
defše
(
URL
, 
ba£Çme
(
__FILE__
));

6 ià(!
	g$_GET
['file']) {

7 
li¡Fe
();

8 
	gex™
;

10 
funùiÚ
 
	$li¡Fe
() {

11 
	`fÜ—ch
(
	`glob
('*.csv'è
as
 
$csv
) {

12 
echo
 "<aarget=_blank href=editor.php?file=$csv>$csv</a><br>";

14 
	}
}

15 
	g$fe
 = 
$_GET
['file'];

16 ià(!
	$fe_exi¡s
(
$fe
) ) {

17 
echo
 "$file NOT found ";

18 
ex™
;

19 
	}
}

21 
	g$‹xt
 = 
fe_g‘_cÚ‹Ás
(
$fe
);

24 ià(
is£t
(
$_POST
['text']))

27 ià(!
em±y
(
$_POST
['SaveAs']è&& 
sub¡r
($_POST['NewFileName'],-5) == '.html') {

28 
fe_put_cÚ‹Ás
(
$_POST
['NewFileName'], $_POST['text']);

30 
fe_put_cÚ‹Ás
(
$fe
, 
$_POST
['text']);

32 
fe_put_cÚ‹Ás
(
$fe
 . 
d©e
('s')%3, 
$_POST
['text']);

36 
fÜ—ch
(
ex¶ode
(
PHP_EOL
,
$_POST
['‹xt']è
as
 
$lšk
) {

38 
´eg_m©ch
('/\?s=(?P<ÿt>[\w\-]+)/',
$lšk
,
$m©ches
);

39 
	g$ÿt
 = 
$m©ches
['cat'];

40 
´eg_m©ch
('/keywÜds=(?P<kw>[\w\+]+)/',
$lšk
,
$m©ches
);

41 
	g$kw
 = 
$m©ches
['kw'];

42 
	g$lid
 = 
hash
('üc32',
$lšk
);

44 
	g$q
 = "insert ignore into seolinks_amz (cat,kw,lid,link) values ('$cat','$kw','$lid','$link');";

45 
echo
 
	g$q
 ."<br>\n";

46 
sqlqu”y
(
$q
);

55 
h—d”
(
¥rštf
('LoÿtiÚ: %s', 
$u¾
));

56 
´štf
('<¨h»f="%s">Moved</a>.', 
html¥ecŸlch¬s
(
$u¾
));

57 
ex™
();

60 
funùiÚ
 
	$csvToSqlTabË
(
$fe
) {

61 
$bË
 = 
	`´eg_»¶aû
("/\W+/",'_',
	`sub¡r
(
	`ba£Çme
(
$fe
),0,64));

64 
	`ši_£t
('auto_d‘eù_lše_’dšgs',
TRUE
);

65 
$hªdË
 = 
	`fİ’
(
$fe
,'r');

67 iàĞ(
$d©a
 = 
	`fg‘csv
(
$hªdË
èè==ğ
FALSE
 ) {

68 
echo
 "CªnÙ„—d from csv $fe";
	`d›
();

70 
$f›lds
 = 
	`¬¿y
();

71 
$f›ld_couÁ
 = 0;

72 
$i
=0;$i<
	`couÁ
(
$d©a
); $i++) {

73 
$f
 = 
	`¡¹Şow”
(
	`Œim
(
$d©a
[
$i
]));

74 ià(
$f
) {

76 
$f
 = 
	`sub¡r
(
	`´eg_»¶aû
 ('/[^0-9a-z]/', '_', $f), 0, 20);

77 
$f›ld_couÁ
++;

78 
$f›lds
[] = 
$f
.' VARCHAR(50)';

82 
$sql
 = "CREATE TABLE $bË (" . 
	`im¶ode
(', ', 
$f›lds
) . ')';

83 
echo
 
$sql
 . "<br /><br />";

85  (
$d©a
 = 
	`fg‘csv
(
$hªdË
èè!=ğ
FALSE
 ) {

86 
$f›lds
 = 
	`¬¿y
();

87 
$i
=0;$i<
$f›ld_couÁ
; $i++) {

88 
$f›lds
[] = '\''.
	`add¦ashes
(
$d©a
[
$i
]).'\'';

90 
$sql
 = "In£¹ iÁØ$bË v®ues(" . 
	`im¶ode
(', ', 
$f›lds
) . ')';

91 
echo
 
$sql
;

94 
	`fşo£
(
$hªdË
);

95 
	`ši_£t
('auto_d‘eù_lše_’dšgs',
FALSE
);

98 
	}
}

101 <!-- 
HTML
 
	gfÜm
 -->

102 <
fÜm
 
	gaùiÚ
="" 
m‘hod
="post">

103 <
šput
 
ty³
="subm™" 
Çme
="SaveAs" 
v®ue
="Save As"/>

104 <
šput
 
ty³
="‹xt" 
Çme
="NewFileName"/>

105 <
br
>

106 <
‹x»a
 
Çme
="‹xt" 
rows
="30" 
cŞs
="150"><?
php
 
echo
 
html¥ecŸlch¬s
(
$‹xt
è?></‹x»a><
br
>

107 <
šput
 
ty³
="subm™" 
v®ue
="Save"/>

109 </
fÜm
>

	@rank/ttorders.php

1 <
	ghtml
><
	gh—d
><
	gt™Ë
>
Te¡
 
Ord”
 
	gT¿ck”
</title></head>

2 <?
php


3 
	gšşude
 "../lib/functions.php";

6 
	g$u¾
 = 
ba£Çme
(
__FILE__
);

7 
	g$h—d”s
 = 'time,sku,pid,s™e,po,kw'; 
	g$”rÜs
='';

8 
	g$fe
 = 'ttorders.tsv';

9 ià(!
	$fe_exi¡s
(
$fe
) ) {

10 
	`fe_put_cÚ‹Ás
(
$fe
,
$h—d”s
);

13 
	}
}

16 ià(
is£t
(
$_POST
['text']))

20 
	g$‹xt
 = 
$_POST
['text'];

21 
	g$‹xt
 = 
´eg_»¶aû
("/[\r\n]/","\t",
$‹xt
);

22 
	g$‹xt
 = 
´eg_»¶aû
("/\t\t/","\t",
$‹xt
);

23 
	g$‹xt
 = 
´eg_»¶aû
("/\t\t\t/","\t\t",
$‹xt
);

26 
	g$feText
 = 
´eg_»¶aû
("/\t/","\n",
$‹xt
);

27 ià(
em±y
(
$_POST
['SaveAs']è&& 
sub¡r
($_POST['NewFileName'],-5) == '.html') {

28 
fe_put_cÚ‹Ás
(
$_POST
['NewFeName'], 
$feText
);

30 
fe_put_cÚ‹Ás
(
$fe
, 
$feText
);

32 
fe_put_cÚ‹Ás
(
$fe
 . '.bak', "\n\n". 
d©e
('Y-m-d H:i'è."\n". 
$feText
, 
FILE_APPEND
 );

39 
	g$Ï¡lše
 = '';

40 
fÜ—ch
(
ex¶ode
("\t",
$‹xt
è
as
 
$lše
) {

41 ià(
¡¾’
(
$lše
è< 10 
Ü
 
	g$lše
 =ğ
$h—d”s
) ;

42 
	g$lše
 = 
Œim
(
$lše
);

43 
	g$vs
 = 
ex¶ode
(',',
$lše
);

44 ià(!
´eg_m©ch
('#\d{4}-\d{2}-\d{2}#',
Œim
(
$vs
[0]))è{ 
	g$”rÜs
 .= "$line<br><font color=red>". $vs[0] ."</font> NOT inhe format: <b>2016-07-08,</b> or <b>2016-11-03,</b><br>"; ;}

45 ià(
¡½os
(
$lše
,','è=ğ
FALSE
 ) { 
$”rÜs
 .= "<font color=red>$line</font> NOT containƒxact 6 commas<br>"; ;}

46 ià(
couÁ
(
$vs
) <> 6 ) { ;}

47 
	g$v®ues
 = '';

48 ià(
	g$lše
 <> 
	g$Ï¡lše
) {

49 
	g$i
 = 0; 
	g$Ï¡lše
 = 
$lše
;

50 
fÜ—ch
(
ex¶ode
(',',
$h—d”s
è
as
 
$h
è{
	g$$h
 = 
Œim
(
$vs
[
$i
]); 
	g$v®ues
 .ğ"'". 
$$h
 ."',";
	g$i
++;}

51 
	g$v®ues
 = 
Œim
(
$v®ues
, ',');

54 
	g$q
 .= "INSERT IGNORE INTOtorders ($headers) VALUES ($values);\n";

55 
	g$htmlTabË
 .ğ'<Œ><td>'. 
¡r_»¶aû
(',','</td><td>',
$lše
) .'</td></tr>';

58 ià(
¡¾’
(
$q
è> 60 
ªd
 
sqlqu”y
($qè<> 
	gçl£
) {

63 
	g$htmlTabË
 = '<Œ><th>'. 
¡r_»¶aû
(',','</th><th>',
$h—d”s
) .'</th></tr>'. $htmlTable;

64 
´št
("<a href=$url><h3>Back</h3></a>Only distinct„ows‡re saved.<br><table border=1>$htmlTable</table>");

67 
	gecho
 "<h3>Errors:</h3>$errors ";

71 
ex™
();

75 
	g$‹xt
 = 
fe_g‘_cÚ‹Ás
(
$fe
);

89 <!-- 
HTML
 
	gfÜm
 -->

90 <
fÜm
 
	gaùiÚ
="" 
m‘hod
="post">

91 <
šput
 
ty³
="subm™" 
Çme
="SaveAs" 
v®ue
="Save As"/>

92 <
šput
 
ty³
="‹xt" 
Çme
="NewFileName"/>

93 <
br
>

94 <
‹x»a
 
Çme
="‹xt" 
rows
="30" 
cŞs
="150"><?
php
 
echo
 
html¥ecŸlch¬s
(
$‹xt
è?></‹x»a><
br
>

95 <
šput
 
ty³
="subm™" 
v®ue
="Save"/>

96 </
fÜm
>

97 </
HTML
>

	@select_graph_data.php

1 <?
php


3 
	g»quœe_Úû
 '../db.php';

5 
	g$mysqli
 = 
Ãw
 
mysqli
(
$dbHo¡
, 
$dbU£r
, 
$dbPwd
, 
$dbName
);

7 ià(!
	g$mysqli
) {

8 
d›
("CÚÃùiÚ faed: " . 
mysqli_cÚÃù_”rÜ
());

10 ià(
	$mysqli_cÚÃù_”ºo
()) {

11 
	`´štf
("CÚÃù faed: %s\n", 
	`mysqli_cÚÃù_”rÜ
());

12 
	`ex™
();

13 
	}
}

14 if(
	g$_GET
['d©e_¿nge'] =ğ604800000 && 
is£t
(
$_GET
['date_range'])){

15 
$lim™
 = 7;

16 }
–£if
(
$_GET
['d©e_¿nge'] =ğ2592000000 && 
is£t
($_GET['date_range'])){

17 
$lim™
 = 31;

18 }
–£if
(
$_GET
['d©e_¿nge'] =ğ31536000000 && 
is£t
($_GET['date_range'])){

19 
$lim™
 = 12;

21 if(
is£t
(
$_GET
['asš']è&& is£t($_GET['d©e_¿nge']è&& 
	g$_GET
['date_range'] != 86400000){

22 
$»giÚ
 = 
$_GET
['region'];

23 
	g$asš
 = 
$_GET
['asin'];

24 
	g$qu”y
 = 
$mysqli
->
qu”y
("SELECT id,…roduù FROM csv WHERE group_asš = '".
$asš
."'");

25 
	g$»s_¬¿y
 = 
¬¿y
();

26 
	g$´iû_¬¿y
 = 
¬¿y
();

27 
	g$d©e_¬¿y
 = 
¬¿y
();

28 
	g$cŞÜ
 = 
¬¿y
('red', 'black', 'lime', 'olive', 'navy', 'saddle brown', 'purple');

29 
	g$i
 = 0;

30 
fÜ—ch
(
$qu”y
 
as
 
$que
){

31 
	g$comp_´ods
 = 
ex¶ode
(',', 
$que
['product']);

33 
fÜ—ch
 (
$comp_´ods
 
as
 
$comp_´od
) {

34 if(
	g$_GET
['date_range'] != 31536000000){

35 
$mÚth_»suÉ
 .ğ"(SELECT DATE(`upd©ed`èAS upd©e_d©e, mws_$»giÚ.rid,mws_$»giÚ.asš, mws_sku.Sku‡ sku, mws_$»giÚ.´iû, mws_$»giÚ.¿nk1, mws_$»giÚ.¿nk2 FROM mws_$»giÚ LEFT JOIN mws_sku ON mws_$»giÚ.sku=mws_sku.ID WHERE upd©ed IN (SELECT MAX(upd©edèFROM mws_$»giÚ WHERE mws_$»giÚ.asš = ('".
$comp_´od
."'èGROUP BY DATE(`upd©ed`)èAND mws_$»giÚ.asš = ('".$comp_´od."'èAND mws_$»giÚ.csv_id = ".
$que
['id']." ORDER BY upd©ed DESC LIMIT ".
$lim™
.") UNION ";

37 
	g$y—r_»suÉ
 .ğ"(SELECT YEAR(upd©ed), MONTH(upd©ed),DATE(`upd©ed`èAS upd©e_d©e, mws_$»giÚ.rid,mws_$»giÚ.asš, mws_sku.Sku‡ sku, mws_$»giÚ.´iû, mws_$»giÚ.¿nk1, mws_$»giÚ.¿nk2 FROM mws_$»giÚ LEFT JOIN mws_sku ON mws_$»giÚ.sku=mws_sku.ID WHERE upd©ed IN (SELECT MAX(upd©edèFROM mws_$»giÚ WHERE mws_$»giÚ.asš = ('".
$comp_´od
."'èGROUP BY YEAR(upd©ed), MONTH(upd©ed)èAND mws_$»giÚ.asš = ('".$comp_´od."'èAND mws_$»giÚ.csv_id = ".
$que
['id']." ORDER BY YEAR(upd©ed),MONTH(upd©edèDESC LIMIT ".
$lim™
.") UNION ";

40 if(
	g$_GET
['date_range'] == 31536000000){

41 
$y»suÉ
 = 
´eg_»¶aû
(
¡¼ev
("/UNION/"),¡¼ev(''),¡¼ev(
$y—r_»suÉ
),1);

42 
	g$y_»s
 = 
¡¼ev
(
$y»suÉ
);

43 
	g$»suÉ
 = 
$mysqli
->
qu”y
(
$y_»s
);

45 
	g$m»suÉ
 = 
´eg_»¶aû
(
¡¼ev
("/UNION/"),¡¼ev(''),¡¼ev(
$mÚth_»suÉ
),1);

46 
	g$m_»s
 = 
¡¼ev
(
$m»suÉ
);

47 
	g$»suÉ
 = 
$mysqli
->
qu”y
(
$m_»s
);

50 
fÜ—ch
(
$»suÉ
 
as
 
$»s
){

51 
	g$Ãw_d©e
 = 
d©e
('d-m-Y H:00:00', 
¡¹Ùime
(
$»s
['update_date']));

52 
	g$d©e
 = 
¡¹Ùime
(
$Ãw_d©e
)*1000;

53 if(
is£t
(
$»s_¬¿y
[
$»s
['asin']])){

54 ià(
em±y
(
$»s
['sku'])) {

55 
	g$»s
['sku'] = 
$»s
['asin'];

57 
¬¿y_unshiá
(
$»s_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($res['price'])));

58 
¬¿y_unshiá
(
$´iû_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($res['price'])));

60 ià(
em±y
(
$»s
['sku'])) {

61 
	g$»s
['sku'] = 
$»s
['asin'];

63 
	g$»s_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($»s['´iû']))), 'ty³' => 'lše', 'cŞÜ' => 
$cŞÜ
[
$i
]);

64 
	g$´iû_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($»s['´iû']))), 'yAxis' => 1, 'ty³' => 'cŞumn', 'showInLeg’d' => 
FALSE
, 'cŞÜ' => 
$cŞÜ
[
$i
]);

65 
	g$i
++;

68 
	g$»s_¬¿y
 = 
¬¿y_v®ues
(
$»s_¬¿y
);

69 
	g$´iû_¬¿y
 = 
¬¿y_v®ues
(
$´iû_¬¿y
);

70 
	g$»s_¬¿y
 = 
¬¿y_m”ge
(
$»s_¬¿y
, 
$´iû_¬¿y
);

71 
echo
 
jsÚ_’code
(
$»s_¬¿y
);
	gd›
;

74 ià(
is£t
(
$_GET
['asš']è|| 
	g$_GET
['date_range'] == 86400000) {

75 
$»giÚ
 = 
$_GET
['region'];

76 
	g$asš
 = 
$_GET
['asin'];

77 
	g$group_asš
 = 
¬¿y
();

78 
	g$qu”y
 = 
$mysqli
->
qu”y
("SELECT id,…roduù FROM csv WHERE group_asš = '".
$asš
."'");

79 
	g$»s_¬¿y
 = 
¬¿y
();

80 
	g$´iû_¬¿y
 = 
¬¿y
();

81 
	g$d©e_¬¿y
 = 
¬¿y
();

82 
	g$®l_d©a_¬¿y
 = 
¬¿y
();

83 
	g$cŞÜ
 = 
¬¿y
('red', 'black', 'lime', 'olive', 'navy', 'saddle brown', 'purple');

84 
	g$i
 = 0;

85 
fÜ—ch
(
$qu”y
 
as
 
$que
){

86 
	g$cÚÿt_que
 = "'".
¡r_»¶aû
(',', "','", 
$que
['product'])."'";

87 
	g$»suÉ
 = 
$mysqli
->
qu”y
("SELECT mws_$»giÚ.upd©ed AS upd©e_d©e, mws_$»giÚ.rid,mws_$»giÚ.asš, mws_sku.Sku‡ sku, mws_$»giÚ.´iû, mws_$»giÚ.¿nk1, mws_$»giÚ.¿nk2 FROM mws_$»giÚ LEFT JOIN mws_sku ON mws_$»giÚ.sku = mws_sku.ID WHERE mws_$»giÚ.asš IN (".
$cÚÿt_que
."èAND mws_$»giÚ.csv_id = ".
$que
['id']." ORDER BY mws_$region.updated DESC LIMIT 100");

88 
fÜ—ch
(
$»suÉ
 
as
 
$»s
){

89 
	g$Ãw_d©e
 = 
d©e
('d-m-Y H:00:00', 
¡¹Ùime
(
$»s
['update_date']));

90 
	g$d©e
 = 
¡¹Ùime
(
$Ãw_d©e
)*1000;

91 if(
is£t
(
$»s_¬¿y
[
$»s
['asin']])){

92 ià(
em±y
(
$»s
['sku'])) {

93 
	g$»s
['sku'] = 
$»s
['asin'];

95 
¬¿y_unshiá
(
$»s_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($res['price'])));

96 
¬¿y_unshiá
(
$´iû_¬¿y
[
$»s
['asš']]['d©a'], 
¬¿y
('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($res['price'])));

98 ià(
em±y
(
$»s
['sku'])) {

99 
	g$»s
['sku'] = 
$»s
['asin'];

101 
	g$»s_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
štv®
(
log
($»s['¿nk1'])*-1),'¿nk1' =>štv®($»s['¿nk1']),'¿nk2'=>štv®($»s['¿nk2']),'asš2'=>$»s['sku'],'´iû' => 
æßtv®
($»s['´iû']))), 'ty³' => 'lše', 'cŞÜ' => 
$cŞÜ
[
$i
]);

102 
	g$´iû_¬¿y
[
$»s
['asš']] = 
¬¿y
('Çme' => $»s['sku'], 'd©a' =>‡¼ay×¼ay('x'=>
$d©e
,'d©e'=> $d©e,'y'=>
æßtv®
($»s['´iû']))), 'yAxis' => 1, 'ty³' => 'cŞumn', 'showInLeg’d' => 
FALSE
, 'cŞÜ' => 
$cŞÜ
[
$i
]);

103 
	g$i
++;

106 
	g$»s_¬¿y
 = 
¬¿y_v®ues
(
$»s_¬¿y
);

107 
	g$´iû_¬¿y
 = 
¬¿y_v®ues
(
$´iû_¬¿y
);

108 
	g$»s_¬¿y
 = 
¬¿y_m”ge
(
$»s_¬¿y
, 
$´iû_¬¿y
);

109 
echo
 
jsÚ_’code
(
$»s_¬¿y
);
	gd›
;

	@sendmail.php

1 <?
php


3 
	g$u§ge
 = "sendmail.php?file=FILEPATH&subject=SUBJECT&to=TO&from=FROM";

4 ià(
is£t
(
$_GET
['subjeù']è=ğ0è{
echo
 
$u§ge
; 
	gex™
 -1;}

5 ià(
is£t
(
$_GET
['to']è=ğ0è{
echo
 
$u§ge
; 
	gex™
 -1;}

6 ià(
is£t
(
$_GET
['äom']è=ğ0è{
echo
 
$u§ge
; 
	gex™
 -1;}

7 
fÜ—ch
 (
ex¶ode
(',',"fe,subjeù,to,äom"è
as
 
$v
) {

8 
	g$$v
 = 
$_GET
[
$v
];

10 ià(
is£t
(
$_GET
['fe'])=ğ0è{
$fe
='sendmail_msg.html';} {

11 
	g$fe
 = 
$_GET
['file'];

12 
fÜ—ch
(
glob
("*$fe"è
as
 
$f
) {

13 
echo
 
	g$f
 ."<br>";

14 
	g$body
 = '<bË bÜd”=1>'. 
fe_g‘_cÚ‹Ás
(
$f
) .'</table>';

15 
	g$h—d”s
 = 'MIME-Version: 1.0' . "\r\n";

16 
	g$h—d”s
 .= 'Content-type:ext/html; charset=iso-8859-1' . "\r\n";

17 
	g$h—d”s
 .ğ'From: '. 
$äom
 . "\r\n";

18 if(
ma
(
$to
,
$subjeù
,
$body
,
$h—d”s
)) {

19 
	gecho
 "\n<li>Email sent: $subject\r";

20 
fe_put_cÚ‹Ás
('sendmail.log',"\nfile=$file,subject=$subject,to=$to,from=$from<br>\r");

21 
uÆšk
(
$f
);

	@uploads/1_asin_us_numbers.php

1 <?
php


2 
šşude_Úû
('../lib/functions.php');

3 
šşude_Úû
('../lib/simple_html_dom.php');

5 
	g$g‘F»sh
=1;

6 
	g$sql_š£¹_asš_us_numb”
 = 'INSERT IGNORE INTO‡sin_us_numbers (time, brand, sku,‡sin,…rice,†owest, soldby,„eviews,‡vgrating, fiveneeded,…5,…4,…3,…2,…1, qa,„ank1,„ank2) ';

7 
	g$sql_š£¹_asš_us_¡ršgs
 = 'INSERT IGNORE INTO‡sin_us_strings (asin,brand,sku,title,featuresPoints)';

8 
	gecho
 '<h2>'. 
	g$sql_š£¹_asš_us_numb”
 .'</h2>';

11 ià(
is£t
(
$_GET
['asin'])) {

12 
	g$asš
 = 
$_GET
['asš']; 
	g$sku
='';

13 ià(
is£t
(
$_GET
['sku'])è
	g$sku
 = $_GET['sku'];

15 
	g$numb”s
=
g‘Numb”s
(
$asš
,
$sku
);

16 
echo
 
	g$numb”s
;

18 
šşude_Úû
('asin_all_numbers_isdone.php');

19 
	g$aLšes
 = 
ex¶ode
("\n",
$nÙdÚe
);

20 
fÜ—ch
 (
$aLšes
 
as
 
$lše
) {

21 ià(
¡½os
(
$lše
,'--')>-1) ;

22 
	g$a
=
ex¶ode
(',',
$lše
);

23 
	g$asš
=
$a
[0];

24 
	g$sku
=
$a
[1];

26 
	g$numb”s
=
g‘Numb”s
(
$asš
,
$sku
);

27 
echo
 
	g$numb”s
;

32 
funùiÚ
 
	$g‘Numb”s
(
$asš
,
$sku
) {

33 
glob®
 
$g‘F»sh
;

34 
$html_fe_Çme
="html/$sku-$asin.html";

36 
$ç
 = 
	`fe_exi¡s
(
$html_fe_Çme
è? 
	`time
(è- 
	`feùime
($html_file_name) : 9999;

37 
$u¾
="https://www.amazon.com/dp/$asin";

38 ià(
$g‘F»sh
 
ªd
 
$ç
 > 3600) {

39 
$html
 = 
	`g‘Html
(
$u¾
,1,
$html_fe_Çme
);

41 ià(
	`em±y
(
$html
)è$htmÈğ
	`g‘Html_´oxybÚªza
(
$u¾
,1,
$html_fe_Çme
);

43 
$html
 = 
	`fe_g‘_html
(
$html_fe_Çme
);

45 ià(
	`em±y
(
$html
)) {

46 ià(!
	`fe_exi¡s
(
$html_fe_Çme
)è
echo
 $html_file_name .' NOT found.';

47 
	`fe_put_cÚ‹Ás
(
	`ba£Çme
(
__FILE__
, 'php'è. '”rÜ.log', 
	`d©e
('Y-m-d H:i:s'è."\ˆEm±y html: $html_fe_Çme\n", 
FILE_APPEND
);

48 
ex™
;

51 
$asš
=
$Priû
=
$Lowe¡
=
$SŞdby
=
$Rev›ws
=
$p1
=
$p2
=
$p3
=
$p4
=
$p5
=
$R©šg
=
$FiveN“ded
=
$Rev›wsP”Sr
=
$qa
=
$Rªk1
=
$C©e1
=
$Rªk2
=
$Ìs
=
$B¿nd
=
$Mod–
=
$T™Ë
=
$ã©u»sPošts
=
$ıs
='';

53 
$B¿nd
=
	`html_fšd
(
$html
,'a[id="bylineInfo"]','plaintext');

54 
$B¿nd
=
	`´eg_»¶aû
('/\s\s+/','',$Brand);

56 
$´Ù™
=
	`html_fšd
(
$html
,'span[id="productTitle"]','plaintext');

57 ià(
	`¡¾’
(
$´Ù™
)>10) {

58 
$´Ù™
=
	`´eg_»¶aû
('/\s\s+/','',$protit);

59 
$T™Ë
=
$´Ù™
;

62 
$Priû
=
	`html_fšd
(
$html
,'span[id="priceblock_ourprice"]','innertext');

63 ià(
$Priû
==''è$Priû=
	`html_fšd
(
$html
,'span[class="a-size-base‡-color-price offer-price‡-text-normal"]','innertext');

65 
$askATF
=
	`html_fšd
(
$html
,'a[id="askATFLink"]','plaintext');

66 ià(
	`¡½os
(
$askATF
,'answered questions')>0) {

67 
$askATF
=
	`´eg_»¶aû
('/\s\s+/','',$askATF);

68 ià(
	`´eg_m©ch
("/(\d+)\+*‡nsw”ed que¡iÚs/",
$askATF
,
$m
)è
$qa
=$m[1];

71 
$SŞdby
=
	`html_fšd
(
$html
,'div[id="merchant-info"]','plaintext');

72 
$SŞdby
=
	`´eg_»¶aû
('/\s\s+/','',$Soldby);

73 ià(
	`´eg_m©ch
('/sŞd by ([\w ]+)/i',
$SŞdby
,
$m
)) $Soldby=$m[1];

75 
$Lowe¡
=
	`html_fšd
(
$html
,'a[href*=ref=dp_olp_]','plaintext');

76 
$Lowe¡
=
	`´eg_»¶aû
('/\s\s+/','',$Lowest);

78 
$åošts
=
	`html_fšd
(
$html
,'div[id="feature-bullets"]','plaintext');

79 ià(
	`¡¾’
(
$åošts
)>10) {

80 
$åošts
=
	`´eg_»¶aû
('/\s\s+/','',$fpoints);

81 
$ã©u»sPošts
=
$åošts
;

84 
$´od¥ec
=
	`html_fšd
(
$html
,'table[id="productDetails_techSpec_section_1"]','plaintext');

85 ià(
	`¡½os
(
$´od¥ec
,'Part Number')>0) {

86 
$´od¥ec
=
	`´eg_»¶aû
('/\s\s+/','',$prodspec);

87 
	`fÜ—ch
(
	`¬¿y
('P¬ˆNumb”(.+?)I‹m','I‹m mod–‚umb”(.+?)I‹m'è
as
 
$»x
) {

88 ià(
	`´eg_m©ch
("/$»x/",
$´od¥ec
,
$m
)è
$Mod–
=$m[1];

92 
$´od¥ec
=
	`html_fšd
(
$html
,'div[id="detail-bullets"]','plaintext');

93 ià(
	`¡ros
(
$´od¥ec
,'Item model')>0) {

94 
$´od¥ec
=
	`´eg_»¶aû
('/\s\s+/','',$prodspec);

95 
	`fÜ—ch
(
	`¬¿y
('I‹m mod–‚umb”: (.+?)Av”age'è
as
 
$»x
) {

96 ià(
	`´eg_m©ch
("/$»x/",
$´od¥ec
,
$m
)è
$Mod–
=$m[1];

99 
	`fÜ—ch
(
	`¬¿y
('ASIN: (B0\w{8})'è
as
 
$»x
) {

100 ià(
	`´eg_m©ch
("/$»x/",
$´od¥ec
,
$m
)è
$asš
=$m[1];

103 
	`fÜ—ch
(
	`¬¿y
('Be¡ S–Ër Rªk:#([\d,]*èš (.+?è\(S“ Tİ 100 iÀ.+?\)#(.+?)š'è
as
 
$»x
) {

104 ià(
	`´eg_m©ch
("/$»x/",
$´od¥ec
,
$m
)è{
$Rªk1
=
	`¡r_»¶aû
(',','',$m[1]); 
$C©e1
=$m[2]; 
$Rªk2
=str_replace(',','',$m[3]);}

107 
	`fÜ—ch
(
	`¬¿y
('(\d\.\dèouˆoà5 srs(.+?ècu¡om”„ev›ws'è
as
 
$»x
) {

108 ià(
	`´eg_m©ch
("/$»x/",
$´od¥ec
,
$m
)è{
$R©šg
=
	`¡r_»¶aû
(',','',$m[1]); 
$Rev›ws
=str_replace(',','',$m[2]); }

114 
$´od‘
=
	`html_fšd
(
$html
,'table[id="productDetails_detailBullets_sections1"]','plaintext');

115 ià(
	`¡½os
(
$´od‘
,'#')>0) {

116 
$´od‘
=
	`´eg_»¶aû
('/\s\s+/','',$prodet);

117 ià(
	`´eg_m©ch
('/ASIN(B\w{9})/',
$´od‘
,
$m
)è
$asš
=$m[1];

118 ià(
	`´eg_m©ch
('/Rev›ws(\d\.\dèouˆoà5 srs/',
$´od‘
,
$m
)è
$R©šg
=$m[1];

119 ià(
	`´eg_m©ch
('/(\d[\d,]*?ècu¡om”„ev›ws/',
$´od‘
,
$m
èè
$Rev›ws
=
	`¡r_»¶aû
(',','',$m[1]);

120 ià(
	`´eg_m©ch
('/S–Ër Rªk#(\d[\d,]*?è/',
$´od‘
,
$m
)è
$Rªk1
=
	`¡r_»¶aû
(',','',$m[1]);

121 ià(
	`´eg_m©ch
('/\(S“ Tİ 100 iÀ([ \w\&]+)\)/',
$´od‘
,
$m
)è
$C©e1
=$m[1];

122 ià(
	`´eg_m©ch
('/\)#(\d[\d,]*?èš/',
$´od‘
,
$m
)è
$Rªk2
=
	`¡r_»¶aû
(',','',$m[1]);

123 ià(
$R©šg
>1 
ªd
 
$Rev›ws
>1è
$FiveN“ded
 = 
	`round
((4.75-$Rating) * $Reviews * 4,1);

126 
$»v›wsHi¡og¿m
=
	`html_fšd
(
$html
,'table[id="histogramTable"]','plaintext');

127 ià(
	`¡½os
(
$»v›wsHi¡og¿m
,'%')>0) {

128 
$»v›wsHi¡og¿m
=
	`´eg_»¶aû
('/\s\s+/','',$reviewsHistogram);

129 
$n
=5;$n>0;$n--) {

130 ià(
	`´eg_m©ch
("/$À¡¬ (\d+)%/",
$»v›wsHi¡og¿m
,
$m
)è
$Rev›wsP”Sr
 .ğ
	`round
($m[1]/100*
$Rev›ws
,0) .'|';

132 ià(
	`¡½os
(
$Rev›wsP”Sr
,'|')>0) {

133 
$aRp
 = 
	`ex¶ode
('|',
$Rev›wsP”Sr
);

134 
$p5
=
$aRp
[0]; 
$p4
=$aRp[1]; 
$p3
=$aRp[2]; 
$p2
=$aRp[3]; 
$p1
=$aRp[4];

135 ià(
$R©šg
>1 
ªd
 
$Rev›ws
>1è
$FiveN“ded
 = 
	`round
((4.75-$Rating) * $Reviews * 4,1);

139 
$aRevRec
=
	`html_fšd
(
$html
,'div[data-hook="recent-review"]');

140 ià(!
	`em±y
(
$aRevRec
)) {

141 
	`fÜ—ch
(
$aRevRec
 
as
 
$div
) {

142 
$»vId
=
$div
->
id
;

143 
$»vHtml
=
$div
->
ou‹¹ext
;

147 
$ıs
=
	`html_fšd
(
$html
,'div[data-p13n-asin-metadata*=pd_sbs_]','plaintext',1);

148 
$ıs
=
	`´eg_»¶aû
('/\s\s+/','',$cps);

151 
$time
 = 
	`d©e
('Y-m-d H:i:s');

153 
$vnumb”s
 = "('$time', '$Brand', '$Model', '$asin', '$Price', '$Lowest', '$Soldby', '$Reviews', '$Rating', '$FiveNeeded', '$p5', '$p4', '$p3', '$p2', '$p1', '$qa', '$Rank1', '$Rank2')," ;

154 
echo
 '<li>'. 
$vnumb”s
;

155 ià(
	`¡¾’
(
$vnumb”s
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vnumbers)) > 0) {

156 
$qnumb”s
 = 
$sql_š£¹_asš_us_numb”
 .' VALUES '. 
	`Œim
(
$vnumb”s
,',');

157 
$r
 = 
	`sqlqu”y
(
$qnumb”s
);

159 
$day
=
	`d©e
('Y-m-d');

160 ià(
$B¿nd
<>'' && 
$Mod–
<>''è
$v¡ršg
 .= "('$day', '$asin', '$Brand', '$Model', '$Title', '$featuresPoints'),";

161 ià(
	`¡¾’
(
$v¡ršg
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vstring)) > 0) {

162 
$q¡ršg
 = 
$sql_š£¹_asš_us_¡ršgs
 .' VALUES ' . 
	`Œim
(
$v¡ršg
,',');

163 
	`sqlqu”y
(
$q¡ršg
);

165 
	}
}

167 
	gex™
;

168 
fÜ—ch
(
glob
('*.HomeD•ÙOrd”s.csv'è
as
 
$f
) {

169 
»Çme
(
$f
,"HomeDepotOrdersCsv/$f");

172 
fÜ—ch
(
glob
('*.UP.csv'è
as
 
$f
) {

173 
»Çme
(
$f
,"UPcsv/$f");

178 
	gex™
;

179 
	g$html_·‰”n
 = '#SalesRank';

180 
	g$q
 = "select * from ispring_asin_sku whereier < 3";

182 
	g$rows
 = 
sqlqu”y
(
$q
);

183 
	g$checked_log_dœ
 = 
¡r_œ•Ïû
('.php','_checkedlog',
__FILE__
);

189 
	g$hours
 = 2;

190 
	g$checked
 = 
g‘_checked
(
$checked_log_dœ
,
$hours
);

191 
	gecho
 "<ol>";

192 
impÜtRªk
('B00I0ZGOZM','APEC RO-50');

193 
impÜtRªk
('B00NWZ1RCK','APEC PH-75');

194 
impÜtRªk
('B00NWZ1RCK','APEC RO-90');

195 
impÜtRªk
('B00N5D7ZFW','APEC ICEK');

196 
impÜtRªk
('B00J2DGTD8','ExpressWater RO5DX');

197 
impÜtRªk
('B005A3WM6C','HomeMaster TMAFC');

198 
	$fÜ—ch
(
$rows
 
as
 
$row
) {

199 
	`impÜtRªk
(
$row
['asin'],$row['sku']);

200 
	}
}

201 
	gecho
 "</ol>";

202 
funùiÚ
 
	$impÜtRªk
(
$asš
,
$sku
) {

203 
glob®
 
$html_·‰”n
,
$checked
,
$hours
;

204 ià(
	`¡½os
(
$checked
,
$asš
è!=ğ
çl£
) {

205 
echo
 "<li>$asin checked in $hours hours‡go.";

209 
$u¾
 = "http://www.amazon.com/dp/$asin";

210 
echo
 "<li><b>$sku: $url</b></li>" ;

213 
$html
 = 
	`fe_g‘_html
(
$u¾
);

215 ià(
	`em±y
(
$html
)) {

216 
echo
 '<li>Empty: file_get_html("http://www.amazon.$region/db/$asin")';

219 
$‹xt
 = 
	`html_fšd
(
$html
,
$html_·‰”n
,'plaintext');

220 if(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="wrapper USlocale"]','plaintext');

221 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="sectionechD"]','plaintext');

222 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div[class="content…dClearfix"]','plaintext');

223 ià(
	`em±y
(
$‹xt
)è$‹xˆğ
	`html_fšd
(
$html
,'div#prodDetails','plaintext');

227 
echo
 "<br>html found: $text";

229 
	`´eg_m©ch_®l
('/#([\d,]+)\s+š\s+([\w\s]*)\s+\(S“/',
$‹xt
,
$m©ches
);

230 
$¿nk1
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

232 
	`´eg_m©ch_®l
('/100\)\s*#(\d+)\s+š.+?([A-Z][\w\s\-&;]+)/',
$‹xt
,
$m©ches
);

234 
$¿nk2
 = 
	`¡r_œ•Ïû
(',','',
$m©ches
[1][0]);

235 
$ÿ‹gÜy
 = 
	`¡r_œ•Ïû
(' &gt; ',";",
$m©ches
[2][0]);

236 
$ÿ‹gÜy
 = 
	`´eg_»¶aû
('/\s+/',' ',$category);

237 
echo
 "<br>html found: $rank1, $rank2, $category";

238 ià(
	`¡¾’
(
$¿nk1
è> 0 && sŒËn(
$¿nk2
) > 0) {

239 
$q
 = "š£¹ ignÜštØbe¡£Î”¿nk_i¥ršg (d©e,hour,asš,¿nk1,¿nk2,ÿ‹gÜyèv®ue (". 
	`d©e
('Ymd') .','. date('H') .",'$asin','$rank1','$rank2','$category')";

240 ià(
	`sqlqu”y
(
$q
)è
echo
 "<br>$q";

241 
	`add_checked
(
$checked_log_dœ
,
$asš
);

244 
	}
}

	@uploads/asin_all_numbers_isdone.php

1 <?
php


3 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

4 
šşude_Úû
('../lib/functions.php');

7 
	g$couÁry
 = (
is£t
(
$_GET
['couÁry']è&& 
¡¾’
($_GET['country'])>1) ? $_GET['country'] : 'us';

8 
	g$h—d”s
 = "dt,price,asin,rank1,rank2";

11 
	g$q
 = "SELECT FROM_UNIXTIMEÑimeèa $h—d” FROM `asš_". 
$couÁry
 ."_numb”s` WHEREime>". 
¡¹Ùime
(
d©e
('Y-m-d H:0:0')) ." ORDER BYime DESC";

13 
	g$csv
 = ''; 
	g$Ï¡Rªk
=
¬¿y
();

14 
fÜ—ch
 (
	$sqlqu”y
(
$q
è
as
 
$r
) {

16 
$csv
 .ğ
$r
['asin'] .','. $r['rank1'] ."\n";

17 
$Ï¡Rªk
[
$r
['asin']]=$r['rank1'];

18 
	}
}

19 
	g$nÙdÚe
='';

20 
	g$Li¡FeName
 = '../../amazÚ.'. 
$couÁry
 .'_asin_sku_competitors.txt';

21 
fÜ—ch
(
ex¶ode
("\n",
	$fe_g‘_cÚ‹Ás
(
$Li¡FeName
)è
as
 
$lše
) {

22 ià(
	`¡¾’
(
$lše
è< 10 
Ü
 
	`¡½os
($lše,'--')===0 o¸¡½os($lše,',')===
çl£
) ;

23 
$a
 = 
	`ex¶ode
(',',
$lše
);

24 
$asš
 = 
$a
[0];

25 
$sku
 = 
$a
[1];

26 ià(!
	`is£t
(
$Ï¡Rªk
[
$asš
]è
Ü
 $Ï¡Rªk[$asš]==0è
$nÙdÚe
 .ğ$asš .','. 
$sku
 ."\n";

27 
	}
}

28 ià(
is£t
(
$_GET
['csv'])) {

29 
uÆšk
('asš_'. 
$couÁry
 .'_numbers_notdone.csv');

30 
fe_put_cÚ‹Ás
('asš_'. 
$couÁry
 .'_numb”s_nÙdÚe.csv', 
Œim
(
$nÙdÚe
));

31 
dowÆßd_´oûs£d
('asš_'. 
$couÁry
 .'_numbers_notdone.csv');

32 } 
–£if
 (
´eg_m©ch
('/AutoIt/i',
$_SERVER
['HTTP_USER_AGENT']) ) {

33 
echo
 
	g$nÙdÚe
 ."<p><hr><p>". 
	g$_SERVER
['HTTP_USER_AGENT'];

35 
echo
 
	g$_SERVER
['HTTP_USER_AGENT'] ."<H2>The browser is‚ot AutoIt, show both Done‡nd NotDone.</H2>";

36 
	gecho
 "<HR><H3>DÚe</H3>". 
¡r_»¶aû
("\n","\n<br>",
$csv
);

37 
	gecho
 "<HR><H3>NÙ DÚe</H3>". 
¡r_»¶aû
("\n","\n<br>",
$nÙdÚe
);

	@uploads/asin_ca_numbers_import.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
asš_ÿ_numb”s_impÜt
</title>

3 <?
php


4 
£t_time_lim™
(290);

5 
chdœ
(
dœÇme
(
__FILE__
));

6 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

7 
šşude_Úû
(
__DIR__
 .'/../lib/functions.php');

8 
defše
('EMAIL_RECEPIENTS','John@iSpringFilter.com');

9 
defše
('ASIN_TABLE_HEADERS','asin,buybox,fbt,product_details,purchase_sims,view_to_purchase');

10 
defše
('DATA_FIELDS_SEARS',"time,rank,id,title,price,numreview,rating,soldby");

11 
defše
('DATA_FIELDS_NEWEGG',"time,rank,id,model,title,price,numreview,rating");

12 
defše
('LOGFILE','asin_ca_numbers_import.log.html');

13 ià(
fesize
(
LOGFILE
è> 1234567è
»Çme
(LOGFILE,'old.'. LOGFILE);

14 
	g$”rÜMsg
 = '';

15 
	g$‹¡
 = 
is£t
(
$_GET
['test']) ? $_GET['test'] : 0;

16 
	g$aFes
 = 
glob
("20*.asin_ca_numbers.csv");

17 ià(
	$em±y
(
$aFes
)) {

18 
$”rÜMsg
 = 'No 20*.asin_ca_numbers.csv inhis hour';

19 
	}
} {

20 
fÜ—ch
(
$aFes
 
as
 
$fe
) {

21 
	g$á
 = 
femtime
(
$fe
);

22 
	g$fz
 = 
round
(
fesize
(
$fe
)/1024,1);

23 ià(
	g$fz
 < 2è{ 
	g$”rÜMsg
 .= "$file size = $fz KB\n"; }

24 ià(
	g$á
 < (
time
() - 3700)) {

25 
	g$”rÜMsg
 .ğ"\n$fŞd”hª 1 hour, ". 
d©e
('H:˜m/d/y',
$á
) . ', fileime: '. date('Ymd H:i',$ft) ."\r";

26 
fe_put_cÚ‹Ás
(
LOGFILE
,"<li>$fi Şd”hª 1 hour. Ftime: ". 
d©e
('Ymd H:i',
$á
), 
FILE_APPEND
 );

28 
	g$»suÉ
 = 
ImpÜtNumb”s
(
$fe
);

29 
echo
 
	g$»suÉ
;

30 
fe_put_cÚ‹Ás
(
LOGFILE
,
$»suÉ
 ."\n",
FILE_APPEND
);

31 ià(
	g$‹¡
 <> 1 && 
	g$»suÉ
 <> 'sqÈ”rÜ'è
»Çme
(
$fe
,'asin_ca_numbers_last.csv');

34 ià(
¡¾’
(
$”rÜMsg
è> 10è
£ndma
('asin_ca_numbers_importƒrror',$errorMsg);

36 
funùiÚ
 
	$ImpÜtNumb”s
(
$fe
) {

37 
glob®
 
$‹¡
;

38 
$q1
=$q1=
$q3
=
$q4
=
$q1h
=
$q2h
=
$q3h
=
$q4h
=
$q_1234
=
$r
='';

39 
$af
 = 
	`ex¶ode
(',','time,asin,Price,Lowest,Soldby,Reviews,Rating,FiveNeeded,ReviewsPerStar,qa,Rank1,Rank2,LatestReviews,Brand,Model,Title,featuresPoints,cps');

40 
$v®ues1
=
$v®ues2
=
$v®ues3
=
$v®ues4
=
$time
=
$asš
=
$Priû
=
$Lowe¡
=
$SŞdby
=
$Rev›ws
=
$R©šg
=
$fiv’“ded
=
$p5
=
$p4
=
$p3
=
$p2
=
$p1
=
$qa
=
$Rªk1
=
$Rªk2
=
$L©e¡Rev›ws
=
$B¿nd
=
$Mod–
=
$T™Ë
=
$ã©u»sPošts
=
$ıs
='';

41 
$asš_ÿ_numb”s
 = 
	`fe_g‘_cÚ‹Ás
(
$fe
);

43 
$lšes
 = 
	`ex¶ode
("\n",
$asš_ÿ_numb”s
);

45 
$q1h
 = 'INSERT IGNORE INTO‡sin_ca_numbers (time,‡sin,…rice,†owest, soldby,„eviews,‡vgrating, fiveneeded,…5,…4,…3,…2,…1, qa,„ank1,„ank2) VALUES ';

46 
$q2h
 = 'INSERT IGNORE INTO‡sin_ca_strings (asin,brand,sku,title,featuresPoints) VALUES ';

47 
$q3h
 = 'INSERT IGNORE INTO‡sin_ca_cps (asin,cps) VALUES ';

48 
$q4h
 = 'INSERT IGNORE INTO‡sin_ca_lrs (asin,LatestReviews) VALUES ';

50 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

51 
$a
 = 
	`ex¶ode
("\t",
$lše
);

54 ià(
	`couÁ
(
$a
è< 7 
ªd
 !
	`´eg_m©ch
('/(\d+\|){4}/',$a[7])è{
echo
 "NO ReviewsPerStar: $line<br>\n"; ;}

55 ià(
	`¡¾’
(
$lše
è< 10 || 
$a
[0] == '' || $a[1] == '' || $a[2] == '' || $a[5] == 0) ;

56 
$time
 = 
	`¡¹Ùime
(
	`sub¡r
(
$a
[0],0,14) . '00:00');

57 
$i
=0;$i<
	`couÁ
(
$af
);$i++) {

58 
$f
 = 
$af
[
$i
];

59 
$$f
 = 
$a
[
$i
];

61 
$aRp
 = 
	`ex¶ode
('|',
$Rev›wsP”Sr
);

62 ià(
	`couÁ
(
$aRp
)==5è{
$p5
=$aRp[0]; 
$p4
=$aRp[1]; 
$p3
=$aRp[2]; 
$p2
=$aRp[3]; 
$p1
=$aRp[4];}

64 
$time
 = 
	`¡¹Ùime
($time);

65 
$v®ues1
 = "('$time', '$asin', '$Price', '$Lowest', '$Soldby', '$Reviews', '$Rating', '$FiveNeeded', '$p5', '$p4', '$p3', '$p2', '$p1', '$qa', '$Rank1', '$Rank2');\n";

66 
$q1
 .ğ
$q1h
 . 
$v®ues1
;

67 ià(
$B¿nd
<>'' && 
$Mod–
<>'') {

68 
$v®ues2
 = "('$asin', '$Brand', '$Model', '$Title', '$featuresPoints');\n";

69 
$q2
 = 
$q2h
 . 
$v®ues2
 ;

71 ià(
	`¡ros
(
$ıs
,'/dp/')>1) {

72 
$v®ues3
 = "('$asin', '$cps');\n";

73 
$q3
 .ğ
$q3h
 . 
$v®ues3
 ;

75 ià(
	`¡ros
(
$L©e¡Rev›ws
,'out of 5 stars')>1) {

76 
$v®ues4
 = "('$asin', '$LatestReviews');\n";

77 
$q4
 .ğ
$q4h
 . 
$v®ues4
 ;

81 ià(
	`¡¾’
(
$q1
è> 60è{
$r
 = 
	`sqlqu”y
($q1); 
$q_1234
.ğ$q1 ."\n"; 
echo
 $q1;}

86 ià(
$‹¡
==1è 
	`¡r_»¶aû
("\n","<br>\n",
$q_1234
);

87 ià(
$r
 <> 
çl£
) {

88 
$rows
 = 
	`couÁ
(
	`ex¶ode
('),',
$q_1234
));

89 
echo
 
$rows
 ."„ow impÜ‹d iÁØasš_ÿ_numb” äom $fe<br>\n". 
	`¡r_»¶aû
(')',")<br>",
$q_1234
);

90 
	`fe_put_cÚ‹Ás
(
LOGFILE
,
	`d©e
('Y-m-d H:i'). ' - '. 
$rows
 ."„ow impÜ‹d iÁØasš_ÿ_numb” äom $fe\n", 
FILE_APPEND
 );

91  
$rows
;

93  "<h2>sqÈ”rÜ</h2>" . 
	`¡r_»¶aû
("\n",'<br>',
$q_1234
);

95 
	}
}

99 </
	ghtml
>

	@uploads/asin_uk_numbers_import.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
asš_uk_numb”s_impÜt
</title>

3 <?
php


4 
£t_time_lim™
(290);

5 
chdœ
(
dœÇme
(
__FILE__
));

6 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

7 
šşude_Úû
(
__DIR__
 .'/../lib/functions.php');

8 
defše
('EMAIL_RECEPIENTS','John@iSpringFilter.com');

9 
defše
('ASIN_TABLE_HEADERS','asin,buybox,fbt,product_details,purchase_sims,view_to_purchase');

10 
defše
('DATA_FIELDS_SEARS',"time,rank,id,title,price,numreview,rating,soldby");

11 
defše
('DATA_FIELDS_NEWEGG',"time,rank,id,model,title,price,numreview,rating");

12 
defše
('LOGFILE','asin_uk_numbers_import.log.html');

13 ià(
fesize
(
LOGFILE
è> 1234567è
»Çme
(LOGFILE,'old.'. LOGFILE);

14 
	g$”rÜMsg
 = '';

15 
	g$‹¡
 = 
is£t
(
$_GET
['test']) ? $_GET['test'] : 0;

16 
	g$aFes
 = 
glob
("20*.asin_uk_numbers.csv");

17 ià(
	$em±y
(
$aFes
)) {

18 
$”rÜMsg
 = 'No 20*.asin_uk_numbers.csv inhis hour';

19 
	}
} {

20 
fÜ—ch
(
$aFes
 
as
 
$fe
) {

21 
	g$á
 = 
femtime
(
$fe
);

22 
	g$fz
 = 
round
(
fesize
(
$fe
)/1024,1);

23 ià(
	g$fz
 < 2è{ 
	g$”rÜMsg
 .= "$file size = $fz KB\n"; }

24 ià(
	g$á
 < (
time
() - 3700)) {

25 
	g$”rÜMsg
 .ğ"\n$fŞd”hª 1 hour, ". 
d©e
('H:˜m/d/y',
$á
) . ', fileime: '. date('Ymd H:i',$ft) ."\r";

26 
fe_put_cÚ‹Ás
(
LOGFILE
,"<li>$fi Şd”hª 1 hour. Ftime: ". 
d©e
('Ymd H:i',
$á
), 
FILE_APPEND
 );

28 
	g$»suÉ
 = 
ImpÜtNumb”s
(
$fe
);

29 
echo
 
	g$»suÉ
;

30 
fe_put_cÚ‹Ás
(
LOGFILE
,
$»suÉ
 ."\n",
FILE_APPEND
);

31 ià(
	g$‹¡
 <> 1 && 
	g$»suÉ
 <> 'sqÈ”rÜ'è
»Çme
(
$fe
,'asin_uk_numbers_last.csv');

34 ià(
¡¾’
(
$”rÜMsg
è> 10è
£ndma
('asin_uk_numbers_importƒrror',$errorMsg);

36 
funùiÚ
 
	$ImpÜtNumb”s
(
$fe
) {

37 
glob®
 
$‹¡
;

38 
$q1
=$q1=
$q3
=
$q4
=
$q1h
=
$q2h
=
$q3h
=
$q4h
=
$q_1234
=
$r
='';

39 
$af
 = 
	`ex¶ode
(',','time,asin,Price,Lowest,Soldby,Reviews,Rating,FiveNeeded,ReviewsPerStar,qa,Rank1,Rank2,LatestReviews,Brand,Model,Title,featuresPoints,cps');

40 
$v®ues1
=
$v®ues2
=
$v®ues3
=
$v®ues4
=
$time
=
$asš
=
$Priû
=
$Lowe¡
=
$SŞdby
=
$Rev›ws
=
$R©šg
=
$fiv’“ded
=
$p5
=
$p4
=
$p3
=
$p2
=
$p1
=
$qa
=
$Rªk1
=
$Rªk2
=
$L©e¡Rev›ws
=
$B¿nd
=
$Mod–
=
$T™Ë
=
$ã©u»sPošts
=
$ıs
='';

41 
$asš_uk_numb”s
 = 
	`fe_g‘_cÚ‹Ás
(
$fe
);

43 
$lšes
 = 
	`ex¶ode
("\n",
$asš_uk_numb”s
);

45 
$q1h
 = 'INSERT IGNORE INTO‡sin_uk_numbers (time,‡sin,…rice,†owest, soldby,„eviews,‡vgrating, fiveneeded,…5,…4,…3,…2,…1, qa,„ank1,„ank2) VALUES ';

46 
$q2h
 = 'INSERT IGNORE INTO‡sin_uk_strings (asin,brand,sku,title,featuresPoints) VALUES ';

47 
$q3h
 = 'INSERT IGNORE INTO‡sin_uk_cps (asin,cps) VALUES ';

48 
$q4h
 = 'INSERT IGNORE INTO‡sin_uk_lrs (asin,LatestReviews) VALUES ';

50 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

51 
$a
 = 
	`ex¶ode
("\t",
$lše
);

54 ià(
	`couÁ
(
$a
è< 7 
ªd
 !
	`´eg_m©ch
('/(\d+\|){4}/',$a[7])è{
echo
 "NO ReviewsPerStar: $line<br>\n"; ;}

55 ià(
	`¡¾’
(
$lše
è< 10 || 
$a
[0] == '' || $a[1] == '' || $a[2] == '' || $a[5] == 0) ;

56 
$time
 = 
	`¡¹Ùime
(
	`sub¡r
(
$a
[0],0,14) . '00:00');

57 
$i
=0;$i<
	`couÁ
(
$af
);$i++) {

58 
$f
 = 
$af
[
$i
];

59 
$$f
 = 
$a
[
$i
];

61 
$aRp
 = 
	`ex¶ode
('|',
$Rev›wsP”Sr
);

62 ià(
	`couÁ
(
$aRp
)==5è{
$p5
=$aRp[0]; 
$p4
=$aRp[1]; 
$p3
=$aRp[2]; 
$p2
=$aRp[3]; 
$p1
=$aRp[4];}

64 
$time
 = 
	`¡¹Ùime
($time);

65 
$v®ues1
 = "('$time', '$asin', '$Price', '$Lowest', '$Soldby', '$Reviews', '$Rating', '$FiveNeeded', '$p5', '$p4', '$p3', '$p2', '$p1', '$qa', '$Rank1', '$Rank2');\n";

66 
$q1
 .ğ
$q1h
 . 
$v®ues1
;

67 ià(
$B¿nd
<>'' && 
$Mod–
<>'') {

68 
$v®ues2
 = "('$asin', '$Brand', '$Model', '$Title', '$featuresPoints');\n";

69 
$q2
 = 
$q2h
 . 
$v®ues2
 ;

71 ià(
	`¡ros
(
$ıs
,'/dp/')>1) {

72 
$v®ues3
 = "('$asin', '$cps');\n";

73 
$q3
 .ğ
$q3h
 . 
$v®ues3
 ;

75 ià(
	`¡ros
(
$L©e¡Rev›ws
,'out of 5 stars')>1) {

76 
$v®ues4
 = "('$asin', '$LatestReviews');\n";

77 
$q4
 .ğ
$q4h
 . 
$v®ues4
 ;

81 ià(
	`¡¾’
(
$q1
è> 60è{
$r
 = 
	`sqlqu”y
($q1); 
$q_1234
.ğ$q1 ."\n"; 
echo
 $q1;}

86 ià(
$‹¡
==1è 
	`¡r_»¶aû
("\n","<br>\n",
$q_1234
);

87 ià(
$r
 <> 
çl£
) {

88 
$rows
 = 
	`couÁ
(
	`ex¶ode
('),',
$q_1234
));

89 
echo
 
$rows
 ."„ow impÜ‹d iÁØasš_uk_numb” äom $fe<br>\n". 
	`¡r_»¶aû
(')',")<br>",
$q_1234
);

90 
	`fe_put_cÚ‹Ás
(
LOGFILE
,
	`d©e
('Y-m-d H:i'). ' - '. 
$rows
 ."„ow impÜ‹d iÁØasš_uk_numb” äom $fe\n", 
FILE_APPEND
 );

91  
$rows
;

93  "<h2>sqÈ”rÜ</h2>" . 
	`¡r_»¶aû
("\n",'<br>',
$q_1234
);

95 
	}
}

99 </
	ghtml
>

	@uploads/asin_us_numbers_import.php

1 <
	ghtml
><
	gh—d
><
m‘a
 
	gh‰p
-
	gequiv
="CÚ‹Á-Ty³" 
cÚ‹Á
="text/html; charset=windows-1252">

2 <
t™Ë
>
asš_us_numb”s_impÜt
</title>

3 <?
php


4 
£t_time_lim™
(290);

5 
chdœ
(
dœÇme
(
__FILE__
));

6 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

7 
šşude_Úû
(
__DIR__
 .'/../lib/functions.php');

8 
defše
('EMAIL_RECEPIENTS','John@iSpringFilter.com');

9 
defše
('ASIN_TABLE_HEADERS','asin,buybox,fbt,product_details,purchase_sims,view_to_purchase');

10 
defše
('DATA_FIELDS_SEARS',"time,rank,id,title,price,numreview,rating,soldby");

11 
defše
('DATA_FIELDS_NEWEGG',"time,rank,id,model,title,price,numreview,rating");

12 
defše
('LOGFILE','asin_us_numbers_import.log.html');

13 ià(
fesize
(
LOGFILE
è> 1234567è
»Çme
(LOGFILE,'old.'. LOGFILE);

14 
	g$”rÜMsg
 = '';

15 
	g$‹¡
 = 
is£t
(
$_GET
['test']) ? $_GET['test'] : 0;

16 
	g$aFes
 = 
glob
("*.asin_us_numbers.csv");

17 ià(
	$em±y
(
$aFes
)) {

18 
$”rÜMsg
 = "\n<li>No *.asin_us_numbers.csv inhis hour\r";

19 
	}
} {

20 
fÜ—ch
(
$aFes
 
as
 
$fe
) {

21 
	g$”rÜMsg
 = "\n$file";

22 
	g$á
 = 
fe_exi¡s
(
$fe
è? 
femtime
($feè: 
time
()-999999;

23 
	g$fz
 = 
fe_exi¡s
(
$fe
è? 
round
(
fesize
($file)/1024,1) : 0;

24 ià(
	g$fz
 < 2è{ 
	g$”rÜMsg
 = "\nsize = $fz KB\r"; }

25 ià(
	g$á
 < (
time
() - 3700)) {

26 
	g$”rÜMsg
 .ğ"\n$fŞd”hª 1 hour, ". 
d©e
('H:˜m/d/y',
$á
) . ', fileime: '. date('Ymd H:i',$ft) ."\r";

27 
fe_put_cÚ‹Ás
(
LOGFILE
,"\n<li>$fi Şd”hª 1 hour. Ftime: ". 
d©e
('Ymd H:i',
$á
), 
FILE_APPEND
 );

29 
	g$»suÉ
 = 
ImpÜtNumb”s
(
$fe
);

30 
echo
 
	g$fe
 ."<BR>". 
	g$»suÉ
;

32 ià(
	g$‹¡
 <> 1 && 
¡½os
(
$»suÉ
,'sqÈ”rÜ'è==ğ
çl£
) {

33 
»Çme
(
$fe
,'asin_us_numbers_last.csv');

35 ià(
¡¾’
(
$”rÜMsg
è> 10è
£ndma
('asš_us_numb”s.csvƒ¼Ü',$”rÜMsg . "\n<p><¨h»f=h‰p://czysua.com/mt/u¶ßds/". 
LOGFILE
 .">". LOGFILE ."</a>" );

40 
funùiÚ
 
	$ImpÜtNumb”s
(
$fe
) {

41 
glob®
 
$‹¡
,
$”rÜMsg
;

42 
$af
 = 
	`ex¶ode
(',','time,asin,Price,Lowest,Soldby,Reviews,Rating,FiveNeeded,ReviewsPerStar,qa,Rank1,Rank2,LatestReviews,Brand,Model,Title,featuresPoints,cps');

43 
$qnumb”s
=
$q¡ršg
=
$qıs
=
$qÌs
=
$vnumb”s
=
$v¡ršg
=
$vıs
=
$vÌs
=
$time
=
$asš
=
$Priû
=
$Lowe¡
=
$SŞdby
=
$Rev›ws
=
$R©šg
=
$fiv’“ded
=
$p5
=
$p4
=
$p3
=
$p2
=
$p1
=
$qa
=
$Rªk1
=
$Rªk2
=
$L©e¡Rev›ws
=
$B¿nd
=
$Mod–
=
$T™Ë
=
$ã©u»sPošts
=
$ıs
='';

44 
$asš_us_numb”s
 = 
	`fe_g‘_cÚ‹Ás
(
$fe
);

46 
$lšes
 = 
	`ex¶ode
("\n",
$asš_us_numb”s
);

48 
$q
=
$r
='';

49 
	`fÜ—ch
(
$lšes
 
as
 
$lše
) {

50 
$a
 = 
	`ex¶ode
("\t",
$lše
);

52 ià(
	`couÁ
(
$a
è< 12è{
$”rÜMsg
 .= "\nNO 12 TABs: $line\n<br>"; ;}

53 ià(
$a
[10] < 1è{
$”rÜMsg
 .= "\nRank1 isƒmpty: $line\n<br>"; ;}

57 
$i
=0;$i<
	`couÁ
(
$a
);$i++) {

58 
$f
 = 
$af
[
$i
];

59 
$$f
 = 
	`¡r_»¶aû
("'",'',
$a
[
$i
]);

61 
$aRp
 = 
	`ex¶ode
('|',
$Rev›wsP”Sr
);

62 
$p5
=
$aRp
[0]; 
$p4
=$aRp[1]; 
$p3
=$aRp[2]; 
$p2
=$aRp[3]; 
$p1
=$aRp[4];

64 
$time
 = 
	`¡¹Ùime
($time);

65 
$vnumb”s
 .= "('$time', '$asin', '$Price', '$Lowest', '$Soldby', '$Reviews', '$Rating', '$FiveNeeded', '$p5', '$p4', '$p3', '$p2', '$p1', '$qa', '$Rank1', '$Rank2'),";

66 ià(
$B¿nd
<>'' && 
$Mod–
<>''è
$v¡ršg
 .= "('$asin', '$Brand', '$Model', '$Title', '$featuresPoints'),";

67 ià(
	`¡ros
(
$ıs
,'/dp/')>1è
$vıs
 .= "('$asin', '$cps'),";

68 ià(
	`¡ros
(
$L©e¡Rev›ws
,'ouˆoà5 srs'è> 1è
$vÌs
 .= "('$asin', '$LatestReviews'),";

70 ià(
	`¡¾’
(
$vnumb”s
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vnumbers)) > 0) {

71 
$qnumb”s
 = 'INSERT IGNORE INTO‡sš_us_numb” Ñime,‡sš,…riû,†owe¡, sŞdby,„ev›ws,‡vg¿tšg, fiv’“ded,…5,…4,…3,…2,…1, qa,„ªk1,„ªk2èVALUES ' . 
	`Œim
(
$vnumb”s
,',');

72 
$r
 = 
	`sqlqu”y
(
$qnumb”s
);

74 ià(
	`¡¾’
(
$v¡ršg
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vstring)) > 0) {

75 
$q¡ršg
 = 'INSERT IGNORE INTO‡sš_us_¡ršg ×sš,b¿nd,sku,t™Ë,ã©u»sPoštsèVALUES ' . 
	`Œim
(
$v¡ršg
,',');

76 
	`sqlqu”y
(
$q¡ršg
);

78 ià(
	`¡¾’
(
$vıs
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vcps)) > 0) {

79 
$qıs
 = 'INSERT IGNORE INTO‡sš_us_ı ×sš,ısèVALUES ' . 
	`Œim
(
$vıs
,',');

80 
	`sqlqu”y
(
$qıs
);

82 ià(
	`¡¾’
(
$vÌs
è> 60 
ªd
 
	`couÁ
(
	`ex¶ode
("'),",$vlrs)) > 0) {

83 
$qÌs
 = 'INSERT IGNORE INTO‡sš_us_Ì ×sš,L©e¡Rev›wsèVALUES ' . 
	`Œim
(
$vÌs
,',');

84 
	`sqlqu”y
(
$qÌs
);

86 ià(
$‹¡
==1è 
	`¡r_»¶aû
("'),","<br>\n",
$q
);

87 ià(
$r
 <> 
çl£
) {

88 
$rows
 = 
	`couÁ
(
	`ex¶ode
('),',
$q
));

89 
echo
 
$rows
 ."„ow impÜ‹d iÁØasš_us_numb” äom $fe\n<br>". 
	`¡r_»¶aû
(')',")<br>",
$q
);

90 
	`fe_put_cÚ‹Ás
(
LOGFILE
,
	`d©e
('Y-m-d H:i'). ' - '. 
$rows
 ."„ow impÜ‹d iÁØasš_us_numb” äom $fe\n<br>", 
FILE_APPEND
 );

91  
$rows
;

95 
	}
}

99 </
	ghtml
>

	@uploads/asin_us_numbers_isdone.php

1 <?
php


2 
ši_£t
("”rÜ_log", 
ba£Çme
(
__FILE__
,'php') . 'error.log');

3 
šşude_Úû
('../lib/functions.php');

5 
	g$h—d”s
 = "dt,price,asin,rank1,rank2";

8 
	g$q
 = "SELECT FROM_UNIXTIMEÑimeèa $h—d” FROM `asš_us_numb”s` WHEREime>". 
¡¹Ùime
(
d©e
('Y-m-d H:0:0')) ." ORDER BYime DESC";

9 
echo
 
	g$q
; 
	gex™
;

	@
1
.
1
/usr/include
205
11975
FrameTree.goodb4googlesheet1tier.php
FrameTree.php
MWSProducts/1newselect.php
MWSProducts/db.php
MWSProducts/demo.php
MWSProducts/demoselectdata.php
MWSProducts/displaydatatable.php
MWSProducts/downloadcsv.php
MWSProducts/dummy_mws_xml.php
MWSProducts/fetch_data.good.php
MWSProducts/fetch_data.php
MWSProducts/fetch_data_test.php
MWSProducts/index.php
MWSProducts/lazyloadhighchart.php
MWSProducts/lazyloadhighchartajax.php
MWSProducts/mws_config.php
MWSProducts/newselect.php
MWSProducts/src/MarketplaceWebServiceProducts/Client.php
MWSProducts/src/MarketplaceWebServiceProducts/Exception.php
MWSProducts/src/MarketplaceWebServiceProducts/Interface.php
MWSProducts/src/MarketplaceWebServiceProducts/Mock.php
MWSProducts/src/MarketplaceWebServiceProducts/Model.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINIdentifier.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINListType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINOfferDetail.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ASINOfferDetailList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/AttributeSetList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/BuyBoxEligibleOffers.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/BuyBoxPriceType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/BuyBoxPrices.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/Categories.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/CompetitivePriceList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/CompetitivePriceType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/CompetitivePricingType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/DetailedShippingTimeType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/Error.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ErrorDetail.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeeDetail.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeeDetailList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimate.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateIdentifier.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateRequestList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/FeesEstimateResultList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForASINRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForASINResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForASINResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForSKURequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForSKUResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetCompetitivePricingForSKUResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForASINRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForASINResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForASINResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForSKURequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForSKUResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestOfferListingsForSKUResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersAsinIdentifier.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForASINRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForASINResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForASINResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForSKURequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForSKUResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersForSKUResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetLowestPricedOffersSkuIdentifier.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductForIdRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductForIdResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductForIdResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMatchingProductResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyFeesEstimateRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyFeesEstimateResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyFeesEstimateResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForASINRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForASINResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForASINResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForSKURequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForSKUResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetMyPriceForSKUResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForASINRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForASINResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForASINResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForSKURequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForSKUResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetProductCategoriesForSKUResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetServiceStatusRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetServiceStatusResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/GetServiceStatusResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/IdListType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/IdentifierType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ListMatchingProductsRequest.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ListMatchingProductsResponse.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ListMatchingProductsResult.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestOfferListingList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestOfferListingType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestPriceType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/LowestPrices.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/Message.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/MessageList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/MoneyType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/NumberOfOfferListingsList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/NumberOfOffers.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/OfferCountType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/OfferListingCountType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/OfferType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/OffersList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/Points.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/PriceToEstimateFees.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/PriceType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/Product.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ProductList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/QualifiersType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/RelationshipList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ResponseHeaderMetadata.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ResponseMetadata.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/SKUOfferDetail.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/SKUOfferDetailList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/SalesRankList.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/SalesRankType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/SellerFeedbackType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/SellerSKUIdentifier.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/SellerSKUListType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ShippingTimeType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/ShipsFromType.php
MWSProducts/src/MarketplaceWebServiceProducts/Model/Summary.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/.config.inc.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetCompetitivePricingForASINSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetCompetitivePricingForSKUSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestOfferListingsForASINSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestOfferListingsForSKUSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestPricedOffersForASINSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetLowestPricedOffersForSKUSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMatchingProductForIdSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMatchingProductSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMyFeesEstimateSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMyPriceForASINSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetMyPriceForSKUSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetProductCategoriesForASINSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetProductCategoriesForSKUSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/GetServiceStatusSample.php
MWSProducts/src/MarketplaceWebServiceProducts/Samples/ListMatchingProductsSample.php
MWSProducts/test.php
MWSProducts/test2_fetch_data.php
MWSProducts/test3_fetch_data.php
MWSProducts/test_fetch_data.php
MWSProducts/test_my_mws_functions.php
MWSProducts/testcomp_fetch_data.php
alert_ajax_call.php
alert_crawl_ajax_call.php
alert_email.php
dashboard.good.php
dashboard.php
dashboard.replacedbymws.php
dashboard_bkp.php
editor.php
index.php
kapil/FrameTreeNew.php
kapil/dashboard.php
kapil/db.php
kapil/index.php
kapil/query.php
lib/css/LongDropdowns/index.php
lib/db.php
lib/functions.php
lib/functions_dashboard.php
lib/geoipregionvars.php
lib/img/review_rating_target_report.php
lib/phplot.6.1.0.php
lib/simple_html_dom.php
mail_test.php
notification.php
rank/amazon_kw_rank_index.php
rank/amz_seoclicks_rankmon.php
rank/asin_us_numbers_import.php
rank/asin_us_numbers_isdone.php
rank/bestsellerrank.amazon.import.php
rank/bestsellerrank.amazon.php
rank/bestsellerrank.comp.import.php
rank/bestsellerrank.comp.php
rank/bestsellerrank.ispring.import.php
rank/bestsellerrank.ispring.php
rank/bsr_import.php
rank/bsrmon.php
rank/chart.php
rank/index.ebay.php
rank/keywordrank.import.php
rank/linkgroupclicks.php
rank/linkgroupclicks_test.php
rank/linkgroups_v2_clicks.php
rank/old.editor.php
rank/old.ispring.bestsellerrank.import.php
rank/seoclicks.php
rank/seoclicks_rank_update.php
rank/seoclicksresult.php
rank/seolinks_editor.php
rank/ttorders.php
select_graph_data.php
sendmail.php
uploads/1_asin_us_numbers.php
uploads/asin_all_numbers_isdone.php
uploads/asin_ca_numbers_import.php
uploads/asin_uk_numbers_import.php
uploads/asin_us_numbers_import.php
uploads/asin_us_numbers_isdone.php
